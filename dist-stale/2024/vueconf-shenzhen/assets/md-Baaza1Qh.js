import{d as vb,r as HM,aN as b5,z as Gr,f as pb,j as Xn,T as us,o as Ss,aw as _5,ax as w5,L as E5,E as C1,b as VM,w as q1,e as D1,g as Vn,v as S5,x as O5}from"./modules/vue-BnlmVL2T.js";import{a as I5,t as $5,b as T5,i as P5,_ as R5}from"./index-C090_ktR.js";import{u as Fo,f as x5}from"./slidev/context-Di7HKUYh.js";import"./modules/shiki-D2QDegob.js";const C5=vb({__name:"RenderWhen",props:{context:{}},setup(i){const e=i,{context:t}=e,r=HM(null),n=b5(r),s=Array.isArray(t)?t.includes("visible"):t==="visible",{$renderContext:o}=Fo(),{isPrintMode:a}=I5(),u=Gr(()=>{const d=Array.isArray(t)?t.some(l):l(t),h=Array.isArray(t)?t.every(c):c(t);return d&&h});function l(d){return!!(d===o?.value||d==="main"&&(o?.value==="slide"||o?.value==="presenter")||d==="visible"||d==="print"&&a.value)}function c(d){return d==="visible"?n.value:!0}return(d,h)=>us(s)?(Ss(),pb("div",{key:0,ref_key:"target",ref:r},[u.value?Xn(d.$slots,"default",{key:0}):Xn(d.$slots,"fallback",{key:1})],512)):u.value?Xn(d.$slots,"default",{key:1}):Xn(d.$slots,"fallback",{key:2})}});function q5(){return{isColorSchemaConfigured:P5,isDark:T5,toggleDark:$5}}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.1
 * @date    2025-07-13T02:52:37.151Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var k1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ue(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ta={exports:{}},M1={},Un,A1;function Me(){if(A1)return Un;A1=1;var i=function(e){return e&&e.Math===Math&&e};return Un=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof k1=="object"&&k1)||i(typeof Un=="object"&&Un)||function(){return this}()||Function("return this")(),Un}var Pa,N1;function de(){return N1||(N1=1,Pa=function(i){try{return!!i()}catch{return!0}}),Pa}var Ra,F1;function Os(){if(F1)return Ra;F1=1;var i=de();return Ra=!i(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Ra}var xa,B1;function Bo(){if(B1)return xa;B1=1;var i=Os(),e=Function.prototype,t=e.apply,r=e.call;return xa=typeof Reflect=="object"&&Reflect.apply||(i?r.bind(t):function(){return r.apply(t,arguments)}),xa}var Ca,j1;function ye(){if(j1)return Ca;j1=1;var i=Os(),e=Function.prototype,t=e.call,r=i&&e.bind.bind(t,t);return Ca=i?r:function(n){return function(){return t.apply(n,arguments)}},Ca}var qa,L1;function ur(){if(L1)return qa;L1=1;var i=ye(),e=i({}.toString),t=i("".slice);return qa=function(r){return t(e(r),8,-1)},qa}var Da,z1;function UM(){if(z1)return Da;z1=1;var i=ur(),e=ye();return Da=function(t){if(i(t)==="Function")return e(t)},Da}var ka,W1;function Le(){if(W1)return ka;W1=1;var i=typeof document=="object"&&document.all;return ka=typeof i>"u"&&i!==void 0?function(e){return typeof e=="function"||e===i}:function(e){return typeof e=="function"},ka}var Ma={},Aa,H1;function Ae(){if(H1)return Aa;H1=1;var i=de();return Aa=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Aa}var Na,V1;function dt(){if(V1)return Na;V1=1;var i=Os(),e=Function.prototype.call;return Na=i?e.bind(e):function(){return e.apply(e,arguments)},Na}var Fa={},U1;function gb(){if(U1)return Fa;U1=1;var i={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!i.call({1:2},1);return Fa.f=t?function(n){var s=e(this,n);return!!s&&s.enumerable}:i,Fa}var Ba,G1;function Is(){return G1||(G1=1,Ba=function(i,e){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:e}}),Ba}var ja,K1;function jo(){if(K1)return ja;K1=1;var i=ye(),e=de(),t=ur(),r=Object,n=i("".split);return ja=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?n(s,""):r(s)}:r,ja}var La,Y1;function $s(){return Y1||(Y1=1,La=function(i){return i==null}),La}var za,X1;function ci(){if(X1)return za;X1=1;var i=$s(),e=TypeError;return za=function(t){if(i(t))throw new e("Can't call method on "+t);return t},za}var Wa,Z1;function lr(){if(Z1)return Wa;Z1=1;var i=jo(),e=ci();return Wa=function(t){return i(e(t))},Wa}var Ha,J1;function ht(){if(J1)return Ha;J1=1;var i=Le();return Ha=function(e){return typeof e=="object"?e!==null:i(e)},Ha}var Va,Q1;function ze(){return Q1||(Q1=1,Va={}),Va}var Ua,e0;function vt(){if(e0)return Ua;e0=1;var i=ze(),e=Me(),t=Le(),r=function(n){return t(n)?n:void 0};return Ua=function(n,s){return arguments.length<2?r(i[n])||r(e[n]):i[n]&&i[n][s]||e[n]&&e[n][s]},Ua}var Ga,t0;function Qe(){if(t0)return Ga;t0=1;var i=ye();return Ga=i({}.isPrototypeOf),Ga}var Ka,r0;function on(){if(r0)return Ka;r0=1;var i=Me(),e=i.navigator,t=e&&e.userAgent;return Ka=t?String(t):"",Ka}var Ya,i0;function Ts(){if(i0)return Ya;i0=1;var i=Me(),e=on(),t=i.process,r=i.Deno,n=t&&t.versions||r&&r.version,s=n&&n.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),Ya=a,Ya}var Xa,n0;function an(){if(n0)return Xa;n0=1;var i=Ts(),e=de(),t=Me(),r=t.String;return Xa=!!Object.getOwnPropertySymbols&&!e(function(){var n=Symbol("symbol detection");return!r(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&i&&i<41}),Xa}var Za,s0;function GM(){if(s0)return Za;s0=1;var i=an();return Za=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Za}var Ja,o0;function Ps(){if(o0)return Ja;o0=1;var i=vt(),e=Le(),t=Qe(),r=GM(),n=Object;return Ja=r?function(s){return typeof s=="symbol"}:function(s){var o=i("Symbol");return e(o)&&t(o.prototype,n(s))},Ja}var Qa,a0;function un(){if(a0)return Qa;a0=1;var i=String;return Qa=function(e){try{return i(e)}catch{return"Object"}},Qa}var eu,u0;function cr(){if(u0)return eu;u0=1;var i=Le(),e=un(),t=TypeError;return eu=function(r){if(i(r))return r;throw new t(e(r)+" is not a function")},eu}var tu,l0;function mb(){if(l0)return tu;l0=1;var i=cr(),e=$s();return tu=function(t,r){var n=t[r];return e(n)?void 0:i(n)},tu}var ru,c0;function D5(){if(c0)return ru;c0=1;var i=dt(),e=Le(),t=ht(),r=TypeError;return ru=function(n,s){var o,a;if(s==="string"&&e(o=n.toString)&&!t(a=i(o,n))||e(o=n.valueOf)&&!t(a=i(o,n))||s!=="string"&&e(o=n.toString)&&!t(a=i(o,n)))return a;throw new r("Can't convert object to primitive value")},ru}var iu={exports:{}},nu,d0;function ln(){return d0||(d0=1,nu=!0),nu}var su,h0;function k5(){if(h0)return su;h0=1;var i=Me(),e=Object.defineProperty;return su=function(t,r){try{e(i,t,{value:r,configurable:!0,writable:!0})}catch{i[t]=r}return r},su}var f0;function yb(){if(f0)return iu.exports;f0=1;var i=ln(),e=Me(),t=k5(),r="__core-js_shared__",n=iu.exports=e[r]||t(r,{});return(n.versions||(n.versions=[])).push({version:"3.44.0",mode:i?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),iu.exports}var ou,v0;function cn(){if(v0)return ou;v0=1;var i=yb();return ou=function(e,t){return i[e]||(i[e]=t||{})},ou}var au,p0;function Ft(){if(p0)return au;p0=1;var i=ci(),e=Object;return au=function(t){return e(i(t))},au}var uu,g0;function We(){if(g0)return uu;g0=1;var i=ye(),e=Ft(),t=i({}.hasOwnProperty);return uu=Object.hasOwn||function(n,s){return t(e(n),s)},uu}var lu,m0;function Lo(){if(m0)return lu;m0=1;var i=ye(),e=0,t=Math.random(),r=i(1.1.toString);return lu=function(n){return"Symbol("+(n===void 0?"":n)+")_"+r(++e+t,36)},lu}var cu,y0;function Ye(){if(y0)return cu;y0=1;var i=Me(),e=cn(),t=We(),r=Lo(),n=an(),s=GM(),o=i.Symbol,a=e("wks"),u=s?o.for||o:o&&o.withoutSetter||r;return cu=function(l){return t(a,l)||(a[l]=n&&t(o,l)?o[l]:u("Symbol."+l)),a[l]},cu}var du,b0;function KM(){if(b0)return du;b0=1;var i=dt(),e=ht(),t=Ps(),r=mb(),n=D5(),s=Ye(),o=TypeError,a=s("toPrimitive");return du=function(u,l){if(!e(u)||t(u))return u;var c=r(u,a),d;if(c){if(l===void 0&&(l="default"),d=i(c,u,l),!e(d)||t(d))return d;throw new o("Can't convert object to primitive value")}return l===void 0&&(l="number"),n(u,l)},du}var hu,_0;function bb(){if(_0)return hu;_0=1;var i=KM(),e=Ps();return hu=function(t){var r=i(t,"string");return e(r)?r:r+""},hu}var fu,w0;function YM(){if(w0)return fu;w0=1;var i=Me(),e=ht(),t=i.document,r=e(t)&&e(t.createElement);return fu=function(n){return r?t.createElement(n):{}},fu}var vu,E0;function XM(){if(E0)return vu;E0=1;var i=Ae(),e=de(),t=YM();return vu=!i&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),vu}var S0;function zo(){if(S0)return Ma;S0=1;var i=Ae(),e=dt(),t=gb(),r=Is(),n=lr(),s=bb(),o=We(),a=XM(),u=Object.getOwnPropertyDescriptor;return Ma.f=i?u:function(c,d){if(c=n(c),d=s(d),a)try{return u(c,d)}catch{}if(o(c,d))return r(!e(t.f,c,d),c[d])},Ma}var pu,O0;function M5(){if(O0)return pu;O0=1;var i=de(),e=Le(),t=/#|\.prototype\./,r=function(u,l){var c=s[n(u)];return c===a?!0:c===o?!1:e(l)?i(l):!!l},n=r.normalize=function(u){return String(u).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return pu=r,pu}var gu,I0;function Wo(){if(I0)return gu;I0=1;var i=UM(),e=cr(),t=Os(),r=i(i.bind);return gu=function(n,s){return e(n),s===void 0?n:t?r(n,s):function(){return n.apply(s,arguments)}},gu}var mu={},yu,$0;function ZM(){if($0)return yu;$0=1;var i=Ae(),e=de();return yu=i&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),yu}var bu,T0;function dr(){if(T0)return bu;T0=1;var i=ht(),e=String,t=TypeError;return bu=function(r){if(i(r))return r;throw new t(e(r)+" is not an object")},bu}var P0;function Et(){if(P0)return mu;P0=1;var i=Ae(),e=XM(),t=ZM(),r=dr(),n=bb(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u="enumerable",l="configurable",c="writable";return mu.f=i?t?function(h,f,v){if(r(h),f=n(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&c in v&&!v[c]){var g=a(h,f);g&&g[c]&&(h[f]=v.value,v={configurable:l in v?v[l]:g[l],enumerable:u in v?v[u]:g[u],writable:!1})}return o(h,f,v)}:o:function(h,f,v){if(r(h),f=n(f),r(v),e)try{return o(h,f,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(h[f]=v.value),h},mu}var _u,R0;function dn(){if(R0)return _u;R0=1;var i=Ae(),e=Et(),t=Is();return _u=i?function(r,n,s){return e.f(r,n,t(1,s))}:function(r,n,s){return r[n]=s,r},_u}var wu,x0;function te(){if(x0)return wu;x0=1;var i=Me(),e=Bo(),t=UM(),r=Le(),n=zo().f,s=M5(),o=ze(),a=Wo(),u=dn(),l=We(),c=function(d){var h=function(f,v,g){if(this instanceof h){switch(arguments.length){case 0:return new d;case 1:return new d(f);case 2:return new d(f,v)}return new d(f,v,g)}return e(d,this,arguments)};return h.prototype=d.prototype,h};return wu=function(d,h){var f=d.target,v=d.global,g=d.stat,b=d.proto,p=v?i:g?i[f]:i[f]&&i[f].prototype,m=v?o:o[f]||u(o,f,{})[f],O=m.prototype,y,S,I,w,_,E,$,T,P;for(w in h)y=s(v?w:f+(g?".":"#")+w,d.forced),S=!y&&p&&l(p,w),E=m[w],S&&(d.dontCallGetSet?(P=n(p,w),$=P&&P.value):$=p[w]),_=S&&$?$:h[w],!(!y&&!b&&typeof E==typeof _)&&(d.bind&&S?T=a(_,i):d.wrap&&S?T=c(_):b&&r(_)?T=t(_):T=_,(d.sham||_&&_.sham||E&&E.sham)&&u(T,"sham",!0),u(m,w,T),b&&(I=f+"Prototype",l(o,I)||u(o,I,{}),u(o[I],w,_),d.real&&O&&(y||!O[w])&&u(O,w,_)))},wu}var C0;function A5(){if(C0)return M1;C0=1;var i=te(),e=Ae(),t=Et().f;return i({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),M1}var q0;function N5(){if(q0)return Ta.exports;q0=1,A5();var i=ze(),e=i.Object,t=Ta.exports=function(n,s,o){return e.defineProperty(n,s,o)};return e.defineProperty.sham&&(t.sham=!0),Ta.exports}var Eu,D0;function JM(){if(D0)return Eu;D0=1;var i=N5();return Eu=i,Eu}var Su,k0;function F5(){if(k0)return Su;k0=1;var i=JM();return Su=i,Su}var Ou,M0;function B5(){if(M0)return Ou;M0=1;var i=F5();return Ou=i,Ou}var Iu,A0;function j5(){return A0||(A0=1,Iu=B5()),Iu}var L5=j5(),z5=ue(L5),N0={},$u,F0;function Rs(){if(F0)return $u;F0=1;var i=ur();return $u=Array.isArray||function(t){return i(t)==="Array"},$u}var Tu,B0;function W5(){if(B0)return Tu;B0=1;var i=Math.ceil,e=Math.floor;return Tu=Math.trunc||function(r){var n=+r;return(n>0?e:i)(n)},Tu}var Pu,j0;function hn(){if(j0)return Pu;j0=1;var i=W5();return Pu=function(e){var t=+e;return t!==t||t===0?0:i(t)},Pu}var Ru,L0;function QM(){if(L0)return Ru;L0=1;var i=hn(),e=Math.min;return Ru=function(t){var r=i(t);return r>0?e(r,9007199254740991):0},Ru}var xu,z0;function di(){if(z0)return xu;z0=1;var i=QM();return xu=function(e){return i(e.length)},xu}var Cu,W0;function eA(){if(W0)return Cu;W0=1;var i=TypeError,e=9007199254740991;return Cu=function(t){if(t>e)throw i("Maximum allowed index exceeded");return t},Cu}var qu,H0;function _b(){if(H0)return qu;H0=1;var i=Ae(),e=Et(),t=Is();return qu=function(r,n,s){i?e.f(r,n,t(0,s)):r[n]=s},qu}var Du,V0;function wb(){if(V0)return Du;V0=1;var i=Ye(),e=i("toStringTag"),t={};return t[e]="z",Du=String(t)==="[object z]",Du}var ku,U0;function Rr(){if(U0)return ku;U0=1;var i=wb(),e=Le(),t=ur(),r=Ye(),n=r("toStringTag"),s=Object,o=t(function(){return arguments}())==="Arguments",a=function(u,l){try{return u[l]}catch{}};return ku=i?t:function(u){var l,c,d;return u===void 0?"Undefined":u===null?"Null":typeof(c=a(l=s(u),n))=="string"?c:o?t(l):(d=t(l))==="Object"&&e(l.callee)?"Arguments":d},ku}var Mu,G0;function H5(){if(G0)return Mu;G0=1;var i=ye(),e=Le(),t=yb(),r=i(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(n){return r(n)}),Mu=t.inspectSource,Mu}var Au,K0;function V5(){if(K0)return Au;K0=1;var i=ye(),e=de(),t=Le(),r=Rr(),n=vt(),s=H5(),o=function(){},a=n("Reflect","construct"),u=/^\s*(?:class|function)\b/,l=i(u.exec),c=!u.test(o),d=function(v){if(!t(v))return!1;try{return a(o,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return c||!!l(u,s(v))}catch{return!0}};return h.sham=!0,Au=!a||e(function(){var f;return d(d.call)||!d(Object)||!d(function(){f=!0})||f})?h:d,Au}var Nu,Y0;function U5(){if(Y0)return Nu;Y0=1;var i=Rs(),e=V5(),t=ht(),r=Ye(),n=r("species"),s=Array;return Nu=function(o){var a;return i(o)&&(a=o.constructor,e(a)&&(a===s||i(a.prototype))?a=void 0:t(a)&&(a=a[n],a===null&&(a=void 0))),a===void 0?s:a},Nu}var Fu,X0;function Eb(){if(X0)return Fu;X0=1;var i=U5();return Fu=function(e,t){return new(i(e))(t===0?0:t)},Fu}var Bu,Z0;function Ho(){if(Z0)return Bu;Z0=1;var i=de(),e=Ye(),t=Ts(),r=e("species");return Bu=function(n){return t>=51||!i(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[n](Boolean).foo!==1})},Bu}var J0;function tA(){if(J0)return N0;J0=1;var i=te(),e=de(),t=Rs(),r=ht(),n=Ft(),s=di(),o=eA(),a=_b(),u=Eb(),l=Ho(),c=Ye(),d=Ts(),h=c("isConcatSpreadable"),f=d>=51||!e(function(){var b=[];return b[h]=!1,b.concat()[0]!==b}),v=function(b){if(!r(b))return!1;var p=b[h];return p!==void 0?!!p:t(b)},g=!f||!l("concat");return i({target:"Array",proto:!0,arity:1,forced:g},{concat:function(p){var m=n(this),O=u(m,0),y=0,S,I,w,_,E;for(S=-1,w=arguments.length;S<w;S++)if(E=S===-1?m:arguments[S],v(E))for(_=s(E),o(y+_),I=0;I<_;I++,y++)I in E&&a(O,y,E[I]);else o(y+1),a(O,y++,E);return O.length=y,O}}),N0}var Q0={},e_={},ju,t_;function xr(){if(t_)return ju;t_=1;var i=Rr(),e=String;return ju=function(t){if(i(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},ju}var Lu={},zu,r_;function rA(){if(r_)return zu;r_=1;var i=hn(),e=Math.max,t=Math.min;return zu=function(r,n){var s=i(r);return s<0?e(s+n,0):t(s,n)},zu}var Wu,i_;function G5(){if(i_)return Wu;i_=1;var i=lr(),e=rA(),t=di(),r=function(n){return function(s,o,a){var u=i(s),l=t(u);if(l===0)return!n&&-1;var c=e(a,l),d;if(n&&o!==o){for(;l>c;)if(d=u[c++],d!==d)return!0}else for(;l>c;c++)if((n||c in u)&&u[c]===o)return n||c||0;return!n&&-1}};return Wu={includes:r(!0),indexOf:r(!1)},Wu}var Hu,n_;function xs(){return n_||(n_=1,Hu={}),Hu}var Vu,s_;function iA(){if(s_)return Vu;s_=1;var i=ye(),e=We(),t=lr(),r=G5().indexOf,n=xs(),s=i([].push);return Vu=function(o,a){var u=t(o),l=0,c=[],d;for(d in u)!e(n,d)&&e(u,d)&&s(c,d);for(;a.length>l;)e(u,d=a[l++])&&(~r(c,d)||s(c,d));return c},Vu}var Uu,o_;function Sb(){return o_||(o_=1,Uu=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Uu}var Gu,a_;function Vo(){if(a_)return Gu;a_=1;var i=iA(),e=Sb();return Gu=Object.keys||function(r){return i(r,e)},Gu}var u_;function Ob(){if(u_)return Lu;u_=1;var i=Ae(),e=ZM(),t=Et(),r=dr(),n=lr(),s=Vo();return Lu.f=i&&!e?Object.defineProperties:function(a,u){r(a);for(var l=n(u),c=s(u),d=c.length,h=0,f;d>h;)t.f(a,f=c[h++],l[f]);return a},Lu}var Ku,l_;function K5(){if(l_)return Ku;l_=1;var i=vt();return Ku=i("document","documentElement"),Ku}var Yu,c_;function Uo(){if(c_)return Yu;c_=1;var i=cn(),e=Lo(),t=i("keys");return Yu=function(r){return t[r]||(t[r]=e(r))},Yu}var Xu,d_;function Cs(){if(d_)return Xu;d_=1;var i=dr(),e=Ob(),t=Sb(),r=xs(),n=K5(),s=YM(),o=Uo(),a=">",u="<",l="prototype",c="script",d=o("IE_PROTO"),h=function(){},f=function(m){return u+c+a+m+u+"/"+c+a},v=function(m){m.write(f("")),m.close();var O=m.parentWindow.Object;return m=null,O},g=function(){var m=s("iframe"),O="java"+c+":",y;return m.style.display="none",n.appendChild(m),m.src=String(O),y=m.contentWindow.document,y.open(),y.write(f("document.F=Object")),y.close(),y.F},b,p=function(){try{b=new ActiveXObject("htmlfile")}catch{}p=typeof document<"u"?document.domain&&b?v(b):g():v(b);for(var m=t.length;m--;)delete p[l][t[m]];return p()};return r[d]=!0,Xu=Object.create||function(O,y){var S;return O!==null?(h[l]=i(O),S=new h,h[l]=null,S[d]=O):S=p(),y===void 0?S:e.f(S,y)},Xu}var Zu={},h_;function Go(){if(h_)return Zu;h_=1;var i=iA(),e=Sb(),t=e.concat("length","prototype");return Zu.f=Object.getOwnPropertyNames||function(n){return i(n,t)},Zu}var Ju={},Qu,f_;function qs(){if(f_)return Qu;f_=1;var i=ye();return Qu=i([].slice),Qu}var v_;function nA(){if(v_)return Ju;v_=1;var i=ur(),e=lr(),t=Go().f,r=qs(),n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(n)}};return Ju.f=function(a){return n&&i(a)==="Window"?s(a):t(e(a))},Ju}var el={},p_;function Ko(){return p_||(p_=1,el.f=Object.getOwnPropertySymbols),el}var tl,g_;function Ds(){if(g_)return tl;g_=1;var i=dn();return tl=function(e,t,r,n){return n&&n.enumerable?e[t]=r:i(e,t,r),e},tl}var rl,m_;function Ib(){if(m_)return rl;m_=1;var i=Et();return rl=function(e,t,r){return i.f(e,t,r)},rl}var il={},y_;function Yo(){if(y_)return il;y_=1;var i=Ye();return il.f=i,il}var nl,b_;function Ie(){if(b_)return nl;b_=1;var i=ze(),e=We(),t=Yo(),r=Et().f;return nl=function(n){var s=i.Symbol||(i.Symbol={});e(s,n)||r(s,n,{value:t.f(n)})},nl}var sl,__;function sA(){if(__)return sl;__=1;var i=dt(),e=vt(),t=Ye(),r=Ds();return sl=function(){var n=e("Symbol"),s=n&&n.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(u){return i(o,this)},{arity:1})},sl}var ol,w_;function Y5(){if(w_)return ol;w_=1;var i=wb(),e=Rr();return ol=i?{}.toString:function(){return"[object "+e(this)+"]"},ol}var al,E_;function hi(){if(E_)return al;E_=1;var i=wb(),e=Et().f,t=dn(),r=We(),n=Y5(),s=Ye(),o=s("toStringTag");return al=function(a,u,l,c){var d=l?a:a&&a.prototype;d&&(r(d,o)||e(d,o,{configurable:!0,value:u}),c&&!i&&t(d,"toString",n))},al}var ul,S_;function X5(){if(S_)return ul;S_=1;var i=Me(),e=Le(),t=i.WeakMap;return ul=e(t)&&/native code/.test(String(t)),ul}var ll,O_;function ks(){if(O_)return ll;O_=1;var i=X5(),e=Me(),t=ht(),r=dn(),n=We(),s=yb(),o=Uo(),a=xs(),u="Object already initialized",l=e.TypeError,c=e.WeakMap,d,h,f,v=function(m){return f(m)?h(m):d(m,{})},g=function(m){return function(O){var y;if(!t(O)||(y=h(O)).type!==m)throw new l("Incompatible receiver, "+m+" required");return y}};if(i||s.state){var b=s.state||(s.state=new c);b.get=b.get,b.has=b.has,b.set=b.set,d=function(m,O){if(b.has(m))throw new l(u);return O.facade=m,b.set(m,O),O},h=function(m){return b.get(m)||{}},f=function(m){return b.has(m)}}else{var p=o("state");a[p]=!0,d=function(m,O){if(n(m,p))throw new l(u);return O.facade=m,r(m,p,O),O},h=function(m){return n(m,p)?m[p]:{}},f=function(m){return n(m,p)}}return ll={set:d,get:h,has:f,enforce:v,getterFor:g},ll}var cl,I_;function fn(){if(I_)return cl;I_=1;var i=Wo(),e=ye(),t=jo(),r=Ft(),n=di(),s=Eb(),o=e([].push),a=function(u){var l=u===1,c=u===2,d=u===3,h=u===4,f=u===6,v=u===7,g=u===5||f;return function(b,p,m,O){for(var y=r(b),S=t(y),I=n(S),w=i(p,m),_=0,E=O||s,$=l?E(b,I):c||v?E(b,0):void 0,T,P;I>_;_++)if((g||_ in S)&&(T=S[_],P=w(T,_,y),u))if(l)$[_]=P;else if(P)switch(u){case 3:return!0;case 5:return T;case 6:return _;case 2:o($,T)}else switch(u){case 4:return!1;case 7:o($,T)}return f?-1:d||h?h:$}};return cl={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},cl}var $_;function Z5(){if($_)return e_;$_=1;var i=te(),e=Me(),t=dt(),r=ye(),n=ln(),s=Ae(),o=an(),a=de(),u=We(),l=Qe(),c=dr(),d=lr(),h=bb(),f=xr(),v=Is(),g=Cs(),b=Vo(),p=Go(),m=nA(),O=Ko(),y=zo(),S=Et(),I=Ob(),w=gb(),_=Ds(),E=Ib(),$=cn(),T=Uo(),P=xs(),R=Lo(),C=Ye(),k=Yo(),K=Ie(),j=sA(),Q=hi(),re=ks(),he=fn().forEach,W=T("hidden"),le="Symbol",ve="prototype",Se=re.set,Rt=re.getterFor(le),be=Object[ve],et=e.Symbol,xt=et&&et[ve],Ea=e.RangeError,Sa=e.TypeError,Fr=e.QObject,An=y.f,tt=S.f,Nn=m.f,Oa=w.f,Fn=r([].push),Be=$("symbols"),Ct=$("op-symbols"),Ia=$("wks"),Br=!Fr||!Fr[ve]||!Fr[ve].findChild,Bn=function(V,N,F){var B=An(be,N);B&&delete be[N],tt(V,N,F),B&&V!==be&&tt(be,N,B)},jr=s&&a(function(){return g(tt({},"a",{get:function(){return tt(this,"a",{value:7}).a}})).a!==7})?Bn:tt,Lr=function(V,N){var F=Be[V]=g(xt);return Se(F,{type:le,tag:V,description:N}),s||(F.description=N),F},Yt=function(N,F,B){N===be&&Yt(Ct,F,B),c(N);var U=h(F);return c(B),u(Be,U)?(B.enumerable?(u(N,W)&&N[W][U]&&(N[W][U]=!1),B=g(B,{enumerable:v(0,!1)})):(u(N,W)||tt(N,W,v(1,g(null))),N[W][U]=!0),jr(N,U,B)):tt(N,U,B)},zr=function(N,F){c(N);var B=d(F),U=b(B).concat(zn(B));return he(U,function(ce){(!s||t(Wr,B,ce))&&Yt(N,ce,B[ce])}),N},$a=function(N,F){return F===void 0?g(N):zr(g(N),F)},Wr=function(N){var F=h(N),B=t(Oa,this,F);return this===be&&u(Be,F)&&!u(Ct,F)?!1:B||!u(this,F)||!u(Be,F)||u(this,W)&&this[W][F]?B:!0},jn=function(N,F){var B=d(N),U=h(F);if(!(B===be&&u(Be,U)&&!u(Ct,U))){var ce=An(B,U);return ce&&u(Be,U)&&!(u(B,W)&&B[W][U])&&(ce.enumerable=!0),ce}},Ln=function(N){var F=Nn(d(N)),B=[];return he(F,function(U){!u(Be,U)&&!u(P,U)&&Fn(B,U)}),B},zn=function(V){var N=V===be,F=Nn(N?Ct:d(V)),B=[];return he(F,function(U){u(Be,U)&&(!N||u(be,U))&&Fn(B,Be[U])}),B};return o||(et=function(){if(l(xt,this))throw new Sa("Symbol is not a constructor");var N=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),F=R(N),B=function(U){var ce=this===void 0?e:this;ce===be&&t(B,Ct,U),u(ce,W)&&u(ce[W],F)&&(ce[W][F]=!1);var Wn=v(1,U);try{jr(ce,F,Wn)}catch(Hn){if(!(Hn instanceof Ea))throw Hn;Bn(ce,F,Wn)}};return s&&Br&&jr(be,F,{configurable:!0,set:B}),Lr(F,N)},xt=et[ve],_(xt,"toString",function(){return Rt(this).tag}),_(et,"withoutSetter",function(V){return Lr(R(V),V)}),w.f=Wr,S.f=Yt,I.f=zr,y.f=jn,p.f=m.f=Ln,O.f=zn,k.f=function(V){return Lr(C(V),V)},s&&(E(xt,"description",{configurable:!0,get:function(){return Rt(this).description}}),n||_(be,"propertyIsEnumerable",Wr,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:et}),he(b(Ia),function(V){K(V)}),i({target:le,stat:!0,forced:!o},{useSetter:function(){Br=!0},useSimple:function(){Br=!1}}),i({target:"Object",stat:!0,forced:!o,sham:!s},{create:$a,defineProperty:Yt,defineProperties:zr,getOwnPropertyDescriptor:jn}),i({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:Ln}),j(),Q(et,le),P[W]=!0,e_}var T_={},dl,P_;function oA(){if(P_)return dl;P_=1;var i=an();return dl=i&&!!Symbol.for&&!!Symbol.keyFor,dl}var R_;function J5(){if(R_)return T_;R_=1;var i=te(),e=vt(),t=We(),r=xr(),n=cn(),s=oA(),o=n("string-to-symbol-registry"),a=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{for:function(u){var l=r(u);if(t(o,l))return o[l];var c=e("Symbol")(l);return o[l]=c,a[c]=l,c}}),T_}var x_={},C_;function Q5(){if(C_)return x_;C_=1;var i=te(),e=We(),t=Ps(),r=un(),n=cn(),s=oA(),o=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!t(u))throw new TypeError(r(u)+" is not a symbol");if(e(o,u))return o[u]}}),x_}var q_={},hl,D_;function eB(){if(D_)return hl;D_=1;var i=ye(),e=Rs(),t=Le(),r=ur(),n=xr(),s=i([].push);return hl=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,u=[],l=0;l<a;l++){var c=o[l];typeof c=="string"?s(u,c):(typeof c=="number"||r(c)==="Number"||r(c)==="String")&&s(u,n(c))}var d=u.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var g=0;g<d;g++)if(u[g]===f)return v}}},hl}var k_;function aA(){if(k_)return q_;k_=1;var i=te(),e=vt(),t=Bo(),r=dt(),n=ye(),s=de(),o=Le(),a=Ps(),u=qs(),l=eB(),c=an(),d=String,h=e("JSON","stringify"),f=n(/./.exec),v=n("".charAt),g=n("".charCodeAt),b=n("".replace),p=n(1.1.toString),m=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,y=/^[\uDC00-\uDFFF]$/,S=!c||s(function(){var E=e("Symbol")("stringify detection");return h([E])!=="[null]"||h({a:E})!=="{}"||h(Object(E))!=="{}"}),I=s(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),w=function(E,$){var T=u(arguments),P=l($);if(!(!o(P)&&(E===void 0||a(E))))return T[1]=function(R,C){if(o(P)&&(C=r(P,this,d(R),C)),!a(C))return C},t(h,null,T)},_=function(E,$,T){var P=v(T,$-1),R=v(T,$+1);return f(O,E)&&!f(y,R)||f(y,E)&&!f(O,P)?"\\u"+p(g(E,0),16):E};return h&&i({target:"JSON",stat:!0,arity:3,forced:S||I},{stringify:function($,T,P){var R=u(arguments),C=t(S?w:h,null,R);return I&&typeof C=="string"?b(C,m,_):C}}),q_}var M_={},A_;function tB(){if(A_)return M_;A_=1;var i=te(),e=an(),t=de(),r=Ko(),n=Ft(),s=!e||t(function(){r.f(1)});return i({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var u=r.f;return u?u(n(a)):[]}}),M_}var N_;function uA(){return N_||(N_=1,Z5(),J5(),Q5(),aA(),tB()),Q0}var F_={},B_;function lA(){if(B_)return F_;B_=1;var i=Ie();return i("asyncDispose"),F_}var j_={},L_;function rB(){if(L_)return j_;L_=1;var i=Ie();return i("asyncIterator"),j_}var z_={},W_;function cA(){if(W_)return z_;W_=1;var i=Ie();return i("dispose"),z_}var H_={},V_;function iB(){if(V_)return H_;V_=1;var i=Ie();return i("hasInstance"),H_}var U_={},G_;function nB(){if(G_)return U_;G_=1;var i=Ie();return i("isConcatSpreadable"),U_}var K_={},Y_;function dA(){if(Y_)return K_;Y_=1;var i=Ie();return i("iterator"),K_}var X_={},Z_;function sB(){if(Z_)return X_;Z_=1;var i=Ie();return i("match"),X_}var J_={},Q_;function oB(){if(Q_)return J_;Q_=1;var i=Ie();return i("matchAll"),J_}var ew={},tw;function aB(){if(tw)return ew;tw=1;var i=Ie();return i("replace"),ew}var rw={},iw;function uB(){if(iw)return rw;iw=1;var i=Ie();return i("search"),rw}var nw={},sw;function lB(){if(sw)return nw;sw=1;var i=Ie();return i("species"),nw}var ow={},aw;function cB(){if(aw)return ow;aw=1;var i=Ie();return i("split"),ow}var uw={},lw;function hA(){if(lw)return uw;lw=1;var i=Ie(),e=sA();return i("toPrimitive"),e(),uw}var cw={},dw;function dB(){if(dw)return cw;dw=1;var i=vt(),e=Ie(),t=hi();return e("toStringTag"),t(i("Symbol"),"Symbol"),cw}var hw={},fw;function hB(){if(fw)return hw;fw=1;var i=Ie();return i("unscopables"),hw}var vw={},pw;function fB(){if(pw)return vw;pw=1;var i=Me(),e=hi();return e(i.JSON,"JSON",!0),vw}var fl,gw;function vB(){if(gw)return fl;gw=1,tA(),uA(),lA(),rB(),cA(),iB(),nB(),dA(),sB(),oB(),aB(),uB(),lB(),cB(),hA(),dB(),hB(),fB();var i=ze();return fl=i.Symbol,fl}var mw={},vl,yw;function pB(){return yw||(yw=1,vl=function(){}),vl}var pl,bw;function vn(){return bw||(bw=1,pl={}),pl}var gl,_w;function gB(){if(_w)return gl;_w=1;var i=Ae(),e=We(),t=Function.prototype,r=i&&Object.getOwnPropertyDescriptor,n=e(t,"name"),s=n&&(function(){}).name==="something",o=n&&(!i||i&&r(t,"name").configurable);return gl={EXISTS:n,PROPER:s,CONFIGURABLE:o},gl}var ml,ww;function mB(){if(ww)return ml;ww=1;var i=de();return ml=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),ml}var yl,Ew;function fA(){if(Ew)return yl;Ew=1;var i=We(),e=Le(),t=Ft(),r=Uo(),n=mB(),s=r("IE_PROTO"),o=Object,a=o.prototype;return yl=n?o.getPrototypeOf:function(u){var l=t(u);if(i(l,s))return l[s];var c=l.constructor;return e(c)&&l instanceof c?c.prototype:l instanceof o?a:null},yl}var bl,Sw;function vA(){if(Sw)return bl;Sw=1;var i=de(),e=Le(),t=ht(),r=Cs(),n=fA(),s=Ds(),o=Ye(),a=ln(),u=o("iterator"),l=!1,c,d,h;[].keys&&(h=[].keys(),"next"in h?(d=n(n(h)),d!==Object.prototype&&(c=d)):l=!0);var f=!t(c)||i(function(){var v={};return c[u].call(v)!==v});return f?c={}:a&&(c=r(c)),e(c[u])||s(c,u,function(){return this}),bl={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:l},bl}var _l,Ow;function yB(){if(Ow)return _l;Ow=1;var i=vA().IteratorPrototype,e=Cs(),t=Is(),r=hi(),n=vn(),s=function(){return this};return _l=function(o,a,u,l){var c=a+" Iterator";return o.prototype=e(i,{next:t(+!l,u)}),r(o,c,!1,!0),n[c]=s,o},_l}var wl,Iw;function bB(){if(Iw)return wl;Iw=1;var i=ye(),e=cr();return wl=function(t,r,n){try{return i(e(Object.getOwnPropertyDescriptor(t,r)[n]))}catch{}},wl}var El,$w;function _B(){if($w)return El;$w=1;var i=ht();return El=function(e){return i(e)||e===null},El}var Sl,Tw;function wB(){if(Tw)return Sl;Tw=1;var i=_B(),e=String,t=TypeError;return Sl=function(r){if(i(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},Sl}var Ol,Pw;function EB(){if(Pw)return Ol;Pw=1;var i=bB(),e=ht(),t=ci(),r=wB();return Ol=Object.setPrototypeOf||("__proto__"in{}?function(){var n=!1,s={},o;try{o=i(Object.prototype,"__proto__","set"),o(s,[]),n=s instanceof Array}catch{}return function(u,l){return t(u),r(l),e(u)&&(n?o(u,l):u.__proto__=l),u}}():void 0),Ol}var Il,Rw;function $b(){if(Rw)return Il;Rw=1;var i=te(),e=dt(),t=ln(),r=gB(),n=Le(),s=yB(),o=fA(),a=EB(),u=hi(),l=dn(),c=Ds(),d=Ye(),h=vn(),f=vA(),v=r.PROPER,g=r.CONFIGURABLE,b=f.IteratorPrototype,p=f.BUGGY_SAFARI_ITERATORS,m=d("iterator"),O="keys",y="values",S="entries",I=function(){return this};return Il=function(w,_,E,$,T,P,R){s(E,_,$);var C=function(Se){if(Se===T&&re)return re;if(!p&&Se&&Se in j)return j[Se];switch(Se){case O:return function(){return new E(this,Se)};case y:return function(){return new E(this,Se)};case S:return function(){return new E(this,Se)}}return function(){return new E(this)}},k=_+" Iterator",K=!1,j=w.prototype,Q=j[m]||j["@@iterator"]||T&&j[T],re=!p&&Q||C(T),he=_==="Array"&&j.entries||Q,W,le,ve;if(he&&(W=o(he.call(new w)),W!==Object.prototype&&W.next&&(!t&&o(W)!==b&&(a?a(W,b):n(W[m])||c(W,m,I)),u(W,k,!0,!0),t&&(h[k]=I))),v&&T===y&&Q&&Q.name!==y&&(!t&&g?l(j,"name",y):(K=!0,re=function(){return e(Q,this)})),T)if(le={values:C(y),keys:P?re:C(O),entries:C(S)},R)for(ve in le)(p||K||!(ve in j))&&c(j,ve,le[ve]);else i({target:_,proto:!0,forced:p||K},le);return(!t||R)&&j[m]!==re&&c(j,m,re,{name:T}),h[_]=re,le},Il}var $l,xw;function Tb(){return xw||(xw=1,$l=function(i,e){return{value:i,done:e}}),$l}var Tl,Cw;function Cr(){if(Cw)return Tl;Cw=1;var i=lr(),e=pB(),t=vn(),r=ks(),n=Et().f,s=$b(),o=Tb(),a=ln(),u=Ae(),l="Array Iterator",c=r.set,d=r.getterFor(l);Tl=s(Array,"Array",function(f,v){c(this,{type:l,target:i(f),index:0,kind:v})},function(){var f=d(this),v=f.target,g=f.index++;if(!v||g>=v.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(g,!1);case"values":return o(v[g],!1)}return o([g,v[g]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&u&&h.name!=="values")try{n(h,"name",{value:"values"})}catch{}return Tl}var Pl,qw;function SB(){return qw||(qw=1,Pl={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Pl}var Dw;function qr(){if(Dw)return mw;Dw=1,Cr();var i=SB(),e=Me(),t=hi(),r=vn();for(var n in i)t(e[n],n),r[n]=r.Array;return mw}var Rl,kw;function OB(){if(kw)return Rl;kw=1;var i=vB();return qr(),Rl=i,Rl}var Mw={},Aw;function IB(){if(Aw)return Mw;Aw=1;var i=Ye(),e=Et().f,t=i("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),Mw}var Nw={},Fw;function $B(){return Fw||(Fw=1,lA()),Nw}var Bw={},jw;function TB(){return jw||(jw=1,cA()),Bw}var Lw={},zw;function PB(){if(zw)return Lw;zw=1;var i=Ie();return i("metadata"),Lw}var xl,Ww;function RB(){if(Ww)return xl;Ww=1;var i=OB();return IB(),$B(),TB(),PB(),xl=i,xl}var Hw={},Cl,Vw;function pA(){if(Vw)return Cl;Vw=1;var i=vt(),e=ye(),t=i("Symbol"),r=t.keyFor,n=e(t.prototype.valueOf);return Cl=t.isRegisteredSymbol||function(o){try{return r(n(o))!==void 0}catch{return!1}},Cl}var Uw;function xB(){if(Uw)return Hw;Uw=1;var i=te(),e=pA();return i({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Hw}var Gw={},ql,Kw;function gA(){if(Kw)return ql;Kw=1;for(var i=cn(),e=vt(),t=ye(),r=Ps(),n=Ye(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),u=t(s.prototype.valueOf),l=i("wks"),c=0,d=a(s),h=d.length;c<h;c++)try{var f=d[c];r(s[f])&&n(f)}catch{}return ql=function(g){if(o&&o(g))return!0;try{for(var b=u(g),p=0,m=a(l),O=m.length;p<O;p++)if(l[m[p]]==b)return!0}catch{}return!1},ql}var Yw;function CB(){if(Yw)return Gw;Yw=1;var i=te(),e=gA();return i({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Gw}var Xw={},Zw;function qB(){if(Zw)return Xw;Zw=1;var i=Ie();return i("customMatcher"),Xw}var Jw={},Qw;function DB(){if(Qw)return Jw;Qw=1;var i=Ie();return i("observable"),Jw}var eE={},tE;function kB(){if(tE)return eE;tE=1;var i=te(),e=pA();return i({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),eE}var rE={},iE;function MB(){if(iE)return rE;iE=1;var i=te(),e=gA();return i({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),rE}var nE={},sE;function AB(){if(sE)return nE;sE=1;var i=Ie();return i("matcher"),nE}var oE={},aE;function NB(){if(aE)return oE;aE=1;var i=Ie();return i("metadataKey"),oE}var uE={},lE;function FB(){if(lE)return uE;lE=1;var i=Ie();return i("patternMatch"),uE}var cE={},dE;function BB(){if(dE)return cE;dE=1;var i=Ie();return i("replaceAll"),cE}var Dl,hE;function jB(){if(hE)return Dl;hE=1;var i=RB();return xB(),CB(),qB(),DB(),kB(),MB(),AB(),NB(),FB(),BB(),Dl=i,Dl}var kl,fE;function LB(){return fE||(fE=1,kl=jB()),kl}var zB=LB(),so=ue(zB),vE={},Ml,pE;function WB(){if(pE)return Ml;pE=1;var i=ye(),e=hn(),t=xr(),r=ci(),n=i("".charAt),s=i("".charCodeAt),o=i("".slice),a=function(u){return function(l,c){var d=t(r(l)),h=e(c),f=d.length,v,g;return h<0||h>=f?u?"":void 0:(v=s(d,h),v<55296||v>56319||h+1===f||(g=s(d,h+1))<56320||g>57343?u?n(d,h):v:u?o(d,h,h+2):(v-55296<<10)+(g-56320)+65536)}};return Ml={codeAt:a(!1),charAt:a(!0)},Ml}var gE;function Xo(){if(gE)return vE;gE=1;var i=WB().charAt,e=xr(),t=ks(),r=$b(),n=Tb(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(u){o(this,{type:s,string:e(u),index:0})},function(){var l=a(this),c=l.string,d=l.index,h;return d>=c.length?n(void 0,!0):(h=i(c,d),l.index+=h.length,n(h,!1))}),vE}var Al,mE;function HB(){if(mE)return Al;mE=1,Cr(),Xo(),dA();var i=Yo();return Al=i.f("iterator"),Al}var Nl,yE;function mA(){if(yE)return Nl;yE=1;var i=HB();return qr(),Nl=i,Nl}var Fl,bE;function VB(){if(bE)return Fl;bE=1;var i=mA();return Fl=i,Fl}var Bl,_E;function UB(){if(_E)return Bl;_E=1;var i=VB();return Bl=i,Bl}var jl,wE;function GB(){return wE||(wE=1,jl=UB()),jl}var KB=GB(),YB=ue(KB);function ls(i){"@babel/helpers - typeof";return ls=typeof so=="function"&&typeof YB=="symbol"?function(e){return typeof e}:function(e){return e&&typeof so=="function"&&e.constructor===so&&e!==so.prototype?"symbol":typeof e},ls(i)}var Ll,EE;function XB(){if(EE)return Ll;EE=1,hA();var i=Yo();return Ll=i.f("toPrimitive"),Ll}var zl,SE;function ZB(){if(SE)return zl;SE=1;var i=XB();return zl=i,zl}var Wl,OE;function JB(){if(OE)return Wl;OE=1;var i=ZB();return Wl=i,Wl}var Hl,IE;function QB(){if(IE)return Hl;IE=1;var i=JB();return Hl=i,Hl}var Vl,$E;function e3(){return $E||($E=1,Vl=QB()),Vl}var t3=e3(),r3=ue(t3);function i3(i,e){if(ls(i)!="object"||!i)return i;var t=i[r3];if(t!==void 0){var r=t.call(i,e);if(ls(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function n3(i){var e=i3(i,"string");return ls(e)=="symbol"?e:e+""}function _r(i,e,t){return(e=n3(e))in i?z5(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var TE={},Ul,PE;function s3(){if(PE)return Ul;PE=1;var i=ye(),e=cr(),t=ht(),r=We(),n=qs(),s=Os(),o=Function,a=i([].concat),u=i([].join),l={},c=function(d,h,f){if(!r(l,h)){for(var v=[],g=0;g<h;g++)v[g]="a["+g+"]";l[h]=o("C,a","return new C("+u(v,",")+")")}return l[h](d,f)};return Ul=s?o.bind:function(h){var f=e(this),v=f.prototype,g=n(arguments,1),b=function(){var m=a(g,n(arguments));return this instanceof b?c(f,m.length,m):f.apply(h,m)};return t(v)&&(b.prototype=v),b},Ul}var RE;function o3(){if(RE)return TE;RE=1;var i=te(),e=s3();return i({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),TE}var Gl,xE;function St(){if(xE)return Gl;xE=1;var i=Me(),e=ze();return Gl=function(t,r){var n=e[t+"Prototype"],s=n&&n[r];if(s)return s;var o=i[t],a=o&&o.prototype;return a&&a[r]},Gl}var Kl,CE;function a3(){if(CE)return Kl;CE=1,o3();var i=St();return Kl=i("Function","bind"),Kl}var Yl,qE;function u3(){if(qE)return Yl;qE=1;var i=Qe(),e=a3(),t=Function.prototype;return Yl=function(r){var n=r.bind;return r===t||i(t,r)&&n===t.bind?e:n},Yl}var Xl,DE;function l3(){if(DE)return Xl;DE=1;var i=u3();return Xl=i,Xl}var Zl,kE;function c3(){return kE||(kE=1,Zl=l3()),Zl}var d3=c3(),h3=ue(d3),ME={},Jl,AE;function f3(){if(AE)return Jl;AE=1;var i=cr(),e=Ft(),t=jo(),r=di(),n=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(u,l,c,d){var h=e(u),f=t(h),v=r(h);if(i(l),v===0&&c<2)throw new n(s);var g=a?v-1:0,b=a?-1:1;if(c<2)for(;;){if(g in f){d=f[g],g+=b;break}if(g+=b,a?g<0:v<=g)throw new n(s)}for(;a?g>=0:v>g;g+=b)g in f&&(d=l(d,f[g],g,h));return d}};return Jl={left:o(!1),right:o(!0)},Jl}var Ql,NE;function Zo(){if(NE)return Ql;NE=1;var i=de();return Ql=function(e,t){var r=[][e];return!!r&&i(function(){r.call(null,t||function(){return 1},1)})},Ql}var ec,FE;function yA(){if(FE)return ec;FE=1;var i=Me(),e=on(),t=ur(),r=function(n){return e.slice(0,n.length)===n};return ec=function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":i.Bun&&typeof Bun.version=="string"?"BUN":i.Deno&&typeof Deno.version=="object"?"DENO":t(i.process)==="process"?"NODE":i.window&&i.document?"BROWSER":"REST"}(),ec}var tc,BE;function v3(){if(BE)return tc;BE=1;var i=yA();return tc=i==="NODE",tc}var jE;function p3(){if(jE)return ME;jE=1;var i=te(),e=f3().left,t=Zo(),r=Ts(),n=v3(),s=!n&&r>79&&r<83,o=s||!t("reduce");return i({target:"Array",proto:!0,forced:o},{reduce:function(u){var l=arguments.length;return e(this,u,l,l>1?arguments[1]:void 0)}}),ME}var rc,LE;function g3(){if(LE)return rc;LE=1,p3();var i=St();return rc=i("Array","reduce"),rc}var ic,zE;function m3(){if(zE)return ic;zE=1;var i=Qe(),e=g3(),t=Array.prototype;return ic=function(r){var n=r.reduce;return r===t||i(t,r)&&n===t.reduce?e:n},ic}var nc,WE;function y3(){if(WE)return nc;WE=1;var i=m3();return nc=i,nc}var sc,HE;function b3(){return HE||(HE=1,sc=y3()),sc}var _3=b3(),w3=ue(_3),VE={},UE;function E3(){if(UE)return VE;UE=1;var i=te(),e=fn().filter,t=Ho(),r=t("filter");return i({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),VE}var oc,GE;function S3(){if(GE)return oc;GE=1,E3();var i=St();return oc=i("Array","filter"),oc}var ac,KE;function O3(){if(KE)return ac;KE=1;var i=Qe(),e=S3(),t=Array.prototype;return ac=function(r){var n=r.filter;return r===t||i(t,r)&&n===t.filter?e:n},ac}var uc,YE;function I3(){if(YE)return uc;YE=1;var i=O3();return uc=i,uc}var lc,XE;function $3(){return XE||(XE=1,lc=I3()),lc}var T3=$3(),Ai=ue(T3),ZE={},JE;function P3(){if(JE)return ZE;JE=1;var i=te(),e=fn().map,t=Ho(),r=t("map");return i({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),ZE}var cc,QE;function R3(){if(QE)return cc;QE=1,P3();var i=St();return cc=i("Array","map"),cc}var dc,eS;function x3(){if(eS)return dc;eS=1;var i=Qe(),e=R3(),t=Array.prototype;return dc=function(r){var n=r.map;return r===t||i(t,r)&&n===t.map?e:n},dc}var hc,tS;function C3(){if(tS)return hc;tS=1;var i=x3();return hc=i,hc}var fc,rS;function q3(){return rS||(rS=1,fc=C3()),fc}var D3=q3(),jt=ue(D3),vc={exports:{}},iS;function k3(){return iS||(iS=1,function(i){function e(r){if(r)return t(r);this._callbacks=new Map}function t(r){return Object.assign(r,e.prototype),r._callbacks=new Map,r}e.prototype.on=function(r,n){const s=this._callbacks.get(r)??[];return s.push(n),this._callbacks.set(r,s),this},e.prototype.once=function(r,n){const s=(...o)=>{this.off(r,s),n.apply(this,o)};return s.fn=n,this.on(r,s),this},e.prototype.off=function(r,n){if(r===void 0&&n===void 0)return this._callbacks.clear(),this;if(n===void 0)return this._callbacks.delete(r),this;const s=this._callbacks.get(r);if(s){for(const[o,a]of s.entries())if(a===n||a.fn===n){s.splice(o,1);break}s.length===0?this._callbacks.delete(r):this._callbacks.set(r,s)}return this},e.prototype.emit=function(r,...n){const s=this._callbacks.get(r);if(s){const o=[...s];for(const a of o)a.apply(this,n)}return this},e.prototype.listeners=function(r){return this._callbacks.get(r)??[]},e.prototype.listenerCount=function(r){if(r)return this.listeners(r).length;let n=0;for(const s of this._callbacks.values())n+=s.length;return n},e.prototype.hasListeners=function(r){return this.listenerCount(r)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,i.exports=e}(vc)),vc.exports}var M3=k3(),A3=ue(M3);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Mt(){return Mt=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Mt.apply(this,arguments)}function Ot(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function oo(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var Gy;typeof Object.assign!="function"?Gy=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])}return t}:Gy=Object.assign;var ii=Gy,nS=["","webkit","Moz","MS","ms","o"],N3=typeof document>"u"?{style:{}}:document.createElement("div"),F3="function",Ni=Math.round,ni=Math.abs,Pb=Date.now;function Jo(i,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),s=0;s<nS.length;){if(t=nS[s],r=t?t+n:e,r in i)return r;s++}}var tr;typeof window>"u"?tr={}:tr=window;var bA=Jo(N3.style,"touchAction"),_A=bA!==void 0;function B3(){if(!_A)return!1;var i={},e=tr.CSS&&tr.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=e?tr.CSS.supports("touch-action",t):!0}),i}var wA="compute",EA="auto",Ky="manipulation",Jr="none",cs="pan-x",ds="pan-y",ao=B3(),j3=/mobile|tablet|ip(ad|hone|od)|android/i,SA="ontouchstart"in tr,L3=Jo(tr,"PointerEvent")!==void 0,z3=SA&&j3.test(navigator.userAgent),Ms="touch",W3="pen",Rb="mouse",H3="kinect",V3=25,ot=1,fi=2,De=4,lt=8,So=1,As=2,Ns=4,Fs=8,Ki=16,Ht=As|Ns,Qr=Fs|Ki,OA=Ht|Qr,IA=["x","y"],Oo=["clientX","clientY"];function rr(i,e,t){var r;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(r=0;r<i.length;)e.call(t,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&e.call(t,i[r],r,i)}function Qo(i,e){return typeof i===F3?i.apply(e&&e[0]||void 0,e):i}function Kr(i,e){return i.indexOf(e)>-1}function U3(i){if(Kr(i,Jr))return Jr;var e=Kr(i,cs),t=Kr(i,ds);return e&&t?Jr:e||t?e?cs:ds:Kr(i,Ky)?Ky:EA}var $A=function(){function i(t,r){this.manager=t,this.set(r)}var e=i.prototype;return e.set=function(r){r===wA&&(r=this.compute()),_A&&this.manager.element.style&&ao[r]&&(this.manager.element.style[bA]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return rr(this.manager.recognizers,function(n){Qo(n.options.enable,[n])&&(r=r.concat(n.getTouchAction()))}),U3(r.join(" "))},e.preventDefaults=function(r){var n=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var o=this.actions,a=Kr(o,Jr)&&!ao[Jr],u=Kr(o,ds)&&!ao[ds],l=Kr(o,cs)&&!ao[cs];if(a){var c=r.pointers.length===1,d=r.distance<2,h=r.deltaTime<250;if(c&&d&&h)return}if(!(l&&u)&&(a||u&&s&Ht||l&&s&Qr))return this.preventSrc(n)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},i}();function xb(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function TA(i){var e=i.length;if(e===1)return{x:Ni(i[0].clientX),y:Ni(i[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=i[n].clientX,r+=i[n].clientY,n++;return{x:Ni(t/e),y:Ni(r/e)}}function sS(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:Ni(i.pointers[t].clientX),clientY:Ni(i.pointers[t].clientY)},t++;return{timeStamp:Pb(),pointers:e,center:TA(e),deltaX:i.deltaX,deltaY:i.deltaY}}function Io(i,e,t){t||(t=IA);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.sqrt(r*r+n*n)}function Yy(i,e,t){t||(t=IA);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.atan2(n,r)*180/Math.PI}function PA(i,e){return i===e?So:ni(i)>=ni(e)?i<0?As:Ns:e<0?Fs:Ki}function G3(i,e){var t=e.center,r=i.offsetDelta||{},n=i.prevDelta||{},s=i.prevInput||{};(e.eventType===ot||s.eventType===De)&&(n=i.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=i.offsetDelta={x:t.x,y:t.y}),e.deltaX=n.x+(t.x-r.x),e.deltaY=n.y+(t.y-r.y)}function RA(i,e,t){return{x:e/i||0,y:t/i||0}}function K3(i,e){return Io(e[0],e[1],Oo)/Io(i[0],i[1],Oo)}function Y3(i,e){return Yy(e[1],e[0],Oo)+Yy(i[1],i[0],Oo)}function X3(i,e){var t=i.lastInterval||e,r=e.timeStamp-t.timeStamp,n,s,o,a;if(e.eventType!==lt&&(r>V3||t.velocity===void 0)){var u=e.deltaX-t.deltaX,l=e.deltaY-t.deltaY,c=RA(r,u,l);s=c.x,o=c.y,n=ni(c.x)>ni(c.y)?c.x:c.y,a=PA(u,l),i.lastInterval=e}else n=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=n,e.velocityX=s,e.velocityY=o,e.direction=a}function Z3(i,e){var t=i.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=sS(e)),n>1&&!t.firstMultiple?t.firstMultiple=sS(e):n===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,u=e.center=TA(r);e.timeStamp=Pb(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Yy(a,u),e.distance=Io(a,u),G3(t,e),e.offsetDirection=PA(e.deltaX,e.deltaY);var l=RA(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=ni(l.x)>ni(l.y)?l.x:l.y,e.scale=o?K3(o.pointers,r):1,e.rotation=o?Y3(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,X3(t,e);var c=i.element,d=e.srcEvent,h;d.composedPath?h=d.composedPath()[0]:d.path?h=d.path[0]:h=d.target,xb(h,c)&&(c=h),e.target=c}function J3(i,e,t){var r=t.pointers.length,n=t.changedPointers.length,s=e&ot&&r-n===0,o=e&(De|lt)&&r-n===0;t.isFirst=!!s,t.isFinal=!!o,s&&(i.session={}),t.eventType=e,Z3(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function hs(i){return i.trim().split(/\s+/g)}function Qn(i,e,t){rr(hs(e),function(r){i.addEventListener(r,t,!1)})}function es(i,e,t){rr(hs(e),function(r){i.removeEventListener(r,t,!1)})}function oS(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var pn=function(){function i(t,r){var n=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){Qo(t.options.enable,[t])&&n.handler(s)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Qn(this.element,this.evEl,this.domHandler),this.evTarget&&Qn(this.target,this.evTarget,this.domHandler),this.evWin&&Qn(oS(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&es(this.element,this.evEl,this.domHandler),this.evTarget&&es(this.target,this.evTarget,this.domHandler),this.evWin&&es(oS(this.element),this.evWin,this.domHandler)},i}();function si(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var r=0;r<i.length;){if(t&&i[r][t]==e||!t&&i[r]===e)return r;r++}return-1}var Q3={pointerdown:ot,pointermove:fi,pointerup:De,pointercancel:lt,pointerout:lt},ej={2:Ms,3:W3,4:Rb,5:H3},xA="pointerdown",CA="pointermove pointerup pointercancel";tr.MSPointerEvent&&!tr.PointerEvent&&(xA="MSPointerDown",CA="MSPointerMove MSPointerUp MSPointerCancel");var qA=function(i){Ot(e,i);function e(){var r,n=e.prototype;return n.evEl=xA,n.evWin=CA,r=i.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(n){var s=this.store,o=!1,a=n.type.toLowerCase().replace("ms",""),u=Q3[a],l=ej[n.pointerType]||n.pointerType,c=l===Ms,d=si(s,n.pointerId,"pointerId");u&ot&&(n.button===0||c)?d<0&&(s.push(n),d=s.length-1):u&(De|lt)&&(o=!0),!(d<0)&&(s[d]=n,this.callback(this.manager,u,{pointers:s,changedPointers:[n],pointerType:l,srcEvent:n}),o&&s.splice(d,1))},e}(pn);function fs(i){return Array.prototype.slice.call(i,0)}function Cb(i,e,t){for(var r=[],n=[],s=0;s<i.length;){var o=e?i[s][e]:i[s];si(n,o)<0&&r.push(i[s]),n[s]=o,s++}return t&&(e?r=r.sort(function(a,u){return a[e]>u[e]}):r=r.sort()),r}var tj={touchstart:ot,touchmove:fi,touchend:De,touchcancel:lt},rj="touchstart touchmove touchend touchcancel",qb=function(i){Ot(e,i);function e(){var r;return e.prototype.evTarget=rj,r=i.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(n){var s=tj[n.type],o=ij.call(this,n,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Ms,srcEvent:n})},e}(pn);function ij(i,e){var t=fs(i.touches),r=this.targetIds;if(e&(ot|fi)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var n,s,o=fs(i.changedTouches),a=[],u=this.target;if(s=t.filter(function(l){return xb(l.target,u)}),e===ot)for(n=0;n<s.length;)r[s[n].identifier]=!0,n++;for(n=0;n<o.length;)r[o[n].identifier]&&a.push(o[n]),e&(De|lt)&&delete r[o[n].identifier],n++;if(a.length)return[Cb(s.concat(a),"identifier",!0),a]}var nj={mousedown:ot,mousemove:fi,mouseup:De},sj="mousedown",oj="mousemove mouseup",Db=function(i){Ot(e,i);function e(){var r,n=e.prototype;return n.evEl=sj,n.evWin=oj,r=i.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(n){var s=nj[n.type];s&ot&&n.button===0&&(this.pressed=!0),s&fi&&n.which!==1&&(s=De),this.pressed&&(s&De&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[n],changedPointers:[n],pointerType:Rb,srcEvent:n}))},e}(pn),aj=2500,aS=25;function uS(i){var e=i.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},n=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=n.indexOf(r);a>-1&&n.splice(a,1)};setTimeout(s,aj)}}function uj(i,e){i&ot?(this.primaryTouch=e.changedPointers[0].identifier,uS.call(this,e)):i&(De|lt)&&uS.call(this,e)}function lj(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],s=Math.abs(e-n.x),o=Math.abs(t-n.y);if(s<=aS&&o<=aS)return!0}return!1}var DA=function(){var i=function(e){Ot(t,e);function t(n,s){var o;return o=e.call(this,n,s)||this,o.handler=function(a,u,l){var c=l.pointerType===Ms,d=l.pointerType===Rb;if(!(d&&l.sourceCapabilities&&l.sourceCapabilities.firesTouchEvents)){if(c)uj.call(oo(oo(o)),u,l);else if(d&&lj.call(oo(oo(o)),l))return;o.callback(a,u,l)}},o.touch=new qb(o.manager,o.handler),o.mouse=new Db(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(pn);return i}();function cj(i){var e,t=i.options.inputClass;return t?e=t:L3?e=qA:z3?e=qb:SA?e=DA:e=Db,new e(i,J3)}function Fi(i,e,t){return Array.isArray(i)?(rr(i,t[e],t),!0):!1}var yo=1,yt=2,Yi=4,wr=8,ir=wr,vs=16,Lt=32,dj=1;function hj(){return dj++}function uo(i,e){var t=e.manager;return t?t.get(i):i}function lS(i){return i&vs?"cancel":i&wr?"end":i&Yi?"move":i&yt?"start":""}var Bs=function(){function i(t){t===void 0&&(t={}),this.options=Mt({enable:!0},t),this.id=hj(),this.manager=null,this.state=yo,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(r){return ii(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(Fi(r,"recognizeWith",this))return this;var n=this.simultaneous;return r=uo(r,this),n[r.id]||(n[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return Fi(r,"dropRecognizeWith",this)?this:(r=uo(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(Fi(r,"requireFailure",this))return this;var n=this.requireFail;return r=uo(r,this),si(n,r)===-1&&(n.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(Fi(r,"dropRequireFailure",this))return this;r=uo(r,this);var n=si(this.requireFail,r);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var n=this,s=this.state;function o(a){n.manager.emit(a,r)}s<wr&&o(n.options.event+lS(s)),o(n.options.event),r.additionalEvent&&o(r.additionalEvent),s>=wr&&o(n.options.event+lS(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=Lt},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(Lt|yo)))return!1;r++}return!0},e.recognize=function(r){var n=ii({},r);if(!Qo(this.options.enable,[this,n])){this.reset(),this.state=Lt;return}this.state&(ir|vs|Lt)&&(this.state=yo),this.state=this.process(n),this.state&(yt|Yi|wr|vs)&&this.tryEmit(n)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},i}(),Xy=function(i){Ot(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Mt({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var t=e.prototype;return t.getTouchAction=function(){return[Ky]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,u=n.distance<o.threshold,l=n.deltaTime<o.time;if(this.reset(),n.eventType&ot&&this.count===0)return this.failTimeout();if(u&&l&&a){if(n.eventType!==De)return this.failTimeout();var c=this.pTime?n.timeStamp-this.pTime<o.interval:!0,d=!this.pCenter||Io(this.pCenter,n.center)<o.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!d||!c?this.count=1:this.count+=1,this._input=n;var h=this.count%o.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=ir,s.tryEmit()},o.interval),yt):ir}return Lt},t.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=Lt},this.options.interval),Lt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===ir&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Bs),Xi=function(i){Ot(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Mt({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(n){var s=this.options.pointers;return s===0||n.pointers.length===s},t.process=function(n){var s=this.state,o=n.eventType,a=s&(yt|Yi),u=this.attrTest(n);return a&&(o&lt||!u)?s|vs:a||u?o&De?s|wr:s&yt?s|Yi:yt:Lt},e}(Bs);function kA(i){return i===Ki?"down":i===Fs?"up":i===As?"left":i===Ns?"right":""}var kb=function(i){Ot(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Mt({event:"pan",threshold:10,pointers:1,direction:OA},r))||this,n.pX=null,n.pY=null,n}var t=e.prototype;return t.getTouchAction=function(){var n=this.options.direction,s=[];return n&Ht&&s.push(ds),n&Qr&&s.push(cs),s},t.directionTest=function(n){var s=this.options,o=!0,a=n.distance,u=n.direction,l=n.deltaX,c=n.deltaY;return u&s.direction||(s.direction&Ht?(u=l===0?So:l<0?As:Ns,o=l!==this.pX,a=Math.abs(n.deltaX)):(u=c===0?So:c<0?Fs:Ki,o=c!==this.pY,a=Math.abs(n.deltaY))),n.direction=u,o&&a>s.threshold&&u&s.direction},t.attrTest=function(n){return Xi.prototype.attrTest.call(this,n)&&(this.state&yt||!(this.state&yt)&&this.directionTest(n))},t.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var s=kA(n.direction);s&&(n.additionalEvent=this.options.event+s),i.prototype.emit.call(this,n)},e}(Xi),MA=function(i){Ot(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Mt({event:"swipe",threshold:10,velocity:.3,direction:Ht|Qr,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return kb.prototype.getTouchAction.call(this)},t.attrTest=function(n){var s=this.options.direction,o;return s&(Ht|Qr)?o=n.overallVelocity:s&Ht?o=n.overallVelocityX:s&Qr&&(o=n.overallVelocityY),i.prototype.attrTest.call(this,n)&&s&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&ni(o)>this.options.velocity&&n.eventType&De},t.emit=function(n){var s=kA(n.offsetDirection);s&&this.manager.emit(this.options.event+s,n),this.manager.emit(this.options.event,n)},e}(Xi),AA=function(i){Ot(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Mt({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Jr]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&yt)},t.emit=function(n){if(n.scale!==1){var s=n.scale<1?"in":"out";n.additionalEvent=this.options.event+s}i.prototype.emit.call(this,n)},e}(Xi),NA=function(i){Ot(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Mt({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Jr]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&yt)},e}(Xi),FA=function(i){Ot(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Mt({event:"press",pointers:1,time:251,threshold:9},r))||this,n._timer=null,n._input=null,n}var t=e.prototype;return t.getTouchAction=function(){return[EA]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,u=n.distance<o.threshold,l=n.deltaTime>o.time;if(this._input=n,!u||!a||n.eventType&(De|lt)&&!l)this.reset();else if(n.eventType&ot)this.reset(),this._timer=setTimeout(function(){s.state=ir,s.tryEmit()},o.time);else if(n.eventType&De)return ir;return Lt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(n){this.state===ir&&(n&&n.eventType&De?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=Pb(),this.manager.emit(this.options.event,this._input)))},e}(Bs),BA={domEvents:!1,touchAction:wA,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},cS=[[NA,{enable:!1}],[AA,{enable:!1},["rotate"]],[MA,{direction:Ht}],[kb,{direction:Ht},["swipe"]],[Xy],[Xy,{event:"doubletap",taps:2},["tap"]],[FA]],fj=1,dS=2;function hS(i,e){var t=i.element;if(t.style){var r;rr(i.options.cssProps,function(n,s){r=Jo(t.style,s),e?(i.oldCssProps[r]=t.style[r],t.style[r]=n):t.style[r]=i.oldCssProps[r]||""}),e||(i.oldCssProps={})}}function vj(i,e){var t=document.createEvent("Event");t.initEvent(i,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var fS=function(){function i(t,r){var n=this;this.options=ii({},BA,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=cj(this),this.touchAction=new $A(this,this.options.touchAction),hS(this,!0),rr(this.options.recognizers,function(s){var o=n.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=i.prototype;return e.set=function(r){return ii(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?dS:fj},e.recognize=function(r){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&ir)&&(n.curRecognizer=null,a=null);for(var u=0;u<o.length;)s=o[u],n.stopped!==dS&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(yt|Yi|wr)&&(n.curRecognizer=s,a=s),u++}},e.get=function(r){if(r instanceof Bs)return r;for(var n=this.recognizers,s=0;s<n.length;s++)if(n[s].options.event===r)return n[s];return null},e.add=function(r){if(Fi(r,"add",this))return this;var n=this.get(r.options.event);return n&&this.remove(n),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(Fi(r,"remove",this))return this;var n=this.get(r);if(r){var s=this.recognizers,o=si(s,n);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,n){if(r===void 0||n===void 0)return this;var s=this.handlers;return rr(hs(r),function(o){s[o]=s[o]||[],s[o].push(n)}),this},e.off=function(r,n){if(r===void 0)return this;var s=this.handlers;return rr(hs(r),function(o){n?s[o]&&s[o].splice(si(s[o],n),1):delete s[o]}),this},e.emit=function(r,n){this.options.domEvents&&vj(r,n);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){n.type=r,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](n),o++}},e.destroy=function(){this.element&&hS(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i}(),pj={touchstart:ot,touchmove:fi,touchend:De,touchcancel:lt},gj="touchstart",mj="touchstart touchmove touchend touchcancel",yj=function(i){Ot(e,i);function e(){var r,n=e.prototype;return n.evTarget=gj,n.evWin=mj,r=i.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(n){var s=pj[n.type];if(s===ot&&(this.started=!0),!!this.started){var o=bj.call(this,n,s);s&(De|lt)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Ms,srcEvent:n})}},e}(pn);function bj(i,e){var t=fs(i.touches),r=fs(i.changedTouches);return e&(De|lt)&&(t=Cb(t.concat(r),"identifier",!0)),[t,r]}function jA(i,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),s=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),i.apply(this,arguments)}}var LA=jA(function(i,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&i[r[n]]===void 0)&&(i[r[n]]=e[r[n]]),n++;return i},"extend","Use `assign`."),_j=jA(function(i,e){return LA(i,e,!0)},"merge","Use `assign`.");function wj(i,e,t){var r=e.prototype,n;n=i.prototype=Object.create(r),n.constructor=i,n._super=r,t&&ii(n,t)}function vS(i,e){return function(){return i.apply(e,arguments)}}var Ej=function(){var i=function(t,r){return r===void 0&&(r={}),new fS(t,Mt({recognizers:cS.concat()},r))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=OA,i.DIRECTION_DOWN=Ki,i.DIRECTION_LEFT=As,i.DIRECTION_RIGHT=Ns,i.DIRECTION_UP=Fs,i.DIRECTION_HORIZONTAL=Ht,i.DIRECTION_VERTICAL=Qr,i.DIRECTION_NONE=So,i.DIRECTION_DOWN=Ki,i.INPUT_START=ot,i.INPUT_MOVE=fi,i.INPUT_END=De,i.INPUT_CANCEL=lt,i.STATE_POSSIBLE=yo,i.STATE_BEGAN=yt,i.STATE_CHANGED=Yi,i.STATE_ENDED=wr,i.STATE_RECOGNIZED=ir,i.STATE_CANCELLED=vs,i.STATE_FAILED=Lt,i.Manager=fS,i.Input=pn,i.TouchAction=$A,i.TouchInput=qb,i.MouseInput=Db,i.PointerEventInput=qA,i.TouchMouseInput=DA,i.SingleTouchInput=yj,i.Recognizer=Bs,i.AttrRecognizer=Xi,i.Tap=Xy,i.Pan=kb,i.Swipe=MA,i.Pinch=AA,i.Rotate=NA,i.Press=FA,i.on=Qn,i.off=es,i.each=rr,i.merge=_j,i.extend=LA,i.bindFn=vS,i.assign=ii,i.inherit=wj,i.bindFn=vS,i.prefixed=Jo,i.toArray=fs,i.inArray=si,i.uniqueArray=Cb,i.splitStr=hs,i.boolOrFn=Qo,i.hasParent=xb,i.addEventListeners=Qn,i.removeEventListeners=es,i.defaults=ii({},BA,{preset:cS}),i}();/**
 * vis-util
 * https://github.com/visjs/vis-util
 *
 * utilitie collection for visjs
 *
 * @version 6.0.0
 * @date    2025-07-12T18:02:43.836Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */const zA=Symbol("DELETE");function Sj(i,...e){return WA({},i,...e)}function WA(...i){const e=$o(...i);return VA(e),e}function $o(...i){if(i.length<2)return i[0];if(i.length>2)return $o(WA(i[0],i[1]),...i.slice(2));const e=i[0],t=i[1];if(e instanceof Date&&t instanceof Date)return e.setTime(t.getTime()),e;for(const r of Reflect.ownKeys(t))Object.prototype.propertyIsEnumerable.call(t,r)&&(t[r]===zA?delete e[r]:e[r]!==null&&t[r]!==null&&typeof e[r]=="object"&&typeof t[r]=="object"&&!Array.isArray(e[r])&&!Array.isArray(t[r])?e[r]=$o(e[r],t[r]):e[r]=HA(t[r]));return e}function HA(i){return Array.isArray(i)?i.map(e=>HA(e)):typeof i=="object"&&i!==null?i instanceof Date?new Date(i.getTime()):$o({},i):i}function VA(i){for(const e of Object.keys(i))i[e]===zA?delete i[e]:typeof i[e]=="object"&&i[e]!==null&&VA(i[e])}function Oj(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}const Ij=typeof window<"u"?window.Hammer||Ej:function(){return Oj()};function Jt(i){this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const e=Ij(this._dom.overlay);e.on("tap",this._onTapOverlay.bind(this)),this._cleanupQueue.push(()=>{e.destroy()}),["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(r=>{e.on(r,n=>{n.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=r=>{$j(r.target,i)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=r=>{("key"in r?r.key==="Escape":r.keyCode===27)&&this.deactivate()}}A3(Jt.prototype);Jt.current=null;Jt.prototype.destroy=function(){this.deactivate();for(const i of this._cleanupQueue.splice(0).reverse())i()};Jt.prototype.activate=function(){Jt.current&&Jt.current.deactivate(),Jt.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Jt.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Jt.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};function $j(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}var pc,pS;function Tj(){if(pS)return pc;pS=1,uA();var i=ze();return pc=i.Object.getOwnPropertySymbols,pc}var gc,gS;function Pj(){if(gS)return gc;gS=1;var i=Tj();return gc=i,gc}var mc,mS;function Rj(){return mS||(mS=1,mc=Pj()),mc}var xj=Rj(),yS=ue(xj),yc={exports:{}},bS={},_S;function Cj(){if(_S)return bS;_S=1;var i=te(),e=de(),t=lr(),r=zo().f,n=Ae(),s=!n||e(function(){r(1)});return i({target:"Object",stat:!0,forced:s,sham:!n},{getOwnPropertyDescriptor:function(a,u){return r(t(a),u)}}),bS}var wS;function qj(){if(wS)return yc.exports;wS=1,Cj();var i=ze(),e=i.Object,t=yc.exports=function(n,s){return e.getOwnPropertyDescriptor(n,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),yc.exports}var bc,ES;function Dj(){if(ES)return bc;ES=1;var i=qj();return bc=i,bc}var _c,SS;function kj(){return SS||(SS=1,_c=Dj()),_c}var Mj=kj(),UA=ue(Mj),OS={},wc,IS;function Aj(){if(IS)return wc;IS=1;var i=fn().forEach,e=Zo(),t=e("forEach");return wc=t?[].forEach:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)},wc}var $S;function Nj(){if($S)return OS;$S=1;var i=te(),e=Aj();return i({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),OS}var Ec,TS;function Fj(){if(TS)return Ec;TS=1,Nj();var i=St();return Ec=i("Array","forEach"),Ec}var Sc,PS;function Bj(){if(PS)return Sc;PS=1;var i=Fj();return Sc=i,Sc}var Oc,RS;function jj(){if(RS)return Oc;RS=1;var i=Rr(),e=We(),t=Qe(),r=Bj(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Oc=function(o){var a=o.forEach;return o===n||t(n,o)&&a===n.forEach||e(s,i(o))?r:a},Oc}var Ic,xS;function Lj(){return xS||(xS=1,Ic=jj()),Ic}var zj=Lj(),Zi=ue(zj),CS={},$c,qS;function Wj(){if(qS)return $c;qS=1;var i=vt(),e=ye(),t=Go(),r=Ko(),n=dr(),s=e([].concat);return $c=i("Reflect","ownKeys")||function(a){var u=t.f(n(a)),l=r.f;return l?s(u,l(a)):u},$c}var DS;function Hj(){if(DS)return CS;DS=1;var i=te(),e=Ae(),t=Wj(),r=lr(),n=zo(),s=_b();return i({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var u=r(a),l=n.f,c=t(u),d={},h=0,f,v;c.length>h;)v=l(u,f=c[h++]),v!==void 0&&s(d,f,v);return d}}),CS}var Tc,kS;function Vj(){if(kS)return Tc;kS=1,Hj();var i=ze();return Tc=i.Object.getOwnPropertyDescriptors,Tc}var Pc,MS;function Uj(){if(MS)return Pc;MS=1;var i=Vj();return Pc=i,Pc}var Rc,AS;function Gj(){return AS||(AS=1,Rc=Uj()),Rc}var Kj=Gj(),NS=ue(Kj),xc={exports:{}},FS={},BS;function Yj(){if(BS)return FS;BS=1;var i=te(),e=Ae(),t=Ob().f;return i({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),FS}var jS;function Xj(){if(jS)return xc.exports;jS=1,Yj();var i=ze(),e=i.Object,t=xc.exports=function(n,s){return e.defineProperties(n,s)};return e.defineProperties.sham&&(t.sham=!0),xc.exports}var Cc,LS;function Zj(){if(LS)return Cc;LS=1;var i=Xj();return Cc=i,Cc}var qc,zS;function Jj(){return zS||(zS=1,qc=Zj()),qc}var Qj=Jj(),eL=ue(Qj),Dc,WS;function tL(){return WS||(WS=1,Dc=JM()),Dc}var rL=tL(),iL=ue(rL),HS={},VS;function nL(){if(VS)return HS;VS=1;var i=te(),e=Rs();return i({target:"Array",stat:!0},{isArray:e}),HS}var kc,US;function sL(){if(US)return kc;US=1,nL();var i=ze();return kc=i.Array.isArray,kc}var Mc,GS;function oL(){if(GS)return Mc;GS=1;var i=sL();return Mc=i,Mc}var Ac,KS;function aL(){return KS||(KS=1,Ac=oL()),Ac}var uL=aL(),Hr=ue(uL),YS={},XS={},Nc={exports:{}},Fc,ZS;function lL(){if(ZS)return Fc;ZS=1;var i=de();return Fc=i(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Fc}var Bc,JS;function cL(){if(JS)return Bc;JS=1;var i=de(),e=ht(),t=ur(),r=lL(),n=Object.isExtensible,s=i(function(){});return Bc=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:n?n(a):!0}:n,Bc}var jc,QS;function dL(){if(QS)return jc;QS=1;var i=de();return jc=!i(function(){return Object.isExtensible(Object.preventExtensions({}))}),jc}var eO;function GA(){if(eO)return Nc.exports;eO=1;var i=te(),e=ye(),t=xs(),r=ht(),n=We(),s=Et().f,o=Go(),a=nA(),u=cL(),l=Lo(),c=dL(),d=!1,h=l("meta"),f=0,v=function(y){s(y,h,{value:{objectID:"O"+f++,weakData:{}}})},g=function(y,S){if(!r(y))return typeof y=="symbol"?y:(typeof y=="string"?"S":"P")+y;if(!n(y,h)){if(!u(y))return"F";if(!S)return"E";v(y)}return y[h].objectID},b=function(y,S){if(!n(y,h)){if(!u(y))return!0;if(!S)return!1;v(y)}return y[h].weakData},p=function(y){return c&&d&&u(y)&&!n(y,h)&&v(y),y},m=function(){O.enable=function(){},d=!0;var y=o.f,S=e([].splice),I={};I[h]=1,y(I).length&&(o.f=function(w){for(var _=y(w),E=0,$=_.length;E<$;E++)if(_[E]===h){S(_,E,1);break}return _},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},O=Nc.exports={enable:m,fastKey:g,getWeakData:b,onFreeze:p};return t[h]=!0,Nc.exports}var Lc,tO;function hL(){if(tO)return Lc;tO=1;var i=Ye(),e=vn(),t=i("iterator"),r=Array.prototype;return Lc=function(n){return n!==void 0&&(e.Array===n||r[t]===n)},Lc}var zc,rO;function KA(){if(rO)return zc;rO=1;var i=Rr(),e=mb(),t=$s(),r=vn(),n=Ye(),s=n("iterator");return zc=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[i(o)]},zc}var Wc,iO;function YA(){if(iO)return Wc;iO=1;var i=dt(),e=cr(),t=dr(),r=un(),n=KA(),s=TypeError;return Wc=function(o,a){var u=arguments.length<2?n(o):a;if(e(u))return t(i(u,o));throw new s(r(o)+" is not iterable")},Wc}var Hc,nO;function Mb(){if(nO)return Hc;nO=1;var i=dt(),e=dr(),t=mb();return Hc=function(r,n,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(n==="throw")throw s;return s}o=i(o,r)}catch(u){a=!0,o=u}if(n==="throw")throw s;if(a)throw o;return e(o),s},Hc}var Vc,sO;function Ab(){if(sO)return Vc;sO=1;var i=Wo(),e=dt(),t=dr(),r=un(),n=hL(),s=di(),o=Qe(),a=YA(),u=KA(),l=Mb(),c=TypeError,d=function(f,v){this.stopped=f,this.result=v},h=d.prototype;return Vc=function(f,v,g){var b=g&&g.that,p=!!(g&&g.AS_ENTRIES),m=!!(g&&g.IS_RECORD),O=!!(g&&g.IS_ITERATOR),y=!!(g&&g.INTERRUPTED),S=i(v,b),I,w,_,E,$,T,P,R=function(k){return I&&l(I,"normal"),new d(!0,k)},C=function(k){return p?(t(k),y?S(k[0],k[1],R):S(k[0],k[1])):y?S(k,R):S(k)};if(m)I=f.iterator;else if(O)I=f;else{if(w=u(f),!w)throw new c(r(f)+" is not iterable");if(n(w)){for(_=0,E=s(f);E>_;_++)if($=C(f[_]),$&&o(h,$))return $;return new d(!1)}I=a(f,w)}for(T=m?f.next:I.next;!(P=e(T,I)).done;){try{$=C(P.value)}catch(k){l(I,"throw",k)}if(typeof $=="object"&&$&&o(h,$))return $}return new d(!1)},Vc}var Uc,oO;function XA(){if(oO)return Uc;oO=1;var i=Qe(),e=TypeError;return Uc=function(t,r){if(i(r,t))return t;throw new e("Incorrect invocation")},Uc}var Gc,aO;function ZA(){if(aO)return Gc;aO=1;var i=te(),e=Me(),t=GA(),r=de(),n=dn(),s=Ab(),o=XA(),a=Le(),u=ht(),l=$s(),c=hi(),d=Et().f,h=fn().forEach,f=Ae(),v=ks(),g=v.set,b=v.getterFor;return Gc=function(p,m,O){var y=p.indexOf("Map")!==-1,S=p.indexOf("Weak")!==-1,I=y?"set":"add",w=e[p],_=w&&w.prototype,E={},$;if(!f||!a(w)||!(S||_.forEach&&!r(function(){new w().entries().next()})))$=O.getConstructor(m,p,y,I),t.enable();else{$=m(function(R,C){g(o(R,T),{type:p,collection:new w}),l(C)||s(C,R[I],{that:R,AS_ENTRIES:y})});var T=$.prototype,P=b(p);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var C=R==="add"||R==="set";R in _&&!(S&&R==="clear")&&n(T,R,function(k,K){var j=P(this).collection;if(!C&&S&&!u(k))return R==="get"?void 0:!1;var Q=j[R](k===0?0:k,K);return C?this:Q})}),S||d(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return c($,p,!1,!0),E[p]=$,i({global:!0,forced:!0},E),S||O.setStrong($,p,y),$},Gc}var Kc,uO;function fL(){if(uO)return Kc;uO=1;var i=Ds();return Kc=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:i(e,n,t[n],r);return e},Kc}var Yc,lO;function vL(){if(lO)return Yc;lO=1;var i=vt(),e=Ib(),t=Ye(),r=Ae(),n=t("species");return Yc=function(s){var o=i(s);r&&o&&!o[n]&&e(o,n,{configurable:!0,get:function(){return this}})},Yc}var Xc,cO;function JA(){if(cO)return Xc;cO=1;var i=Cs(),e=Ib(),t=fL(),r=Wo(),n=XA(),s=$s(),o=Ab(),a=$b(),u=Tb(),l=vL(),c=Ae(),d=GA().fastKey,h=ks(),f=h.set,v=h.getterFor;return Xc={getConstructor:function(g,b,p,m){var O=g(function(_,E){n(_,y),f(_,{type:b,index:i(null),first:null,last:null,size:0}),c||(_.size=0),s(E)||o(E,_[m],{that:_,AS_ENTRIES:p})}),y=O.prototype,S=v(b),I=function(_,E,$){var T=S(_),P=w(_,E),R,C;return P?P.value=$:(T.last=P={index:C=d(E,!0),key:E,value:$,previous:R=T.last,next:null,removed:!1},T.first||(T.first=P),R&&(R.next=P),c?T.size++:_.size++,C!=="F"&&(T.index[C]=P)),_},w=function(_,E){var $=S(_),T=d(E),P;if(T!=="F")return $.index[T];for(P=$.first;P;P=P.next)if(P.key===E)return P};return t(y,{clear:function(){for(var E=this,$=S(E),T=$.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;$.first=$.last=null,$.index=i(null),c?$.size=0:E.size=0},delete:function(_){var E=this,$=S(E),T=w(E,_);if(T){var P=T.next,R=T.previous;delete $.index[T.index],T.removed=!0,R&&(R.next=P),P&&(P.previous=R),$.first===T&&($.first=P),$.last===T&&($.last=R),c?$.size--:E.size--}return!!T},forEach:function(E){for(var $=S(this),T=r(E,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:$.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(E){return!!w(this,E)}}),t(y,p?{get:function(E){var $=w(this,E);return $&&$.value},set:function(E,$){return I(this,E===0?0:E,$)}}:{add:function(E){return I(this,E=E===0?0:E,E)}}),c&&e(y,"size",{configurable:!0,get:function(){return S(this).size}}),O},setStrong:function(g,b,p){var m=b+" Iterator",O=v(b),y=v(m);a(g,b,function(S,I){f(this,{type:m,target:S,state:O(S),kind:I,last:null})},function(){for(var S=y(this),I=S.kind,w=S.last;w&&w.removed;)w=w.previous;return!S.target||!(S.last=w=w?w.next:S.state.first)?(S.target=null,u(void 0,!0)):u(I==="keys"?w.key:I==="values"?w.value:[w.key,w.value],!1)},p?"entries":"values",!p,!0),l(b)}},Xc}var dO;function pL(){if(dO)return XS;dO=1;var i=ZA(),e=JA();return i("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),XS}var hO;function gL(){return hO||(hO=1,pL()),YS}var fO={},Zc,vO;function QA(){return vO||(vO=1,Zc=function(i,e){return e===1?function(t,r){return t[i](r)}:function(t,r,n){return t[i](r,n)}}),Zc}var Jc,pO;function mL(){if(pO)return Jc;pO=1;var i=vt(),e=QA(),t=i("Map");return Jc={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},Jc}var gO;function yL(){if(gO)return fO;gO=1;var i=te(),e=ye(),t=cr(),r=ci(),n=Ab(),s=mL(),o=ln(),a=de(),u=s.Map,l=s.has,c=s.get,d=s.set,h=e([].push),f=o||a(function(){return u.groupBy("ab",function(v){return v}).get("a").length!==1});return i({target:"Map",stat:!0,forced:o||f},{groupBy:function(g,b){r(g),t(b);var p=new u,m=0;return n(g,function(O){var y=b(O,m++);l(p,y)?h(c(p,y),O):d(p,y,[O])}),p}}),fO}var Qc,mO;function bL(){if(mO)return Qc;mO=1,Cr(),gL(),yL(),Xo();var i=ze();return Qc=i.Map,Qc}var ed,yO;function _L(){if(yO)return ed;yO=1;var i=bL();return qr(),ed=i,ed}var td,bO;function wL(){return bO||(bO=1,td=_L()),td}var EL=wL(),eN=ue(EL),_O={},wO;function SL(){if(wO)return _O;wO=1;var i=te(),e=fn().some,t=Zo(),r=t("some");return i({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),_O}var rd,EO;function OL(){if(EO)return rd;EO=1,SL();var i=St();return rd=i("Array","some"),rd}var id,SO;function IL(){if(SO)return id;SO=1;var i=Qe(),e=OL(),t=Array.prototype;return id=function(r){var n=r.some;return r===t||i(t,r)&&n===t.some?e:n},id}var nd,OO;function $L(){if(OO)return nd;OO=1;var i=IL();return nd=i,nd}var sd,IO;function TL(){return IO||(IO=1,sd=$L()),sd}var PL=TL(),RL=ue(PL),$O={},od,TO;function xL(){if(TO)return od;TO=1;var i=Ae(),e=ye(),t=dt(),r=de(),n=Vo(),s=Ko(),o=gb(),a=Ft(),u=jo(),l=Object.assign,c=Object.defineProperty,d=e([].concat);return od=!l||r(function(){if(i&&l({b:1},l(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),g="abcdefghijklmnopqrst";return h[v]=7,g.split("").forEach(function(b){f[b]=b}),l({},h)[v]!==7||n(l({},f)).join("")!==g})?function(f,v){for(var g=a(f),b=arguments.length,p=1,m=s.f,O=o.f;b>p;)for(var y=u(arguments[p++]),S=m?d(n(y),m(y)):n(y),I=S.length,w=0,_;I>w;)_=S[w++],(!i||t(O,y,_))&&(g[_]=y[_]);return g}:l,od}var PO;function CL(){if(PO)return $O;PO=1;var i=te(),e=xL();return i({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),$O}var ad,RO;function qL(){if(RO)return ad;RO=1,CL();var i=ze();return ad=i.Object.assign,ad}var ud,xO;function DL(){if(xO)return ud;xO=1;var i=qL();return ud=i,ud}var ld,CO;function kL(){return CO||(CO=1,ld=DL()),ld}var ML=kL(),AL=ue(ML),cd,qO;function NL(){if(qO)return cd;qO=1,tA();var i=St();return cd=i("Array","concat"),cd}var dd,DO;function FL(){if(DO)return dd;DO=1;var i=Qe(),e=NL(),t=Array.prototype;return dd=function(r){var n=r.concat;return r===t||i(t,r)&&n===t.concat?e:n},dd}var hd,kO;function BL(){if(kO)return hd;kO=1;var i=FL();return hd=i,hd}var fd,MO;function jL(){return MO||(MO=1,fd=BL()),fd}var LL=jL(),zL=ue(LL),vd,AO;function WL(){if(AO)return vd;AO=1,Cr();var i=St();return vd=i("Array","keys"),vd}var pd,NO;function HL(){if(NO)return pd;NO=1;var i=WL();return pd=i,pd}var gd,FO;function VL(){if(FO)return gd;FO=1,qr();var i=Rr(),e=We(),t=Qe(),r=HL(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return gd=function(o){var a=o.keys;return o===n||t(n,o)&&a===n.keys||e(s,i(o))?r:a},gd}var md,BO;function UL(){return BO||(BO=1,md=VL()),md}var GL=UL(),Ri=ue(GL),jO={},LO;function KL(){if(LO)return jO;LO=1;var i=te(),e=Ft(),t=Vo(),r=de(),n=r(function(){t(1)});return i({target:"Object",stat:!0,forced:n},{keys:function(o){return t(e(o))}}),jO}var yd,zO;function YL(){if(zO)return yd;zO=1,KL();var i=ze();return yd=i.Object.keys,yd}var bd,WO;function XL(){if(WO)return bd;WO=1;var i=YL();return bd=i,bd}var _d,HO;function ZL(){return HO||(HO=1,_d=XL()),_d}var JL=ZL(),tN=ue(JL),VO={},wd,UO;function rN(){if(UO)return wd;UO=1;var i=un(),e=TypeError;return wd=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+i(r)+" of "+i(t))},wd}var Ed,GO;function QL(){if(GO)return Ed;GO=1;var i=qs(),e=Math.floor,t=function(r,n){var s=r.length;if(s<8)for(var o=1,a,u;o<s;){for(u=o,a=r[o];u&&n(r[u-1],a)>0;)r[u]=r[--u];u!==o++&&(r[u]=a)}else for(var l=e(s/2),c=t(i(r,0,l),n),d=t(i(r,l),n),h=c.length,f=d.length,v=0,g=0;v<h||g<f;)r[v+g]=v<h&&g<f?n(c[v],d[g])<=0?c[v++]:d[g++]:v<h?c[v++]:d[g++];return r};return Ed=t,Ed}var Sd,KO;function ez(){if(KO)return Sd;KO=1;var i=on(),e=i.match(/firefox\/(\d+)/i);return Sd=!!e&&+e[1],Sd}var Od,YO;function tz(){if(YO)return Od;YO=1;var i=on();return Od=/MSIE|Trident/.test(i),Od}var Id,XO;function rz(){if(XO)return Id;XO=1;var i=on(),e=i.match(/AppleWebKit\/(\d+)\./);return Id=!!e&&+e[1],Id}var ZO;function iz(){if(ZO)return VO;ZO=1;var i=te(),e=ye(),t=cr(),r=Ft(),n=di(),s=rN(),o=xr(),a=de(),u=QL(),l=Zo(),c=ez(),d=tz(),h=Ts(),f=rz(),v=[],g=e(v.sort),b=e(v.push),p=a(function(){v.sort(void 0)}),m=a(function(){v.sort(null)}),O=l("sort"),y=!a(function(){if(h)return h<70;if(!(c&&c>3)){if(d)return!0;if(f)return f<603;var w="",_,E,$,T;for(_=65;_<76;_++){switch(E=String.fromCharCode(_),_){case 66:case 69:case 70:case 72:$=3;break;case 68:case 71:$=4;break;default:$=2}for(T=0;T<47;T++)v.push({k:E+T,v:$})}for(v.sort(function(P,R){return R.v-P.v}),T=0;T<v.length;T++)E=v[T].k.charAt(0),w.charAt(w.length-1)!==E&&(w+=E);return w!=="DGBEFHACIJK"}}),S=p||!m||!O||!y,I=function(w){return function(_,E){return E===void 0?-1:_===void 0?1:w!==void 0?+w(_,E)||0:o(_)>o(E)?1:-1}};return i({target:"Array",proto:!0,forced:S},{sort:function(_){_!==void 0&&t(_);var E=r(this);if(y)return _===void 0?g(E):g(E,_);var $=[],T=n(E),P,R;for(R=0;R<T;R++)R in E&&b($,E[R]);for(u($,I(_)),P=n($),R=0;R<P;)E[R]=$[R++];for(;R<T;)s(E,R++);return E}}),VO}var $d,JO;function nz(){if(JO)return $d;JO=1,iz();var i=St();return $d=i("Array","sort"),$d}var Td,QO;function sz(){if(QO)return Td;QO=1;var i=Qe(),e=nz(),t=Array.prototype;return Td=function(r){var n=r.sort;return r===t||i(t,r)&&n===t.sort?e:n},Td}var Pd,eI;function oz(){if(eI)return Pd;eI=1;var i=sz();return Pd=i,Pd}var Rd,tI;function az(){return tI||(tI=1,Rd=oz()),Rd}var uz=az(),Zy=ue(uz),xd,rI;function lz(){if(rI)return xd;rI=1,Cr();var i=St();return xd=i("Array","values"),xd}var Cd,iI;function cz(){if(iI)return Cd;iI=1;var i=lz();return Cd=i,Cd}var qd,nI;function dz(){if(nI)return qd;nI=1,qr();var i=Rr(),e=We(),t=Qe(),r=cz(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return qd=function(o){var a=o.values;return o===n||t(n,o)&&a===n.values||e(s,i(o))?r:a},qd}var Dd,sI;function hz(){return sI||(sI=1,Dd=dz()),Dd}var fz=hz(),oI=ue(fz),aI={},kd,uI;function vz(){if(uI)return kd;uI=1;var i=hn(),e=xr(),t=ci(),r=RangeError;return kd=function(s){var o=e(t(this)),a="",u=i(s);if(u<0||u===1/0)throw new r("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(o+=o))u&1&&(a+=o);return a},kd}var Md,lI;function pz(){if(lI)return Md;lI=1;var i=ye(),e=QM(),t=xr(),r=vz(),n=ci(),s=i(r),o=i("".slice),a=Math.ceil,u=function(l){return function(c,d,h){var f=t(n(c)),v=e(d),g=f.length,b=h===void 0?" ":t(h),p,m;return v<=g||b===""?f:(p=v-g,m=s(b,a(p/b.length)),m.length>p&&(m=o(m,0,p)),l?f+m:m+f)}};return Md={start:u(!1),end:u(!0)},Md}var Ad,cI;function gz(){if(cI)return Ad;cI=1;var i=ye(),e=de(),t=pz().start,r=RangeError,n=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,u=i(o.getTime),l=i(o.getUTCDate),c=i(o.getUTCFullYear),d=i(o.getUTCHours),h=i(o.getUTCMilliseconds),f=i(o.getUTCMinutes),v=i(o.getUTCMonth),g=i(o.getUTCSeconds);return Ad=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!n(u(this)))throw new r("Invalid time value");var p=this,m=c(p),O=h(p),y=m<0?"-":m>9999?"+":"";return y+t(s(m),y?6:4,0)+"-"+t(v(p)+1,2,0)+"-"+t(l(p),2,0)+"T"+t(d(p),2,0)+":"+t(f(p),2,0)+":"+t(g(p),2,0)+"."+t(O,3,0)+"Z"}:a,Ad}var dI;function mz(){if(dI)return aI;dI=1;var i=te(),e=dt(),t=Ft(),r=KM(),n=gz(),s=ur(),o=de(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return i({target:"Date",proto:!0,forced:a},{toJSON:function(l){var c=t(this),d=r(c,"number");return typeof d=="number"&&!isFinite(d)?null:!("toISOString"in c)&&s(c)==="Date"?e(n,c):c.toISOString()}}),aI}var Nd,hI;function yz(){if(hI)return Nd;hI=1,mz(),aA();var i=ze(),e=Bo();return i.JSON||(i.JSON={stringify:JSON.stringify}),Nd=function(r,n,s){return e(i.JSON.stringify,null,arguments)},Nd}var Fd,fI;function bz(){if(fI)return Fd;fI=1;var i=yz();return Fd=i,Fd}var Bd,vI;function _z(){return vI||(vI=1,Bd=bz()),Bd}var wz=_z(),Ez=ue(wz),jd,pI;function Sz(){return pI||(pI=1,jd=mA()),jd}var Oz=Sz(),Bi=ue(Oz),Ld,gI;function Iz(){if(gI)return Ld;gI=1,Cr();var i=St();return Ld=i("Array","entries"),Ld}var zd,mI;function $z(){if(mI)return zd;mI=1;var i=Iz();return zd=i,zd}var Wd,yI;function Tz(){if(yI)return Wd;yI=1,qr();var i=Rr(),e=We(),t=Qe(),r=$z(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Wd=function(o){var a=o.entries;return o===n||t(n,o)&&a===n.entries||e(s,i(o))?r:a},Wd}var Hd,bI;function Pz(){return bI||(bI=1,Hd=Tz()),Hd}var Rz=Pz(),xz=ue(Rz);const Ue=[];for(let i=0;i<256;++i)Ue.push((i+256).toString(16).slice(1));function Cz(i,e=0){return(Ue[i[e+0]]+Ue[i[e+1]]+Ue[i[e+2]]+Ue[i[e+3]]+"-"+Ue[i[e+4]]+Ue[i[e+5]]+"-"+Ue[i[e+6]]+Ue[i[e+7]]+"-"+Ue[i[e+8]]+Ue[i[e+9]]+"-"+Ue[i[e+10]]+Ue[i[e+11]]+Ue[i[e+12]]+Ue[i[e+13]]+Ue[i[e+14]]+Ue[i[e+15]]).toLowerCase()}let Vd;const qz=new Uint8Array(16);function Dz(){if(!Vd){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Vd=crypto.getRandomValues.bind(crypto)}return Vd(qz)}const kz=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var _I={randomUUID:kz};function Mz(i,e,t){if(_I.randomUUID&&!i)return _I.randomUUID();i=i||{};const r=i.random??i.rng?.()??Dz();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Cz(r)}function wI(i){return typeof i=="string"||typeof i=="number"}var EI={},SI={},Ud,OI;function Az(){if(OI)return Ud;OI=1;var i=TypeError;return Ud=function(e,t){if(e<t)throw new i("Not enough arguments");return e},Ud}var Gd,II;function iN(){if(II)return Gd;II=1;var i=Me(),e=Bo(),t=Le(),r=yA(),n=on(),s=qs(),o=Az(),a=i.Function,u=/MSIE .\./.test(n)||r==="BUN"&&function(){var l=i.Bun.version.split(".");return l.length<3||l[0]==="0"&&(l[1]<3||l[1]==="3"&&l[2]==="0")}();return Gd=function(l,c){var d=c?2:1;return u?function(h,f){var v=o(arguments.length,1)>d,g=t(h)?h:a(h),b=v?s(arguments,d):[],p=v?function(){e(g,this,b)}:g;return c?l(p,f):l(p)}:l},Gd}var $I;function Nz(){if($I)return SI;$I=1;var i=te(),e=Me(),t=iN(),r=t(e.setInterval,!0);return i({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),SI}var TI={},PI;function Fz(){if(PI)return TI;PI=1;var i=te(),e=Me(),t=iN(),r=t(e.setTimeout,!0);return i({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),TI}var RI;function Bz(){return RI||(RI=1,Nz(),Fz()),EI}var Kd,xI;function jz(){if(xI)return Kd;xI=1,Bz();var i=ze();return Kd=i.setTimeout,Kd}var Yd,CI;function Lz(){return CI||(CI=1,Yd=jz()),Yd}var zz=Lz(),Wz=ue(zz),qI={},Xd,DI;function Hz(){if(DI)return Xd;DI=1;var i=Ae(),e=Rs(),t=TypeError,r=Object.getOwnPropertyDescriptor,n=i&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return Xd=n?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Xd}var kI;function Vz(){if(kI)return qI;kI=1;var i=te(),e=Ft(),t=rA(),r=hn(),n=di(),s=Hz(),o=eA(),a=Eb(),u=_b(),l=rN(),c=Ho(),d=c("splice"),h=Math.max,f=Math.min;return i({target:"Array",proto:!0,forced:!d},{splice:function(g,b){var p=e(this),m=n(p),O=t(g,m),y=arguments.length,S,I,w,_,E,$;for(y===0?S=I=0:y===1?(S=0,I=m-O):(S=y-2,I=f(h(r(b),0),m-O)),o(m+S-I),w=a(p,I),_=0;_<I;_++)E=O+_,E in p&&u(w,_,p[E]);if(w.length=I,S<I){for(_=O;_<m-I;_++)E=_+I,$=_+S,E in p?p[$]=p[E]:l(p,$);for(_=m;_>m-I+S;_--)l(p,_-1)}else if(S>I)for(_=m-I;_>O;_--)E=_+I-1,$=_+S-1,E in p?p[$]=p[E]:l(p,$);for(_=0;_<S;_++)p[_+O]=arguments[_+2];return s(p,m-I+S),w}}),qI}var Zd,MI;function Uz(){if(MI)return Zd;MI=1,Vz();var i=St();return Zd=i("Array","splice"),Zd}var Jd,AI;function Gz(){if(AI)return Jd;AI=1;var i=Qe(),e=Uz(),t=Array.prototype;return Jd=function(r){var n=r.splice;return r===t||i(t,r)&&n===t.splice?e:n},Jd}var Qd,NI;function Kz(){if(NI)return Qd;NI=1;var i=Gz();return Qd=i,Qd}var eh,FI;function Yz(){return FI||(FI=1,eh=Kz()),eh}var Xz=Yz(),Zz=ue(Xz);class Nb{constructor(e){_r(this,"_queue",[]),_r(this,"_timeout",null),_r(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const r=new Nb(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{r.flush()};const n=[{name:"flush",original:void 0}];if(t&&t.replace)for(let s=0;s<t.replace.length;s++){const o=t.replace[s];n.push({name:o,original:e[o]}),r.replace(e,o)}return r._extended={object:e,methods:n},r}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let r=0;r<t.length;r++){const n=t[r];n.original?e[n.name]=n.original:delete e[n.name]}this._extended=null}}replace(e,t){const r=this,n=e[t];if(!n)throw new Error("Method "+t+" undefined");e[t]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];r.queue({args:o,fn:n,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Wz(()=>{this.flush()},this.delay))}flush(){var e,t;Zi(e=Zz(t=this._queue).call(t,0)).call(e,r=>{r.fn.apply(r.context||r.fn,r.args||[])})}}class To{constructor(){_r(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),_r(this,"subscribe",To.prototype.on),_r(this,"unsubscribe",To.prototype.off)}_trigger(e,t,r){var n;if(e==="*")throw new Error("Cannot trigger event *");Zi(n=[...this._subscribers[e],...this._subscribers["*"]]).call(n,s=>{s(e,t,r??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){var r;this._subscribers[e]=Ai(r=this._subscribers[e]).call(r,n=>n!==t)}get testLeakSubscribers(){return this._subscribers}}var BI={},jI;function Jz(){if(jI)return BI;jI=1;var i=te(),e=Ae(),t=Cs();return i({target:"Object",stat:!0,sham:!e},{create:t}),BI}var th,LI;function Qz(){if(LI)return th;LI=1,Jz();var i=ze(),e=i.Object;return th=function(r,n){return e.create(r,n)},th}var rh,zI;function e4(){if(zI)return rh;zI=1;var i=Qz();return rh=i,rh}var ih,WI;function t4(){return WI||(WI=1,ih=e4()),ih}var r4=t4(),i4=ue(r4),HI={},VI={},UI;function n4(){if(UI)return VI;UI=1;var i=ZA(),e=JA();return i("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),VI}var GI;function s4(){return GI||(GI=1,n4()),HI}var KI={},nh,YI;function vi(){if(YI)return nh;YI=1;var i=un(),e=TypeError;return nh=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(i(t)+" is not a set")},nh}var sh,XI;function pi(){if(XI)return sh;XI=1;var i=vt(),e=QA(),t=i("Set"),r=t.prototype;return sh={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},sh}var oh,ZI;function gi(){if(ZI)return oh;ZI=1;var i=dt();return oh=function(e,t,r){for(var n=r?e:e.iterator,s=e.next,o,a;!(o=i(s,n)).done;)if(a=t(o.value),a!==void 0)return a},oh}var ah,JI;function js(){if(JI)return ah;JI=1;var i=gi();return ah=function(e,t,r){return r?i(e.keys(),t,!0):e.forEach(t)},ah}var uh,QI;function Fb(){if(QI)return uh;QI=1;var i=pi(),e=js(),t=i.Set,r=i.add;return uh=function(n){var s=new t;return e(n,function(o){r(s,o)}),s},uh}var lh,e$;function Ls(){return e$||(e$=1,lh=function(i){return i.size}),lh}var ch,t$;function o4(){return t$||(t$=1,ch=function(i){return{iterator:i,next:i.next,done:!1}}),ch}var dh,r$;function mi(){if(r$)return dh;r$=1;var i=cr(),e=dr(),t=dt(),r=hn(),n=o4(),s="Invalid size",o=RangeError,a=TypeError,u=Math.max,l=function(c,d){this.set=c,this.size=u(d,0),this.has=i(c.has),this.keys=i(c.keys)};return l.prototype={getIterator:function(){return n(e(t(this.keys,this.set)))},includes:function(c){return t(this.has,this.set,c)}},dh=function(c){e(c);var d=+c.size;if(d!==d)throw new a(s);var h=r(d);if(h<0)throw new o(s);return new l(c,h)},dh}var hh,i$;function a4(){if(i$)return hh;i$=1;var i=vi(),e=pi(),t=Fb(),r=Ls(),n=mi(),s=js(),o=gi(),a=e.has,u=e.remove;return hh=function(c){var d=i(this),h=n(c),f=t(d);return r(d)<=h.size?s(d,function(v){h.includes(v)&&u(f,v)}):o(h.getIterator(),function(v){a(f,v)&&u(f,v)}),f},hh}var fh,n$;function yi(){return n$||(n$=1,fh=function(){return!1}),fh}var s$;function u4(){if(s$)return KI;s$=1;var i=te(),e=a4(),t=de(),r=yi(),n=!r("difference",function(o){return o.size===0}),s=n||t(function(){var o={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var l=u++>1;return a.has(1)&&a.clear(),{done:l,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return i({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),KI}var o$={},vh,a$;function l4(){if(a$)return vh;a$=1;var i=vi(),e=pi(),t=Ls(),r=mi(),n=js(),s=gi(),o=e.Set,a=e.add,u=e.has;return vh=function(c){var d=i(this),h=r(c),f=new o;return t(d)>h.size?s(h.getIterator(),function(v){u(d,v)&&a(f,v)}):n(d,function(v){h.includes(v)&&a(f,v)}),f},vh}var u$;function c4(){if(u$)return o$;u$=1;var i=te(),e=de(),t=l4(),r=yi(),n=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return i({target:"Set",proto:!0,real:!0,forced:n},{intersection:t}),o$}var l$={},ph,c$;function d4(){if(c$)return ph;c$=1;var i=vi(),e=pi().has,t=Ls(),r=mi(),n=js(),s=gi(),o=Mb();return ph=function(u){var l=i(this),c=r(u);if(t(l)<=c.size)return n(l,function(h){if(c.includes(h))return!1},!0)!==!1;var d=c.getIterator();return s(d,function(h){if(e(l,h))return o(d,"normal",!1)})!==!1},ph}var d$;function h4(){if(d$)return l$;d$=1;var i=te(),e=d4(),t=yi(),r=!t("isDisjointFrom",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),l$}var h$={},gh,f$;function f4(){if(f$)return gh;f$=1;var i=vi(),e=Ls(),t=js(),r=mi();return gh=function(s){var o=i(this),a=r(s);return e(o)>a.size?!1:t(o,function(u){if(!a.includes(u))return!1},!0)!==!1},gh}var v$;function v4(){if(v$)return h$;v$=1;var i=te(),e=f4(),t=yi(),r=!t("isSubsetOf",function(n){return n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),h$}var p$={},mh,g$;function p4(){if(g$)return mh;g$=1;var i=vi(),e=pi().has,t=Ls(),r=mi(),n=gi(),s=Mb();return mh=function(a){var u=i(this),l=r(a);if(t(u)<l.size)return!1;var c=l.getIterator();return n(c,function(d){if(!e(u,d))return s(c,"normal",!1)})!==!1},mh}var m$;function g4(){if(m$)return p$;m$=1;var i=te(),e=p4(),t=yi(),r=!t("isSupersetOf",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),p$}var y$={},yh,b$;function m4(){if(b$)return yh;b$=1;var i=vi(),e=pi(),t=Fb(),r=mi(),n=gi(),s=e.add,o=e.has,a=e.remove;return yh=function(l){var c=i(this),d=r(l).getIterator(),h=t(c);return n(d,function(f){o(c,f)?a(h,f):s(h,f)}),h},yh}var bh,_$;function nN(){return _$||(_$=1,bh=function(i){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[i](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),bh}var w$;function y4(){if(w$)return y$;w$=1;var i=te(),e=m4(),t=nN(),r=yi(),n=!r("symmetricDifference")||!t("symmetricDifference");return i({target:"Set",proto:!0,real:!0,forced:n},{symmetricDifference:e}),y$}var E$={},_h,S$;function b4(){if(S$)return _h;S$=1;var i=vi(),e=pi().add,t=Fb(),r=mi(),n=gi();return _h=function(o){var a=i(this),u=r(o).getIterator(),l=t(a);return n(u,function(c){e(l,c)}),l},_h}var O$;function _4(){if(O$)return E$;O$=1;var i=te(),e=b4(),t=nN(),r=yi(),n=!r("union")||!t("union");return i({target:"Set",proto:!0,real:!0,forced:n},{union:e}),E$}var wh,I$;function w4(){if(I$)return wh;I$=1,Cr(),s4(),u4(),c4(),h4(),v4(),g4(),y4(),_4(),Xo();var i=ze();return wh=i.Set,wh}var Eh,$$;function E4(){if($$)return Eh;$$=1;var i=w4();return qr(),Eh=i,Eh}var Sh,T$;function S4(){return T$||(T$=1,Sh=E4()),Sh}var O4=S4(),Oh=ue(O4),Ih,P$;function I4(){if(P$)return Ih;P$=1,Cr(),Xo();var i=YA();return Ih=i,Ih}var $h,R$;function $4(){if(R$)return $h;R$=1;var i=I4();return qr(),$h=i,$h}var Th,x$;function T4(){if(x$)return Th;x$=1;var i=$4();return Th=i,Th}var Ph,C$;function P4(){if(C$)return Ph;C$=1;var i=T4();return Ph=i,Ph}var Rh,q$;function R4(){return q$||(q$=1,Rh=P4()),Rh}var xh,D$;function x4(){return D$||(D$=1,xh=R4()),xh}var C4=x4(),Ch=ue(C4);class Yr{constructor(e){this._pairs=e}*[Bi](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return jt(e=[...this._pairs]).call(e,t=>t[0])}toItemArray(){var e;return jt(e=[...this._pairs]).call(e,t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=i4(null);for(const[t,r]of this._pairs)e[t]=r;return e}toMap(){return new eN(this._pairs)}toIdSet(){return new Oh(this.toIdArray())}toItemSet(){return new Oh(this.toItemArray())}cache(){return new Yr([...this._pairs])}distinct(e){const t=new Oh;for(const[r,n]of this._pairs)t.add(e(n,r));return t}filter(e){const t=this._pairs;return new Yr({*[Bi](){for(const[r,n]of t)e(n,r)&&(yield[r,n])}})}forEach(e){for(const[t,r]of this._pairs)e(r,t)}map(e){const t=this._pairs;return new Yr({*[Bi](){for(const[r,n]of t)yield[r,e(n,r)]}})}max(e){const t=Ch(this._pairs);let r=t.next();if(r.done)return null;let n=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,u=e(a,o);u>s&&(s=u,n=a)}return n}min(e){const t=Ch(this._pairs);let r=t.next();if(r.done)return null;let n=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,u=e(a,o);u<s&&(s=u,n=a)}return n}reduce(e,t){for(const[r,n]of this._pairs)t=e(t,n,r);return t}sort(e){return new Yr({[Bi]:()=>{var t;return Ch(Zy(t=[...this._pairs]).call(t,(r,n)=>{let[s,o]=r,[a,u]=n;return e(o,u,s,a)}))}})}}function k$(i,e){var t=tN(i);if(yS){var r=yS(i);e&&(r=Ai(r).call(r,function(n){return UA(i,n).enumerable})),t.push.apply(t,r)}return t}function M$(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?Zi(t=k$(Object(n),!0)).call(t,function(s){_r(i,s,n[s])}):NS?eL(i,NS(n)):Zi(r=k$(Object(n))).call(r,function(s){iL(i,s,UA(n,s))})}return i}function q4(i,e){return i[e]==null&&(i[e]=Mz()),i}class Ji extends To{get idProp(){return this._idProp}constructor(e,t){super(),_r(this,"_queue",null),e&&!Hr(e)&&(t=e,e=[]),this._options=t||{},this._data=new eN,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(t)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Nb.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,t){const r=[];let n;if(Hr(e)){const s=jt(e).call(e,o=>o[this._idProp]);if(RL(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)n=this._addItem(e[o]),r.push(n)}else if(e&&typeof e=="object")n=this._addItem(e),r.push(n);else throw new Error("Unknown dataType");return r.length&&this._trigger("add",{items:r},t),r}update(e,t){const r=[],n=[],s=[],o=[],a=this._idProp,u=l=>{const c=l[a];if(c!=null&&this._data.has(c)){const d=l,h=AL({},this._data.get(c)),f=this._updateItem(d);n.push(f),o.push(d),s.push(h)}else{const d=this._addItem(l);r.push(d)}};if(Hr(e))for(let l=0,c=e.length;l<c;l++)e[l]&&typeof e[l]=="object"?u(e[l]):console.warn("Ignoring input item, which is not an object at index "+l);else if(e&&typeof e=="object")u(e);else throw new Error("Unknown dataType");if(r.length&&this._trigger("add",{items:r},t),n.length){const l={items:n,oldData:s,data:o};this._trigger("update",l,t)}return zL(r).call(r,n)}updateOnly(e,t){var r;Hr(e)||(e=[e]);const n=jt(r=jt(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(r,s=>{let{oldData:o,update:a}=s;const u=o[this._idProp],l=Sj(o,a);return this._data.set(u,l),{id:u,oldData:o,updatedData:l}});if(n.length){const s={items:jt(n).call(n,o=>o.id),oldData:jt(n).call(n,o=>o.oldData),data:jt(n).call(n,o=>o.updatedData)};return this._trigger("update",s,t),s.items}else return[]}get(e,t){let r,n,s;wI(e)?(r=e,s=t):Hr(e)?(n=e,s=t):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&Ai(s),u=[];let l,c,d;if(r!=null)l=this._data.get(r),l&&a&&!a(l)&&(l=void 0);else if(n!=null)for(let f=0,v=n.length;f<v;f++)l=this._data.get(n[f]),l!=null&&(!a||a(l))&&u.push(l);else{var h;c=[...Ri(h=this._data).call(h)];for(let f=0,v=c.length;f<v;f++)d=c[f],l=this._data.get(d),l!=null&&(!a||a(l))&&u.push(l)}if(s&&s.order&&r==null&&this._sort(u,s.order),s&&s.fields){const f=s.fields;if(r!=null&&l!=null)l=this._filterFields(l,f);else for(let v=0,g=u.length;v<g;v++)u[v]=this._filterFields(u[v],f)}if(o=="Object"){const f={};for(let v=0,g=u.length;v<g;v++){const b=u[v],p=b[this._idProp];f[p]=b}return f}else return r!=null?l??null:u}getIds(e){const t=this._data,r=e&&Ai(e),n=e&&e.order,s=[...Ri(t).call(t)],o=[];if(r)if(n){const a=[];for(let u=0,l=s.length;u<l;u++){const c=s[u],d=this._data.get(c);d!=null&&r(d)&&a.push(d)}this._sort(a,n);for(let u=0,l=a.length;u<l;u++)o.push(a[u][this._idProp])}else for(let a=0,u=s.length;a<u;a++){const l=s[a],c=this._data.get(l);c!=null&&r(c)&&o.push(c[this._idProp])}else if(n){const a=[];for(let u=0,l=s.length;u<l;u++){const c=s[u];a.push(t.get(c))}this._sort(a,n);for(let u=0,l=a.length;u<l;u++)o.push(a[u][this._idProp])}else for(let a=0,u=s.length;a<u;a++){const l=s[a],c=t.get(l);c!=null&&o.push(c[this._idProp])}return o}getDataSet(){return this}forEach(e,t){const r=t&&Ai(t),n=this._data,s=[...Ri(n).call(n)];if(t&&t.order){const o=this.get(t);for(let a=0,u=o.length;a<u;a++){const l=o[a],c=l[this._idProp];e(l,c)}}else for(let o=0,a=s.length;o<a;o++){const u=s[o],l=this._data.get(u);l!=null&&(!r||r(l))&&e(l,u)}}map(e,t){const r=t&&Ai(t),n=[],s=this._data,o=[...Ri(s).call(s)];for(let a=0,u=o.length;a<u;a++){const l=o[a],c=this._data.get(l);c!=null&&(!r||r(c))&&n.push(e(c,l))}return t&&t.order&&this._sort(n,t.order),n}_filterFields(e,t){var r;return e&&w3(r=Hr(t)?t:tN(t)).call(r,(n,s)=>(n[s]=e[s],n),{})}_sort(e,t){if(typeof t=="string"){const r=t;Zy(e).call(e,(n,s)=>{const o=n[r],a=s[r];return o>a?1:o<a?-1:0})}else if(typeof t=="function")Zy(e).call(e,t);else throw new TypeError("Order must be a function or a string")}remove(e,t){const r=[],n=[],s=Hr(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const u=this._remove(s[o]);if(u){const l=u[this._idProp];l!=null&&(r.push(l),n.push(u))}}return r.length&&this._trigger("remove",{items:r,oldData:n},t),r}_remove(e){let t;if(wI(e)?t=e:e&&typeof e=="object"&&(t=e[this._idProp]),t!=null&&this._data.has(t)){const r=this._data.get(t)||null;return this._data.delete(t),--this.length,r}return null}clear(e){var t;const r=[...Ri(t=this._data).call(t)],n=[];for(let s=0,o=r.length;s<o;s++)n.push(this._data.get(r[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:r,oldData:n},e),r}max(e){let t=null,r=null;for(const s of oI(n=this._data).call(n)){var n;const o=s[e];typeof o=="number"&&(r==null||o>r)&&(t=s,r=o)}return t||null}min(e){let t=null,r=null;for(const s of oI(n=this._data).call(n)){var n;const o=s[e];typeof o=="number"&&(r==null||o<r)&&(t=s,r=o)}return t||null}distinct(e){const t=this._data,r=[...Ri(t).call(t)],n=[];let s=0;for(let o=0,a=r.length;o<a;o++){const u=r[o],c=t.get(u)[e];let d=!1;for(let h=0;h<s;h++)if(n[h]==c){d=!0;break}!d&&c!==void 0&&(n[s]=c,s++)}return n}_addItem(e){const t=q4(e,this._idProp),r=t[this._idProp];if(this._data.has(r))throw new Error("Cannot add item: item with id "+r+" already exists");return this._data.set(r,t),++this.length,r}_updateItem(e){const t=e[this._idProp];if(t==null)throw new Error("Cannot update item: item has no id (item: "+Ez(e)+")");const r=this._data.get(t);if(!r)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,M$(M$({},r),e)),t}stream(e){if(e){const r=this._data;return new Yr({*[Bi](){for(const n of e){const s=r.get(n);s!=null&&(yield[n,s])}}})}else{var t;return new Yr({[Bi]:h3(t=xz(this._data)).call(t,this._data)})}}get testLeakData(){return this._data}get testLeakIdProp(){return this._idProp}get testLeakOptions(){return this._options}get testLeakQueue(){return this._queue}set testLeakQueue(e){this._queue=e}}function D4(i,e){return typeof e=="object"&&e!==null&&i===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof Zi(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof jt(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function sN(i,e){return typeof e=="object"&&e!==null&&i===e.idProp&&typeof Zi(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof jt(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&D4(i,e.getDataSet())}console.warn("You're running a development build.");/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.1
 * @date    2025-07-13T08:15:32.270Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var A$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Y(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var N$={},Gn,F$;function Ee(){if(F$)return Gn;F$=1;var i=function(e){return e&&e.Math===Math&&e};return Gn=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof A$=="object"&&A$)||i(typeof Gn=="object"&&Gn)||function(){return this}()||Function("return this")(),Gn}var qh,B$;function oe(){return B$||(B$=1,qh=function(i){try{return!!i()}catch{return!0}}),qh}var Dh,j$;function zs(){if(j$)return Dh;j$=1;var i=oe();return Dh=!i(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Dh}var kh,L$;function ea(){if(L$)return kh;L$=1;var i=zs(),e=Function.prototype,t=e.apply,r=e.call;return kh=typeof Reflect=="object"&&Reflect.apply||(i?r.bind(t):function(){return r.apply(t,arguments)}),kh}var Mh,z$;function ae(){if(z$)return Mh;z$=1;var i=zs(),e=Function.prototype,t=e.call,r=i&&e.bind.bind(t,t);return Mh=i?r:function(n){return function(){return t.apply(n,arguments)}},Mh}var Ah,W$;function Gt(){if(W$)return Ah;W$=1;var i=ae(),e=i({}.toString),t=i("".slice);return Ah=function(r){return t(e(r),8,-1)},Ah}var Nh,H$;function Bb(){if(H$)return Nh;H$=1;var i=Gt(),e=ae();return Nh=function(t){if(i(t)==="Function")return e(t)},Nh}var Fh,V$;function He(){if(V$)return Fh;V$=1;var i=typeof document=="object"&&document.all;return Fh=typeof i>"u"&&i!==void 0?function(e){return typeof e=="function"||e===i}:function(e){return typeof e=="function"},Fh}var Bh={},jh,U$;function Re(){if(U$)return jh;U$=1;var i=oe();return jh=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),jh}var Lh,G$;function ft(){if(G$)return Lh;G$=1;var i=zs(),e=Function.prototype.call;return Lh=i?e.bind(e):function(){return e.apply(e,arguments)},Lh}var zh={},K$;function ta(){if(K$)return zh;K$=1;var i={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!i.call({1:2},1);return zh.f=t?function(n){var s=e(this,n);return!!s&&s.enumerable}:i,zh}var Wh,Y$;function Ws(){return Y$||(Y$=1,Wh=function(i,e){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:e}}),Wh}var Hh,X$;function ra(){if(X$)return Hh;X$=1;var i=ae(),e=oe(),t=Gt(),r=Object,n=i("".split);return Hh=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?n(s,""):r(s)}:r,Hh}var Vh,Z$;function gn(){return Z$||(Z$=1,Vh=function(i){return i==null}),Vh}var Uh,J$;function hr(){if(J$)return Uh;J$=1;var i=gn(),e=TypeError;return Uh=function(t){if(i(t))throw new e("Can't call method on "+t);return t},Uh}var Gh,Q$;function Bt(){if(Q$)return Gh;Q$=1;var i=ra(),e=hr();return Gh=function(t){return i(e(t))},Gh}var Kh,eT;function Ve(){if(eT)return Kh;eT=1;var i=He();return Kh=function(e){return typeof e=="object"?e!==null:i(e)},Kh}var Yh,tT;function fe(){return tT||(tT=1,Yh={}),Yh}var Xh,rT;function pt(){if(rT)return Xh;rT=1;var i=fe(),e=Ee(),t=He(),r=function(n){return t(n)?n:void 0};return Xh=function(n,s){return arguments.length<2?r(i[n])||r(e[n]):i[n]&&i[n][s]||e[n]&&e[n][s]},Xh}var Zh,iT;function Ne(){if(iT)return Zh;iT=1;var i=ae();return Zh=i({}.isPrototypeOf),Zh}var Jh,nT;function mn(){if(nT)return Jh;nT=1;var i=Ee(),e=i.navigator,t=e&&e.userAgent;return Jh=t?String(t):"",Jh}var Qh,sT;function Hs(){if(sT)return Qh;sT=1;var i=Ee(),e=mn(),t=i.process,r=i.Deno,n=t&&t.versions||r&&r.version,s=n&&n.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),Qh=a,Qh}var ef,oT;function yn(){if(oT)return ef;oT=1;var i=Hs(),e=oe(),t=Ee(),r=t.String;return ef=!!Object.getOwnPropertySymbols&&!e(function(){var n=Symbol("symbol detection");return!r(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&i&&i<41}),ef}var tf,aT;function oN(){if(aT)return tf;aT=1;var i=yn();return tf=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol",tf}var rf,uT;function Vs(){if(uT)return rf;uT=1;var i=pt(),e=He(),t=Ne(),r=oN(),n=Object;return rf=r?function(s){return typeof s=="symbol"}:function(s){var o=i("Symbol");return e(o)&&t(o.prototype,n(s))},rf}var nf,lT;function bn(){if(lT)return nf;lT=1;var i=String;return nf=function(e){try{return i(e)}catch{return"Object"}},nf}var sf,cT;function fr(){if(cT)return sf;cT=1;var i=He(),e=bn(),t=TypeError;return sf=function(r){if(i(r))return r;throw new t(e(r)+" is not a function")},sf}var of,dT;function jb(){if(dT)return of;dT=1;var i=fr(),e=gn();return of=function(t,r){var n=t[r];return e(n)?void 0:i(n)},of}var af,hT;function k4(){if(hT)return af;hT=1;var i=ft(),e=He(),t=Ve(),r=TypeError;return af=function(n,s){var o,a;if(s==="string"&&e(o=n.toString)&&!t(a=i(o,n))||e(o=n.valueOf)&&!t(a=i(o,n))||s!=="string"&&e(o=n.toString)&&!t(a=i(o,n)))return a;throw new r("Can't convert object to primitive value")},af}var uf={exports:{}},lf,fT;function _n(){return fT||(fT=1,lf=!0),lf}var cf,vT;function M4(){if(vT)return cf;vT=1;var i=Ee(),e=Object.defineProperty;return cf=function(t,r){try{e(i,t,{value:r,configurable:!0,writable:!0})}catch{i[t]=r}return r},cf}var pT;function Lb(){if(pT)return uf.exports;pT=1;var i=_n(),e=Ee(),t=M4(),r="__core-js_shared__",n=uf.exports=e[r]||t(r,{});return(n.versions||(n.versions=[])).push({version:"3.44.0",mode:i?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),uf.exports}var df,gT;function wn(){if(gT)return df;gT=1;var i=Lb();return df=function(e,t){return i[e]||(i[e]=t||{})},df}var hf,mT;function It(){if(mT)return hf;mT=1;var i=hr(),e=Object;return hf=function(t){return e(i(t))},hf}var ff,yT;function Xe(){if(yT)return ff;yT=1;var i=ae(),e=It(),t=i({}.hasOwnProperty);return ff=Object.hasOwn||function(n,s){return t(e(n),s)},ff}var vf,bT;function ia(){if(bT)return vf;bT=1;var i=ae(),e=0,t=Math.random(),r=i(1.1.toString);return vf=function(n){return"Symbol("+(n===void 0?"":n)+")_"+r(++e+t,36)},vf}var pf,_T;function Fe(){if(_T)return pf;_T=1;var i=Ee(),e=wn(),t=Xe(),r=ia(),n=yn(),s=oN(),o=i.Symbol,a=e("wks"),u=s?o.for||o:o&&o.withoutSetter||r;return pf=function(l){return t(a,l)||(a[l]=n&&t(o,l)?o[l]:u("Symbol."+l)),a[l]},pf}var gf,wT;function aN(){if(wT)return gf;wT=1;var i=ft(),e=Ve(),t=Vs(),r=jb(),n=k4(),s=Fe(),o=TypeError,a=s("toPrimitive");return gf=function(u,l){if(!e(u)||t(u))return u;var c=r(u,a),d;if(c){if(l===void 0&&(l="default"),d=i(c,u,l),!e(d)||t(d))return d;throw new o("Can't convert object to primitive value")}return l===void 0&&(l="number"),n(u,l)},gf}var mf,ET;function zb(){if(ET)return mf;ET=1;var i=aN(),e=Vs();return mf=function(t){var r=i(t,"string");return e(r)?r:r+""},mf}var yf,ST;function uN(){if(ST)return yf;ST=1;var i=Ee(),e=Ve(),t=i.document,r=e(t)&&e(t.createElement);return yf=function(n){return r?t.createElement(n):{}},yf}var bf,OT;function lN(){if(OT)return bf;OT=1;var i=Re(),e=oe(),t=uN();return bf=!i&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),bf}var IT;function na(){if(IT)return Bh;IT=1;var i=Re(),e=ft(),t=ta(),r=Ws(),n=Bt(),s=zb(),o=Xe(),a=lN(),u=Object.getOwnPropertyDescriptor;return Bh.f=i?u:function(c,d){if(c=n(c),d=s(d),a)try{return u(c,d)}catch{}if(o(c,d))return r(!e(t.f,c,d),c[d])},Bh}var _f,$T;function A4(){if($T)return _f;$T=1;var i=oe(),e=He(),t=/#|\.prototype\./,r=function(u,l){var c=s[n(u)];return c===a?!0:c===o?!1:e(l)?i(l):!!l},n=r.normalize=function(u){return String(u).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return _f=r,_f}var wf,TT;function sa(){if(TT)return wf;TT=1;var i=Bb(),e=fr(),t=zs(),r=i(i.bind);return wf=function(n,s){return e(n),s===void 0?n:t?r(n,s):function(){return n.apply(s,arguments)}},wf}var Ef={},Sf,PT;function cN(){if(PT)return Sf;PT=1;var i=Re(),e=oe();return Sf=i&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Sf}var Of,RT;function Kt(){if(RT)return Of;RT=1;var i=Ve(),e=String,t=TypeError;return Of=function(r){if(i(r))return r;throw new t(e(r)+" is not an object")},Of}var xT;function $t(){if(xT)return Ef;xT=1;var i=Re(),e=lN(),t=cN(),r=Kt(),n=zb(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u="enumerable",l="configurable",c="writable";return Ef.f=i?t?function(h,f,v){if(r(h),f=n(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&c in v&&!v[c]){var g=a(h,f);g&&g[c]&&(h[f]=v.value,v={configurable:l in v?v[l]:g[l],enumerable:u in v?v[u]:g[u],writable:!1})}return o(h,f,v)}:o:function(h,f,v){if(r(h),f=n(f),r(v),e)try{return o(h,f,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(h[f]=v.value),h},Ef}var If,CT;function En(){if(CT)return If;CT=1;var i=Re(),e=$t(),t=Ws();return If=i?function(r,n,s){return e.f(r,n,t(1,s))}:function(r,n,s){return r[n]=s,r},If}var $f,qT;function H(){if(qT)return $f;qT=1;var i=Ee(),e=ea(),t=Bb(),r=He(),n=na().f,s=A4(),o=fe(),a=sa(),u=En(),l=Xe(),c=function(d){var h=function(f,v,g){if(this instanceof h){switch(arguments.length){case 0:return new d;case 1:return new d(f);case 2:return new d(f,v)}return new d(f,v,g)}return e(d,this,arguments)};return h.prototype=d.prototype,h};return $f=function(d,h){var f=d.target,v=d.global,g=d.stat,b=d.proto,p=v?i:g?i[f]:i[f]&&i[f].prototype,m=v?o:o[f]||u(o,f,{})[f],O=m.prototype,y,S,I,w,_,E,$,T,P;for(w in h)y=s(v?w:f+(g?".":"#")+w,d.forced),S=!y&&p&&l(p,w),E=m[w],S&&(d.dontCallGetSet?(P=n(p,w),$=P&&P.value):$=p[w]),_=S&&$?$:h[w],!(!y&&!b&&typeof E==typeof _)&&(d.bind&&S?T=a(_,i):d.wrap&&S?T=c(_):b&&r(_)?T=t(_):T=_,(d.sham||_&&_.sham||E&&E.sham)&&u(T,"sham",!0),u(m,w,T),b&&(I=f+"Prototype",l(o,I)||u(o,I,{}),u(o[I],w,_),d.real&&O&&(y||!O[w])&&u(O,w,_)))},$f}var Tf,DT;function N4(){if(DT)return Tf;DT=1;var i=Math.ceil,e=Math.floor;return Tf=Math.trunc||function(r){var n=+r;return(n>0?e:i)(n)},Tf}var Pf,kT;function Sn(){if(kT)return Pf;kT=1;var i=N4();return Pf=function(e){var t=+e;return t!==t||t===0?0:i(t)},Pf}var Rf,MT;function oa(){if(MT)return Rf;MT=1;var i=Sn(),e=Math.max,t=Math.min;return Rf=function(r,n){var s=i(r);return s<0?e(s+n,0):t(s,n)},Rf}var xf,AT;function dN(){if(AT)return xf;AT=1;var i=Sn(),e=Math.min;return xf=function(t){var r=i(t);return r>0?e(r,9007199254740991):0},xf}var Cf,NT;function vr(){if(NT)return Cf;NT=1;var i=dN();return Cf=function(e){return i(e.length)},Cf}var qf,FT;function Wb(){if(FT)return qf;FT=1;var i=Bt(),e=oa(),t=vr(),r=function(n){return function(s,o,a){var u=i(s),l=t(u);if(l===0)return!n&&-1;var c=e(a,l),d;if(n&&o!==o){for(;l>c;)if(d=u[c++],d!==d)return!0}else for(;l>c;c++)if((n||c in u)&&u[c]===o)return n||c||0;return!n&&-1}};return qf={includes:r(!0),indexOf:r(!1)},qf}var Df,BT;function Us(){return BT||(BT=1,Df={}),Df}var kf,jT;function hN(){if(jT)return kf;jT=1;var i=ae(),e=Xe(),t=Bt(),r=Wb().indexOf,n=Us(),s=i([].push);return kf=function(o,a){var u=t(o),l=0,c=[],d;for(d in u)!e(n,d)&&e(u,d)&&s(c,d);for(;a.length>l;)e(u,d=a[l++])&&(~r(c,d)||s(c,d));return c},kf}var Mf,LT;function Hb(){return LT||(LT=1,Mf=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Mf}var Af,zT;function Gs(){if(zT)return Af;zT=1;var i=hN(),e=Hb();return Af=Object.keys||function(r){return i(r,e)},Af}var Nf={},WT;function aa(){return WT||(WT=1,Nf.f=Object.getOwnPropertySymbols),Nf}var Ff,HT;function F4(){if(HT)return Ff;HT=1;var i=Re(),e=ae(),t=ft(),r=oe(),n=Gs(),s=aa(),o=ta(),a=It(),u=ra(),l=Object.assign,c=Object.defineProperty,d=e([].concat);return Ff=!l||r(function(){if(i&&l({b:1},l(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),g="abcdefghijklmnopqrst";return h[v]=7,g.split("").forEach(function(b){f[b]=b}),l({},h)[v]!==7||n(l({},f)).join("")!==g})?function(f,v){for(var g=a(f),b=arguments.length,p=1,m=s.f,O=o.f;b>p;)for(var y=u(arguments[p++]),S=m?d(n(y),m(y)):n(y),I=S.length,w=0,_;I>w;)_=S[w++],(!i||t(O,y,_))&&(g[_]=y[_]);return g}:l,Ff}var VT;function B4(){if(VT)return N$;VT=1;var i=H(),e=F4();return i({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),N$}var Bf,UT;function j4(){if(UT)return Bf;UT=1,B4();var i=fe();return Bf=i.Object.assign,Bf}var jf,GT;function L4(){if(GT)return jf;GT=1;var i=j4();return jf=i,jf}var Lf,KT;function z4(){return KT||(KT=1,Lf=L4()),Lf}var W4=z4(),Ke=Y(W4),YT={},zf,XT;function On(){if(XT)return zf;XT=1;var i=ae();return zf=i([].slice),zf}var Wf,ZT;function H4(){if(ZT)return Wf;ZT=1;var i=ae(),e=fr(),t=Ve(),r=Xe(),n=On(),s=zs(),o=Function,a=i([].concat),u=i([].join),l={},c=function(d,h,f){if(!r(l,h)){for(var v=[],g=0;g<h;g++)v[g]="a["+g+"]";l[h]=o("C,a","return new C("+u(v,",")+")")}return l[h](d,f)};return Wf=s?o.bind:function(h){var f=e(this),v=f.prototype,g=n(arguments,1),b=function(){var m=a(g,n(arguments));return this instanceof b?c(f,m.length,m):f.apply(h,m)};return t(v)&&(b.prototype=v),b},Wf}var JT;function V4(){if(JT)return YT;JT=1;var i=H(),e=H4();return i({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),YT}var Hf,QT;function Ze(){if(QT)return Hf;QT=1;var i=Ee(),e=fe();return Hf=function(t,r){var n=e[t+"Prototype"],s=n&&n[r];if(s)return s;var o=i[t],a=o&&o.prototype;return a&&a[r]},Hf}var Vf,eP;function U4(){if(eP)return Vf;eP=1,V4();var i=Ze();return Vf=i("Function","bind"),Vf}var Uf,tP;function G4(){if(tP)return Uf;tP=1;var i=Ne(),e=U4(),t=Function.prototype;return Uf=function(r){var n=r.bind;return r===t||i(t,r)&&n===t.bind?e:n},Uf}var Gf,rP;function K4(){if(rP)return Gf;rP=1;var i=G4();return Gf=i,Gf}var Kf,iP;function Y4(){return iP||(iP=1,Kf=K4()),Kf}var X4=Y4(),M=Y(X4);function Vb(i,e,t,r){i.beginPath(),i.arc(e,t,r,0,2*Math.PI,!1),i.closePath()}function Z4(i,e,t,r){i.beginPath(),i.rect(e-r,t-r,r*2,r*2),i.closePath()}function J4(i,e,t,r){i.beginPath(),r*=1.15,t+=.275*r;const n=r*2,s=n/2,o=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-s*s);i.moveTo(e,t-(a-o)),i.lineTo(e+s,t+o),i.lineTo(e-s,t+o),i.lineTo(e,t-(a-o)),i.closePath()}function Q4(i,e,t,r){i.beginPath(),r*=1.15,t-=.275*r;const n=r*2,s=n/2,o=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-s*s);i.moveTo(e,t+(a-o)),i.lineTo(e+s,t-o),i.lineTo(e-s,t-o),i.lineTo(e,t+(a-o)),i.closePath()}function e6(i,e,t,r){i.beginPath(),r*=.82,t+=.1*r;for(let n=0;n<10;n++){const s=n%2===0?r*1.3:r*.5;i.lineTo(e+s*Math.sin(n*2*Math.PI/10),t-s*Math.cos(n*2*Math.PI/10))}i.closePath()}function t6(i,e,t,r){i.beginPath(),i.lineTo(e,t+r),i.lineTo(e+r,t),i.lineTo(e,t-r),i.lineTo(e-r,t),i.closePath()}function fN(i,e,t,r,n,s){const o=Math.PI/180;r-2*s<0&&(s=r/2),n-2*s<0&&(s=n/2),i.beginPath(),i.moveTo(e+s,t),i.lineTo(e+r-s,t),i.arc(e+r-s,t+s,s,o*270,o*360,!1),i.lineTo(e+r,t+n-s),i.arc(e+r-s,t+n-s,s,0,o*90,!1),i.lineTo(e+s,t+n),i.arc(e+s,t+n-s,s,o*90,o*180,!1),i.lineTo(e,t+s),i.arc(e+s,t+s,s,o*180,o*270,!1),i.closePath()}function Jy(i,e,t,r,n){const s=.5522848,o=r/2*s,a=n/2*s,u=e+r,l=t+n,c=e+r/2,d=t+n/2;i.beginPath(),i.moveTo(e,d),i.bezierCurveTo(e,d-a,c-o,t,c,t),i.bezierCurveTo(c+o,t,u,d-a,u,d),i.bezierCurveTo(u,d+a,c+o,l,c,l),i.bezierCurveTo(c-o,l,e,d+a,e,d),i.closePath()}function vN(i,e,t,r,n){const s=.3333333333333333,o=r,a=n*s,u=.5522848,l=o/2*u,c=a/2*u,d=e+o,h=t+a,f=e+o/2,v=t+a/2,g=t+(n-a/2),b=t+n;i.beginPath(),i.moveTo(d,v),i.bezierCurveTo(d,v+c,f+l,h,f,h),i.bezierCurveTo(f-l,h,e,v+c,e,v),i.bezierCurveTo(e,v-c,f-l,t,f,t),i.bezierCurveTo(f+l,t,d,v-c,d,v),i.lineTo(d,g),i.bezierCurveTo(d,g+c,f+l,b,f,b),i.bezierCurveTo(f-l,b,e,g+c,e,g),i.lineTo(e,v)}function pN(i,e,t,r,n,s){i.beginPath(),i.moveTo(e,t);const o=s.length,a=r-e,u=n-t,l=u/a;let c=Math.sqrt(a*a+u*u),d=0,h=!0,f=0,v=+s[0];for(;c>=.1;)v=+s[d++%o],v>c&&(v=c),f=Math.sqrt(v*v/(1+l*l)),f=a<0?-f:f,e+=f,t+=l*f,h===!0?i.lineTo(e,t):i.moveTo(e,t),c-=v,h=!h}function r6(i,e,t,r){i.beginPath();const n=6,s=Math.PI*2/n;i.moveTo(e+r,t);for(let o=1;o<n;o++)i.lineTo(e+r*Math.cos(s*o),t+r*Math.sin(s*o));i.closePath()}const nP={circle:Vb,dashedLine:pN,database:vN,diamond:t6,ellipse:Jy,ellipse_vis:Jy,hexagon:r6,roundRect:fN,square:Z4,star:e6,triangle:J4,triangleDown:Q4};function i6(i){return Object.prototype.hasOwnProperty.call(nP,i)?nP[i]:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];CanvasRenderingContext2D.prototype[i].call(e,r)}}var Yf={exports:{}},sP;function n6(){return sP||(sP=1,function(i){i.exports=e;function e(r){if(r)return t(r)}function t(r){for(var n in e.prototype)r[n]=e.prototype[n];return r}e.prototype.on=e.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(n),this},e.prototype.once=function(r,n){function s(){this.off(r,s),n.apply(this,arguments)}return s.fn=n,this.on(r,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===n||o.fn===n){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+r],this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),s=this._callbacks["$"+r],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,n)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length}}(Yf)),Yf.exports}var s6=n6(),gN=Y(s6);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function At(){return At=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},At.apply(this,arguments)}function Tt(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function lo(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var Qy;typeof Object.assign!="function"?Qy=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])}return t}:Qy=Object.assign;var oi=Qy,oP=["","webkit","Moz","MS","ms","o"],o6=typeof document>"u"?{style:{}}:document.createElement("div"),a6="function",ji=Math.round,ai=Math.abs,Ub=Date.now;function ua(i,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),s=0;s<oP.length;){if(t=oP[s],r=t?t+n:e,r in i)return r;s++}}var nr;typeof window>"u"?nr={}:nr=window;var mN=ua(o6.style,"touchAction"),yN=mN!==void 0;function u6(){if(!yN)return!1;var i={},e=nr.CSS&&nr.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=e?nr.CSS.supports("touch-action",t):!0}),i}var bN="compute",_N="auto",eb="manipulation",ei="none",ps="pan-x",gs="pan-y",co=u6(),l6=/mobile|tablet|ip(ad|hone|od)|android/i,wN="ontouchstart"in nr,c6=ua(nr,"PointerEvent")!==void 0,d6=wN&&l6.test(navigator.userAgent),Ks="touch",h6="pen",Gb="mouse",f6="kinect",v6=25,at=1,bi=2,ke=4,ct=8,Po=1,Ys=2,Xs=4,Zs=8,Qi=16,Vt=Ys|Xs,ti=Zs|Qi,EN=Vt|ti,SN=["x","y"],Ro=["clientX","clientY"];function sr(i,e,t){var r;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(r=0;r<i.length;)e.call(t,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&e.call(t,i[r],r,i)}function la(i,e){return typeof i===a6?i.apply(e&&e[0]||void 0,e):i}function Xr(i,e){return i.indexOf(e)>-1}function p6(i){if(Xr(i,ei))return ei;var e=Xr(i,ps),t=Xr(i,gs);return e&&t?ei:e||t?e?ps:gs:Xr(i,eb)?eb:_N}var ON=function(){function i(t,r){this.manager=t,this.set(r)}var e=i.prototype;return e.set=function(r){r===bN&&(r=this.compute()),yN&&this.manager.element.style&&co[r]&&(this.manager.element.style[mN]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return sr(this.manager.recognizers,function(n){la(n.options.enable,[n])&&(r=r.concat(n.getTouchAction()))}),p6(r.join(" "))},e.preventDefaults=function(r){var n=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var o=this.actions,a=Xr(o,ei)&&!co[ei],u=Xr(o,gs)&&!co[gs],l=Xr(o,ps)&&!co[ps];if(a){var c=r.pointers.length===1,d=r.distance<2,h=r.deltaTime<250;if(c&&d&&h)return}if(!(l&&u)&&(a||u&&s&Vt||l&&s&ti))return this.preventSrc(n)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},i}();function Kb(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function IN(i){var e=i.length;if(e===1)return{x:ji(i[0].clientX),y:ji(i[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=i[n].clientX,r+=i[n].clientY,n++;return{x:ji(t/e),y:ji(r/e)}}function aP(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:ji(i.pointers[t].clientX),clientY:ji(i.pointers[t].clientY)},t++;return{timeStamp:Ub(),pointers:e,center:IN(e),deltaX:i.deltaX,deltaY:i.deltaY}}function xo(i,e,t){t||(t=SN);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.sqrt(r*r+n*n)}function tb(i,e,t){t||(t=SN);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.atan2(n,r)*180/Math.PI}function $N(i,e){return i===e?Po:ai(i)>=ai(e)?i<0?Ys:Xs:e<0?Zs:Qi}function g6(i,e){var t=e.center,r=i.offsetDelta||{},n=i.prevDelta||{},s=i.prevInput||{};(e.eventType===at||s.eventType===ke)&&(n=i.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=i.offsetDelta={x:t.x,y:t.y}),e.deltaX=n.x+(t.x-r.x),e.deltaY=n.y+(t.y-r.y)}function TN(i,e,t){return{x:e/i||0,y:t/i||0}}function m6(i,e){return xo(e[0],e[1],Ro)/xo(i[0],i[1],Ro)}function y6(i,e){return tb(e[1],e[0],Ro)+tb(i[1],i[0],Ro)}function b6(i,e){var t=i.lastInterval||e,r=e.timeStamp-t.timeStamp,n,s,o,a;if(e.eventType!==ct&&(r>v6||t.velocity===void 0)){var u=e.deltaX-t.deltaX,l=e.deltaY-t.deltaY,c=TN(r,u,l);s=c.x,o=c.y,n=ai(c.x)>ai(c.y)?c.x:c.y,a=$N(u,l),i.lastInterval=e}else n=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=n,e.velocityX=s,e.velocityY=o,e.direction=a}function _6(i,e){var t=i.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=aP(e)),n>1&&!t.firstMultiple?t.firstMultiple=aP(e):n===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,u=e.center=IN(r);e.timeStamp=Ub(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=tb(a,u),e.distance=xo(a,u),g6(t,e),e.offsetDirection=$N(e.deltaX,e.deltaY);var l=TN(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=ai(l.x)>ai(l.y)?l.x:l.y,e.scale=o?m6(o.pointers,r):1,e.rotation=o?y6(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,b6(t,e);var c=i.element,d=e.srcEvent,h;d.composedPath?h=d.composedPath()[0]:d.path?h=d.path[0]:h=d.target,Kb(h,c)&&(c=h),e.target=c}function w6(i,e,t){var r=t.pointers.length,n=t.changedPointers.length,s=e&at&&r-n===0,o=e&(ke|ct)&&r-n===0;t.isFirst=!!s,t.isFinal=!!o,s&&(i.session={}),t.eventType=e,_6(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function ms(i){return i.trim().split(/\s+/g)}function ts(i,e,t){sr(ms(e),function(r){i.addEventListener(r,t,!1)})}function rs(i,e,t){sr(ms(e),function(r){i.removeEventListener(r,t,!1)})}function uP(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var In=function(){function i(t,r){var n=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){la(t.options.enable,[t])&&n.handler(s)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&ts(this.element,this.evEl,this.domHandler),this.evTarget&&ts(this.target,this.evTarget,this.domHandler),this.evWin&&ts(uP(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&rs(this.element,this.evEl,this.domHandler),this.evTarget&&rs(this.target,this.evTarget,this.domHandler),this.evWin&&rs(uP(this.element),this.evWin,this.domHandler)},i}();function ui(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var r=0;r<i.length;){if(t&&i[r][t]==e||!t&&i[r]===e)return r;r++}return-1}var E6={pointerdown:at,pointermove:bi,pointerup:ke,pointercancel:ct,pointerout:ct},S6={2:Ks,3:h6,4:Gb,5:f6},PN="pointerdown",RN="pointermove pointerup pointercancel";nr.MSPointerEvent&&!nr.PointerEvent&&(PN="MSPointerDown",RN="MSPointerMove MSPointerUp MSPointerCancel");var xN=function(i){Tt(e,i);function e(){var r,n=e.prototype;return n.evEl=PN,n.evWin=RN,r=i.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(n){var s=this.store,o=!1,a=n.type.toLowerCase().replace("ms",""),u=E6[a],l=S6[n.pointerType]||n.pointerType,c=l===Ks,d=ui(s,n.pointerId,"pointerId");u&at&&(n.button===0||c)?d<0&&(s.push(n),d=s.length-1):u&(ke|ct)&&(o=!0),!(d<0)&&(s[d]=n,this.callback(this.manager,u,{pointers:s,changedPointers:[n],pointerType:l,srcEvent:n}),o&&s.splice(d,1))},e}(In);function ys(i){return Array.prototype.slice.call(i,0)}function Yb(i,e,t){for(var r=[],n=[],s=0;s<i.length;){var o=e?i[s][e]:i[s];ui(n,o)<0&&r.push(i[s]),n[s]=o,s++}return t&&(e?r=r.sort(function(a,u){return a[e]>u[e]}):r=r.sort()),r}var O6={touchstart:at,touchmove:bi,touchend:ke,touchcancel:ct},I6="touchstart touchmove touchend touchcancel",Xb=function(i){Tt(e,i);function e(){var r;return e.prototype.evTarget=I6,r=i.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(n){var s=O6[n.type],o=$6.call(this,n,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Ks,srcEvent:n})},e}(In);function $6(i,e){var t=ys(i.touches),r=this.targetIds;if(e&(at|bi)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var n,s,o=ys(i.changedTouches),a=[],u=this.target;if(s=t.filter(function(l){return Kb(l.target,u)}),e===at)for(n=0;n<s.length;)r[s[n].identifier]=!0,n++;for(n=0;n<o.length;)r[o[n].identifier]&&a.push(o[n]),e&(ke|ct)&&delete r[o[n].identifier],n++;if(a.length)return[Yb(s.concat(a),"identifier",!0),a]}var T6={mousedown:at,mousemove:bi,mouseup:ke},P6="mousedown",R6="mousemove mouseup",Zb=function(i){Tt(e,i);function e(){var r,n=e.prototype;return n.evEl=P6,n.evWin=R6,r=i.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(n){var s=T6[n.type];s&at&&n.button===0&&(this.pressed=!0),s&bi&&n.which!==1&&(s=ke),this.pressed&&(s&ke&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[n],changedPointers:[n],pointerType:Gb,srcEvent:n}))},e}(In),x6=2500,lP=25;function cP(i){var e=i.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},n=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=n.indexOf(r);a>-1&&n.splice(a,1)};setTimeout(s,x6)}}function C6(i,e){i&at?(this.primaryTouch=e.changedPointers[0].identifier,cP.call(this,e)):i&(ke|ct)&&cP.call(this,e)}function q6(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],s=Math.abs(e-n.x),o=Math.abs(t-n.y);if(s<=lP&&o<=lP)return!0}return!1}var CN=function(){var i=function(e){Tt(t,e);function t(n,s){var o;return o=e.call(this,n,s)||this,o.handler=function(a,u,l){var c=l.pointerType===Ks,d=l.pointerType===Gb;if(!(d&&l.sourceCapabilities&&l.sourceCapabilities.firesTouchEvents)){if(c)C6.call(lo(lo(o)),u,l);else if(d&&q6.call(lo(lo(o)),l))return;o.callback(a,u,l)}},o.touch=new Xb(o.manager,o.handler),o.mouse=new Zb(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(In);return i}();function D6(i){var e,t=i.options.inputClass;return t?e=t:c6?e=xN:d6?e=Xb:wN?e=CN:e=Zb,new e(i,w6)}function Li(i,e,t){return Array.isArray(i)?(sr(i,t[e],t),!0):!1}var bo=1,bt=2,en=4,Er=8,or=Er,bs=16,zt=32,k6=1;function M6(){return k6++}function ho(i,e){var t=e.manager;return t?t.get(i):i}function dP(i){return i&bs?"cancel":i&Er?"end":i&en?"move":i&bt?"start":""}var Js=function(){function i(t){t===void 0&&(t={}),this.options=At({enable:!0},t),this.id=M6(),this.manager=null,this.state=bo,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(r){return oi(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(Li(r,"recognizeWith",this))return this;var n=this.simultaneous;return r=ho(r,this),n[r.id]||(n[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return Li(r,"dropRecognizeWith",this)?this:(r=ho(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(Li(r,"requireFailure",this))return this;var n=this.requireFail;return r=ho(r,this),ui(n,r)===-1&&(n.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(Li(r,"dropRequireFailure",this))return this;r=ho(r,this);var n=ui(this.requireFail,r);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var n=this,s=this.state;function o(a){n.manager.emit(a,r)}s<Er&&o(n.options.event+dP(s)),o(n.options.event),r.additionalEvent&&o(r.additionalEvent),s>=Er&&o(n.options.event+dP(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=zt},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(zt|bo)))return!1;r++}return!0},e.recognize=function(r){var n=oi({},r);if(!la(this.options.enable,[this,n])){this.reset(),this.state=zt;return}this.state&(or|bs|zt)&&(this.state=bo),this.state=this.process(n),this.state&(bt|en|Er|bs)&&this.tryEmit(n)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},i}(),rb=function(i){Tt(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,At({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var t=e.prototype;return t.getTouchAction=function(){return[eb]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,u=n.distance<o.threshold,l=n.deltaTime<o.time;if(this.reset(),n.eventType&at&&this.count===0)return this.failTimeout();if(u&&l&&a){if(n.eventType!==ke)return this.failTimeout();var c=this.pTime?n.timeStamp-this.pTime<o.interval:!0,d=!this.pCenter||xo(this.pCenter,n.center)<o.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!d||!c?this.count=1:this.count+=1,this._input=n;var h=this.count%o.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=or,s.tryEmit()},o.interval),bt):or}return zt},t.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=zt},this.options.interval),zt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===or&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Js),tn=function(i){Tt(e,i);function e(r){return r===void 0&&(r={}),i.call(this,At({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(n){var s=this.options.pointers;return s===0||n.pointers.length===s},t.process=function(n){var s=this.state,o=n.eventType,a=s&(bt|en),u=this.attrTest(n);return a&&(o&ct||!u)?s|bs:a||u?o&ke?s|Er:s&bt?s|en:bt:zt},e}(Js);function qN(i){return i===Qi?"down":i===Zs?"up":i===Ys?"left":i===Xs?"right":""}var Jb=function(i){Tt(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,At({event:"pan",threshold:10,pointers:1,direction:EN},r))||this,n.pX=null,n.pY=null,n}var t=e.prototype;return t.getTouchAction=function(){var n=this.options.direction,s=[];return n&Vt&&s.push(gs),n&ti&&s.push(ps),s},t.directionTest=function(n){var s=this.options,o=!0,a=n.distance,u=n.direction,l=n.deltaX,c=n.deltaY;return u&s.direction||(s.direction&Vt?(u=l===0?Po:l<0?Ys:Xs,o=l!==this.pX,a=Math.abs(n.deltaX)):(u=c===0?Po:c<0?Zs:Qi,o=c!==this.pY,a=Math.abs(n.deltaY))),n.direction=u,o&&a>s.threshold&&u&s.direction},t.attrTest=function(n){return tn.prototype.attrTest.call(this,n)&&(this.state&bt||!(this.state&bt)&&this.directionTest(n))},t.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var s=qN(n.direction);s&&(n.additionalEvent=this.options.event+s),i.prototype.emit.call(this,n)},e}(tn),DN=function(i){Tt(e,i);function e(r){return r===void 0&&(r={}),i.call(this,At({event:"swipe",threshold:10,velocity:.3,direction:Vt|ti,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return Jb.prototype.getTouchAction.call(this)},t.attrTest=function(n){var s=this.options.direction,o;return s&(Vt|ti)?o=n.overallVelocity:s&Vt?o=n.overallVelocityX:s&ti&&(o=n.overallVelocityY),i.prototype.attrTest.call(this,n)&&s&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&ai(o)>this.options.velocity&&n.eventType&ke},t.emit=function(n){var s=qN(n.offsetDirection);s&&this.manager.emit(this.options.event+s,n),this.manager.emit(this.options.event,n)},e}(tn),kN=function(i){Tt(e,i);function e(r){return r===void 0&&(r={}),i.call(this,At({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[ei]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&bt)},t.emit=function(n){if(n.scale!==1){var s=n.scale<1?"in":"out";n.additionalEvent=this.options.event+s}i.prototype.emit.call(this,n)},e}(tn),MN=function(i){Tt(e,i);function e(r){return r===void 0&&(r={}),i.call(this,At({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[ei]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&bt)},e}(tn),AN=function(i){Tt(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,At({event:"press",pointers:1,time:251,threshold:9},r))||this,n._timer=null,n._input=null,n}var t=e.prototype;return t.getTouchAction=function(){return[_N]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,u=n.distance<o.threshold,l=n.deltaTime>o.time;if(this._input=n,!u||!a||n.eventType&(ke|ct)&&!l)this.reset();else if(n.eventType&at)this.reset(),this._timer=setTimeout(function(){s.state=or,s.tryEmit()},o.time);else if(n.eventType&ke)return or;return zt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(n){this.state===or&&(n&&n.eventType&ke?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=Ub(),this.manager.emit(this.options.event,this._input)))},e}(Js),NN={domEvents:!1,touchAction:bN,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},hP=[[MN,{enable:!1}],[kN,{enable:!1},["rotate"]],[DN,{direction:Vt}],[Jb,{direction:Vt},["swipe"]],[rb],[rb,{event:"doubletap",taps:2},["tap"]],[AN]],A6=1,fP=2;function vP(i,e){var t=i.element;if(t.style){var r;sr(i.options.cssProps,function(n,s){r=ua(t.style,s),e?(i.oldCssProps[r]=t.style[r],t.style[r]=n):t.style[r]=i.oldCssProps[r]||""}),e||(i.oldCssProps={})}}function N6(i,e){var t=document.createEvent("Event");t.initEvent(i,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var pP=function(){function i(t,r){var n=this;this.options=oi({},NN,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=D6(this),this.touchAction=new ON(this,this.options.touchAction),vP(this,!0),sr(this.options.recognizers,function(s){var o=n.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=i.prototype;return e.set=function(r){return oi(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?fP:A6},e.recognize=function(r){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&or)&&(n.curRecognizer=null,a=null);for(var u=0;u<o.length;)s=o[u],n.stopped!==fP&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(bt|en|Er)&&(n.curRecognizer=s,a=s),u++}},e.get=function(r){if(r instanceof Js)return r;for(var n=this.recognizers,s=0;s<n.length;s++)if(n[s].options.event===r)return n[s];return null},e.add=function(r){if(Li(r,"add",this))return this;var n=this.get(r.options.event);return n&&this.remove(n),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(Li(r,"remove",this))return this;var n=this.get(r);if(r){var s=this.recognizers,o=ui(s,n);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,n){if(r===void 0||n===void 0)return this;var s=this.handlers;return sr(ms(r),function(o){s[o]=s[o]||[],s[o].push(n)}),this},e.off=function(r,n){if(r===void 0)return this;var s=this.handlers;return sr(ms(r),function(o){n?s[o]&&s[o].splice(ui(s[o],n),1):delete s[o]}),this},e.emit=function(r,n){this.options.domEvents&&N6(r,n);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){n.type=r,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](n),o++}},e.destroy=function(){this.element&&vP(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i}(),F6={touchstart:at,touchmove:bi,touchend:ke,touchcancel:ct},B6="touchstart",j6="touchstart touchmove touchend touchcancel",L6=function(i){Tt(e,i);function e(){var r,n=e.prototype;return n.evTarget=B6,n.evWin=j6,r=i.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(n){var s=F6[n.type];if(s===at&&(this.started=!0),!!this.started){var o=z6.call(this,n,s);s&(ke|ct)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Ks,srcEvent:n})}},e}(In);function z6(i,e){var t=ys(i.touches),r=ys(i.changedTouches);return e&(ke|ct)&&(t=Yb(t.concat(r),"identifier",!0)),[t,r]}function FN(i,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),s=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),i.apply(this,arguments)}}var BN=FN(function(i,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&i[r[n]]===void 0)&&(i[r[n]]=e[r[n]]),n++;return i},"extend","Use `assign`."),W6=FN(function(i,e){return BN(i,e,!0)},"merge","Use `assign`.");function H6(i,e,t){var r=e.prototype,n;n=i.prototype=Object.create(r),n.constructor=i,n._super=r,t&&oi(n,t)}function gP(i,e){return function(){return i.apply(e,arguments)}}var jN=function(){var i=function(t,r){return r===void 0&&(r={}),new pP(t,At({recognizers:hP.concat()},r))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=EN,i.DIRECTION_DOWN=Qi,i.DIRECTION_LEFT=Ys,i.DIRECTION_RIGHT=Xs,i.DIRECTION_UP=Zs,i.DIRECTION_HORIZONTAL=Vt,i.DIRECTION_VERTICAL=ti,i.DIRECTION_NONE=Po,i.DIRECTION_DOWN=Qi,i.INPUT_START=at,i.INPUT_MOVE=bi,i.INPUT_END=ke,i.INPUT_CANCEL=ct,i.STATE_POSSIBLE=bo,i.STATE_BEGAN=bt,i.STATE_CHANGED=en,i.STATE_ENDED=Er,i.STATE_RECOGNIZED=or,i.STATE_CANCELLED=bs,i.STATE_FAILED=zt,i.Manager=pP,i.Input=In,i.TouchAction=ON,i.TouchInput=Xb,i.MouseInput=Zb,i.PointerEventInput=xN,i.TouchMouseInput=CN,i.SingleTouchInput=L6,i.Recognizer=Js,i.AttrRecognizer=tn,i.Tap=rb,i.Pan=Jb,i.Swipe=DN,i.Pinch=kN,i.Rotate=MN,i.Press=AN,i.on=ts,i.off=rs,i.each=sr,i.merge=W6,i.extend=BN,i.bindFn=gP,i.assign=oi,i.inherit=H6,i.bindFn=gP,i.prefixed=ua,i.toArray=ys,i.inArray=ui,i.uniqueArray=Yb,i.splitStr=ms,i.boolOrFn=la,i.hasParent=Kb,i.addEventListeners=ts,i.removeEventListeners=rs,i.defaults=oi({},NN,{preset:hP}),i}();jN.defaults;/**
 * vis-util
 * https://github.com/visjs/vis-util
 *
 * utilitie collection for visjs
 *
 * @version 6.0.0
 * @date    2025-07-12T18:02:43.836Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function ca(...i){return V6(i.length?i:[Date.now()])}function V6(i){let[e,t,r]=U6(i),n=1;const s=()=>{const o=2091639*e+n*23283064365386963e-26;return e=t,t=r,r=o-(n=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=i,s.version="0.9",s}function U6(...i){const e=G6();let t=e(" "),r=e(" "),n=e(" ");for(let s=0;s<i.length;s++)t-=e(i[s]),t<0&&(t+=1),r-=e(i[s]),r<0&&(r+=1),n-=e(i[s]),n<0&&(n+=1);return[t,r,n]}function G6(){let i=4022871197;return function(e){const t=e.toString();for(let r=0;r<t.length;r++){i+=t.charCodeAt(r);let n=.02519603282416938*i;i=n>>>0,n-=i,n*=i,i=n>>>0,n-=i,i+=n*4294967296}return(i>>>0)*23283064365386963e-26}}function K6(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}const Qb=typeof window<"u"?window.Hammer||jN:function(){return K6()};function Wt(i){this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const e=Qb(this._dom.overlay);e.on("tap",this._onTapOverlay.bind(this)),this._cleanupQueue.push(()=>{e.destroy()}),["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(r=>{e.on(r,n=>{n.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=r=>{Y6(r.target,i)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=r=>{("key"in r?r.key==="Escape":r.keyCode===27)&&this.deactivate()}}gN(Wt.prototype);Wt.current=null;Wt.prototype.destroy=function(){this.deactivate();for(const i of this._cleanupQueue.splice(0).reverse())i()};Wt.prototype.activate=function(){Wt.current&&Wt.current.deactivate(),Wt.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Wt.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Wt.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};function Y6(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}const X6=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Z6=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,J6=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Q6=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function gr(i){if(i)for(;i.hasChildNodes()===!0;){const e=i.firstChild;e&&(gr(e),i.removeChild(e))}}function zi(i){return i instanceof String||typeof i=="string"}function mP(i){return typeof i=="object"&&i!==null}function li(i,e,t,r){let n=!1;r===!0&&(n=e[t]===null&&i[t]!==void 0),n?delete i[t]:i[t]=e[t]}function LN(i,e,t=!1){for(const r in i)if(e[r]!==void 0)if(e[r]===null||typeof e[r]!="object")li(i,e,r,t);else{const n=i[r],s=e[r];mP(n)&&mP(s)&&LN(n,s,t)}}function $n(i,e,t,r=!1){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(let n=0;n<i.length;n++){const s=i[n];if(Object.prototype.hasOwnProperty.call(t,s))if(t[s]&&t[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?ge(e[s],t[s],!1,r):li(e,t,s,r);else{if(Array.isArray(t[s]))throw new TypeError("Arrays are not supported by deepExtend");li(e,t,s,r)}}return e}function Co(i,e,t,r=!1){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!i.includes(n))if(t[n]&&t[n].constructor===Object)e[n]===void 0&&(e[n]={}),e[n].constructor===Object?ge(e[n],t[n]):li(e,t,n,r);else if(Array.isArray(t[n])){e[n]=[];for(let s=0;s<t[n].length;s++)e[n].push(t[n][s])}else li(e,t,n,r);return e}function ge(i,e,t=!1,r=!1){for(const n in e)(Object.prototype.hasOwnProperty.call(e,n)||t===!0)&&(typeof e[n]=="object"&&e[n]!==null&&Object.getPrototypeOf(e[n])===Object.prototype?i[n]===void 0?i[n]=ge({},e[n],t):typeof i[n]=="object"&&i[n]!==null&&Object.getPrototypeOf(i[n])===Object.prototype?ge(i[n],e[n],t):li(i,e,n,r):Array.isArray(e[n])?i[n]=e[n].slice():li(i,e,n,r));return i}function qo(i,e){return[...i,e]}function e8(i){return i.slice()}function t8(i){return i.getBoundingClientRect().left}function r8(i){return i.getBoundingClientRect().top}function ne(i,e){if(Array.isArray(i)){const t=i.length;for(let r=0;r<t;r++)e(i[r],r,i)}else for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(i[t],t,i)}function e1(i){let e;switch(i.length){case 3:case 4:return e=Z6.exec(i),e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16)}:null;case 6:case 7:return e=X6.exec(i),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null;default:return null}}function mt(i,e){if(i.includes("rgba"))return i;if(i.includes("rgb")){const t=i.substr(i.indexOf("(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{const t=e1(i);return t==null?i:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function zN(i,e,t){return"#"+((1<<24)+(i<<16)+(e<<8)+t).toString(16).slice(1)}function ib(i,e){if(zi(i)){let t=i;if(HN(t)){const r=t.substr(4).substr(0,t.length-5).split(",").map(function(n){return parseInt(n)});t=zN(r[0],r[1],r[2])}if(WN(t)===!0){const r=i8(t),n={h:r.h,s:r.s*.8,v:Math.min(1,r.v*1.02)},s={h:r.h,s:Math.min(1,r.s*1.25),v:r.v*.8},o=nb(s.h,s.s,s.v),a=nb(n.h,n.s,n.v);return{background:t,border:o,highlight:{background:a,border:o},hover:{background:a,border:o}}}else return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else return{background:i.background||void 0,border:i.border||void 0,highlight:zi(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||void 0,border:i.highlight&&i.highlight.border||void 0},hover:zi(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||void 0,background:i.hover&&i.hover.background||void 0}}}function Zn(i,e,t){i=i/255,e=e/255,t=t/255;const r=Math.min(i,Math.min(e,t)),n=Math.max(i,Math.max(e,t));if(r===n)return{h:0,s:0,v:r};const s=i===r?e-t:t===r?i-e:t-i,a=60*((i===r?3:t===r?1:5)-s/(n-r))/360,u=(n-r)/n;return{h:a,s:u,v:n}}function _o(i,e,t){let r,n,s;const o=Math.floor(i*6),a=i*6-o,u=t*(1-e),l=t*(1-a*e),c=t*(1-(1-a)*e);switch(o%6){case 0:r=t,n=c,s=u;break;case 1:r=l,n=t,s=u;break;case 2:r=u,n=t,s=c;break;case 3:r=u,n=l,s=t;break;case 4:r=c,n=u,s=t;break;case 5:r=t,n=u,s=l;break}return{r:Math.floor(r*255),g:Math.floor(n*255),b:Math.floor(s*255)}}function nb(i,e,t){const r=_o(i,e,t);return zN(r.r,r.g,r.b)}function i8(i){const e=e1(i);if(!e)throw new TypeError(`'${i}' is not a valid color.`);return Zn(e.r,e.g,e.b)}function WN(i){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(i)}function HN(i){return J6.test(i)}function n8(i){return Q6.test(i)}function Sr(i){if(i===null||typeof i!="object")return null;if(i instanceof Element)return i;const e=Object.create(i);for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&typeof i[t]=="object"&&(e[t]=Sr(i[t]));return e}function gt(i,e,t,r={}){const n=function(f){return f!=null},s=function(f){return f!==null&&typeof f=="object"},o=function(f){for(const v in f)if(Object.prototype.hasOwnProperty.call(f,v))return!1;return!0};if(!s(i))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!n(t))throw new Error("Parameter option must have a value");if(!s(r))throw new Error("Parameter globalOptions must be an object");const a=function(f,v,g){s(f[g])||(f[g]={});const b=v[g],p=f[g];for(const m in b)Object.prototype.hasOwnProperty.call(b,m)&&(p[m]=b[m])},u=e[t],c=s(r)&&!o(r)?r[t]:void 0,d=c?c.enabled:void 0;if(u===void 0)return;if(typeof u=="boolean"){s(i[t])||(i[t]={}),i[t].enabled=u;return}if(u===null&&!s(i[t]))if(n(c))i[t]=Object.create(c);else return;if(!s(u))return;let h=!0;u.enabled!==void 0?h=u.enabled:d!==void 0&&(h=c.enabled),a(i,e,t),i[t].enabled=h}const s8={linear(i){return i},easeInQuad(i){return i*i},easeOutQuad(i){return i*(2-i)},easeInOutQuad(i){return i<.5?2*i*i:-1+(4-2*i)*i},easeInCubic(i){return i*i*i},easeOutCubic(i){return--i*i*i+1},easeInOutCubic(i){return i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1},easeInQuart(i){return i*i*i*i},easeOutQuart(i){return 1- --i*i*i*i},easeInOutQuart(i){return i<.5?8*i*i*i*i:1-8*--i*i*i*i},easeInQuint(i){return i*i*i*i*i},easeOutQuint(i){return 1+--i*i*i*i*i},easeInOutQuint(i){return i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i}};function mr(i,e){let t;Array.isArray(e)||(e=[e]);for(const r of i)if(r){t=r[e[0]];for(let n=1;n<e.length;n++)t&&(t=t[e[n]]);if(typeof t<"u")break}return t}const o8={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let a8=class{constructor(e=1){this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return o8[e]}setColor(e,t=!0){if(e==="none")return;let r;const n=this._isColorString(e);if(n!==void 0&&(e=n),zi(e)===!0){if(HN(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if(n8(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(WN(e)===!0){const s=e1(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(e=!0){e===!0&&(this.previousColor=Object.assign({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e,t=!0){t===!0&&(this.initialColor=Object.assign({},e)),this.color=e;const r=Zn(e.r,e.g,e.b),n=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(n*r.h),a=this.centerCoordinates.y+s*Math.cos(n*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=Zn(this.color.r,this.color.g,this.color.b);t.v=e/100;const r=_o(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(e=this.color){const t=Zn(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const n=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,n,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),r.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new Qb(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let n,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;const u=2*Math.PI/360,l=1/360,c=1/this.r;let d;for(o=0;o<360;o++)for(a=0;a<this.r;a++)n=this.centerCoordinates.x+a*Math.sin(u*o),s=this.centerCoordinates.y+a*Math.cos(u*o),d=_o(o*l,a*c,1),e.fillStyle="rgb("+d.r+","+d.g+","+d.b+")",e.fillRect(n-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,n=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,u=n-s,l=Math.atan2(a,u),c=.98*Math.min(Math.sqrt(a*a+u*u),o),d=Math.cos(l)*c+s,h=Math.sin(l)*c+o;this.colorPickerSelector.style.top=d-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";let f=l/(2*Math.PI);f=f<0?f+1:f;const v=c/this.r,g=Zn(this.color.r,this.color.g,this.color.b);g.h=f,g.s=v;const b=_o(g.h,g.s,g.v);b.a=this.color.a,this.color=b,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function sb(...i){if(i.length<1)throw new TypeError("Invalid arguments.");if(i.length===1)return document.createTextNode(i[0]);{const e=document.createElement(i[0]);return e.appendChild(sb(...i.slice(1))),e}}let u8=class{constructor(e,t,r,n=1,s=()=>!1){this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Object.assign(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new a8(n),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Array.isArray(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),e.filter!==void 0&&(this.options.filter=e.filter),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);this.options.filter===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=this.options.filter;let t=0,r=!1;for(const n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(n,[]),r=r||this._handleObject(this.configureOptions[n],[n],!0)):(e===!0||e.indexOf(n)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e,...t){if(this.allowCreation===!0){const r=document.createElement("div");return r.className="vis-configuration vis-config-item vis-config-s"+e.length,t.forEach(n=>{r.appendChild(n)}),this.domElements.push(r),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t,r=!1){const n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(sb("i","b",e))}else n.innerText=e+":";return n}_makeDropdown(e,t,r){const n=document.createElement("select");n.className="vis-configuration vis-config-select";let s=0;t!==void 0&&e.indexOf(t)!==-1&&(s=e.indexOf(t));for(let u=0;u<e.length;u++){const l=document.createElement("option");l.value=e[u],u===s&&(l.selected="selected"),l.innerText=e[u],n.appendChild(l)}const o=this;n.onchange=function(){o._update(this.value,r)};const a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,n)}_makeRange(e,t,r){const n=e[0],s=e[1],o=e[2],a=e[3],u=document.createElement("input");u.className="vis-configuration vis-config-range";try{u.type="range",u.min=s,u.max=o}catch{}u.step=a;let l="",c=0;t!==void 0?(t<0&&t*1.2<s?(u.min=Math.ceil(t*1.2),c=u.min,l="range increased"):t/1.2<s&&(u.min=Math.ceil(t/1.2),c=u.min,l="range increased"),t*1.2>o&&o!==1&&(u.max=Math.ceil(t*1.2),c=u.max,l="range increased"),u.value=t):u.value=n;const d=document.createElement("input");d.className="vis-configuration vis-config-rangeinput",d.value=u.value;const h=this;u.onchange=function(){d.value=this.value,h._update(Number(this.value),r)},u.oninput=function(){d.value=this.value};const f=this._makeLabel(r[r.length-1],r),v=this._makeItem(r,f,u,d);l!==""&&this.popupHistory[v]!==c&&(this.popupHistory[v]=c,this._setupPopup(l,v))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=e,r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){const n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,t!==void 0&&(n.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));const s=this;n.onchange=function(){s._update(this.checked,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,n)}_makeTextInput(e,t,r){const n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=t,t!==e&&this.changedOptions.push({path:r,value:t});const s=this;n.onchange=function(){s._update(this.value,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,n)}_makeColorField(e,t,r){const n=e[1],s=document.createElement("div");t=t===void 0?n:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?n:t,s.onclick=()=>{this._showColorPicker(t,s,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(n=>{const s="rgba("+n.r+","+n.g+","+n.b+","+n.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e,t=[],r=!1){let n=!1;const s=this.options.filter;let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){n=!0;const u=e[a],l=qo(t,a);if(typeof s=="function"&&(n=s(a,t),n===!1&&!Array.isArray(u)&&typeof u!="string"&&typeof u!="boolean"&&u instanceof Object&&(this.allowCreation=!1,n=this._handleObject(u,l,!0),this.allowCreation=r===!1)),n!==!1){o=!0;const c=this._getValue(l);if(Array.isArray(u))this._handleArray(u,c,l);else if(typeof u=="string")this._makeTextInput(u,c,l);else if(typeof u=="boolean")this._makeCheckbox(u,c,l);else if(u instanceof Object){if(!this.hideOption(t,a,this.moduleOptions))if(u.enabled!==void 0){const d=qo(l,"enabled"),h=this._getValue(d);if(h===!0){const f=this._makeLabel(a,l,!0);this._makeItem(l,f),o=this._handleObject(u,l)||o}else this._makeCheckbox(u,h,l)}else{const d=this._makeLabel(a,l,!0);this._makeItem(l,d),o=this._handleObject(u,l)||o}}else console.error("dont know how to handle",u,a,l)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){const r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t,r={}){let n=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(n[t[s]]===void 0&&(n[t[s]]={}),s!==t.length-1?n=n[t[s]]:n[t[s]]=e);return r}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(sb("pre","const options = "+JSON.stringify(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},l8=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=parseInt(e),this.y=parseInt(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const t=this.frame.clientHeight,r=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let u=!1,l=!0;this.y-t<this.padding&&(l=!1),this.x+r>s-this.padding&&(u=!0),u?o=this.x-r:o=this.x,l?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>n&&(a=n-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Kn=!1,yP;const ob="background: #FFeeee; color: #dd0000";let c8=class Te{static validate(e,t,r){Kn=!1,yP=t;let n=t;return r!==void 0&&(n=t[r]),Te.parse(e,n,[]),Kn}static parse(e,t,r){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&Te.check(n,e,t,r)}static check(e,t,r,n){if(r[e]===void 0&&r.__any__===void 0){Te.getSuggestion(e,r,n);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=Te.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),Te.checkFields(e,t,r,s,a,n)}static checkFields(e,t,r,n,s,o){const a=function(c){console.error("%c"+c+Te.printLocation(o,e),ob)},u=Te.getType(t[e]),l=s[u];l!==void 0?Te.getType(l)==="array"&&l.indexOf(t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+Te.print(l)+' not "'+t[e]+'". '),Kn=!0):u==="object"&&n!=="__any__"&&(o=qo(o,e),Te.parse(t[e],r[n],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+Te.print(Object.keys(s))+". Received ["+u+'] "'+t[e]+'"'),Kn=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){const n=Te.findInOptions(e,t,r,!1),s=Te.findInOptions(e,yP,[],!0),o=8,a=4;let u;n.indexMatch!==void 0?u=" in "+Te.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+`"?

`:s.distance<=a&&n.distance>s.distance?u=" in "+Te.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Te.printLocation(s.path,s.closestMatch,""):n.distance<=o?u='. Did you mean "'+n.closestMatch+'"?'+Te.printLocation(n.path,e):u=". Did you mean one of these: "+Te.print(Object.keys(t))+Te.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+u,ob),Kn=!0}static findInOptions(e,t,r,n=!1){let s=1e9,o="",a=[];const u=e.toLowerCase();let l;for(const c in t){let d;if(t[c].__type__!==void 0&&n===!0){const h=Te.findInOptions(e,t[c],qo(r,c));s>h.distance&&(o=h.closestMatch,a=h.path,s=h.distance,l=h.indexMatch)}else c.toLowerCase().indexOf(u)!==-1&&(l=c),d=Te.levenshteinDistance(e,c),s>d&&(o=c,a=e8(r),s=d)}return{closestMatch:o,path:a,distance:s,indexMatch:l}}static printLocation(e,t,r=`Problem value found at: 
`){let n=`

`+r+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)n+="  ";n+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)n+="  ";n+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)n+="  ";n+=`}
`}return n+`

`}static print(e){return JSON.stringify(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const r=[];let n;for(n=0;n<=t.length;n++)r[n]=[n];let s;for(s=0;s<=e.length;s++)r[0][s]=s;for(n=1;n<=t.length;n++)for(s=1;s<=e.length;s++)t.charAt(n-1)==e.charAt(s-1)?r[n][s]=r[n-1][s-1]:r[n][s]=Math.min(r[n-1][s-1]+1,Math.min(r[n][s-1]+1,r[n-1][s]+1));return r[t.length][e.length]}};const d8=Wt,h8=u8,Wi=Qb,f8=l8,VN=ob,v8=c8;var bP={},Xf={},_P;function t1(){if(_P)return Xf;_P=1;var i=Re(),e=cN(),t=$t(),r=Kt(),n=Bt(),s=Gs();return Xf.f=i&&!e?Object.defineProperties:function(a,u){r(a);for(var l=n(u),c=s(u),d=c.length,h=0,f;d>h;)t.f(a,f=c[h++],l[f]);return a},Xf}var Zf,wP;function p8(){if(wP)return Zf;wP=1;var i=pt();return Zf=i("document","documentElement"),Zf}var Jf,EP;function da(){if(EP)return Jf;EP=1;var i=wn(),e=ia(),t=i("keys");return Jf=function(r){return t[r]||(t[r]=e(r))},Jf}var Qf,SP;function Qs(){if(SP)return Qf;SP=1;var i=Kt(),e=t1(),t=Hb(),r=Us(),n=p8(),s=uN(),o=da(),a=">",u="<",l="prototype",c="script",d=o("IE_PROTO"),h=function(){},f=function(m){return u+c+a+m+u+"/"+c+a},v=function(m){m.write(f("")),m.close();var O=m.parentWindow.Object;return m=null,O},g=function(){var m=s("iframe"),O="java"+c+":",y;return m.style.display="none",n.appendChild(m),m.src=String(O),y=m.contentWindow.document,y.open(),y.write(f("document.F=Object")),y.close(),y.F},b,p=function(){try{b=new ActiveXObject("htmlfile")}catch{}p=typeof document<"u"?document.domain&&b?v(b):g():v(b);for(var m=t.length;m--;)delete p[l][t[m]];return p()};return r[d]=!0,Qf=Object.create||function(O,y){var S;return O!==null?(h[l]=i(O),S=new h,h[l]=null,S[d]=O):S=p(),y===void 0?S:e.f(S,y)},Qf}var OP;function g8(){if(OP)return bP;OP=1;var i=H(),e=Re(),t=Qs();return i({target:"Object",stat:!0,sham:!e},{create:t}),bP}var ev,IP;function m8(){if(IP)return ev;IP=1,g8();var i=fe(),e=i.Object;return ev=function(r,n){return e.create(r,n)},ev}var tv,$P;function y8(){if($P)return tv;$P=1;var i=m8();return tv=i,tv}var rv,TP;function b8(){return TP||(TP=1,rv=y8()),rv}var _8=b8(),is=Y(_8),PP={},iv,RP;function Tn(){if(RP)return iv;RP=1;var i=oe();return iv=function(e,t){var r=[][e];return!!r&&i(function(){r.call(null,t||function(){return 1},1)})},iv}var xP;function w8(){if(xP)return PP;xP=1;var i=H(),e=Bb(),t=Wb().indexOf,r=Tn(),n=e([].indexOf),s=!!n&&1/n([1],1,-0)<0,o=s||!r("indexOf");return i({target:"Array",proto:!0,forced:o},{indexOf:function(u){var l=arguments.length>1?arguments[1]:void 0;return s?n(this,u,l)||0:t(this,u,l)}}),PP}var nv,CP;function E8(){if(CP)return nv;CP=1,w8();var i=Ze();return nv=i("Array","indexOf"),nv}var sv,qP;function S8(){if(qP)return sv;qP=1;var i=Ne(),e=E8(),t=Array.prototype;return sv=function(r){var n=r.indexOf;return r===t||i(t,r)&&n===t.indexOf?e:n},sv}var ov,DP;function O8(){if(DP)return ov;DP=1;var i=S8();return ov=i,ov}var av,kP;function I8(){return kP||(kP=1,av=O8()),av}var $8=I8(),Oe=Y($8),MP={},uv,AP;function r1(){return AP||(AP=1,uv=function(){}),uv}var NP;function T8(){if(NP)return MP;NP=1;var i=H(),e=Wb().includes,t=oe(),r=r1(),n=t(function(){return!Array(1).includes()});return i({target:"Array",proto:!0,forced:n},{includes:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),r("includes"),MP}var lv,FP;function P8(){if(FP)return lv;FP=1,T8();var i=Ze();return lv=i("Array","includes"),lv}var BP={},cv,jP;function R8(){if(jP)return cv;jP=1;var i=Ve(),e=Gt(),t=Fe(),r=t("match");return cv=function(n){var s;return i(n)&&((s=n[r])!==void 0?!!s:e(n)==="RegExp")},cv}var dv,LP;function x8(){if(LP)return dv;LP=1;var i=R8(),e=TypeError;return dv=function(t){if(i(t))throw new e("The method doesn't accept regular expressions");return t},dv}var hv,zP;function i1(){if(zP)return hv;zP=1;var i=Fe(),e=i("toStringTag"),t={};return t[e]="z",hv=String(t)==="[object z]",hv}var fv,WP;function Pn(){if(WP)return fv;WP=1;var i=i1(),e=He(),t=Gt(),r=Fe(),n=r("toStringTag"),s=Object,o=t(function(){return arguments}())==="Arguments",a=function(u,l){try{return u[l]}catch{}};return fv=i?t:function(u){var l,c,d;return u===void 0?"Undefined":u===null?"Null":typeof(c=a(l=s(u),n))=="string"?c:o?t(l):(d=t(l))==="Object"&&e(l.callee)?"Arguments":d},fv}var vv,HP;function Pt(){if(HP)return vv;HP=1;var i=Pn(),e=String;return vv=function(t){if(i(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},vv}var pv,VP;function C8(){if(VP)return pv;VP=1;var i=Fe(),e=i("match");return pv=function(t){var r=/./;try{"/./"[t](r)}catch{try{return r[e]=!1,"/./"[t](r)}catch{}}return!1},pv}var UP;function q8(){if(UP)return BP;UP=1;var i=H(),e=ae(),t=x8(),r=hr(),n=Pt(),s=C8(),o=e("".indexOf);return i({target:"String",proto:!0,forced:!s("includes")},{includes:function(u){return!!~o(n(r(this)),n(t(u)),arguments.length>1?arguments[1]:void 0)}}),BP}var gv,GP;function D8(){if(GP)return gv;GP=1,q8();var i=Ze();return gv=i("String","includes"),gv}var mv,KP;function k8(){if(KP)return mv;KP=1;var i=Ne(),e=P8(),t=D8(),r=Array.prototype,n=String.prototype;return mv=function(s){var o=s.includes;return s===r||i(r,s)&&o===r.includes?e:typeof s=="string"||s===n||i(n,s)&&o===n.includes?t:o},mv}var yv,YP;function M8(){if(YP)return yv;YP=1;var i=k8();return yv=i,yv}var bv,XP;function A8(){return XP||(XP=1,bv=M8()),bv}var N8=A8(),ns=Y(N8),ZP={},_v,JP;function _i(){if(JP)return _v;JP=1;var i=Gt();return _v=Array.isArray||function(t){return i(t)==="Array"},_v}var wv,QP;function F8(){if(QP)return wv;QP=1;var i=Re(),e=_i(),t=TypeError,r=Object.getOwnPropertyDescriptor,n=i&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return wv=n?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},wv}var Ev,eR;function UN(){if(eR)return Ev;eR=1;var i=TypeError,e=9007199254740991;return Ev=function(t){if(t>e)throw i("Maximum allowed index exceeded");return t},Ev}var Sv,tR;function B8(){if(tR)return Sv;tR=1;var i=ae(),e=He(),t=Lb(),r=i(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(n){return r(n)}),Sv=t.inspectSource,Sv}var Ov,rR;function GN(){if(rR)return Ov;rR=1;var i=ae(),e=oe(),t=He(),r=Pn(),n=pt(),s=B8(),o=function(){},a=n("Reflect","construct"),u=/^\s*(?:class|function)\b/,l=i(u.exec),c=!u.test(o),d=function(v){if(!t(v))return!1;try{return a(o,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return c||!!l(u,s(v))}catch{return!0}};return h.sham=!0,Ov=!a||e(function(){var f;return d(d.call)||!d(Object)||!d(function(){f=!0})||f})?h:d,Ov}var Iv,iR;function j8(){if(iR)return Iv;iR=1;var i=_i(),e=GN(),t=Ve(),r=Fe(),n=r("species"),s=Array;return Iv=function(o){var a;return i(o)&&(a=o.constructor,e(a)&&(a===s||i(a.prototype))?a=void 0:t(a)&&(a=a[n],a===null&&(a=void 0))),a===void 0?s:a},Iv}var $v,nR;function n1(){if(nR)return $v;nR=1;var i=j8();return $v=function(e,t){return new(i(e))(t===0?0:t)},$v}var Tv,sR;function ha(){if(sR)return Tv;sR=1;var i=Re(),e=$t(),t=Ws();return Tv=function(r,n,s){i?e.f(r,n,t(0,s)):r[n]=s},Tv}var Pv,oR;function KN(){if(oR)return Pv;oR=1;var i=bn(),e=TypeError;return Pv=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+i(r)+" of "+i(t))},Pv}var Rv,aR;function eo(){if(aR)return Rv;aR=1;var i=oe(),e=Fe(),t=Hs(),r=e("species");return Rv=function(n){return t>=51||!i(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[n](Boolean).foo!==1})},Rv}var uR;function L8(){if(uR)return ZP;uR=1;var i=H(),e=It(),t=oa(),r=Sn(),n=vr(),s=F8(),o=UN(),a=n1(),u=ha(),l=KN(),c=eo(),d=c("splice"),h=Math.max,f=Math.min;return i({target:"Array",proto:!0,forced:!d},{splice:function(g,b){var p=e(this),m=n(p),O=t(g,m),y=arguments.length,S,I,w,_,E,$;for(y===0?S=I=0:y===1?(S=0,I=m-O):(S=y-2,I=f(h(r(b),0),m-O)),o(m+S-I),w=a(p,I),_=0;_<I;_++)E=O+_,E in p&&u(w,_,p[E]);if(w.length=I,S<I){for(_=O;_<m-I;_++)E=_+I,$=_+S,E in p?p[$]=p[E]:l(p,$);for(_=m;_>m-I+S;_--)l(p,_-1)}else if(S>I)for(_=m-I;_>O;_--)E=_+I-1,$=_+S-1,E in p?p[$]=p[E]:l(p,$);for(_=0;_<S;_++)p[_+O]=arguments[_+2];return s(p,m-I+S),w}}),ZP}var xv,lR;function z8(){if(lR)return xv;lR=1,L8();var i=Ze();return xv=i("Array","splice"),xv}var Cv,cR;function W8(){if(cR)return Cv;cR=1;var i=Ne(),e=z8(),t=Array.prototype;return Cv=function(r){var n=r.splice;return r===t||i(t,r)&&n===t.splice?e:n},Cv}var qv,dR;function H8(){if(dR)return qv;dR=1;var i=W8();return qv=i,qv}var Dv,hR;function V8(){return hR||(hR=1,Dv=H8()),Dv}var U8=V8(),Or=Y(U8),fR={},vR;function G8(){if(vR)return fR;vR=1;var i=H(),e=_i();return i({target:"Array",stat:!0},{isArray:e}),fR}var kv,pR;function K8(){if(pR)return kv;pR=1,G8();var i=fe();return kv=i.Array.isArray,kv}var Mv,gR;function Y8(){if(gR)return Mv;gR=1;var i=K8();return Mv=i,Mv}var Av,mR;function X8(){return mR||(mR=1,Av=Y8()),Av}var Z8=X8(),Dt=Y(Z8),yR={},Nv,bR;function Dr(){if(bR)return Nv;bR=1;var i=sa(),e=ae(),t=ra(),r=It(),n=vr(),s=n1(),o=e([].push),a=function(u){var l=u===1,c=u===2,d=u===3,h=u===4,f=u===6,v=u===7,g=u===5||f;return function(b,p,m,O){for(var y=r(b),S=t(y),I=n(S),w=i(p,m),_=0,E=O||s,$=l?E(b,I):c||v?E(b,0):void 0,T,P;I>_;_++)if((g||_ in S)&&(T=S[_],P=w(T,_,y),u))if(l)$[_]=P;else if(P)switch(u){case 3:return!0;case 5:return T;case 6:return _;case 2:o($,T)}else switch(u){case 4:return!1;case 7:o($,T)}return f?-1:d||h?h:$}};return Nv={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},Nv}var Fv,_R;function J8(){if(_R)return Fv;_R=1;var i=Dr().forEach,e=Tn(),t=e("forEach");return Fv=t?[].forEach:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)},Fv}var wR;function Q8(){if(wR)return yR;wR=1;var i=H(),e=J8();return i({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),yR}var Bv,ER;function eW(){if(ER)return Bv;ER=1,Q8();var i=Ze();return Bv=i("Array","forEach"),Bv}var jv,SR;function tW(){if(SR)return jv;SR=1;var i=eW();return jv=i,jv}var Lv,OR;function rW(){if(OR)return Lv;OR=1;var i=Pn(),e=Xe(),t=Ne(),r=tW(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Lv=function(o){var a=o.forEach;return o===n||t(n,o)&&a===n.forEach||e(s,i(o))?r:a},Lv}var zv,IR;function iW(){return IR||(IR=1,zv=rW()),zv}var nW=iW(),_e=Y(nW);function sW(i){return br=i,lW()}var YN={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},s1=is(YN);s1.color="color.color";s1.style="dashes";var it={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},$R={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},br="",rn=0,ie="",G="",ut=it.NULL;function oW(){rn=0,ie=br.charAt(0)}function je(){rn++,ie=br.charAt(rn)}function xi(){return br.charAt(rn+1)}function TR(i){var e=i.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function $r(i,e){if(i||(i={}),e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function aW(i,e,t){for(var r=e.split("."),n=i;r.length;){var s=r.shift();r.length?(n[s]||(n[s]={}),n=n[s]):n[s]=t}}function XN(i,e){for(var t,r,n=null,s=[i],o=i;o.parent;)s.push(o.parent),o=o.parent;if(o.nodes){for(t=0,r=o.nodes.length;t<r;t++)if(e.id===o.nodes[t].id){n=o.nodes[t];break}}for(n||(n={id:e.id},i.node&&(n.attr=$r(n.attr,i.node))),t=s.length-1;t>=0;t--){var a,u=s[t];u.nodes||(u.nodes=[]),Oe(a=u.nodes).call(a,n)===-1&&u.nodes.push(n)}e.attr&&(n.attr=$r(n.attr,e.attr))}function uW(i,e){if(i.edges||(i.edges=[]),i.edges.push(e),i.edge){var t=$r({},i.edge);e.attr=$r(t,e.attr)}}function ZN(i,e,t,r,n){var s={from:e,to:t,type:r};return i.edge&&(s.attr=$r({},i.edge)),s.attr=$r(s.attr||{},n),n!=null&&n.hasOwnProperty("arrows")&&n.arrows!=null&&(s.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),s}function me(){for(ut=it.NULL,G="";ie===" "||ie==="	"||ie===`
`||ie==="\r";)je();do{var i=!1;if(ie==="#"){for(var e=rn-1;br.charAt(e)===" "||br.charAt(e)==="	";)e--;if(br.charAt(e)===`
`||br.charAt(e)===""){for(;ie!=""&&ie!=`
`;)je();i=!0}}if(ie==="/"&&xi()==="/"){for(;ie!=""&&ie!=`
`;)je();i=!0}if(ie==="/"&&xi()==="*"){for(;ie!="";)if(ie==="*"&&xi()==="/"){je(),je();break}else je();i=!0}for(;ie===" "||ie==="	"||ie===`
`||ie==="\r";)je()}while(i);if(ie===""){ut=it.DELIMITER;return}var t=ie+xi();if($R[t]){ut=it.DELIMITER,G=t,je(),je();return}if($R[ie]){ut=it.DELIMITER,G=ie,je();return}if(TR(ie)||ie==="-"){for(G+=ie,je();TR(ie);)G+=ie,je();G==="false"?G=!1:G==="true"?G=!0:isNaN(Number(G))||(G=Number(G)),ut=it.IDENTIFIER;return}if(ie==='"'){for(je();ie!=""&&(ie!='"'||ie==='"'&&xi()==='"');)ie==='"'?(G+=ie,je()):ie==="\\"&&xi()==="n"?(G+=`
`,je()):G+=ie,je();if(ie!='"')throw nt('End of string " expected');je(),ut=it.IDENTIFIER;return}for(ut=it.UNKNOWN;ie!="";)G+=ie,je();throw new SyntaxError('Syntax error in part "'+tF(G,30)+'"')}function lW(){var i={};if(oW(),me(),G==="strict"&&(i.strict=!0,me()),(G==="graph"||G==="digraph")&&(i.type=G,me()),ut===it.IDENTIFIER&&(i.id=G,me()),G!="{")throw nt("Angle bracket { expected");if(me(),JN(i),G!="}")throw nt("Angle bracket } expected");if(me(),G!=="")throw nt("End of file expected");return me(),delete i.node,delete i.edge,delete i.graph,i}function JN(i){for(;G!==""&&G!="}";)cW(i),G===";"&&me()}function cW(i){var e=QN(i);if(e){eF(i,e);return}var t=dW(i);if(!t){if(ut!=it.IDENTIFIER)throw nt("Identifier expected");var r=G;if(me(),G==="="){if(me(),ut!=it.IDENTIFIER)throw nt("Identifier expected");i[r]=G,me()}else hW(i,r)}}function QN(i){var e=null;if(G==="subgraph"&&(e={},e.type="subgraph",me(),ut===it.IDENTIFIER&&(e.id=G,me())),G==="{"){if(me(),e||(e={}),e.parent=i,e.node=i.node,e.edge=i.edge,e.graph=i.graph,JN(e),G!="}")throw nt("Angle bracket } expected");me(),delete e.node,delete e.edge,delete e.graph,delete e.parent,i.subgraphs||(i.subgraphs=[]),i.subgraphs.push(e)}return e}function dW(i){return G==="node"?(me(),i.node=ss(),"node"):G==="edge"?(me(),i.edge=ss(),"edge"):G==="graph"?(me(),i.graph=ss(),"graph"):null}function hW(i,e){var t={id:e},r=ss();r&&(t.attr=r),XN(i,t),eF(i,e)}function eF(i,e){for(;G==="->"||G==="--";){var t,r=G;me();var n=QN(i);if(n)t=n;else{if(ut!=it.IDENTIFIER)throw nt("Identifier or subgraph expected");t=G,XN(i,{id:t}),me()}var s=ss(),o=ZN(i,e,t,r,s);uW(i,o),e=t}}function ss(){for(var i,e=null,t={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},n=new Array,s=new Array;G==="[";){for(me(),e={};G!==""&&G!="]";){if(ut!=it.IDENTIFIER)throw nt("Attribute name expected");var o=G;if(me(),G!="=")throw nt("Equal sign = expected");if(me(),ut!=it.IDENTIFIER)throw nt("Attribute value expected");var a=G;o==="style"&&(a=t[a]);var u;o==="arrowhead"&&(u=r[a],o="arrows",a={to:{enabled:!0,type:u}}),o==="arrowtail"&&(u=r[a],o="arrows",a={from:{enabled:!0,type:u}}),n.push({attr:e,name:o,value:a}),s.push(o),me(),G==","&&me()}if(G!="]")throw nt("Bracket ] expected");me()}if(ns(s).call(s,"dir")){var l={};for(l.arrows={},i=0;i<n.length;i++)if(n[i].name==="arrows")if(n[i].value.to!=null)l.arrows.to=i;else if(n[i].value.from!=null)l.arrows.from=i;else throw nt("Invalid value of arrows");else n[i].name==="dir"&&(l.dir=i);var c=n[l.dir].value;if(!ns(s).call(s,"arrows"))if(c==="both")n.push({attr:n[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=n.length-1,n.push({attr:n[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=n.length-1;else if(c==="forward")n.push({attr:n[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=n.length-1;else if(c==="back")n.push({attr:n[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=n.length-1;else if(c==="none")n.push({attr:n[l.dir].attr,name:"arrows",value:""}),l.arrows.to=n.length-1;else throw nt('Invalid dir type "'+c+'"');var d,h;if(c==="both")l.arrows.to&&l.arrows.from?(h=n[l.arrows.to].value.to.type,d=n[l.arrows.from].value.from.type,n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:d}}},Or(n).call(n,l.arrows.from,1)):l.arrows.to?(h=n[l.arrows.to].value.to.type,d="arrow",n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:d}}}):l.arrows.from&&(h="arrow",d=n[l.arrows.from].value.from.type,n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:d}}});else if(c==="back")l.arrows.to&&l.arrows.from?(h="",d=n[l.arrows.from].value.from.type,n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:d}}}):l.arrows.to?(h="",d="arrow",l.arrows.from=l.arrows.to,n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:d}}}):l.arrows.from&&(h="",d=n[l.arrows.from].value.from.type,n[l.arrows.to]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:d}}}),n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{from:{enabled:!0,type:n[l.arrows.from].value.from.type}}};else if(c==="none"){var f;l.arrows.to?f=l.arrows.to:f=l.arrows.from,n[f]={attr:n[f].attr,name:n[f].name,value:""}}else if(c==="forward")l.arrows.to&&l.arrows.from?(h=n[l.arrows.to].value.to.type,d="",n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:d}}}):l.arrows.to?(h=n[l.arrows.to].value.to.type,d="",n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:d}}}):l.arrows.from&&(h="arrow",d="",l.arrows.to=l.arrows.from,n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:d}}}),n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:n[l.arrows.to].value.to.type}}};else throw nt('Invalid dir type "'+c+'"');Or(n).call(n,l.dir,1)}var v;if(ns(s).call(s,"penwidth")){var g=[];for(v=n.length,i=0;i<v;i++)n[i].name!=="width"&&(n[i].name==="penwidth"&&(n[i].name="width"),g.push(n[i]));n=g}for(v=n.length,i=0;i<v;i++)aW(n[i].attr,n[i].name,n[i].value);return e}function nt(i){return new SyntaxError(i+', got "'+tF(G,30)+'" (char '+rn+")")}function tF(i,e){return i.length<=e?i:i.substr(0,27)+"..."}function fW(i,e,t){Dt(i)?_e(i).call(i,function(r){Dt(e)?_e(e).call(e,function(n){t(r,n)}):t(r,e)}):Dt(e)?_e(e).call(e,function(r){t(i,r)}):t(i,e)}function Wv(i,e,t){for(var r=e.split("."),n=r.pop(),s=i,o=0;o<r.length;o++){var a=r[o];a in s||(s[a]={}),s=s[a]}return s[n]=t,i}function PR(i,e){var t={};for(var r in i)if(i.hasOwnProperty(r)){var n=e[r];Dt(n)?_e(n).call(n,function(s){Wv(t,s,i[r])}):typeof n=="string"?Wv(t,n,i[r]):Wv(t,r,i[r])}return t}function vW(i){var e=sW(i),t={nodes:[],edges:[],options:{}};if(e.nodes){var r;_e(r=e.nodes).call(r,function(o){var a={id:o.id,label:String(o.label||o.id)};$r(a,PR(o.attr,YN)),a.image&&(a.shape="image"),t.nodes.push(a)})}if(e.edges){var n,s=function(o){var a={from:o.from,to:o.to};return $r(a,PR(o.attr,s1)),a.arrows==null&&o.type==="->"&&(a.arrows="to"),a};_e(n=e.edges).call(n,function(o){var a,u;if(o.from instanceof Object?a=o.from.nodes:a={id:o.from},o.to instanceof Object?u=o.to.nodes:u={id:o.to},o.from instanceof Object&&o.from.edges){var l;_e(l=o.from.edges).call(l,function(d){var h=s(d);t.edges.push(h)})}if(fW(a,u,function(d,h){var f=ZN(t,d.id,h.id,o.type,o.attr),v=s(f);t.edges.push(v)}),o.to instanceof Object&&o.to.edges){var c;_e(c=o.to.edges).call(c,function(d){var h=s(d);t.edges.push(h)})}})}return e.attr&&(t.options=e.attr),t}var RR={},xR;function pW(){if(xR)return RR;xR=1;var i=H(),e=Dr().map,t=eo(),r=t("map");return i({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),RR}var Hv,CR;function gW(){if(CR)return Hv;CR=1,pW();var i=Ze();return Hv=i("Array","map"),Hv}var Vv,qR;function mW(){if(qR)return Vv;qR=1;var i=Ne(),e=gW(),t=Array.prototype;return Vv=function(r){var n=r.map;return r===t||i(t,r)&&n===t.map?e:n},Vv}var Uv,DR;function yW(){if(DR)return Uv;DR=1;var i=mW();return Uv=i,Uv}var Gv,kR;function bW(){return kR||(kR=1,Gv=yW()),Gv}var _W=bW(),_s=Y(_W);function wW(i,e){var t;const r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(r.nodes.fixed=e.fixed),e.parseColor!=null&&(r.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(r.edges.inheritColor=e.inheritColor));const n=i.edges,s=_s(n).call(n,a=>{const u={from:a.source,id:a.id,to:a.target};return a.attributes!=null&&(u.attributes=a.attributes),a.label!=null&&(u.label=a.label),a.attributes!=null&&a.attributes.title!=null&&(u.title=a.attributes.title),a.type==="Directed"&&(u.arrows="to"),a.color&&r.edges.inheritColor===!1&&(u.color=a.color),u});return{nodes:_s(t=i.nodes).call(t,a=>{const u={id:a.id,fixed:r.nodes.fixed&&a.x!=null&&a.y!=null};return a.attributes!=null&&(u.attributes=a.attributes),a.label!=null&&(u.label=a.label),a.size!=null&&(u.size=a.size),a.attributes!=null&&a.attributes.title!=null&&(u.title=a.attributes.title),a.title!=null&&(u.title=a.title),a.x!=null&&(u.x=a.x),a.y!=null&&(u.y=a.y),a.color!=null&&(r.nodes.parseColor===!0?u.color=a.color:u.color={background:a.color,border:a.color,highlight:{background:a.color,border:a.color},hover:{background:a.color,border:a.color}}),u}),edges:s}}const EW={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},SW={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufÃ¼gen",addNode:"Knoten hinzufÃ¼gen",back:"ZurÃ¼ck",close:"SchlieÃen",createEdgeError:"Es ist nicht mÃ¶glich, Kanten mit Clustern zu verbinden.",del:"LÃ¶sche Auswahl",deleteClusterError:"Cluster kÃ¶nnen nicht gelÃ¶scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster kÃ¶nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},OW={addDescription:"Haga clic en un lugar vacÃ­o para colocar un nuevo nodo.",addEdge:"AÃ±adir arista",addNode:"AÃ±adir nodo",back:"AtrÃ¡s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecciÃ³n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},IW={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},$W={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},TW={addDescription:"Clique em um espaÃ§o em branco para adicionar um novo nÃ³",addEdge:"Adicionar aresta",addNode:"Adicionar nÃ³",back:"Voltar",close:"Fechar",createEdgeError:"NÃ£o foi possÃ­vel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters nÃ£o puderam ser removidos.",edgeDescription:"Clique em um nÃ³ e arraste a aresta atÃ© outro nÃ³ para conectÃ¡-los",edit:"Editar",editClusterError:"Clusters nÃ£o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nÃ³ para conectÃ¡-los",editNode:"Editar nÃ³"},PW={addDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð² ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ðµ Ð¼ÐµÑÑÐ¾, ÑÑÐ¾Ð±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÐ¹ ÑÐ·ÐµÐ».",addEdge:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ±ÑÐ¾",addNode:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ·ÐµÐ»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÑÐ²Ð°ÑÑ",createEdgeError:"ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ ÑÐµÐ±ÑÐ° Ð² ÐºÐ»Ð°ÑÑÐµÑ.",del:"Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ðµ",deleteClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½Ðµ Ð¼Ð¾Ð³ÑÑ Ð±ÑÑÑ ÑÐ´Ð°Ð»ÐµÐ½Ñ",edgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÑÐ·ÐµÐ» Ð¸ Ð¿ÑÐ¾ÑÑÐ½Ð¸ÑÐµ ÑÐµÐ±ÑÐ¾ Ðº Ð´ÑÑÐ³Ð¾Ð¼Ñ ÑÐ·Ð»Ñ, ÑÑÐ¾Ð±Ñ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ Ð¸Ñ.",edit:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ",editClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ.",editEdge:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐµÐ±ÑÐ¾",editEdgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½ÑÐµ ÑÐ¾ÑÐºÐ¸ Ð¸ Ð¿ÐµÑÐµÑÐ°ÑÐ¸ÑÐµ Ð¸Ñ Ð² ÑÐ·ÐµÐ», ÑÑÐ¾Ð±Ñ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ¸ÑÑÑÑ Ðº Ð½ÐµÐ¼Ñ.",editNode:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐ·ÐµÐ»"},RW={addDescription:"åå»ç©ºç½å¤æ¾ç½®æ°èç¹ã",addEdge:"æ·»å è¿æ¥çº¿",addNode:"æ·»å èç¹",back:"è¿å",close:"éé",createEdgeError:"æ æ³å°è¿æ¥çº¿è¿æ¥å°ç¾¤éã",del:"å é¤éå®",deleteClusterError:"æ æ³å é¤ç¾¤éã",edgeDescription:"åå»æä¸ªèç¹å¹¶å°è¯¥è¿æ¥çº¿æå¨å°å¦ä¸ä¸ªèç¹ä»¥è¿æ¥å®ä»¬ã",edit:"ç¼è¾",editClusterError:"æ æ³ç¼è¾ç¾¤éã",editEdge:"ç¼è¾è¿æ¥çº¿",editEdgeDescription:"åå»æ§å¶èç¹å¹¶å°å®ä»¬æå°èç¹ä¸è¿æ¥ã",editNode:"ç¼è¾èç¹"},xW={addDescription:"KÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ»ÑÐ½Ðµ Ð¼ÑÑÑÐµ, ÑÐ¾Ð± Ð´Ð¾Ð´Ð°ÑÐ¸ Ð½Ð¾Ð²Ð¸Ð¹ Ð²ÑÐ·Ð¾Ð».",addEdge:"ÐÐ¾Ð´Ð°ÑÐ¸ ÐºÑÐ°Ð¹",addNode:"ÐÐ¾Ð´Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÐ¸ÑÐ¸",createEdgeError:"ÐÐµ Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ Ð¾Ð±'ÑÐ´Ð½Ð°ÑÐ¸ ÐºÑÐ°Ñ Ð² Ð³ÑÑÐ¿Ñ.",del:"ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¾Ð±ÑÐ°Ð½Ðµ",deleteClusterError:"ÐÑÑÐ¿Ð¸ Ð½Ðµ Ð¼Ð¾Ð¶ÑÑÑ Ð±ÑÑÐ¸ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ñ.",edgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ·Ð¾Ð» Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÐºÑÐ°Ð¹ Ð´Ð¾ ÑÐ½ÑÐ¾Ð³Ð¾ Ð²ÑÐ·Ð»Ð°, ÑÐ¾Ð± ÑÑ Ð·'ÑÐ´Ð½Ð°ÑÐ¸.",edit:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸",editClusterError:"ÐÑÑÐ¿Ð¸ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°Ð³ÑÐ²Ð°Ð½Ð½Ñ.",editEdge:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ ÐºÑÐ°Ð¹",editEdgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½Ñ ÑÐ¾ÑÐºÐ¸ Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÑÑ Ñ Ð²ÑÐ·Ð¾Ð», ÑÐ¾Ð± Ð¿ÑÐ´ÐºÐ»ÑÑÐ¸ÑÐ¸ÑÑ Ð´Ð¾ Ð½ÑÐ¾Ð³Ð¾.",editNode:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»"},CW={addDescription:"Cliquez dans un endroit vide pour placer un nÅud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nÅud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crÃ©er un lien vers un cluster.",del:"Effacer la sÃ©lection",deleteClusterError:"Les clusters ne peuvent pas Ãªtre effacÃ©s.",edgeDescription:"Cliquez sur un nÅud et glissez le lien vers un autre nÅud pour les connecter.",edit:"Ãditer",editClusterError:"Les clusters ne peuvent pas Ãªtre Ã©ditÃ©s.",editEdge:"Ãditer le lien",editEdgeDescription:"Cliquez sur les points de contrÃ´le et glissez-les pour connecter un nÅud.",editNode:"Ãditer le nÅud"},qW={addDescription:"KluknutÃ­m do prÃ¡zdnÃ©ho prostoru mÅ¯Å¾ete pÅidat novÃ½ vrchol.",addEdge:"PÅidat hranu",addNode:"PÅidat vrchol",back:"ZpÄt",close:"ZavÅÃ­t",createEdgeError:"Nelze pÅipojit hranu ke shluku.",del:"Smazat vÃ½bÄr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"PÅetaÅ¾enÃ­m z jednoho vrcholu do druhÃ©ho mÅ¯Å¾ete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"PÅetaÅ¾enÃ­m kontrolnÃ­ho vrcholu hrany ji mÅ¯Å¾ete pÅipojit k jinÃ©mu vrcholu.",editNode:"Upravit vrchol"};var DW=Object.freeze({__proto__:null,cn:RW,cs:qW,de:SW,en:EW,es:OW,fr:CW,it:IW,nl:$W,pt:TW,ru:PW,uk:xW}),MR={},AR;function rF(){if(AR)return MR;AR=1;var i=H(),e=oe(),t=_i(),r=Ve(),n=It(),s=vr(),o=UN(),a=ha(),u=n1(),l=eo(),c=Fe(),d=Hs(),h=c("isConcatSpreadable"),f=d>=51||!e(function(){var b=[];return b[h]=!1,b.concat()[0]!==b}),v=function(b){if(!r(b))return!1;var p=b[h];return p!==void 0?!!p:t(b)},g=!f||!l("concat");return i({target:"Array",proto:!0,arity:1,forced:g},{concat:function(p){var m=n(this),O=u(m,0),y=0,S,I,w,_,E;for(S=-1,w=arguments.length;S<w;S++)if(E=S===-1?m:arguments[S],v(E))for(_=s(E),o(y+_),I=0;I<_;I++,y++)I in E&&a(O,y,E[I]);else o(y+1),a(O,y++,E);return O.length=y,O}}),MR}var Kv,NR;function kW(){if(NR)return Kv;NR=1,rF();var i=Ze();return Kv=i("Array","concat"),Kv}var Yv,FR;function MW(){if(FR)return Yv;FR=1;var i=Ne(),e=kW(),t=Array.prototype;return Yv=function(r){var n=r.concat;return r===t||i(t,r)&&n===t.concat?e:n},Yv}var Xv,BR;function AW(){if(BR)return Xv;BR=1;var i=MW();return Xv=i,Xv}var Zv,jR;function NW(){return jR||(jR=1,Zv=AW()),Zv}var FW=NW(),BW=Y(FW);function jW(i,e){try{const[r,n]=e.split(/[-_ /]/,2),s=r!=null?r.toLowerCase():null,o=n!=null?n.toUpperCase():null;if(s&&o){const a=s+"-"+o;if(Object.prototype.hasOwnProperty.call(i,a))return a;var t;console.warn(BW(t="Unknown variant ".concat(o," of language ")).call(t,s,"."))}if(s){const a=s;if(Object.prototype.hasOwnProperty.call(i,a))return a;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(r){return console.error(r),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class LW{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,t=this.image.height;this.width=e,this.height=t;const r=Math.floor(t/2),n=Math.floor(t/4),s=Math.floor(t/8),o=Math.floor(t/16),a=Math.floor(e/2),u=Math.floor(e/4),l=Math.floor(e/8),c=Math.floor(e/16);this.canvas.width=3*u,this.canvas.height=r,this.coordinates=[[0,0,a,r],[a,0,u,n],[a,n,l,s],[5*l,n,c,o]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(let r=1;r<this.NUM_ITERATIONS;r++){const n=this.coordinates[r-1],s=this.coordinates[r];e.drawImage(this.canvas,n[0],n[1],n[2],n[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,t,r,n,s,o){if(this.initialized())if(t>2){t*=.5;let a=0;for(;t>2&&a<this.NUM_ITERATIONS;)t*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);const u=this.coordinates[a];e.drawImage(this.canvas,u[0],u[1],u[2],u[3],r,n,s,o)}else e.drawImage(this.image,r,n,s,o)}}class zW{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,t,r){if(!(e===void 0||r===void 0)){if(t===void 0){console.warn("No broken url image defined");return}r.image.onerror=()=>{console.error("Could not load brokenImage:",t)},r.image.src=t}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,t){const r=this.images[e];if(r)return r;const n=new LW;return this.images[e]=n,n.image.onload=()=>{this._fixImageCoordinates(n.image),n.init(),this._redrawWithImage(n)},n.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,t,n)},n.image.src=e,n}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var Jv,LR;function Rn(){return LR||(LR=1,Jv={}),Jv}var Qv,zR;function iF(){if(zR)return Qv;zR=1;var i=Ee(),e=He(),t=i.WeakMap;return Qv=e(t)&&/native code/.test(String(t)),Qv}var ep,WR;function wi(){if(WR)return ep;WR=1;var i=iF(),e=Ee(),t=Ve(),r=En(),n=Xe(),s=Lb(),o=da(),a=Us(),u="Object already initialized",l=e.TypeError,c=e.WeakMap,d,h,f,v=function(m){return f(m)?h(m):d(m,{})},g=function(m){return function(O){var y;if(!t(O)||(y=h(O)).type!==m)throw new l("Incompatible receiver, "+m+" required");return y}};if(i||s.state){var b=s.state||(s.state=new c);b.get=b.get,b.has=b.has,b.set=b.set,d=function(m,O){if(b.has(m))throw new l(u);return O.facade=m,b.set(m,O),O},h=function(m){return b.get(m)||{}},f=function(m){return b.has(m)}}else{var p=o("state");a[p]=!0,d=function(m,O){if(n(m,p))throw new l(u);return O.facade=m,r(m,p,O),O},h=function(m){return n(m,p)?m[p]:{}},f=function(m){return n(m,p)}}return ep={set:d,get:h,has:f,enforce:v,getterFor:g},ep}var tp,HR;function WW(){if(HR)return tp;HR=1;var i=Re(),e=Xe(),t=Function.prototype,r=i&&Object.getOwnPropertyDescriptor,n=e(t,"name"),s=n&&(function(){}).name==="something",o=n&&(!i||i&&r(t,"name").configurable);return tp={EXISTS:n,PROPER:s,CONFIGURABLE:o},tp}var rp,VR;function HW(){if(VR)return rp;VR=1;var i=oe();return rp=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),rp}var ip,UR;function o1(){if(UR)return ip;UR=1;var i=Xe(),e=He(),t=It(),r=da(),n=HW(),s=r("IE_PROTO"),o=Object,a=o.prototype;return ip=n?o.getPrototypeOf:function(u){var l=t(u);if(i(l,s))return l[s];var c=l.constructor;return e(c)&&l instanceof c?c.prototype:l instanceof o?a:null},ip}var np,GR;function to(){if(GR)return np;GR=1;var i=En();return np=function(e,t,r,n){return n&&n.enumerable?e[t]=r:i(e,t,r),e},np}var sp,KR;function nF(){if(KR)return sp;KR=1;var i=oe(),e=He(),t=Ve(),r=Qs(),n=o1(),s=to(),o=Fe(),a=_n(),u=o("iterator"),l=!1,c,d,h;[].keys&&(h=[].keys(),"next"in h?(d=n(n(h)),d!==Object.prototype&&(c=d)):l=!0);var f=!t(c)||i(function(){var v={};return c[u].call(v)!==v});return f?c={}:a&&(c=r(c)),e(c[u])||s(c,u,function(){return this}),sp={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:l},sp}var op,YR;function VW(){if(YR)return op;YR=1;var i=i1(),e=Pn();return op=i?{}.toString:function(){return"[object "+e(this)+"]"},op}var ap,XR;function Ei(){if(XR)return ap;XR=1;var i=i1(),e=$t().f,t=En(),r=Xe(),n=VW(),s=Fe(),o=s("toStringTag");return ap=function(a,u,l,c){var d=l?a:a&&a.prototype;d&&(r(d,o)||e(d,o,{configurable:!0,value:u}),c&&!i&&t(d,"toString",n))},ap}var up,ZR;function UW(){if(ZR)return up;ZR=1;var i=nF().IteratorPrototype,e=Qs(),t=Ws(),r=Ei(),n=Rn(),s=function(){return this};return up=function(o,a,u,l){var c=a+" Iterator";return o.prototype=e(i,{next:t(+!l,u)}),r(o,c,!1,!0),n[c]=s,o},up}var lp,JR;function GW(){if(JR)return lp;JR=1;var i=ae(),e=fr();return lp=function(t,r,n){try{return i(e(Object.getOwnPropertyDescriptor(t,r)[n]))}catch{}},lp}var cp,QR;function KW(){if(QR)return cp;QR=1;var i=Ve();return cp=function(e){return i(e)||e===null},cp}var dp,ex;function YW(){if(ex)return dp;ex=1;var i=KW(),e=String,t=TypeError;return dp=function(r){if(i(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},dp}var hp,tx;function XW(){if(tx)return hp;tx=1;var i=GW(),e=Ve(),t=hr(),r=YW();return hp=Object.setPrototypeOf||("__proto__"in{}?function(){var n=!1,s={},o;try{o=i(Object.prototype,"__proto__","set"),o(s,[]),n=s instanceof Array}catch{}return function(u,l){return t(u),r(l),e(u)&&(n?o(u,l):u.__proto__=l),u}}():void 0),hp}var fp,rx;function a1(){if(rx)return fp;rx=1;var i=H(),e=ft(),t=_n(),r=WW(),n=He(),s=UW(),o=o1(),a=XW(),u=Ei(),l=En(),c=to(),d=Fe(),h=Rn(),f=nF(),v=r.PROPER,g=r.CONFIGURABLE,b=f.IteratorPrototype,p=f.BUGGY_SAFARI_ITERATORS,m=d("iterator"),O="keys",y="values",S="entries",I=function(){return this};return fp=function(w,_,E,$,T,P,R){s(E,_,$);var C=function(Se){if(Se===T&&re)return re;if(!p&&Se&&Se in j)return j[Se];switch(Se){case O:return function(){return new E(this,Se)};case y:return function(){return new E(this,Se)};case S:return function(){return new E(this,Se)}}return function(){return new E(this)}},k=_+" Iterator",K=!1,j=w.prototype,Q=j[m]||j["@@iterator"]||T&&j[T],re=!p&&Q||C(T),he=_==="Array"&&j.entries||Q,W,le,ve;if(he&&(W=o(he.call(new w)),W!==Object.prototype&&W.next&&(!t&&o(W)!==b&&(a?a(W,b):n(W[m])||c(W,m,I)),u(W,k,!0,!0),t&&(h[k]=I))),v&&T===y&&Q&&Q.name!==y&&(!t&&g?l(j,"name",y):(K=!0,re=function(){return e(Q,this)})),T)if(le={values:C(y),keys:P?re:C(O),entries:C(S)},R)for(ve in le)(p||K||!(ve in j))&&c(j,ve,le[ve]);else i({target:_,proto:!0,forced:p||K},le);return(!t||R)&&j[m]!==re&&c(j,m,re,{name:T}),h[_]=re,le},fp}var vp,ix;function u1(){return ix||(ix=1,vp=function(i,e){return{value:i,done:e}}),vp}var pp,nx;function xn(){if(nx)return pp;nx=1;var i=Bt(),e=r1(),t=Rn(),r=wi(),n=$t().f,s=a1(),o=u1(),a=_n(),u=Re(),l="Array Iterator",c=r.set,d=r.getterFor(l);pp=s(Array,"Array",function(f,v){c(this,{type:l,target:i(f),index:0,kind:v})},function(){var f=d(this),v=f.target,g=f.index++;if(!v||g>=v.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(g,!1);case"values":return o(v[g],!1)}return o([g,v[g]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&u&&h.name!=="values")try{n(h,"name",{value:"values"})}catch{}return pp}var sx={},ox={},gp={exports:{}},mp={},ax;function fa(){if(ax)return mp;ax=1;var i=hN(),e=Hb(),t=e.concat("length","prototype");return mp.f=Object.getOwnPropertyNames||function(n){return i(n,t)},mp}var yp={},ux;function l1(){if(ux)return yp;ux=1;var i=Gt(),e=Bt(),t=fa().f,r=On(),n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(n)}};return yp.f=function(a){return n&&i(a)==="Window"?s(a):t(e(a))},yp}var bp,lx;function ZW(){if(lx)return bp;lx=1;var i=oe();return bp=i(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),bp}var _p,cx;function JW(){if(cx)return _p;cx=1;var i=oe(),e=Ve(),t=Gt(),r=ZW(),n=Object.isExtensible,s=i(function(){});return _p=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:n?n(a):!0}:n,_p}var wp,dx;function sF(){if(dx)return wp;dx=1;var i=oe();return wp=!i(function(){return Object.isExtensible(Object.preventExtensions({}))}),wp}var hx;function va(){if(hx)return gp.exports;hx=1;var i=H(),e=ae(),t=Us(),r=Ve(),n=Xe(),s=$t().f,o=fa(),a=l1(),u=JW(),l=ia(),c=sF(),d=!1,h=l("meta"),f=0,v=function(y){s(y,h,{value:{objectID:"O"+f++,weakData:{}}})},g=function(y,S){if(!r(y))return typeof y=="symbol"?y:(typeof y=="string"?"S":"P")+y;if(!n(y,h)){if(!u(y))return"F";if(!S)return"E";v(y)}return y[h].objectID},b=function(y,S){if(!n(y,h)){if(!u(y))return!0;if(!S)return!1;v(y)}return y[h].weakData},p=function(y){return c&&d&&u(y)&&!n(y,h)&&v(y),y},m=function(){O.enable=function(){},d=!0;var y=o.f,S=e([].splice),I={};I[h]=1,y(I).length&&(o.f=function(w){for(var _=y(w),E=0,$=_.length;E<$;E++)if(_[E]===h){S(_,E,1);break}return _},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},O=gp.exports={enable:m,fastKey:g,getWeakData:b,onFreeze:p};return t[h]=!0,gp.exports}var Ep,fx;function QW(){if(fx)return Ep;fx=1;var i=Fe(),e=Rn(),t=i("iterator"),r=Array.prototype;return Ep=function(n){return n!==void 0&&(e.Array===n||r[t]===n)},Ep}var Sp,vx;function oF(){if(vx)return Sp;vx=1;var i=Pn(),e=jb(),t=gn(),r=Rn(),n=Fe(),s=n("iterator");return Sp=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[i(o)]},Sp}var Op,px;function e9(){if(px)return Op;px=1;var i=ft(),e=fr(),t=Kt(),r=bn(),n=oF(),s=TypeError;return Op=function(o,a){var u=arguments.length<2?n(o):a;if(e(u))return t(i(u,o));throw new s(r(o)+" is not iterable")},Op}var Ip,gx;function c1(){if(gx)return Ip;gx=1;var i=ft(),e=Kt(),t=jb();return Ip=function(r,n,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(n==="throw")throw s;return s}o=i(o,r)}catch(u){a=!0,o=u}if(n==="throw")throw s;if(a)throw o;return e(o),s},Ip}var $p,mx;function pa(){if(mx)return $p;mx=1;var i=sa(),e=ft(),t=Kt(),r=bn(),n=QW(),s=vr(),o=Ne(),a=e9(),u=oF(),l=c1(),c=TypeError,d=function(f,v){this.stopped=f,this.result=v},h=d.prototype;return $p=function(f,v,g){var b=g&&g.that,p=!!(g&&g.AS_ENTRIES),m=!!(g&&g.IS_RECORD),O=!!(g&&g.IS_ITERATOR),y=!!(g&&g.INTERRUPTED),S=i(v,b),I,w,_,E,$,T,P,R=function(k){return I&&l(I,"normal"),new d(!0,k)},C=function(k){return p?(t(k),y?S(k[0],k[1],R):S(k[0],k[1])):y?S(k,R):S(k)};if(m)I=f.iterator;else if(O)I=f;else{if(w=u(f),!w)throw new c(r(f)+" is not iterable");if(n(w)){for(_=0,E=s(f);E>_;_++)if($=C(f[_]),$&&o(h,$))return $;return new d(!1)}I=a(f,w)}for(T=m?f.next:I.next;!(P=e(T,I)).done;){try{$=C(P.value)}catch(k){l(I,"throw",k)}if(typeof $=="object"&&$&&o(h,$))return $}return new d(!1)},$p}var Tp,yx;function d1(){if(yx)return Tp;yx=1;var i=Ne(),e=TypeError;return Tp=function(t,r){if(i(r,t))return t;throw new e("Incorrect invocation")},Tp}var Pp,bx;function h1(){if(bx)return Pp;bx=1;var i=H(),e=Ee(),t=va(),r=oe(),n=En(),s=pa(),o=d1(),a=He(),u=Ve(),l=gn(),c=Ei(),d=$t().f,h=Dr().forEach,f=Re(),v=wi(),g=v.set,b=v.getterFor;return Pp=function(p,m,O){var y=p.indexOf("Map")!==-1,S=p.indexOf("Weak")!==-1,I=y?"set":"add",w=e[p],_=w&&w.prototype,E={},$;if(!f||!a(w)||!(S||_.forEach&&!r(function(){new w().entries().next()})))$=O.getConstructor(m,p,y,I),t.enable();else{$=m(function(R,C){g(o(R,T),{type:p,collection:new w}),l(C)||s(C,R[I],{that:R,AS_ENTRIES:y})});var T=$.prototype,P=b(p);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var C=R==="add"||R==="set";R in _&&!(S&&R==="clear")&&n(T,R,function(k,K){var j=P(this).collection;if(!C&&S&&!u(k))return R==="get"?void 0:!1;var Q=j[R](k===0?0:k,K);return C?this:Q})}),S||d(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return c($,p,!1,!0),E[p]=$,i({global:!0,forced:!0},E),S||O.setStrong($,p,y),$},Pp}var Rp,_x;function f1(){if(_x)return Rp;_x=1;var i=$t();return Rp=function(e,t,r){return i.f(e,t,r)},Rp}var xp,wx;function v1(){if(wx)return xp;wx=1;var i=to();return xp=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:i(e,n,t[n],r);return e},xp}var Cp,Ex;function t9(){if(Ex)return Cp;Ex=1;var i=pt(),e=f1(),t=Fe(),r=Re(),n=t("species");return Cp=function(s){var o=i(s);r&&o&&!o[n]&&e(o,n,{configurable:!0,get:function(){return this}})},Cp}var qp,Sx;function aF(){if(Sx)return qp;Sx=1;var i=Qs(),e=f1(),t=v1(),r=sa(),n=d1(),s=gn(),o=pa(),a=a1(),u=u1(),l=t9(),c=Re(),d=va().fastKey,h=wi(),f=h.set,v=h.getterFor;return qp={getConstructor:function(g,b,p,m){var O=g(function(_,E){n(_,y),f(_,{type:b,index:i(null),first:null,last:null,size:0}),c||(_.size=0),s(E)||o(E,_[m],{that:_,AS_ENTRIES:p})}),y=O.prototype,S=v(b),I=function(_,E,$){var T=S(_),P=w(_,E),R,C;return P?P.value=$:(T.last=P={index:C=d(E,!0),key:E,value:$,previous:R=T.last,next:null,removed:!1},T.first||(T.first=P),R&&(R.next=P),c?T.size++:_.size++,C!=="F"&&(T.index[C]=P)),_},w=function(_,E){var $=S(_),T=d(E),P;if(T!=="F")return $.index[T];for(P=$.first;P;P=P.next)if(P.key===E)return P};return t(y,{clear:function(){for(var E=this,$=S(E),T=$.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;$.first=$.last=null,$.index=i(null),c?$.size=0:E.size=0},delete:function(_){var E=this,$=S(E),T=w(E,_);if(T){var P=T.next,R=T.previous;delete $.index[T.index],T.removed=!0,R&&(R.next=P),P&&(P.previous=R),$.first===T&&($.first=P),$.last===T&&($.last=R),c?$.size--:E.size--}return!!T},forEach:function(E){for(var $=S(this),T=r(E,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:$.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(E){return!!w(this,E)}}),t(y,p?{get:function(E){var $=w(this,E);return $&&$.value},set:function(E,$){return I(this,E===0?0:E,$)}}:{add:function(E){return I(this,E=E===0?0:E,E)}}),c&&e(y,"size",{configurable:!0,get:function(){return S(this).size}}),O},setStrong:function(g,b,p){var m=b+" Iterator",O=v(b),y=v(m);a(g,b,function(S,I){f(this,{type:m,target:S,state:O(S),kind:I,last:null})},function(){for(var S=y(this),I=S.kind,w=S.last;w&&w.removed;)w=w.previous;return!S.target||!(S.last=w=w?w.next:S.state.first)?(S.target=null,u(void 0,!0)):u(I==="keys"?w.key:I==="values"?w.value:[w.key,w.value],!1)},p?"entries":"values",!p,!0),l(b)}},qp}var Ox;function r9(){if(Ox)return ox;Ox=1;var i=h1(),e=aF();return i("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),ox}var Ix;function i9(){return Ix||(Ix=1,r9()),sx}var $x={},Dp,Tx;function uF(){return Tx||(Tx=1,Dp=function(i,e){return e===1?function(t,r){return t[i](r)}:function(t,r,n){return t[i](r,n)}}),Dp}var kp,Px;function n9(){if(Px)return kp;Px=1;var i=pt(),e=uF(),t=i("Map");return kp={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},kp}var Rx;function s9(){if(Rx)return $x;Rx=1;var i=H(),e=ae(),t=fr(),r=hr(),n=pa(),s=n9(),o=_n(),a=oe(),u=s.Map,l=s.has,c=s.get,d=s.set,h=e([].push),f=o||a(function(){return u.groupBy("ab",function(v){return v}).get("a").length!==1});return i({target:"Map",stat:!0,forced:o||f},{groupBy:function(g,b){r(g),t(b);var p=new u,m=0;return n(g,function(O){var y=b(O,m++);l(p,y)?h(c(p,y),O):d(p,y,[O])}),p}}),$x}var xx={},Mp,Cx;function o9(){if(Cx)return Mp;Cx=1;var i=ae(),e=Sn(),t=Pt(),r=hr(),n=i("".charAt),s=i("".charCodeAt),o=i("".slice),a=function(u){return function(l,c){var d=t(r(l)),h=e(c),f=d.length,v,g;return h<0||h>=f?u?"":void 0:(v=s(d,h),v<55296||v>56319||h+1===f||(g=s(d,h+1))<56320||g>57343?u?n(d,h):v:u?o(d,h,h+2):(v-55296<<10)+(g-56320)+65536)}};return Mp={codeAt:a(!1),charAt:a(!0)},Mp}var qx;function p1(){if(qx)return xx;qx=1;var i=o9().charAt,e=Pt(),t=wi(),r=a1(),n=u1(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(u){o(this,{type:s,string:e(u),index:0})},function(){var l=a(this),c=l.string,d=l.index,h;return d>=c.length?n(void 0,!0):(h=i(c,d),l.index+=h.length,n(h,!1))}),xx}var Ap,Dx;function a9(){if(Dx)return Ap;Dx=1,xn(),i9(),s9(),p1();var i=fe();return Ap=i.Map,Ap}var kx={},Np,Mx;function u9(){return Mx||(Mx=1,Np={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Np}var Ax;function Cn(){if(Ax)return kx;Ax=1,xn();var i=u9(),e=Ee(),t=Ei(),r=Rn();for(var n in i)t(e[n],n),r[n]=r.Array;return kx}var Fp,Nx;function l9(){if(Nx)return Fp;Nx=1;var i=a9();return Cn(),Fp=i,Fp}var Bp,Fx;function c9(){return Fx||(Fx=1,Bp=l9()),Bp}var d9=c9(),g1=Y(d9);class h9{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Ke(this.options,this.defaultOptions)}setOptions(e){const t=["useDefaultGroups"];if(e!==void 0){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Oe(t).call(t,r)===-1){const n=e[r];this.add(r,n)}}}clear(){this._groups=new g1,this._groupNames=[]}get(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this._groups.get(e);if(r===void 0&&t)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const n=this._groupIndex%this._groupNames.length;++this._groupIndex,r={},r.color=this._groups.get(this._groupNames[n]),this._groups.set(e,r)}else{const n=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,r={},r.color=this._defaultGroups[n],this._groups.set(e,r)}return r}add(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}var Bx={},jx;function f9(){if(jx)return Bx;jx=1;var i=H();return i({target:"Number",stat:!0},{isNaN:function(t){return t!==t}}),Bx}var jp,Lx;function v9(){if(Lx)return jp;Lx=1,f9();var i=fe();return jp=i.Number.isNaN,jp}var Lp,zx;function p9(){if(zx)return Lp;zx=1;var i=v9();return Lp=i,Lp}var zp,Wx;function g9(){return Wx||(Wx=1,zp=p9()),zp}var m9=g9(),ab=Y(m9),Hx={},Wp,Vx;function y9(){if(Vx)return Wp;Vx=1;var i=Ee(),e=i.isFinite;return Wp=Number.isFinite||function(r){return typeof r=="number"&&e(r)},Wp}var Ux;function b9(){if(Ux)return Hx;Ux=1;var i=H(),e=y9();return i({target:"Number",stat:!0},{isFinite:e}),Hx}var Hp,Gx;function _9(){if(Gx)return Hp;Gx=1,b9();var i=fe();return Hp=i.Number.isFinite,Hp}var Vp,Kx;function w9(){if(Kx)return Vp;Kx=1;var i=_9();return Vp=i,Vp}var Up,Yx;function E9(){return Yx||(Yx=1,Up=w9()),Up}var S9=E9(),Zr=Y(S9),Xx={},Zx;function O9(){if(Zx)return Xx;Zx=1;var i=H(),e=It(),t=Gs(),r=oe(),n=r(function(){t(1)});return i({target:"Object",stat:!0,forced:n},{keys:function(o){return t(e(o))}}),Xx}var Gp,Jx;function I9(){if(Jx)return Gp;Jx=1,O9();var i=fe();return Gp=i.Object.keys,Gp}var Kp,Qx;function $9(){if(Qx)return Kp;Qx=1;var i=I9();return Kp=i,Kp}var Yp,eC;function T9(){return eC||(eC=1,Yp=$9()),Yp}var P9=T9(),qe=Y(P9),tC={},rC;function R9(){if(rC)return tC;rC=1;var i=H(),e=Dr().some,t=Tn(),r=t("some");return i({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),tC}var Xp,iC;function x9(){if(iC)return Xp;iC=1,R9();var i=Ze();return Xp=i("Array","some"),Xp}var Zp,nC;function C9(){if(nC)return Zp;nC=1;var i=Ne(),e=x9(),t=Array.prototype;return Zp=function(r){var n=r.some;return r===t||i(t,r)&&n===t.some?e:n},Zp}var Jp,sC;function q9(){if(sC)return Jp;sC=1;var i=C9();return Jp=i,Jp}var Qp,oC;function D9(){return oC||(oC=1,Qp=q9()),Qp}var k9=D9(),M9=Y(k9),aC={},uC={},eg,lC;function lF(){if(lC)return eg;lC=1;var i=Ee(),e=mn(),t=Gt(),r=function(n){return e.slice(0,n.length)===n};return eg=function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":i.Bun&&typeof Bun.version=="string"?"BUN":i.Deno&&typeof Deno.version=="object"?"DENO":t(i.process)==="process"?"NODE":i.window&&i.document?"BROWSER":"REST"}(),eg}var tg,cC;function A9(){if(cC)return tg;cC=1;var i=TypeError;return tg=function(e,t){if(e<t)throw new i("Not enough arguments");return e},tg}var rg,dC;function cF(){if(dC)return rg;dC=1;var i=Ee(),e=ea(),t=He(),r=lF(),n=mn(),s=On(),o=A9(),a=i.Function,u=/MSIE .\./.test(n)||r==="BUN"&&function(){var l=i.Bun.version.split(".");return l.length<3||l[0]==="0"&&(l[1]<3||l[1]==="3"&&l[2]==="0")}();return rg=function(l,c){var d=c?2:1;return u?function(h,f){var v=o(arguments.length,1)>d,g=t(h)?h:a(h),b=v?s(arguments,d):[],p=v?function(){e(g,this,b)}:g;return c?l(p,f):l(p)}:l},rg}var hC;function N9(){if(hC)return uC;hC=1;var i=H(),e=Ee(),t=cF(),r=t(e.setInterval,!0);return i({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),uC}var fC={},vC;function F9(){if(vC)return fC;vC=1;var i=H(),e=Ee(),t=cF(),r=t(e.setTimeout,!0);return i({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),fC}var pC;function dF(){return pC||(pC=1,N9(),F9()),aC}var ig,gC;function B9(){if(gC)return ig;gC=1,dF();var i=fe();return ig=i.setTimeout,ig}var ng,mC;function j9(){return mC||(mC=1,ng=B9()),ng}var L9=j9(),Hi=Y(L9),sg={exports:{}},yC={},bC;function z9(){if(bC)return yC;bC=1;var i=H(),e=Re(),t=$t().f;return i({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),yC}var _C;function W9(){if(_C)return sg.exports;_C=1,z9();var i=fe(),e=i.Object,t=sg.exports=function(n,s,o){return e.defineProperty(n,s,o)};return e.defineProperty.sham&&(t.sham=!0),sg.exports}var og,wC;function hF(){if(wC)return og;wC=1;var i=W9();return og=i,og}var ag,EC;function H9(){if(EC)return ag;EC=1;var i=hF();return ag=i,ag}var ug,SC;function V9(){if(SC)return ug;SC=1;var i=H9();return ug=i,ug}var lg,OC;function U9(){return OC||(OC=1,lg=V9()),lg}var G9=U9(),K9=Y(G9),IC={},$C={},cg={},TC;function ga(){if(TC)return cg;TC=1;var i=Fe();return cg.f=i,cg}var dg,PC;function $e(){if(PC)return dg;PC=1;var i=fe(),e=Xe(),t=ga(),r=$t().f;return dg=function(n){var s=i.Symbol||(i.Symbol={});e(s,n)||r(s,n,{value:t.f(n)})},dg}var hg,RC;function fF(){if(RC)return hg;RC=1;var i=ft(),e=pt(),t=Fe(),r=to();return hg=function(){var n=e("Symbol"),s=n&&n.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(u){return i(o,this)},{arity:1})},hg}var xC;function Y9(){if(xC)return $C;xC=1;var i=H(),e=Ee(),t=ft(),r=ae(),n=_n(),s=Re(),o=yn(),a=oe(),u=Xe(),l=Ne(),c=Kt(),d=Bt(),h=zb(),f=Pt(),v=Ws(),g=Qs(),b=Gs(),p=fa(),m=l1(),O=aa(),y=na(),S=$t(),I=t1(),w=ta(),_=to(),E=f1(),$=wn(),T=da(),P=Us(),R=ia(),C=Fe(),k=ga(),K=$e(),j=fF(),Q=Ei(),re=wi(),he=Dr().forEach,W=T("hidden"),le="Symbol",ve="prototype",Se=re.set,Rt=re.getterFor(le),be=Object[ve],et=e.Symbol,xt=et&&et[ve],Ea=e.RangeError,Sa=e.TypeError,Fr=e.QObject,An=y.f,tt=S.f,Nn=m.f,Oa=w.f,Fn=r([].push),Be=$("symbols"),Ct=$("op-symbols"),Ia=$("wks"),Br=!Fr||!Fr[ve]||!Fr[ve].findChild,Bn=function(V,N,F){var B=An(be,N);B&&delete be[N],tt(V,N,F),B&&V!==be&&tt(be,N,B)},jr=s&&a(function(){return g(tt({},"a",{get:function(){return tt(this,"a",{value:7}).a}})).a!==7})?Bn:tt,Lr=function(V,N){var F=Be[V]=g(xt);return Se(F,{type:le,tag:V,description:N}),s||(F.description=N),F},Yt=function(N,F,B){N===be&&Yt(Ct,F,B),c(N);var U=h(F);return c(B),u(Be,U)?(B.enumerable?(u(N,W)&&N[W][U]&&(N[W][U]=!1),B=g(B,{enumerable:v(0,!1)})):(u(N,W)||tt(N,W,v(1,g(null))),N[W][U]=!0),jr(N,U,B)):tt(N,U,B)},zr=function(N,F){c(N);var B=d(F),U=b(B).concat(zn(B));return he(U,function(ce){(!s||t(Wr,B,ce))&&Yt(N,ce,B[ce])}),N},$a=function(N,F){return F===void 0?g(N):zr(g(N),F)},Wr=function(N){var F=h(N),B=t(Oa,this,F);return this===be&&u(Be,F)&&!u(Ct,F)?!1:B||!u(this,F)||!u(Be,F)||u(this,W)&&this[W][F]?B:!0},jn=function(N,F){var B=d(N),U=h(F);if(!(B===be&&u(Be,U)&&!u(Ct,U))){var ce=An(B,U);return ce&&u(Be,U)&&!(u(B,W)&&B[W][U])&&(ce.enumerable=!0),ce}},Ln=function(N){var F=Nn(d(N)),B=[];return he(F,function(U){!u(Be,U)&&!u(P,U)&&Fn(B,U)}),B},zn=function(V){var N=V===be,F=Nn(N?Ct:d(V)),B=[];return he(F,function(U){u(Be,U)&&(!N||u(be,U))&&Fn(B,Be[U])}),B};return o||(et=function(){if(l(xt,this))throw new Sa("Symbol is not a constructor");var N=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),F=R(N),B=function(U){var ce=this===void 0?e:this;ce===be&&t(B,Ct,U),u(ce,W)&&u(ce[W],F)&&(ce[W][F]=!1);var Wn=v(1,U);try{jr(ce,F,Wn)}catch(Hn){if(!(Hn instanceof Ea))throw Hn;Bn(ce,F,Wn)}};return s&&Br&&jr(be,F,{configurable:!0,set:B}),Lr(F,N)},xt=et[ve],_(xt,"toString",function(){return Rt(this).tag}),_(et,"withoutSetter",function(V){return Lr(R(V),V)}),w.f=Wr,S.f=Yt,I.f=zr,y.f=jn,p.f=m.f=Ln,O.f=zn,k.f=function(V){return Lr(C(V),V)},s&&(E(xt,"description",{configurable:!0,get:function(){return Rt(this).description}}),n||_(be,"propertyIsEnumerable",Wr,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:et}),he(b(Ia),function(V){K(V)}),i({target:le,stat:!0,forced:!o},{useSetter:function(){Br=!0},useSimple:function(){Br=!1}}),i({target:"Object",stat:!0,forced:!o,sham:!s},{create:$a,defineProperty:Yt,defineProperties:zr,getOwnPropertyDescriptor:jn}),i({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:Ln}),j(),Q(et,le),P[W]=!0,$C}var CC={},fg,qC;function vF(){if(qC)return fg;qC=1;var i=yn();return fg=i&&!!Symbol.for&&!!Symbol.keyFor,fg}var DC;function X9(){if(DC)return CC;DC=1;var i=H(),e=pt(),t=Xe(),r=Pt(),n=wn(),s=vF(),o=n("string-to-symbol-registry"),a=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{for:function(u){var l=r(u);if(t(o,l))return o[l];var c=e("Symbol")(l);return o[l]=c,a[c]=l,c}}),CC}var kC={},MC;function Z9(){if(MC)return kC;MC=1;var i=H(),e=Xe(),t=Vs(),r=bn(),n=wn(),s=vF(),o=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!t(u))throw new TypeError(r(u)+" is not a symbol");if(e(o,u))return o[u]}}),kC}var AC={},vg,NC;function J9(){if(NC)return vg;NC=1;var i=ae(),e=_i(),t=He(),r=Gt(),n=Pt(),s=i([].push);return vg=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,u=[],l=0;l<a;l++){var c=o[l];typeof c=="string"?s(u,c):(typeof c=="number"||r(c)==="Number"||r(c)==="String")&&s(u,n(c))}var d=u.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var g=0;g<d;g++)if(u[g]===f)return v}}},vg}var FC;function pF(){if(FC)return AC;FC=1;var i=H(),e=pt(),t=ea(),r=ft(),n=ae(),s=oe(),o=He(),a=Vs(),u=On(),l=J9(),c=yn(),d=String,h=e("JSON","stringify"),f=n(/./.exec),v=n("".charAt),g=n("".charCodeAt),b=n("".replace),p=n(1.1.toString),m=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,y=/^[\uDC00-\uDFFF]$/,S=!c||s(function(){var E=e("Symbol")("stringify detection");return h([E])!=="[null]"||h({a:E})!=="{}"||h(Object(E))!=="{}"}),I=s(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),w=function(E,$){var T=u(arguments),P=l($);if(!(!o(P)&&(E===void 0||a(E))))return T[1]=function(R,C){if(o(P)&&(C=r(P,this,d(R),C)),!a(C))return C},t(h,null,T)},_=function(E,$,T){var P=v(T,$-1),R=v(T,$+1);return f(O,E)&&!f(y,R)||f(y,E)&&!f(O,P)?"\\u"+p(g(E,0),16):E};return h&&i({target:"JSON",stat:!0,arity:3,forced:S||I},{stringify:function($,T,P){var R=u(arguments),C=t(S?w:h,null,R);return I&&typeof C=="string"?b(C,m,_):C}}),AC}var BC={},jC;function Q9(){if(jC)return BC;jC=1;var i=H(),e=yn(),t=oe(),r=aa(),n=It(),s=!e||t(function(){r.f(1)});return i({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var u=r.f;return u?u(n(a)):[]}}),BC}var LC;function gF(){return LC||(LC=1,Y9(),X9(),Z9(),pF(),Q9()),IC}var zC={},WC;function mF(){if(WC)return zC;WC=1;var i=$e();return i("asyncDispose"),zC}var HC={},VC;function eH(){if(VC)return HC;VC=1;var i=$e();return i("asyncIterator"),HC}var UC={},GC;function yF(){if(GC)return UC;GC=1;var i=$e();return i("dispose"),UC}var KC={},YC;function tH(){if(YC)return KC;YC=1;var i=$e();return i("hasInstance"),KC}var XC={},ZC;function rH(){if(ZC)return XC;ZC=1;var i=$e();return i("isConcatSpreadable"),XC}var JC={},QC;function bF(){if(QC)return JC;QC=1;var i=$e();return i("iterator"),JC}var e2={},t2;function iH(){if(t2)return e2;t2=1;var i=$e();return i("match"),e2}var r2={},i2;function nH(){if(i2)return r2;i2=1;var i=$e();return i("matchAll"),r2}var n2={},s2;function sH(){if(s2)return n2;s2=1;var i=$e();return i("replace"),n2}var o2={},a2;function oH(){if(a2)return o2;a2=1;var i=$e();return i("search"),o2}var u2={},l2;function aH(){if(l2)return u2;l2=1;var i=$e();return i("species"),u2}var c2={},d2;function uH(){if(d2)return c2;d2=1;var i=$e();return i("split"),c2}var h2={},f2;function _F(){if(f2)return h2;f2=1;var i=$e(),e=fF();return i("toPrimitive"),e(),h2}var v2={},p2;function lH(){if(p2)return v2;p2=1;var i=pt(),e=$e(),t=Ei();return e("toStringTag"),t(i("Symbol"),"Symbol"),v2}var g2={},m2;function cH(){if(m2)return g2;m2=1;var i=$e();return i("unscopables"),g2}var y2={},b2;function dH(){if(b2)return y2;b2=1;var i=Ee(),e=Ei();return e(i.JSON,"JSON",!0),y2}var pg,_2;function hH(){if(_2)return pg;_2=1,rF(),gF(),mF(),eH(),yF(),tH(),rH(),bF(),iH(),nH(),sH(),oH(),aH(),uH(),_F(),lH(),cH(),dH();var i=fe();return pg=i.Symbol,pg}var gg,w2;function fH(){if(w2)return gg;w2=1;var i=hH();return Cn(),gg=i,gg}var E2={},S2;function vH(){if(S2)return E2;S2=1;var i=Fe(),e=$t().f,t=i("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),E2}var O2={},I2;function pH(){return I2||(I2=1,mF()),O2}var $2={},T2;function gH(){return T2||(T2=1,yF()),$2}var P2={},R2;function mH(){if(R2)return P2;R2=1;var i=$e();return i("metadata"),P2}var mg,x2;function yH(){if(x2)return mg;x2=1;var i=fH();return vH(),pH(),gH(),mH(),mg=i,mg}var C2={},yg,q2;function wF(){if(q2)return yg;q2=1;var i=pt(),e=ae(),t=i("Symbol"),r=t.keyFor,n=e(t.prototype.valueOf);return yg=t.isRegisteredSymbol||function(o){try{return r(n(o))!==void 0}catch{return!1}},yg}var D2;function bH(){if(D2)return C2;D2=1;var i=H(),e=wF();return i({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),C2}var k2={},bg,M2;function EF(){if(M2)return bg;M2=1;for(var i=wn(),e=pt(),t=ae(),r=Vs(),n=Fe(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),u=t(s.prototype.valueOf),l=i("wks"),c=0,d=a(s),h=d.length;c<h;c++)try{var f=d[c];r(s[f])&&n(f)}catch{}return bg=function(g){if(o&&o(g))return!0;try{for(var b=u(g),p=0,m=a(l),O=m.length;p<O;p++)if(l[m[p]]==b)return!0}catch{}return!1},bg}var A2;function _H(){if(A2)return k2;A2=1;var i=H(),e=EF();return i({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),k2}var N2={},F2;function wH(){if(F2)return N2;F2=1;var i=$e();return i("customMatcher"),N2}var B2={},j2;function EH(){if(j2)return B2;j2=1;var i=$e();return i("observable"),B2}var L2={},z2;function SH(){if(z2)return L2;z2=1;var i=H(),e=wF();return i({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),L2}var W2={},H2;function OH(){if(H2)return W2;H2=1;var i=H(),e=EF();return i({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),W2}var V2={},U2;function IH(){if(U2)return V2;U2=1;var i=$e();return i("matcher"),V2}var G2={},K2;function $H(){if(K2)return G2;K2=1;var i=$e();return i("metadataKey"),G2}var Y2={},X2;function TH(){if(X2)return Y2;X2=1;var i=$e();return i("patternMatch"),Y2}var Z2={},J2;function PH(){if(J2)return Z2;J2=1;var i=$e();return i("replaceAll"),Z2}var _g,Q2;function RH(){if(Q2)return _g;Q2=1;var i=yH();return bH(),_H(),wH(),EH(),SH(),OH(),IH(),$H(),TH(),PH(),_g=i,_g}var wg,eq;function xH(){return eq||(eq=1,wg=RH()),wg}var CH=xH(),fo=Y(CH),Eg,tq;function qH(){if(tq)return Eg;tq=1,xn(),p1(),bF();var i=ga();return Eg=i.f("iterator"),Eg}var Sg,rq;function DH(){if(rq)return Sg;rq=1;var i=qH();return Cn(),Sg=i,Sg}var Og,iq;function kH(){if(iq)return Og;iq=1;var i=DH();return Og=i,Og}var Ig,nq;function MH(){if(nq)return Ig;nq=1;var i=kH();return Ig=i,Ig}var $g,sq;function AH(){return sq||(sq=1,$g=MH()),$g}var NH=AH(),FH=Y(NH);function ws(i){"@babel/helpers - typeof";return ws=typeof fo=="function"&&typeof FH=="symbol"?function(e){return typeof e}:function(e){return e&&typeof fo=="function"&&e.constructor===fo&&e!==fo.prototype?"symbol":typeof e},ws(i)}var Tg,oq;function BH(){if(oq)return Tg;oq=1,_F();var i=ga();return Tg=i.f("toPrimitive"),Tg}var Pg,aq;function jH(){if(aq)return Pg;aq=1;var i=BH();return Pg=i,Pg}var Rg,uq;function LH(){if(uq)return Rg;uq=1;var i=jH();return Rg=i,Rg}var xg,lq;function zH(){if(lq)return xg;lq=1;var i=LH();return xg=i,xg}var Cg,cq;function WH(){return cq||(cq=1,Cg=zH()),Cg}var HH=WH(),VH=Y(HH);function UH(i,e){if(ws(i)!="object"||!i)return i;var t=i[VH];if(t!==void 0){var r=t.call(i,e);if(ws(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function GH(i){var e=UH(i,"string");return ws(e)=="symbol"?e:e+""}function Qt(i,e,t){return(e=GH(e))in i?K9(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var dq={},qg,hq;function m1(){return hq||(hq=1,qg=`	
\v\f\r Â áââââââââââââ¯âã\u2028\u2029\uFEFF`),qg}var Dg,fq;function SF(){if(fq)return Dg;fq=1;var i=ae(),e=hr(),t=Pt(),r=m1(),n=i("".replace),s=RegExp("^["+r+"]+"),o=RegExp("(^|[^"+r+"])["+r+"]+$"),a=function(u){return function(l){var c=t(e(l));return u&1&&(c=n(c,s,"")),u&2&&(c=n(c,o,"$1")),c}};return Dg={start:a(1),end:a(2),trim:a(3)},Dg}var kg,vq;function KH(){if(vq)return kg;vq=1;var i=Ee(),e=oe(),t=ae(),r=Pt(),n=SF().trim,s=m1(),o=i.parseInt,a=i.Symbol,u=a&&a.iterator,l=/^[+-]?0x/i,c=t(l.exec),d=o(s+"08")!==8||o(s+"0x16")!==22||u&&!e(function(){o(Object(u))});return kg=d?function(f,v){var g=n(r(f));return o(g,v>>>0||(c(l,g)?16:10))}:o,kg}var pq;function YH(){if(pq)return dq;pq=1;var i=H(),e=KH();return i({global:!0,forced:parseInt!==e},{parseInt:e}),dq}var Mg,gq;function XH(){if(gq)return Mg;gq=1,YH();var i=fe();return Mg=i.parseInt,Mg}var Ag,mq;function ZH(){if(mq)return Ag;mq=1;var i=XH();return Ag=i,Ag}var Ng,yq;function JH(){return yq||(yq=1,Ng=ZH()),Ng}var QH=JH(),bq=Y(QH),_q={},Fg,wq;function e7(){if(wq)return Fg;wq=1;var i=Ee(),e=oe(),t=ae(),r=Pt(),n=SF().trim,s=m1(),o=t("".charAt),a=i.parseFloat,u=i.Symbol,l=u&&u.iterator,c=1/a(s+"-0")!==-1/0||l&&!e(function(){a(Object(l))});return Fg=c?function(h){var f=n(r(h)),v=a(f);return v===0&&o(f,0)==="-"?-0:v}:a,Fg}var Eq;function t7(){if(Eq)return _q;Eq=1;var i=H(),e=e7();return i({global:!0,forced:parseFloat!==e},{parseFloat:e}),_q}var Bg,Sq;function r7(){if(Sq)return Bg;Sq=1,t7();var i=fe();return Bg=i.parseFloat,Bg}var jg,Oq;function i7(){if(Oq)return jg;Oq=1;var i=r7();return jg=i,jg}var Lg,Iq;function n7(){return Iq||(Iq=1,Lg=i7()),Lg}var s7=n7(),OF=Y(s7),$q={},Tq;function o7(){if(Tq)return $q;Tq=1;var i=H(),e=Dr().filter,t=eo(),r=t("filter");return i({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),$q}var zg,Pq;function a7(){if(Pq)return zg;Pq=1,o7();var i=Ze();return zg=i("Array","filter"),zg}var Wg,Rq;function u7(){if(Rq)return Wg;Rq=1;var i=Ne(),e=a7(),t=Array.prototype;return Wg=function(r){var n=r.filter;return r===t||i(t,r)&&n===t.filter?e:n},Wg}var Hg,xq;function l7(){if(xq)return Hg;xq=1;var i=u7();return Hg=i,Hg}var Vg,Cq;function c7(){return Cq||(Cq=1,Vg=l7()),Vg}var d7=c7(),pr=Y(d7),qq={},Dq;function h7(){if(Dq)return qq;Dq=1;var i=H(),e=oe(),t=l1().f,r=e(function(){return!Object.getOwnPropertyNames(1)});return i({target:"Object",stat:!0,forced:r},{getOwnPropertyNames:t}),qq}var Ug,kq;function f7(){if(kq)return Ug;kq=1,h7();var i=fe(),e=i.Object;return Ug=function(r){return e.getOwnPropertyNames(r)},Ug}var Gg,Mq;function v7(){if(Mq)return Gg;Mq=1;var i=f7();return Gg=i,Gg}var Kg,Aq;function p7(){return Aq||(Aq=1,Kg=v7()),Kg}var g7=p7(),m7=Y(g7),Yg,Nq;function y7(){if(Nq)return Yg;Nq=1,gF();var i=fe();return Yg=i.Object.getOwnPropertySymbols,Yg}var Xg,Fq;function b7(){if(Fq)return Xg;Fq=1;var i=y7();return Xg=i,Xg}var Zg,Bq;function _7(){return Bq||(Bq=1,Zg=b7()),Zg}var w7=_7(),Tr=Y(w7),Jg={exports:{}},jq={},Lq;function E7(){if(Lq)return jq;Lq=1;var i=H(),e=oe(),t=Bt(),r=na().f,n=Re(),s=!n||e(function(){r(1)});return i({target:"Object",stat:!0,forced:s,sham:!n},{getOwnPropertyDescriptor:function(a,u){return r(t(a),u)}}),jq}var zq;function S7(){if(zq)return Jg.exports;zq=1,E7();var i=fe(),e=i.Object,t=Jg.exports=function(n,s){return e.getOwnPropertyDescriptor(n,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),Jg.exports}var Qg,Wq;function O7(){if(Wq)return Qg;Wq=1;var i=S7();return Qg=i,Qg}var em,Hq;function I7(){return Hq||(Hq=1,em=O7()),em}var $7=I7(),kr=Y($7),Vq={},tm,Uq;function T7(){if(Uq)return tm;Uq=1;var i=pt(),e=ae(),t=fa(),r=aa(),n=Kt(),s=e([].concat);return tm=i("Reflect","ownKeys")||function(a){var u=t.f(n(a)),l=r.f;return l?s(u,l(a)):u},tm}var Gq;function P7(){if(Gq)return Vq;Gq=1;var i=H(),e=Re(),t=T7(),r=Bt(),n=na(),s=ha();return i({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var u=r(a),l=n.f,c=t(u),d={},h=0,f,v;c.length>h;)v=l(u,f=c[h++]),v!==void 0&&s(d,f,v);return d}}),Vq}var rm,Kq;function R7(){if(Kq)return rm;Kq=1,P7();var i=fe();return rm=i.Object.getOwnPropertyDescriptors,rm}var im,Yq;function x7(){if(Yq)return im;Yq=1;var i=R7();return im=i,im}var nm,Xq;function C7(){return Xq||(Xq=1,nm=x7()),nm}var q7=C7(),Pr=Y(q7),sm={exports:{}},Zq={},Jq;function D7(){if(Jq)return Zq;Jq=1;var i=H(),e=Re(),t=t1().f;return i({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),Zq}var Qq;function k7(){if(Qq)return sm.exports;Qq=1,D7();var i=fe(),e=i.Object,t=sm.exports=function(n,s){return e.defineProperties(n,s)};return e.defineProperties.sham&&(t.sham=!0),sm.exports}var om,eD;function M7(){if(eD)return om;eD=1;var i=k7();return om=i,om}var am,tD;function A7(){return tD||(tD=1,am=M7()),am}var N7=A7(),ma=Y(N7),um,rD;function F7(){return rD||(rD=1,um=hF()),um}var B7=F7(),ya=Y(B7);function y1(i,e){const t=["node","edge","label"];let r=!0;const n=mr(e,"chosen");if(typeof n=="boolean")r=n;else if(typeof n=="object"){if(Oe(t).call(t,i)===-1)throw new Error("choosify: subOption '"+i+"' should be one of '"+t.join("', '")+"'");const s=mr(e,["chosen",i]);(typeof s=="boolean"||typeof s=="function")&&(r=s)}return r}function ub(i,e,t){if(i.width<=0||i.height<=0)return!1;if(t!==void 0){const s={x:e.x-t.x,y:e.y-t.y};if(t.angle!==0){const o=-t.angle;e={x:Math.cos(o)*s.x-Math.sin(o)*s.y,y:Math.sin(o)*s.x+Math.cos(o)*s.y}}else e=s}const r=i.x+i.width,n=i.y+i.width;return i.left<e.x&&r>e.x&&i.top<e.y&&n>e.y}function Do(i){return typeof i=="string"&&i!==""}function IF(i,e,t,r){let n=r.x,s=r.y;if(typeof r.distanceToBorder=="function"){const o=r.distanceToBorder(i,e),a=Math.sin(e)*o,u=Math.cos(e)*o;u===o?(n+=o,s=r.y):a===o?(n=r.x,s-=o):(n+=u,s-=a)}else r.shape.width>r.shape.height?(n=r.x+r.shape.width*.5,s=r.y-t):(n=r.x+t,s=r.y-r.shape.height*.5);return{x:n,y:s}}var iD={},nD;function j7(){if(nD)return iD;nD=1;var i=H(),e=_i(),t=GN(),r=Ve(),n=oa(),s=vr(),o=Bt(),a=ha(),u=Fe(),l=eo(),c=On(),d=l("slice"),h=u("species"),f=Array,v=Math.max;return i({target:"Array",proto:!0,forced:!d},{slice:function(b,p){var m=o(this),O=s(m),y=n(b,O),S=n(p===void 0?O:p,O),I,w,_;if(e(m)&&(I=m.constructor,t(I)&&(I===f||e(I.prototype))?I=void 0:r(I)&&(I=I[h],I===null&&(I=void 0)),I===f||I===void 0))return c(m,y,S);for(w=new(I===void 0?f:I)(v(S-y,0)),_=0;y<S;y++,_++)y in m&&a(w,_,m[y]);return w.length=_,w}}),iD}var lm,sD;function L7(){if(sD)return lm;sD=1,j7();var i=Ze();return lm=i("Array","slice"),lm}var cm,oD;function z7(){if(oD)return cm;oD=1;var i=Ne(),e=L7(),t=Array.prototype;return cm=function(r){var n=r.slice;return r===t||i(t,r)&&n===t.slice?e:n},cm}var dm,aD;function W7(){if(aD)return dm;aD=1;var i=z7();return dm=i,dm}var hm,uD;function H7(){return uD||(uD=1,hm=W7()),hm}var V7=H7(),Mi=Y(V7),fm,lD;function U7(){if(lD)return fm;lD=1,xn();var i=Ze();return fm=i("Array","values"),fm}var vm,cD;function G7(){if(cD)return vm;cD=1;var i=U7();return vm=i,vm}var pm,dD;function K7(){if(dD)return pm;dD=1,Cn();var i=Pn(),e=Xe(),t=Ne(),r=G7(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return pm=function(o){var a=o.values;return o===n||t(n,o)&&a===n.values||e(s,i(o))?r:a},pm}var gm,hD;function Y7(){return hD||(hD=1,gm=K7()),gm}var X7=Y7(),$F=Y(X7);class Z7{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let n=t;(t===void 0||t==="")&&(n=" ");const s=this.measureText(n,r),o=Ke({},$F(s));o.text=t,o.width=s.width,o.mod=r,(t===void 0||t==="")&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t)}newLine(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const t=this.lines[e];let r=0;if(t.blocks!==void 0)for(let n=0;n<t.blocks.length;n++){const s=t.blocks[n];r<s.height&&(r=s.height)}t.height=r}}determineLabelSize(){let e=0,t=0;for(let r=0;r<this.lines.length;r++){const n=this.lines[r];n.width>e&&(e=n.width),t+=n.height}this.width=e,this.height=t}removeEmptyBlocks(){const e=[];for(let t=0;t<this.lines.length;t++){const r=this.lines[t];if(r.blocks.length===0||t===this.lines.length-1&&r.width===0)continue;const n={};Ke(n,r),n.blocks=[];let s;const o=[];for(let a=0;a<r.blocks.length;a++){const u=r.blocks[a];u.width!==0?o.push(u):s===void 0&&(s=u)}o.length===0&&s!==void 0&&o.push(s),n.blocks=o,e.push(n)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const J7={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class fD{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,t){return!this.mono&&!this[e]&&this.match(t)?(this.setTag(e),!0):!1}match(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[r,n]=this.prepareRegExp(e),s=r.test(this.text.substr(this.position,n));return s&&t&&(this.position+=n-1),s}parseEndTag(e,t,r){let n=this.mod()===e;return e==="mono"?n=n&&this.mono:n=n&&!this.mono,n&&this.match(t)?(r!==void 0?(this.position===this.text.length-1||this.match(r,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,t){return this.match(e)?(this.add(t),this.position+=length-1,!0):!1}prepareRegExp(e){let t,r;if(e instanceof RegExp)r=e,t=1;else{const n=J7[e];n!==void 0?r=n:r=new RegExp(e),t=e.length}return[r,t]}}class Q7{constructor(e,t,r,n){this.ctx=e,this.parent=t,this.selected=r,this.hover=n;const s=(o,a)=>{if(o===void 0)return 0;const u=this.parent.getFormattingValues(e,r,n,a);let l=0;return o!==""&&(l=this.ctx.measureText(o).width),{width:l,values:u}};this.lines=new Z7(s)}process(e){if(!Do(e))return this.lines.finalize();const t=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const r=String(e).split(`
`),n=r.length;if(t.multi)for(let s=0;s<n;s++){const o=this.splitBlocks(r[s],t.multi);if(o!==void 0){if(o.length===0){this.lines.newLine("");continue}if(t.maxWdt>0)for(let a=0;a<o.length;a++){const u=o[a].mod,l=o[a].text;this.splitStringIntoLines(l,u,!0)}else for(let a=0;a<o.length;a++){const u=o[a].mod,l=o[a].text;this.lines.append(l,u)}this.lines.newLine()}}else if(t.maxWdt>0)for(let s=0;s<n;s++)this.splitStringIntoLines(r[s]);else for(let s=0;s<n;s++)this.lines.newLine(r[s]);return this.lines.finalize()}decodeMarkupSystem(e){let t="none";return e==="markdown"||e==="md"?t="markdown":(e===!0||e==="html")&&(t="html"),t}splitHtmlBlocks(e){const t=new fD(e),r=n=>/&/.test(n)?(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0):!1;for(;t.position<t.text.length;){const n=t.text.charAt(t.position);t.parseWS(n)||/</.test(n)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||r(n)||t.add(n),t.position++}return t.emitBlock(),t.blocks}splitMarkdownBlocks(e){const t=new fD(e);let r=!0;const n=s=>/\\/.test(s)?(t.position<this.text.length+1&&(t.position++,s=this.text.charAt(t.position),/ \t/.test(s)?t.spacing=!0:(t.add(s),r=!1)),!0):!1;for(;t.position<t.text.length;){const s=t.text.charAt(t.position);t.parseWS(s)||n(s)||(r||t.spacing)&&(t.parseStartTag("bold","*")||t.parseStartTag("ital","_")||t.parseStartTag("mono","`"))||t.parseEndTag("bold","*","afterBold")||t.parseEndTag("ital","_","afterItal")||t.parseEndTag("mono","`","afterMono")||(t.add(s),r=!1),t.position++}return t.emitBlock(),t.blocks}splitBlocks(e,t){const r=this.decodeMarkupSystem(t);if(r==="none")return[{text:e,mod:"normal"}];if(r==="markdown")return this.splitMarkdownBlocks(e);if(r==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}getLongestFit(e){let t="",r=0;for(;r<e.length;){const s=t+(t===""?"":" ")+e[r];if(this.overMaxWidth(s))break;t=s,r++}return r}getLongestFitWord(e){let t=0;for(;t<e.length&&!this.overMaxWidth(Mi(e).call(e,0,t));)t++;return t}splitStringIntoLines(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let n=e.split("\r");for(;n.length>0;){let s=this.getLongestFit(n);if(s===0){const o=n[0],a=this.getLongestFitWord(o);this.lines.newLine(Mi(o).call(o,0,a),t),n[0]=Mi(o).call(o,a)}else{let o=s;n[s-1]===" "?s--:n[o]===" "&&o++;const a=Mi(n).call(n,0,s).join("");s==n.length&&r?this.lines.append(a,t):this.lines.newLine(a,t),n=Mi(n).call(n,o)}}}}const Yn=["bold","ital","boldital","mono"];class Vi{constructor(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Do(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const t=e.font.size;t!==void 0&&(this.baseSize=t)}}}initFontOptions(e){if(ne(Yn,t=>{this.fontOptions[t]={}}),Vi.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}ne(e,(t,r)=>{t!=null&&typeof t!="object"&&(this.fontOptions[r]=t)})}static parseFontString(e,t){if(!t||typeof t!="string")return!1;const r=t.split(" ");return e.size=+r[0].replace("px",""),e.face=r[1],e.color=r[2],!0}constrain(e){const t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},r=mr(e,"widthConstraint");if(typeof r=="number")t.maxWdt=Number(r),t.minWdt=Number(r);else if(typeof r=="object"){const s=mr(e,["widthConstraint","maximum"]);typeof s=="number"&&(t.maxWdt=Number(s));const o=mr(e,["widthConstraint","minimum"]);typeof o=="number"&&(t.minWdt=Number(o))}const n=mr(e,"heightConstraint");if(typeof n=="number")t.minHgt=Number(n);else if(typeof n=="object"){const s=mr(e,["heightConstraint","minimum"]);typeof s=="number"&&(t.minHgt=Number(s));const o=mr(e,["heightConstraint","valign"]);typeof o=="string"&&(o==="top"||o==="bottom")&&(t.valign=o)}return t}update(e,t){this.setOptions(e,!0),this.propagateFonts(t),ge(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=y1("label",t)}adjustSizes(e){const t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);const r=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=r)}addFontOptionsToPile(e,t){for(let r=0;r<t.length;++r)this.addFontToPile(e,t[r])}addFontToPile(e,t){if(t===void 0||t.font===void 0||t.font===null)return;const r=t.font;e.push(r)}getBasicOptions(e){const t={};for(let r=0;r<e.length;++r){let n=e[r];const s={};Vi.parseFontString(s,n)&&(n=s),ne(n,(o,a)=>{o!==void 0&&(Object.prototype.hasOwnProperty.call(t,a)||(Oe(Yn).call(Yn,a)!==-1?t[a]={}:t[a]=o))})}return t}getFontOption(e,t,r){let n;for(let s=0;s<e.length;++s){const o=e[s];if(Object.prototype.hasOwnProperty.call(o,t)){if(n=o[t],n==null)continue;const a={};if(Vi.parseFontString(a,n)&&(n=a),Object.prototype.hasOwnProperty.call(n,r))return n[r]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,r))return this.fontOptions[r];throw new Error("Did not find value for multi-font for property: '"+r+"'")}getFontOptions(e,t){const r={},n=["color","size","face","mod","vadjust"];for(let s=0;s<n.length;++s){const o=n[s];r[o]=this.getFontOption(e,t,o)}return r}propagateFonts(e){const t=[];this.addFontOptionsToPile(t,e),this.fontOptions=this.getBasicOptions(t);for(let r=0;r<Yn.length;++r){const n=Yn[r],s=this.fontOptions[n],o=this.getFontOptions(t,n);ne(o,(a,u)=>{s[u]=a}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,t,r,n,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,n,s,t,r,o),this._drawBackground(e),this._drawText(e,t,this.size.yLine,o,a))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}_drawText(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[t,r]=this._setAlignment(e,t,r,n),e.textAlign="left",t=t-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(r-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(r+=(this.size.height-this.size.labelHeight)/2));for(let o=0;o<this.lineCount;o++){const a=this.lines[o];if(a&&a.blocks){let u=0;this.isEdgeLabel||this.fontOptions.align==="center"?u+=(this.size.width-a.width)/2:this.fontOptions.align==="right"&&(u+=this.size.width-a.width);for(let l=0;l<a.blocks.length;l++){const c=a.blocks[l];e.font=c.font;const[d,h]=this._getColor(c.color,s,c.strokeColor);c.strokeWidth>0&&(e.lineWidth=c.strokeWidth,e.strokeStyle=h,e.lineJoin="round"),e.fillStyle=d,c.strokeWidth>0&&e.strokeText(c.text,t+u,r+c.vadjust),e.fillText(c.text,t+u,r+c.vadjust),u+=c.width}r+=a.height}}}_setAlignment(e,t,r,n){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){t=0,r=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",r-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",r+=2*s):e.textBaseline="middle"}else e.textBaseline=n;return[t,r]}_getColor(e,t,r){let n=e||"#000000",s=r||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){const o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));n=mt(n,o),s=mt(s,o)}return[n,s]}getTextSize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,t,r),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let t=this.size.left,r=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":t=s,r=-this.size.height*.5;break;case"top":t=s,r=-(this.size.height+2);break;case"bottom":t=s,r=2;break}}return{left:t,top:r,width:this.size.width,height:this.size.height}}calculateLabelSize(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,t,r),this.size.left=n-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,o==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,t,r,n){const s=function(u,l,c){return l==="normal"?c==="mod"?"":u[c]:u[l][c]!==void 0?u[l][c]:u[c]},o={color:s(this.fontOptions,n,"color"),size:s(this.fontOptions,n,"size"),face:s(this.fontOptions,n,"face"),mod:s(this.fontOptions,n,"mod"),vadjust:s(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||r)&&(n==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?o.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(o,this.elementOptions.id,t,r));let a="";return o.mod!==void 0&&o.mod!==""&&(a+=o.mod+" "),a+=o.size+"px "+o.face,e.font=a.replace(/"/g,""),o.font=e.font,o.height=o.size,o}differentState(e,t){return e!==this.selectedState||t!==this.hoverState}_processLabelText(e,t,r,n){return new Q7(e,this,t,r).process(n)}_processLabel(e,t,r){if(this.labelDirty===!1&&!this.differentState(t,r))return;const n=this._processLabelText(e,t,r,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=t,this.hoverState=r,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}var vD={},mm,pD;function eV(){if(pD)return mm;pD=1;var i=It(),e=oa(),t=vr();return mm=function(n){for(var s=i(this),o=t(s),a=arguments.length,u=e(a>1?arguments[1]:void 0,o),l=a>2?arguments[2]:void 0,c=l===void 0?o:e(l,o);c>u;)s[u++]=n;return s},mm}var gD;function tV(){if(gD)return vD;gD=1;var i=H(),e=eV(),t=r1();return i({target:"Array",proto:!0},{fill:e}),t("fill"),vD}var ym,mD;function rV(){if(mD)return ym;mD=1,tV();var i=Ze();return ym=i("Array","fill"),ym}var bm,yD;function iV(){if(yD)return bm;yD=1;var i=Ne(),e=rV(),t=Array.prototype;return bm=function(r){var n=r.fill;return r===t||i(t,r)&&n===t.fill?e:n},bm}var _m,bD;function nV(){if(bD)return _m;bD=1;var i=iV();return _m=i,_m}var wm,_D;function sV(){return _D||(_D=1,wm=nV()),wm}var oV=sV(),ba=Y(oV);class Si{constructor(e,t,r){this.body=t,this.labelModule=r,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,t){const r=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}enableShadow(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,t){if(t.borderDashes!==!1)if(e.setLineDash!==void 0){let r=t.borderDashes;r===!0&&(r=[5,15]),e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}disableBorderDashes(e,t){t.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}needsRefresh(e,t){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,t)}initContextForDraw(e,t){const r=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,r),e.strokeStyle=t.borderColor,e.fillStyle=t.color}performStroke(e,t){const r=t.borderWidth/this.body.view.scale;e.save(),r>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}performFill(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),ba(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,t,r,n,s){r!==void 0&&this.resize(r,n,s),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,t,r,n,s){this._updateBoundingBox(e,t,r,n,s)}getDimensionsFromLabel(e,t,r){this.textSize=this.labelModule.getTextSize(e,t,r);let n=this.textSize.width,s=this.textSize.height;const o=14;return n===0&&(n=o,s=o),{width:n,height:s}}}let aV=class extends Si{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const n=this.getDimensionsFromLabel(e,t,r);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,o),fN(e,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(t,r,e,n,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,s)}updateBoundingBox(e,t,r,n,s){this._updateBoundingBox(e,t,r,n,s);const o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}distanceToBorder(e,t){e&&this.resize(e);const r=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}};class b1 extends Si{constructor(e,t,r){super(e,t,r),this.labelOffset=0,this.selected=!1}setOptions(e,t,r){this.options=e,t===void 0&&r===void 0||this.setImages(t,r)}setImages(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}switchImages(e){const t=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&t){const r=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=r}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const t=this.options.imagePadding;typeof t=="object"?(e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left):(e.top=t,e.right=t,e.bottom=t,e.left=t)}return e}_resizeImage(){let e,t;if(this.options.shapeProperties.useImageSize===!1){let r=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?r=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),e=this.options.size*2*r,t=this.options.size*2*n}else{const r=this._getImagePadding();e=this.imageObj.width+r.left+r.right,t=this.imageObj.height+r.top+r.bottom}this.width=e,this.height=t,this.radius=.5*this.width}_drawRawCircle(e,t,r,n){this.initContextForDraw(e,n),Vb(e,t,r,n.size),this.performFill(e,n)}_drawImageAtPosition(e,t){if(this.imageObj.width!=0){e.globalAlpha=t.opacity!==void 0?t.opacity:1,this.enableShadow(e,t);let r=1;this.options.shapeProperties.interpolation===!0&&(r=this.imageObj.width/this.width/this.body.view.scale);const n=this._getImagePadding(),s=this.left+n.left,o=this.top+n.top,a=this.width-n.left-n.right,u=this.height-n.top-n.bottom;this.imageObj.drawImageAtPosition(e,r,s,o,a,u),this.disableShadow(e,t)}}_drawImageLabel(e,t,r,n,s){let o=0;if(this.height!==void 0){o=this.height*.5;const u=this.labelModule.getTextSize(e,n,s);u.lineCount>=1&&(o+=u.height/2)}const a=r+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(e,t,a,n,s,"hanging")}}let uV=class extends b1{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const n=this.getDimensionsFromLabel(e,t,r),s=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this._drawRawCircle(e,t,r,o),this.updateBoundingBox(t,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,r,n,s)}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class lV extends b1{constructor(e,t,r,n,s){super(e,t,r),this.setImages(n,s)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,n,s,o){this.switchImages(n),this.resize();let a=t,u=r;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,u+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this._drawRawCircle(e,a,u,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,a,u,n,s),this.updateBoundingBox(t,r)}updateBoundingBox(e,t){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=t,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=t+this.options.size*2):(this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class Mr extends Si{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,r)){var s,o;this.labelModule.getTextSize(e,t,r);const a=2*n.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:a,this.height=(o=this.customSizeHeight)!==null&&o!==void 0?o:a,this.radius=.5*this.width}}_drawShape(e,t,r,n,s,o,a,u){return this.resize(e,o,a,u),this.left=n-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,u),i6(t)(e,n,s,u.size),this.performFill(e,u),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,n,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,o,a,n,s,"hanging");const l=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,n,l,o,a,"hanging")}this.updateBoundingBox(n,s)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function wD(i,e){var t=qe(i);if(Tr){var r=Tr(i);e&&(r=pr(r).call(r,function(n){return kr(i,n).enumerable})),t.push.apply(t,r)}return t}function cV(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?_e(t=wD(Object(n),!0)).call(t,function(s){Qt(i,s,n[s])}):Pr?ma(i,Pr(n)):_e(r=wD(Object(n))).call(r,function(s){ya(i,s,kr(n,s))})}return i}class dV extends Mr{constructor(e,t,r,n){super(e,t,r,n),this.ctxRenderer=n}draw(e,t,r,n,s,o){this.resize(e,n,s,o),this.left=t-this.width/2,this.top=r-this.height/2,e.save();const a=this.ctxRenderer({ctx:e,id:this.options.id,x:t,y:r,state:{selected:n,hover:s},style:cV({},o),label:this.options.label});if(a.drawNode!=null&&a.drawNode(),e.restore(),a.drawExternalLabel){const u=a.drawExternalLabel;a.drawExternalLabel=()=>{e.save(),u(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class hV extends Si{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){if(this.needsRefresh(t,r)){const s=this.getDimensionsFromLabel(e,t,r).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,o),vN(e,t-this.width/2,r-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,r,e,n,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let fV=class extends Mr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"diamond",4,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class vV extends Mr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"circle",2,t,r,n,s,o)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class ED extends Si{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const n=this.getDimensionsFromLabel(e,t,r);this.height=n.height*2,this.width=n.width+n.height,this.radius=.5*this.width}}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width*.5,this.top=r-this.height*.5,this.initContextForDraw(e,o),Jy(e,this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,r,e,n,s),this.labelModule.draw(e,t,r,n,s)}distanceToBorder(e,t){e&&this.resize(e);const r=this.width*.5,n=this.height*.5,s=Math.sin(t)*r,o=Math.cos(t)*n;return r*n/Math.sqrt(s*s+o*o)}}class pV extends Si{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,n,s,o){return this.resize(e,n,s),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=r-this.height/2,this._icon(e,t,r,n,s,o),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,r+this.height/2+5,n),this.updateBoundingBox(t,r)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=t+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,t,r,n,s,o){const a=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:n?"bold":"",(this.options.icon.weight!=null&&n?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,t,r),this.disableShadow(e,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let gV=class extends b1{constructor(e,t,r,n,s){super(e,t,r),this.setImages(n,s)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,n,s,o){e.save(),this.switchImages(n),this.resize();let a=t,u=r;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,u+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const l=this.options.borderWidth,c=this.options.borderWidthSelected||2*this.options.borderWidth,d=(n?c:l)/this.body.view.scale;e.lineWidth=Math.min(this.width,d),e.beginPath();let h=n?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,f=n?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;o.opacity!==void 0&&(h=mt(h,o.opacity),f=mt(f,o.opacity)),e.strokeStyle=h,e.fillStyle=f,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),ba(e).call(e),this.performStroke(e,o),e.closePath()}this._drawImageAtPosition(e,o),this._drawImageLabel(e,a,u,n,s),this.updateBoundingBox(t,r),e.restore()}updateBoundingBox(e,t){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=t):(this.left=e-this.width/2,this.top=t-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class mV extends Mr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"square",2,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class yV extends Mr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"hexagon",4,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class bV extends Mr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"star",4,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class _V extends Si{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.textSize=this.labelModule.getTextSize(e,t,r),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,s),this.disableShadow(e,o),this.updateBoundingBox(t,r,e,n,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let wV=class extends Mr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"triangle",3,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class EV extends Mr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"triangleDown",3,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}function SD(i,e){var t=qe(i);if(Tr){var r=Tr(i);e&&(r=pr(r).call(r,function(n){return kr(i,n).enumerable})),t.push.apply(t,r)}return t}function OD(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?_e(t=SD(Object(n),!0)).call(t,function(s){Qt(i,s,n[s])}):Pr?ma(i,Pr(n)):_e(r=SD(Object(n))).call(r,function(s){ya(i,s,kr(n,s))})}return i}class we{constructor(e,t,r,n,s,o){this.options=Sr(s),this.globalOptions=s,this.defaultOptions=o,this.body=t,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Vi(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var t;Oe(t=this.edges).call(t,e)===-1&&this.edges.push(e)}detachEdge(e){var t;const r=Oe(t=this.edges).call(t,e);if(r!=-1){var n;Or(n=this.edges).call(n,r,1)}}setOptions(e){const t=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");we.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=bq(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=bq(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=OF(e.value)),we.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const r=[e,this.options,this.defaultOptions];return this.chooser=y1("node",r),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&we.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,t,r){var n;if(r===void 0)return;const s=e.group;if(t!==void 0&&t.group!==void 0&&s!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const a=r.get(s);a.opacity!==void 0&&t.opacity===void 0&&(we.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));const u=pr(n=m7(t)).call(n,l=>t[l]!=null);u.push("font"),Co(u,e,a),e.color=ib(e.color)}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(Co(["color","fixed","shadow"],e,t,r),we.checkMass(t),e.opacity!==void 0&&(we.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),t.opacity!==void 0&&(we.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!we.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),gt(e,t,"shadow",n),t.color!==void 0&&t.color!==null){const a=ib(t.color);LN(e.color,a)}else r===!0&&t.color===null&&(e.color=Sr(n.color));t.fixed!==void 0&&t.fixed!==null&&(typeof t.fixed=="boolean"?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(t.fixed.x!==void 0&&typeof t.fixed.x=="boolean"&&(e.fixed.x=t.fixed.x),t.fixed.y!==void 0&&typeof t.fixed.y=="boolean"&&(e.fixed.y=t.fixed.y))),r===!0&&t.font===null&&(e.font=Sr(n.font)),we.updateGroupOptions(e,t,s),t.scaling!==void 0&&gt(e.scaling,t.scaling,"label",n.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const t=this.options.opacity;e.borderColor=mt(e.borderColor,t),e.color=mt(e.color,t),e.shadowColor=mt(e.shadowColor,t)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),we.updateGroupOptions(this.options,OD(OD({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const t=this.grouplist.get(this.options.group,!1),r=[e,this.options,t,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new aV(this.options,this.body,this.labelModule);break;case"circle":this.shape=new uV(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new lV(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new dV(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new hV(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new fV(this.options,this.body,this.labelModule);break;case"dot":this.shape=new vV(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new ED(this.options,this.body,this.labelModule);break;case"icon":this.shape=new pV(this.options,this.body,this.labelModule);break;case"image":this.shape=new gV(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new mV(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new yV(this.options,this.body,this.labelModule);break;case"star":this.shape=new bV(this.options,this.body,this.labelModule);break;case"text":this.shape=new _V(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new wV(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new EV(this.options,this.body,this.labelModule);break;default:this.shape=new ED(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,t){return this.shape.distanceToBorder(e,t)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,t,r){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*o}this.options.size=this.options.scaling.min+n*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}getItemsOnPoint(e){const t=[];return this.labelModule.visible()&&ub(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),ub(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,t){if(e.mass!==void 0&&e.mass<=0){let r="";t!==void 0&&(r=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+r+", setting mass to 1.",VN),e.mass=1}}}class SV{constructor(e,t,r,n){var s;if(this.body=e,this.images=t,this.groups=r,this.layoutEngine=n,this.body.functions.createNode=M(s=this.create).call(s,this),this.nodesListeners={add:(o,a)=>{this.add(a.items)},update:(o,a)=>{this.update(a.items,a.data,a.oldData)},remove:(o,a)=>{this.remove(a.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,a,u,l){if(a===o)return .5;{const c=1/(a-o);return Math.max(0,(l-o)*c)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Sr(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,t;this.body.emitter.on("refreshNodes",M(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",M(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",()=>{ne(this.nodesListeners,(r,n)=>{this.body.data.nodes&&this.body.data.nodes.off(n,r)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(we.parseOptions(this.options,e),e.opacity!==void 0&&(ab(e.opacity)||!Zr(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const t of qe(this.body.nodes))this.body.nodes[t].updateLabelModule(),this.body.nodes[t].needsRefresh();if(e.size!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.nodes;if(sN("id",e))this.body.data.nodes=e;else if(Dt(e))this.body.data.nodes=new Ji,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Ji;else throw new TypeError("Array or DataSet expected");if(r&&ne(this.nodesListeners,function(n,s){r.off(s,n)}),this.body.nodes={},this.body.data.nodes){const n=this;ne(this.nodesListeners,function(o,a){n.body.data.nodes.on(a,o)});const s=this.body.data.nodes.getIds();this.add(s,!0)}t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;const n=[];for(let s=0;s<e.length;s++){r=e[s];const o=this.body.data.nodes.get(r),a=this.create(o);n.push(a),this.body.nodes[r]=a}this.layoutEngine.positionInitially(n),t===!1&&this.body.emitter.emit("_dataChanged")}update(e,t,r){const n=this.body.nodes;let s=!1;for(let o=0;o<e.length;o++){const a=e[o];let u=n[a];const l=t[o];u!==void 0?u.setOptions(l)&&(s=!0):(s=!0,u=this.create(l),n[a]=u)}!s&&r!==void 0&&(s=M9(t).call(t,function(o,a){const u=r[a];return u&&u.level!==o.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const t=this.body.nodes;for(let r=0;r<e.length;r++){const n=e[r];delete t[n]}this.body.emitter.emit("_dataChanged")}create(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:we;return new t(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ne(this.body.nodes,(t,r)=>{const n=this.body.data.nodes.get(r);n!==void 0&&(e===!0&&t.setOptions({x:null,y:null}),t.setOptions({fixed:!1}),t.setOptions(n))})}getPositions(e){const t={};if(e!==void 0){if(Dt(e)===!0){for(let r=0;r<e.length;r++)if(this.body.nodes[e[r]]!==void 0){const n=this.body.nodes[e[r]];t[e[r]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];t[e]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(let r=0;r<this.body.nodeIndices.length;r++){const n=this.body.nodes[this.body.nodeIndices[r]];t[this.body.nodeIndices[r]]={x:Math.round(n.x),y:Math.round(n.y)}}return t}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],t=this.body.data.nodes.getDataSet();for(const r of t.get()){const n=r.id,s=this.body.nodes[n],o=Math.round(s.x),a=Math.round(s.y);(r.x!==o||r.y!==a)&&e.push({id:n,x:o,y:a})}t.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,t){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e],s={};for(let o=0;o<n.edges.length;o++){const a=n.edges[o];t!=="to"&&a.toId==n.id?s[a.fromId]===void 0&&(r.push(a.fromId),s[a.fromId]=!0):t!=="from"&&a.fromId==n.id&&s[a.toId]===void 0&&(r.push(a.toId),s[a.toId]=!0)}}return r}getConnectedEdges(e){const t=[];if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];for(let n=0;n<r.edges.length;n++)t.push(r.edges[n].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}moveNode(e,t,r){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(r),Hi(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var ID={},Em,$D;function OV(){if($D)return Em;$D=1;var i=Sn(),e=Pt(),t=hr(),r=RangeError;return Em=function(s){var o=e(t(this)),a="",u=i(s);if(u<0||u===1/0)throw new r("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(o+=o))u&1&&(a+=o);return a},Em}var Sm,TD;function IV(){if(TD)return Sm;TD=1;var i=ae(),e=dN(),t=Pt(),r=OV(),n=hr(),s=i(r),o=i("".slice),a=Math.ceil,u=function(l){return function(c,d,h){var f=t(n(c)),v=e(d),g=f.length,b=h===void 0?" ":t(h),p,m;return v<=g||b===""?f:(p=v-g,m=s(b,a(p/b.length)),m.length>p&&(m=o(m,0,p)),l?f+m:m+f)}};return Sm={start:u(!1),end:u(!0)},Sm}var Om,PD;function $V(){if(PD)return Om;PD=1;var i=ae(),e=oe(),t=IV().start,r=RangeError,n=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,u=i(o.getTime),l=i(o.getUTCDate),c=i(o.getUTCFullYear),d=i(o.getUTCHours),h=i(o.getUTCMilliseconds),f=i(o.getUTCMinutes),v=i(o.getUTCMonth),g=i(o.getUTCSeconds);return Om=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!n(u(this)))throw new r("Invalid time value");var p=this,m=c(p),O=h(p),y=m<0?"-":m>9999?"+":"";return y+t(s(m),y?6:4,0)+"-"+t(v(p)+1,2,0)+"-"+t(l(p),2,0)+"T"+t(d(p),2,0)+":"+t(f(p),2,0)+":"+t(g(p),2,0)+"."+t(O,3,0)+"Z"}:a,Om}var RD;function TV(){if(RD)return ID;RD=1;var i=H(),e=ft(),t=It(),r=aN(),n=$V(),s=Gt(),o=oe(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return i({target:"Date",proto:!0,forced:a},{toJSON:function(l){var c=t(this),d=r(c,"number");return typeof d=="number"&&!isFinite(d)?null:!("toISOString"in c)&&s(c)==="Date"?e(n,c):c.toISOString()}}),ID}var Im,xD;function PV(){if(xD)return Im;xD=1,TV(),pF();var i=fe(),e=ea();return i.JSON||(i.JSON={stringify:JSON.stringify}),Im=function(r,n,s){return e(i.JSON.stringify,null,arguments)},Im}var $m,CD;function RV(){if(CD)return $m;CD=1;var i=PV();return $m=i,$m}var Tm,qD;function xV(){return qD||(qD=1,Tm=RV()),Tm}var CV=xV(),TF=Y(CV),DD={},kD;function qV(){if(kD)return DD;kD=1;var i=H(),e=Math.hypot,t=Math.abs,r=Math.sqrt,n=!!e&&e(1/0,NaN)!==1/0;return i({target:"Math",stat:!0,arity:2,forced:n},{hypot:function(o,a){for(var u=0,l=0,c=arguments.length,d=0,h,f;l<c;)h=t(arguments[l++]),d<h?(f=d/h,u=u*f*f+1,d=h):h>0?(f=h/d,u+=f*f):u+=h;return d===1/0?1/0:d*r(u)}}),DD}var Pm,MD;function DV(){if(MD)return Pm;MD=1,qV();var i=fe();return Pm=i.Math.hypot,Pm}var Rm,AD;function kV(){if(AD)return Rm;AD=1;var i=DV();return Rm=i,Rm}var xm,ND;function MV(){return ND||(ND=1,xm=kV()),xm}var AV=MV(),NV=Y(AV);class Pe{static transform(e,t){Dt(e)||(e=[e]);const r=t.point.x,n=t.point.y,s=t.angle,o=t.length;for(let a=0;a<e.length;++a){const u=e[a],l=u.x*Math.cos(s)-u.y*Math.sin(s),c=u.x*Math.sin(s)+u.y*Math.cos(s);u.x=r+o*l,u.y=n+o*c}}static drawPath(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length;++r)e.lineTo(t[r].x,t[r].y);e.closePath()}}let FV=class extends Pe{static draw(e,t){if(t.image){e.save(),e.translate(t.point.x,t.point.y),e.rotate(Math.PI/2+t.angle);const r=t.imageWidth!=null?t.imageWidth:t.image.width,n=t.imageHeight!=null?t.imageHeight:t.image.height;t.image.drawImageAtPosition(e,1,-r/2,0,r,n),e.restore()}return!1}};class BV extends Pe{static draw(e,t){const r=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Pe.transform(r,t),Pe.drawPath(e,r),!0}}class jV{static draw(e,t){const r=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Pe.transform(r,t),Pe.drawPath(e,r),!0}}class LV{static draw(e,t){const r={x:-.4,y:0};Pe.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,s=t.angle-n/2,o=t.angle+n/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,s,o,!1),e.stroke(),!0}}class zV{static draw(e,t){const r={x:-.3,y:0};Pe.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,s=t.angle+n/2,o=t.angle+3*n/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,s,o,!1),e.stroke(),!0}}class WV{static draw(e,t){const r=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Pe.transform(r,t),Pe.drawPath(e,r),!0}}class HV{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Pe.transform(r,t),Pe.drawPath(e,r),!0}}class VV{static draw(e,t){const r={x:-.4,y:0};return Pe.transform(r,t),Vb(e,r.x,r.y,t.length*.4),!0}}class UV{static draw(e,t){const r=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Pe.transform(r,t),Pe.drawPath(e,r),!0}}class GV{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Pe.transform(r,t),Pe.drawPath(e,r),!0}}class KV{static draw(e,t){const r=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Pe.transform(r,t),Pe.drawPath(e,r),!0}}class YV{static draw(e,t){const r=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Pe.transform(r,t),Pe.drawPath(e,r),!0}}class PF{static draw(e,t){let r;switch(t.type&&(r=t.type.toLowerCase()),r){case"image":return FV.draw(e,t);case"circle":return VV.draw(e,t);case"box":return GV.draw(e,t);case"crow":return jV.draw(e,t);case"curve":return LV.draw(e,t);case"diamond":return KV.draw(e,t);case"inv_curve":return zV.draw(e,t);case"triangle":return WV.draw(e,t);case"inv_triangle":return HV.draw(e,t);case"bar":return UV.draw(e,t);case"vee":return YV.draw(e,t);case"arrow":default:return BV.draw(e,t)}}}function FD(i,e){var t=qe(i);if(Tr){var r=Tr(i);e&&(r=pr(r).call(r,function(n){return kr(i,n).enumerable})),t.push.apply(t,r)}return t}function BD(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?_e(t=FD(Object(n),!0)).call(t,function(s){Qt(i,s,n[s])}):Pr?ma(i,Pr(n)):_e(r=FD(Object(n))).call(r,function(s){ya(i,s,kr(n,s))})}return i}class RF{constructor(e,t,r){Qt(this,"color",{}),Qt(this,"colorDirty",!0),Qt(this,"hoverWidth",1.5),Qt(this,"selectionWidth",2),this._body=t,this._labelModule=r,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,t,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,t.dashes!==!1?this._drawDashedLine(e,t,s):this._drawLine(e,t,s)}_drawLine(e,t,r,n,s){if(this.from!=this.to)this._line(e,t,r,n,s);else{const[o,a,u]=this._getCircleData(e);this._circle(e,t,o,a,u)}}_drawDashedLine(e,t,r,n,s){e.lineCap="round";const o=Dt(t.dashes)?t.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,r);else{const[a,u,l]=this._getCircleData(e);this._circle(e,t,a,u,l)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)pN(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{const[a,u,l]=this._getCircleData(e);this._circle(e,t,a,u,l)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}findBorderPosition(e,t,r){return this.from!=this.to?this._findBorderPosition(e,t,r):this._findBorderPositionCircle(e,t,r)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var t;const[r,n]=Mi(t=this._getCircleData(e)).call(t,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:.6,high:.8,direction:1})}}}_getCircleData(e){const t=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const r=IF(e,this.options.selfReference.angle,t,this.from);return[r.x,r.y,t]}_pointOnCircle(e,t,r,n){const s=n*2*Math.PI;return{x:e+r*Math.cos(s),y:t-r*Math.sin(s)}}_findBorderPositionCircle(e,t,r){const n=r.x,s=r.y;let o=r.low,a=r.high;const u=r.direction,l=10,c=this.options.selfReference.size,d=.05;let h,f=(o+a)*.5,v=0;this.options.arrowStrikethrough===!0&&(u===-1?v=this.options.endPointOffset.from:u===1&&(v=this.options.endPointOffset.to));let g=0;do{f=(o+a)*.5,h=this._pointOnCircle(n,s,c,f);const b=Math.atan2(e.y-h.y,e.x-h.x),p=e.distanceToBorder(t,b)+v,m=Math.sqrt(Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2)),O=p-m;if(Math.abs(O)<d)break;O>0?u>0?o=f:a=f:u>0?a=f:o=f,++g}while(o<=a&&g<l);return BD(BD({},h),{},{t:f})}getLineWidth(e,t){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):t===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,t){if(t.inheritsColor!==!1){if(t.inheritsColor==="both"&&this.from.id!==this.to.id){const r=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let n=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(n=mt(this.from.options.color.border,t.opacity),s=mt(this.to.options.color.border,t.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(n=this.from.options.color.border),r.addColorStop(0,n),r.addColorStop(1,s),r}return t.inheritsColor==="to"?mt(this.to.options.color.border,t.opacity):mt(this.from.options.color.border,t.opacity)}else return mt(t.color,t.opacity)}_circle(e,t,r,n,s){this.enableShadow(e,t);let o=0,a=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const u=this.options.selfReference.angle,l=this.options.selfReference.angle+Math.PI,c=this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:u,high:l,direction:-1}),d=this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:u,high:l,direction:1});o=Math.atan2(c.y-n,c.x-r),a=Math.atan2(d.y-n,d.x-r)}e.beginPath(),e.arc(r,n,s,o,a,!1),e.stroke(),this.disableShadow(e,t)}getDistanceToEdge(e,t,r,n,s,o){if(this.from!=this.to)return this._getDistanceToEdge(e,t,r,n,s,o);{const[a,u,l]=this._getCircleData(void 0),c=a-s,d=u-o;return Math.abs(Math.sqrt(c*c+d*d)-l)}}_getDistanceToLine(e,t,r,n,s,o){const a=r-e,u=n-t,l=a*a+u*u;let c=((s-e)*a+(o-t)*u)/l;c>1?c=1:c<0&&(c=0);const d=e+c*a,h=t+c*u,f=d-s,v=h-o;return Math.sqrt(f*f+v*v)}getArrowData(e,t,r,n,s,o){let a,u,l,c,d,h,f;const v=o.width;t==="from"?(l=this.from,c=this.to,d=o.fromArrowScale<0,h=Math.abs(o.fromArrowScale),f=o.fromArrowType):t==="to"?(l=this.to,c=this.from,d=o.toArrowScale<0,h=Math.abs(o.toArrowScale),f=o.toArrowType):(l=this.to,c=this.from,d=o.middleArrowScale<0,h=Math.abs(o.middleArrowScale),f=o.middleArrowType);const g=15*h+3*v;if(l!=c){const O=NV(l.x-c.x,l.y-c.y),y=g/O;if(t!=="middle")if(this.options.smooth.enabled===!0){const S=this._findBorderPosition(l,e,{via:r}),I=this.getPoint(S.t+y*(t==="from"?1:-1),r);a=Math.atan2(S.y-I.y,S.x-I.x),u=S}else a=Math.atan2(l.y-c.y,l.x-c.x),u=this._findBorderPosition(l,e);else{const S=(d?-y:y)/2,I=this.getPoint(.5+S,r),w=this.getPoint(.5-S,r);a=Math.atan2(I.y-w.y,I.x-w.x),u=this.getPoint(.5,r)}}else{const[O,y,S]=this._getCircleData(e);if(t==="from"){const I=this.options.selfReference.angle,w=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,e,{x:O,y,low:I,high:w,direction:-1});a=_.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,u=_}else if(t==="to"){const I=this.options.selfReference.angle,w=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,e,{x:O,y,low:I,high:w,direction:1});a=_.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,u=_}else{const I=this.options.selfReference.angle/(2*Math.PI);u=this._pointOnCircle(O,y,S,I),a=I*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const b=u.x-g*.9*Math.cos(a),p=u.y-g*.9*Math.sin(a);return{point:u,core:{x:b,y:p},angle:a,length:g,type:f}}drawArrowHead(e,t,r,n,s){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,PF.draw(e,s)&&(this.enableShadow(e,t),ba(e).call(e),this.disableShadow(e,t))}enableShadow(e,t){t.shadow===!0&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,t){if(t.background!==!1){const r={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=r.strokeStyle,e.lineWidth=r.lineWidth,e.dashes=r.dashes,this.setStrokeDashed(e,t.dashes)}}setStrokeDashed(e,t){if(t!==!1)if(e.setLineDash!==void 0){const r=Dt(t)?t:[5,5];e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function jD(i,e){var t=qe(i);if(Tr){var r=Tr(i);e&&(r=pr(r).call(r,function(n){return kr(i,n).enumerable})),t.push.apply(t,r)}return t}function LD(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?_e(t=jD(Object(n),!0)).call(t,function(s){Qt(i,s,n[s])}):Pr?ma(i,Pr(n)):_e(r=jD(Object(n))).call(r,function(s){ya(i,s,kr(n,s))})}return i}class _1 extends RF{constructor(e,t,r){super(e,t,r)}_findBorderPositionBezier(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const n=10,s=.2;let o=!1,a=1,u=0,l=this.to,c,d,h=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(l=this.from,o=!0,h=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(h=0);let f=0;do{d=(u+a)*.5,c=this.getPoint(d,r);const v=Math.atan2(l.y-c.y,l.x-c.x),g=l.distanceToBorder(t,v)+h,b=Math.sqrt(Math.pow(c.x-l.x,2)+Math.pow(c.y-l.y,2)),p=g-b;if(Math.abs(p)<s)break;p<0?o===!1?u=d:a=d:o===!1?a=d:u=d,++f}while(u<=a&&f<n);return LD(LD({},c),{},{t:d})}_getDistanceToBezierEdge(e,t,r,n,s,o,a){let u=1e9,l,c,d,h,f,v=e,g=t;for(c=1;c<10;c++)d=.1*c,h=Math.pow(1-d,2)*e+2*d*(1-d)*a.x+Math.pow(d,2)*r,f=Math.pow(1-d,2)*t+2*d*(1-d)*a.y+Math.pow(d,2)*n,c>0&&(l=this._getDistanceToLine(v,g,h,f,s,o),u=l<u?l:u),v=h,g=f;return u}_bezierCurve(e,t,r,n){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),r!=null&&r.x!=null?n!=null&&n.x!=null?e.bezierCurveTo(r.x,r.y,n.x,n.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(r.x,r.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,t),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){return this._getViaCoordinates()}}class zD extends _1{constructor(e,t,r){super(e,t,r),Qt(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),t===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,t=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,t,r){this._bezierCurve(e,t,r)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[r,n,s]=this._getCircleData(),o=2*Math.PI*(1-e);return{x:r+s*Math.sin(o),y:n+s-s*(1-Math.cos(o))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*t.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*t.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t,this.via)}_getDistanceToEdge(e,t,r,n,s,o){return this._getDistanceToBezierEdge(e,t,r,n,s,o,this.via)}}class WD extends _1{constructor(e,t,r){super(e,t,r)}_line(e,t,r){this._bezierCurve(e,t,r)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,t=this.options.smooth.type;let r=Math.abs(this.from.x-this.to.x),n=Math.abs(this.from.y-this.to.y);if(t==="discrete"||t==="diagonalCross"){let s,o;r<=n?s=o=e*n:s=o=e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,u=this.from.y+o;return t==="discrete"&&(r<=n?a=r<e*n?this.from.x:a:u=n<e*r?this.from.y:u),{x:a,y:u}}else if(t==="straightCross"){let s=(1-e)*r,o=(1-e)*n;return r<=n?(s=0,this.from.y<this.to.y&&(o=-o)):(this.from.x<this.to.x&&(s=-s),o=0),{x:this.to.x+s,y:this.to.y+o}}else if(t==="horizontal"){let s=(1-e)*r;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(t==="vertical"){let s=(1-e)*n;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(t==="curvedCW"){r=this.to.x-this.from.x,n=this.from.y-this.to.y;const s=Math.sqrt(r*r+n*n),o=Math.PI,u=(Math.atan2(n,r)+(e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else if(t==="curvedCCW"){r=this.to.x-this.from.x,n=this.from.y-this.to.y;const s=Math.sqrt(r*r+n*n),o=Math.PI,u=(Math.atan2(n,r)+(-e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else{let s,o;r<=n?s=o=e*n:s=o=e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,u=this.from.y+o;return r<=n?this.from.x<=this.to.x?a=this.to.x<a?this.to.x:a:a=this.to.x>a?this.to.x:a:this.from.y>=this.to.y?u=this.to.y>u?this.to.y:u:u=this.to.y<u?this.to.y:u,{x:a,y:u}}}_findBorderPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,t,r.via)}_getDistanceToEdge(e,t,r,n,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,r,n,s,o,a)}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const r=e,n=Math.pow(1-r,2)*this.fromPoint.x+2*r*(1-r)*t.x+Math.pow(r,2)*this.toPoint.x,s=Math.pow(1-r,2)*this.fromPoint.y+2*r*(1-r)*t.y+Math.pow(r,2)*this.toPoint.y;return{x:n,y:s}}}class XV extends _1{constructor(e,t,r){super(e,t,r)}_getDistanceToBezierEdge2(e,t,r,n,s,o,a,u){let l=1e9,c=e,d=t;const h=[0,0,0,0];for(let f=1;f<10;f++){const v=.1*f;h[0]=Math.pow(1-v,3),h[1]=3*v*Math.pow(1-v,2),h[2]=3*Math.pow(v,2)*(1-v),h[3]=Math.pow(v,3);const g=h[0]*e+h[1]*a.x+h[2]*u.x+h[3]*r,b=h[0]*t+h[1]*a.y+h[2]*u.y+h[3]*n;if(f>0){const p=this._getDistanceToLine(c,d,g,b,s,o);l=p<l?p:l}c=g,d=b}return l}}class HD extends XV{constructor(e,t,r){super(e,t,r)}_line(e,t,r){const n=r[0],s=r[1];this._bezierCurve(e,t,n,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,t=this.from.y-this.to.y;let r,n,s,o;const a=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(t)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(n=this.from.y,o=this.to.y,r=this.from.x-a*e,s=this.to.x+a*e):(n=this.from.y-a*t,o=this.to.y+a*t,r=this.from.x,s=this.to.x),[{x:r,y:n},{x:s,y:o}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t)}_getDistanceToEdge(e,t,r,n,s,o){let[a,u]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,t,r,n,s,o,a,u)}getPoint(e){let[t,r]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,s=[Math.pow(1-n,3),3*n*Math.pow(1-n,2),3*Math.pow(n,2)*(1-n),Math.pow(n,3)],o=s[0]*this.fromPoint.x+s[1]*t.x+s[2]*r.x+s[3]*this.toPoint.x,a=s[0]*this.fromPoint.y+s[1]*t.y+s[2]*r.y+s[3]*this.toPoint.y;return{x:o,y:a}}}class VD extends RF{constructor(e,t,r){super(e,t,r)}_line(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,t){let r=this.to,n=this.from;e.id===this.from.id&&(r=this.from,n=this.to);const s=Math.atan2(r.y-n.y,r.x-n.x),o=r.x-n.x,a=r.y-n.y,u=Math.sqrt(o*o+a*a),l=e.distanceToBorder(t,s),c=(u-l)/u;return{x:(1-c)*n.x+c*r.x,y:(1-c)*n.y+c*r.y,t:0}}_getDistanceToEdge(e,t,r,n,s,o){return this._getDistanceToLine(e,t,r,n,s,o)}}class Ir{constructor(e,t,r,n,s){if(t===void 0)throw new Error("No body provided");this.options=Sr(n),this.globalOptions=n,this.defaultOptions=s,this.body=t,this.imagelist=r,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Vi(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let t=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;Ir.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=OF(e.value));const r=[e,this.options,this.defaultOptions];return this.chooser=y1("edge",r),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if($n(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,r),t.endPointOffset!==void 0&&t.endPointOffset.from!==void 0&&(Zr(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=n.endPointOffset.from!==void 0?n.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),t.endPointOffset!==void 0&&t.endPointOffset.to!==void 0&&(Zr(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=n.endPointOffset.to!==void 0?n.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Do(t.label)?e.label=t.label:Do(e.label)||(e.label=void 0),gt(e,t,"smooth",n),gt(e,t,"shadow",n),gt(e,t,"background",n),t.dashes!==void 0&&t.dashes!==null?e.dashes=t.dashes:r===!0&&t.dashes===null&&(e.dashes=is(n.dashes)),t.scaling!==void 0&&t.scaling!==null?(t.scaling.min!==void 0&&(e.scaling.min=t.scaling.min),t.scaling.max!==void 0&&(e.scaling.max=t.scaling.max),gt(e.scaling,t.scaling,"label",n.scaling)):r===!0&&t.scaling===null&&(e.scaling=is(n.scaling)),t.arrows!==void 0&&t.arrows!==null)if(typeof t.arrows=="string"){const a=t.arrows.toLowerCase();e.arrows.to.enabled=Oe(a).call(a,"to")!=-1,e.arrows.middle.enabled=Oe(a).call(a,"middle")!=-1,e.arrows.from.enabled=Oe(a).call(a,"from")!=-1}else if(typeof t.arrows=="object")gt(e.arrows,t.arrows,"to",n.arrows),gt(e.arrows,t.arrows,"middle",n.arrows),gt(e.arrows,t.arrows,"from",n.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+TF(t.arrows));else r===!0&&t.arrows===null&&(e.arrows=is(n.arrows));if(t.color!==void 0&&t.color!==null){const a=zi(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,u=e.color;if(s)ge(u,n.color,!1,r);else for(const l in u)Object.prototype.hasOwnProperty.call(u,l)&&delete u[l];if(zi(u))u.color=u,u.highlight=u,u.hover=u,u.inherit=!1,a.opacity===void 0&&(u.opacity=1);else{let l=!1;a.color!==void 0&&(u.color=a.color,l=!0),a.highlight!==void 0&&(u.highlight=a.highlight,l=!0),a.hover!==void 0&&(u.hover=a.hover,l=!0),a.inherit!==void 0&&(u.inherit=a.inherit),a.opacity!==void 0&&(u.opacity=Math.min(1,Math.max(0,a.opacity))),l===!0?u.inherit=!1:u.inherit===void 0&&(u.inherit="from")}}else r===!0&&t.color===null&&(e.color=Sr(n.color));r===!0&&t.font===null&&(e.font=Sr(n.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,t=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,r=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,n=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:r,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const o=this.options.selectionWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const o=this.options.hoverWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let t=!1,r=!0;return this.edgeType!==void 0&&((this.edgeType instanceof zD&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof HD&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof WD&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof VD&&e.type.enabled===!1)&&(r=!1),r===!0&&(t=this.cleanup())),r===!0?e.enabled===!0?e.type==="dynamic"?(t=!0,this.edgeType=new zD(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new HD(this.options,this.body,this.labelModule):this.edgeType=new WD(this.options,this.body,this.labelModule):this.edgeType=new VD(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,t,r){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*o}this.options.width=this.options.scaling.min+n*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,r),this.drawLabel(e,r)}drawArrows(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(n.from=this.edgeType.getArrowData(e,"from",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.fromPoint=n.from.core),t.fromArrowSrc&&(n.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(n.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(n.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(n.to=this.edgeType.getArrowData(e,"to",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.toPoint=n.to.core),t.toArrowSrc&&(n.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(n.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(n.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(n.middle=this.edgeType.getArrowData(e,"middle",r,this.selected,this.hover,t),t.middleArrowSrc&&(n.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(n.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(n.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.to)}drawLabel(e,t){if(this.options.label!==void 0){const r=this.from,n=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(r.id!=n.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,t),e.save();const o=this._getRotation(e);o.angle!=0&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const o=IF(e,this.options.selfReference.angle,this.options.selfReference.size,r);s=this._pointOnCircle(o.x,o.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const t=[];if(this.labelModule.visible()){const n=this._getRotation();ub(this.labelModule.getSize(),e,n)&&t.push({edgeId:this.id,labelId:0})}const r={left:e.x,top:e.y};return this.isOverlappingWith(r)&&t.push({edgeId:this.id}),t}isOverlappingWith(e){if(this.connected){const r=this.from.x,n=this.from.y,s=this.to.x,o=this.to.y,a=e.left,u=e.top;return this.edgeType.getDistanceToEdge(r,n,s,o,a,u)<10}else return!1}_getRotation(e){const t=this.edgeType.getViaNode(),r=this.edgeType.getPoint(.5,t);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,r.x,r.y);const n={x:r.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return n;const s=this.from.y-this.to.y,o=this.from.x-this.to.x;let a=Math.atan2(s,o);return(a<-1&&o<0||a>0&&o<0)&&(a+=Math.PI),n.angle=a,n}_pointOnCircle(e,t,r,n){return{x:e+r*Math.cos(n),y:t-r*Math.sin(n)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class ZV{constructor(e,t,r){var n;this.body=e,this.images=t,this.groups=r,this.body.functions.createEdge=M(n=this.create).call(n,this),this.edgesListeners={add:(s,o)=>{this.add(o.items)},update:(s,o)=>{this.update(o.items)},remove:(s,o)=>{this.remove(o.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,o,a,u){if(o===s)return .5;{const l=1/(o-s);return Math.max(0,(u-s)*l)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},ge(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,t,r;this.body.emitter.on("_forceDisableDynamicCurves",function(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n==="dynamic"&&(n="continuous");let o=!1;for(const a in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,a)){const u=e.body.edges[a],l=e.body.data.edges.get(a);if(l!=null){const c=l.smooth;c!==void 0&&c.enabled===!0&&c.type==="dynamic"&&(n===void 0?u.setOptions({smooth:!1}):u.setOptions({smooth:{type:n}}),o=!0)}}s===!0&&o===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",M(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",M(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{ne(this.edgesListeners,(n,s)=>{this.body.data.edges&&this.body.data.edges.off(s,n)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){Ir.parseOptions(this.options,e,!0,this.defaultOptions,!0);let t=!1;if(e.smooth!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&(t=this.body.edges[r].updateEdgeType()||t);if(e.font!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&this.body.edges[r].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||t===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.edges;if(sN("id",e))this.body.data.edges=e;else if(Dt(e))this.body.data.edges=new Ji,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Ji;else throw new TypeError("Array or DataSet expected");if(r&&ne(this.edgesListeners,(n,s)=>{r.off(s,n)}),this.body.edges={},this.body.data.edges){ne(this.edgesListeners,(s,o)=>{this.body.data.edges.on(o,s)});const n=this.body.data.edges.getIds();this.add(n,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.edges,n=this.body.data.edges;for(let s=0;s<e.length;s++){const o=e[s],a=r[o];a&&a.disconnect();const u=n.get(o,{showInternalIds:!0});r[o]=this.create(u)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}update(e){const t=this.body.edges,r=this.body.data.edges;let n=!1;for(let s=0;s<e.length;s++){const o=e[s],a=r.get(o),u=t[o];u!==void 0?(u.disconnect(),n=u.setOptions(a)||n,u.connect()):(this.body.edges[o]=this.create(a),n=!0)}n===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const r=this.body.edges;ne(e,n=>{const s=r[n];s!==void 0&&s.remove()}),t&&this.body.emitter.emit("_dataChanged")}refresh(){ne(this.body.edges,(e,t)=>{const r=this.body.data.edges.get(t);r!==void 0&&e.setOptions(r)})}create(e){return new Ir(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const t=this.body.nodes,r=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const n=r[e];n.from=null,n.to=null,n.connect()}}getConnectedNodes(e){const t=[];if(this.body.edges[e]!==void 0){const r=this.body.edges[e];r.fromId!==void 0&&t.push(r.fromId),r.toId!==void 0&&t.push(r.toId)}return t}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];ne(this.body.edges,(t,r)=>{const n=this.body.nodes[t.toId],s=this.body.nodes[t.fromId];n!==void 0&&n.isCluster===!0||s!==void 0&&s.isCluster===!0||(n===void 0||s===void 0)&&e.push(r)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const t=this.body.edges,r=[];_e(e).call(e,(n,s)=>{t[s]===void 0&&r.push(s)}),this.add(r,!0)}}var UD={},GD;function JV(){if(GD)return UD;GD=1;var i=H(),e=ae(),t=Date,r=e(t.prototype.getTime);return i({target:"Date",stat:!0},{now:function(){return r(new t)}}),UD}var Cm,KD;function QV(){if(KD)return Cm;KD=1,JV();var i=fe();return Cm=i.Date.now,Cm}var qm,YD;function eU(){if(YD)return qm;YD=1;var i=QV();return qm=i,qm}var Dm,XD;function tU(){return XD||(XD=1,Dm=eU()),Dm}var rU=tU(),lb=Y(rU);class xF{constructor(e,t,r){this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(r),this._rng=ca("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const t=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=r.length,s=this._formBarnesHutTree(t,r);this.barnesHutTree=s;for(let o=0;o<n;o++)e=t[r[o]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}_getForceContribution(e,t){if(e.childrenCount>0){const r=e.centerOfMass.x-t.x,n=e.centerOfMass.y-t.y,s=Math.sqrt(r*r+n*n);s*e.calcSize>this.thetaInversed?this._calculateForces(s,r,n,t,e):e.childrenCount===4?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(s,r,n,t,e)}}_calculateForces(e,t,r,n,s){e===0&&(e=.1,t=e),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const o=this.options.gravitationalConstant*s.mass*n.options.mass/Math.pow(e,3),a=t*o,u=r*o;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=u}_formBarnesHutTree(e,t){let r;const n=t.length;let s=e[t[0]].x,o=e[t[0]].y,a=e[t[0]].x,u=e[t[0]].y;for(let b=1;b<n;b++){const p=e[t[b]],m=p.x,O=p.y;p.options.mass>0&&(m<s&&(s=m),m>a&&(a=m),O<o&&(o=O),O>u&&(u=O))}const l=Math.abs(a-s)-Math.abs(u-o);l>0?(o-=.5*l,u+=.5*l):(s+=.5*l,a-=.5*l);const d=Math.max(1e-5,Math.abs(a-s)),h=.5*d,f=.5*(s+a),v=.5*(o+u),g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-h,maxX:f+h,minY:v-h,maxY:v+h},size:d,calcSize:1/d,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(let b=0;b<n;b++)r=e[t[b]],r.options.mass>0&&this._placeInTree(g.root,r);return g}_updateBranchMass(e,t){const r=e.centerOfMass,n=e.mass+t.options.mass,s=1/n;r.x=r.x*e.mass+t.x*t.options.mass,r.x*=s,r.y=r.y*e.mass+t.y*t.options.mass,r.y*=s,e.mass=n;const o=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}_placeInTree(e,t,r){(r!=!0||r===void 0)&&this._updateBranchMass(e,t);const n=e.children.NW.range;let s;n.maxX>t.x?n.maxY>t.y?s="NW":s="SW":n.maxY>t.y?s="NE":s="SE",this._placeInRegion(e,t,s)}_placeInRegion(e,t,r){const n=e.children[r];switch(n.childrenCount){case 0:n.children.data=t,n.childrenCount=1,this._updateBranchMass(n,t);break;case 1:n.children.data.x===t.x&&n.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,t));break;case 4:this._placeInTree(n,t);break}}_splitBranch(e){let t=null;e.childrenCount===1&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),t!=null&&this._placeInTree(e,t)}_insertRegion(e,t){let r,n,s,o;const a=.5*e.size;switch(t){case"NW":r=e.range.minX,n=e.range.minX+a,s=e.range.minY,o=e.range.minY+a;break;case"NE":r=e.range.minX+a,n=e.range.maxX,s=e.range.minY,o=e.range.minY+a;break;case"SW":r=e.range.minX,n=e.range.minX+a,s=e.range.minY+a,o=e.range.maxY;break;case"SE":r=e.range.minX+a,n=e.range.maxX,s=e.range.minY+a,o=e.range.maxY;break}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:r,maxX:n,minY:s,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,t){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}_drawBranch(e,t,r){r===void 0&&(r="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=r,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}class iU{constructor(e,t,r){this._rng=ca("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n,s,o,a,u;const l=this.body.nodes,c=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,h=this.options.nodeDistance,f=-2/3/h,v=4/3;for(let g=0;g<c.length-1;g++){a=l[c[g]];for(let b=g+1;b<c.length;b++)u=l[c[b]],e=u.x-a.x,t=u.y-a.y,r=Math.sqrt(e*e+t*t),r===0&&(r=.1*this._rng(),e=r),r<2*h&&(r<.5*h?o=1:o=f*r+v,o=o/r,n=e*o,s=t*o,d[a.id].x-=n,d[a.id].y-=s,d[u.id].x+=n,d[u.id].y+=s)}}}class nU{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,n=this.options.nodeDistance;for(let s=0;s<t.length-1;s++){const o=e[t[s]];for(let a=s+1;a<t.length;a++){const u=e[t[a]];if(o.level===u.level){const l=n+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(u.shape.radius||0)/2),c=u.x-o.x,d=u.y-o.y,h=Math.sqrt(c*c+d*d),f=.05;let v;h<l?v=-Math.pow(f*h,2)+Math.pow(f*l,2):v=0,h!==0&&(v=v/h);const g=c*v,b=d*v;r[o.id].x-=g,r[o.id].y-=b,r[u.id].x+=g,r[u.id].y+=b}}}}}class km{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t;const r=this.physicsBody.physicsEdgeIndices,n=this.body.edges;let s,o,a;for(let u=0;u<r.length;u++)t=n[r[u]],t.connected===!0&&t.toId!==t.fromId&&this.body.nodes[t.toId]!==void 0&&this.body.nodes[t.fromId]!==void 0&&(t.edgeType.via!==void 0?(e=t.options.length===void 0?this.options.springLength:t.options.length,s=t.to,o=t.edgeType.via,a=t.from,this._calculateSpringForce(s,o,.5*e),this._calculateSpringForce(o,a,.5*e)):(e=t.options.length===void 0?this.options.springLength*1.5:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}_calculateSpringForce(e,t,r){const n=e.x-t.x,s=e.y-t.y,o=Math.max(Math.sqrt(n*n+s*s),.01),a=this.options.springConstant*(r-o)/o,u=n*a,l=s*a;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=u,this.physicsBody.forces[e.id].y+=l),this.physicsBody.forces[t.id]!==void 0&&(this.physicsBody.forces[t.id].x-=u,this.physicsBody.forces[t.id].y-=l)}}class sU{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n,s,o,a,u;const l=this.body.edges,c=.5,d=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces;for(let y=0;y<h.length;y++){const S=h[y];f[S].springFx=0,f[S].springFy=0}for(let y=0;y<d.length;y++)t=l[d[y]],t.connected===!0&&(e=t.options.length===void 0?this.options.springLength:t.options.length,r=t.from.x-t.to.x,n=t.from.y-t.to.y,u=Math.sqrt(r*r+n*n),u=u===0?.01:u,a=this.options.springConstant*(e-u)/u,s=r*a,o=n*a,t.to.level!=t.from.level?(f[t.toId]!==void 0&&(f[t.toId].springFx-=s,f[t.toId].springFy-=o),f[t.fromId]!==void 0&&(f[t.fromId].springFx+=s,f[t.fromId].springFy+=o)):(f[t.toId]!==void 0&&(f[t.toId].x-=c*s,f[t.toId].y-=c*o),f[t.fromId]!==void 0&&(f[t.fromId].x+=c*s,f[t.fromId].y+=c*o)));a=1;let v,g;for(let y=0;y<h.length;y++){const S=h[y];v=Math.min(a,Math.max(-a,f[S].springFx)),g=Math.min(a,Math.max(-a,f[S].springFy)),f[S].x+=v,f[S].y+=g}let b=0,p=0;for(let y=0;y<h.length;y++){const S=h[y];b+=f[S].x,p+=f[S].y}const m=b/h.length,O=p/h.length;for(let y=0;y<h.length;y++){const S=h[y];f[S].x-=m,f[S].y-=O}}}class wo{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n;const s=this.body.nodes,o=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces;for(let u=0;u<o.length;u++){const l=o[u];n=s[l],e=-n.x,t=-n.y,r=Math.sqrt(e*e+t*t),this._calculateForces(r,e,t,a,n)}}_calculateForces(e,t,r,n,s){const o=e===0?0:this.options.centralGravity/e;n[s.id].x=t*o,n[s.id].y=r*o}}class oU extends xF{constructor(e,t,r){super(e,t,r),this._rng=ca("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,t,r,n,s){e===0&&(e=.1*this._rng(),t=e),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const o=n.edges.length+1,a=this.options.gravitationalConstant*s.mass*n.options.mass*o/Math.pow(e,2),u=t*a,l=r*a;this.physicsBody.forces[n.id].x+=u,this.physicsBody.forces[n.id].y+=l}}class aU extends wo{constructor(e,t,r){super(e,t,r)}_calculateForces(e,t,r,n,s){if(e>0){const o=s.edges.length+1,a=this.options.centralGravity*o*s.options.mass;n[s.id].x=t*a,n[s.id].y=r*a}}}class uU{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Ke(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Co(["stabilization"],this.options,e),gt(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const t=this.options.wind;t&&((typeof t.x!="number"||ab(t.x))&&(t.x=0),(typeof t.y!="number"||ab(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new oU(this.body,this.physicsBody,e),this.edgesSolver=new km(this.body,this.physicsBody,e),this.gravitySolver=new aU(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new iU(this.body,this.physicsBody,e),this.edgesSolver=new km(this.body,this.physicsBody,e),this.gravitySolver=new wo(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new nU(this.body,this.physicsBody,e),this.edgesSolver=new sU(this.body,this.physicsBody,e),this.gravitySolver=new wo(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new xF(this.body,this.physicsBody,e),this.edgesSolver=new km(this.body,this.physicsBody,e),this.gravitySolver=new wo(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=M(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=lb();this.physicsTick(),(lb()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Hi(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,t=this.body.edges;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[r].id);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&t[r].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(t[r].id);for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[n]={x:0,y:0},this.physicsBody.velocities[n]===void 0&&(this.physicsBody.velocities[n]={x:0,y:0})}for(const r in this.physicsBody.velocities)e[r]===void 0&&delete this.physicsBody.velocities[r]}revert(){const e=qe(this.previousStates),t=this.body.nodes,r=this.physicsBody.velocities;this.referenceState={};for(let n=0;n<e.length;n++){const s=e[n];t[s]!==void 0?t[s].options.physics===!0&&(this.referenceState[s]={positions:{x:t[s].x,y:t[s].y}},r[s].x=this.previousStates[s].vx,r[s].y=this.previousStates[s].vy,t[s].x=this.previousStates[s].x,t[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,t,r;const n=this.body.nodes,s=this.referenceState,o=.3;for(const a in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,a)&&n[a]!==void 0&&(e=n[a].x-s[a].positions.x,t=n[a].y-s[a].positions.y,r=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),r>o))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let t=0,r=0;const n=5;for(let s=0;s<e.length;s++){const o=e[s],a=this._performStep(o);t=Math.max(t,a),r+=a}this.adaptiveTimestepEnabled=r/e.length<n,this.stabilized=t<this.options.minVelocity}calculateComponentVelocity(e,t,r){const n=this.modelOptions.damping*e,s=(t-n)/r;e+=s*this.timestep;const o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}_performStep(e){const t=this.body.nodes[e],r=this.physicsBody.forces[e];this.options.wind&&(r.x+=this.options.wind.x,r.y+=this.options.wind.y);const n=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:n.x,vy:n.y},t.options.fixed.x===!1?(n.x=this.calculateComponentVelocity(n.x,r.x,t.options.mass),t.x+=n.x*this.timestep):(r.x=0,n.x=0),t.options.fixed.y===!1?(n.y=this.calculateComponentVelocity(n.y,r.y,t.options.mass),t.y+=n.y*this.timestep):(r.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}_freezeNodes(){const e=this.body.nodes;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){const r=e[t].options.fixed;this.freezeCache[t]={x:r.x,y:r.y},r.x=!0,r.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.freezeCache[t]!==void 0&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Hi(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,t=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&t();let r=0;for(;e()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;if(t(),e()){var n;Hi(M(n=this._stabilizationBatch).call(n,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let t=0;t<this.physicsBody.physicsNodeIndices.length;t++){const r=this.physicsBody.physicsNodeIndices[t],n=this.body.nodes[r],s=this.physicsBody.forces[r],o=20,a=.03,u=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),l=Math.min(Math.max(5,u),15),c=3*l,d=nb((180-Math.min(1,Math.max(0,a*u))*180)/360,1,1),h={x:n.x+o*s.x,y:n.y+o*s.y};e.lineWidth=l,e.strokeStyle=d,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(h.x,h.y),e.stroke();const f=Math.atan2(s.y,s.x);e.fillStyle=d,PF.draw(e,{type:"arrow",point:h,angle:f,length:c}),ba(e).call(e)}}}var ZD={},JD;function lU(){if(JD)return ZD;JD=1;var i=H(),e=ae(),t=_i(),r=e([].reverse),n=[1,2];return i({target:"Array",proto:!0,forced:String(n)===String(n.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),ZD}var Mm,QD;function cU(){if(QD)return Mm;QD=1,lU();var i=Ze();return Mm=i("Array","reverse"),Mm}var Am,ek;function dU(){if(ek)return Am;ek=1;var i=Ne(),e=cU(),t=Array.prototype;return Am=function(r){var n=r.reverse;return r===t||i(t,r)&&n===t.reverse?e:n},Am}var Nm,tk;function hU(){if(tk)return Nm;tk=1;var i=dU();return Nm=i,Nm}var Fm,rk;function fU(){return rk||(rk=1,Fm=hU()),Fm}var vU=fU(),Ui=Y(vU);const Ge=[];for(let i=0;i<256;++i)Ge.push((i+256).toString(16).slice(1));function pU(i,e=0){return(Ge[i[e+0]]+Ge[i[e+1]]+Ge[i[e+2]]+Ge[i[e+3]]+"-"+Ge[i[e+4]]+Ge[i[e+5]]+"-"+Ge[i[e+6]]+Ge[i[e+7]]+"-"+Ge[i[e+8]]+Ge[i[e+9]]+"-"+Ge[i[e+10]]+Ge[i[e+11]]+Ge[i[e+12]]+Ge[i[e+13]]+Ge[i[e+14]]+Ge[i[e+15]]).toLowerCase()}let Bm;const gU=new Uint8Array(16);function mU(){if(!Bm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Bm=crypto.getRandomValues.bind(crypto)}return Bm(gU)}const yU=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var ik={randomUUID:yU};function os(i,e,t){if(ik.randomUUID&&!i)return ik.randomUUID();i=i||{};const r=i.random??i.rng?.()??mU();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,pU(r)}class st{constructor(){}static getRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,n=-1e9,s=1e9,o=-1e9,a;if(t.length>0)for(let u=0;u<t.length;u++)a=e[t[u]],s>a.shape.boundingBox.left&&(s=a.shape.boundingBox.left),o<a.shape.boundingBox.right&&(o=a.shape.boundingBox.right),r>a.shape.boundingBox.top&&(r=a.shape.boundingBox.top),n<a.shape.boundingBox.bottom&&(n=a.shape.boundingBox.bottom);return s===1e9&&o===-1e9&&r===1e9&&n===-1e9&&(r=0,n=0,s=0,o=0),{minX:s,maxX:o,minY:r,maxY:n}}static getRangeCore(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,n=-1e9,s=1e9,o=-1e9,a;if(t.length>0)for(let u=0;u<t.length;u++)a=e[t[u]],s>a.x&&(s=a.x),o<a.x&&(o=a.x),r>a.y&&(r=a.y),n<a.y&&(n=a.y);return s===1e9&&o===-1e9&&r===1e9&&n===-1e9&&(r=0,n=0,s=0,o=0),{minX:s,maxX:o,minY:r,maxY:n}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,t){const r={};return t===void 0||t==="node"?(ge(r,e.options,!0),r.x=e.x,r.y=e.y,r.amountOfConnections=e.edges.length):ge(r,e.options,!0),r}}class bU extends we{constructor(e,t,r,n,s,o){super(e,t,r,n,s,o),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const t=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!t.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],ne(t.edges,r=>{delete this.containedEdges[r.id]}),ne(t.containedNodes,(r,n)=>{this.containedNodes[n]=r}),t.containedNodes={},ne(t.containedEdges,(r,n)=>{this.containedEdges[n]=r}),t.containedEdges={},ne(t.edges,r=>{ne(this.edges,n=>{var s,o;const a=Oe(s=n.clusteringEdgeReplacingIds).call(s,r.id);a!==-1&&(ne(r.clusteringEdgeReplacingIds,u=>{n.clusteringEdgeReplacingIds.push(u),this.body.edges[u].edgeReplacedById=n.id}),Or(o=n.clusteringEdgeReplacingIds).call(o,a,1))})}),t.edges=[]}}class _U{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Ke(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,t){e===void 0?e=this._getHubSize():typeof e=="object"&&(t=this._checkOptions(e),e=this._getHubSize());const r=[];for(let n=0;n<this.body.nodeIndices.length;n++){const s=this.body.nodes[this.body.nodeIndices[n]];s.edges.length>=e&&r.push(s.id)}for(let n=0;n<r.length;n++)this.clusterByConnection(r[n],t,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const r={},n={};ne(this.body.nodes,(s,o)=>{s.options&&e.joinCondition(s.options)===!0&&(r[o]=s,ne(s.edges,a=>{this.clusteredEdges[a.id]===void 0&&(n[a.id]=a)}))}),this._cluster(r,n,e,t)}clusterByEdgeCount(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;t=this._checkOptions(t);const n=[],s={};let o,a,u;for(let l=0;l<this.body.nodeIndices.length;l++){const c={},d={},h=this.body.nodeIndices[l],f=this.body.nodes[h];if(s[h]===void 0){u=0,a=[];for(let v=0;v<f.edges.length;v++)o=f.edges[v],this.clusteredEdges[o.id]===void 0&&(o.toId!==o.fromId&&u++,a.push(o));if(u===e){const v=function(b){if(t.joinCondition===void 0||t.joinCondition===null)return!0;const p=st.cloneOptions(b);return t.joinCondition(p)};let g=!0;for(let b=0;b<a.length;b++){o=a[b];const p=this._getConnectedId(o,h);if(v(f))d[o.id]=o,c[h]=f,c[p]=this.body.nodes[p],s[h]=!0;else{g=!1;break}}if(qe(c).length>0&&qe(d).length>0&&g===!0){const p=function(){for(let m=0;m<n.length;++m)for(const O in c)if(n[m].nodes[O]!==void 0)return n[m]}();if(p!==void 0){for(const m in c)p.nodes[m]===void 0&&(p.nodes[m]=c[m]);for(const m in d)p.edges[m]===void 0&&(p.edges[m]=d[m])}else n.push({nodes:c,edges:d})}}}}for(let l=0;l<n.length;l++)this._cluster(n[l].nodes,n[l].edges,t,!1);r===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,t)}clusterBridges(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,t)}clusterByConnection(e,t){var r;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];t=this._checkOptions(t,s),t.clusterNodeProperties.x===void 0&&(t.clusterNodeProperties.x=s.x),t.clusterNodeProperties.y===void 0&&(t.clusterNodeProperties.y=s.y),t.clusterNodeProperties.fixed===void 0&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=s.options.fixed.x,t.clusterNodeProperties.fixed.y=s.options.fixed.y);const o={},a={},u=s.id,l=st.cloneOptions(s);o[u]=s;for(let d=0;d<s.edges.length;d++){const h=s.edges[d];if(this.clusteredEdges[h.id]===void 0){const f=this._getConnectedId(h,u);if(this.clusteredNodes[f]===void 0)if(f!==u)if(t.joinCondition===void 0)a[h.id]=h,o[f]=this.body.nodes[f];else{const v=st.cloneOptions(this.body.nodes[f]);t.joinCondition(l,v)===!0&&(a[h.id]=h,o[f]=this.body.nodes[f])}else a[h.id]=h}}const c=_s(r=qe(o)).call(r,function(d){return o[d].id});for(const d in o){if(!Object.prototype.hasOwnProperty.call(o,d))continue;const h=o[d];for(let f=0;f<h.edges.length;f++){const v=h.edges[f];Oe(c).call(c,this._getConnectedId(v,h.id))>-1&&(a[v.id]=v)}}this._cluster(o,a,t,n)}_createClusterEdges(e,t,r,n){let s,o,a,u,l,c;const d=qe(e),h=[];for(let g=0;g<d.length;g++){o=d[g],a=e[o];for(let b=0;b<a.edges.length;b++)s=a.edges[b],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?t[s.id]=s:s.toId==o?(u=r.id,l=s.fromId,c=l):(u=s.toId,l=r.id,c=u),e[c]===void 0&&h.push({edge:s,fromId:l,toId:u}))}const f=[],v=function(g){for(let b=0;b<f.length;b++){const p=f[b],m=g.fromId===p.fromId&&g.toId===p.toId,O=g.fromId===p.toId&&g.toId===p.fromId;if(m||O)return p}return null};for(let g=0;g<h.length;g++){const b=h[g],p=b.edge;let m=v(b);m===null?(m=this._createClusteredEdge(b.fromId,b.toId,p,n),f.push(m)):m.clusteringEdgeReplacingIds.push(p.id),this.body.edges[p.id].edgeReplacedById=m.id,this._backupEdgeOptions(p),p.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const c in e)Object.prototype.hasOwnProperty.call(e,c)&&this.clusteredNodes[c]!==void 0&&s.push(c);for(let c=0;c<s.length;++c)delete e[s[c]];if(qe(e).length==0||qe(e).length==1&&r.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let o=ge({},r.clusterNodeProperties);if(r.processProperties!==void 0){const c=[];for(const h in e)if(Object.prototype.hasOwnProperty.call(e,h)){const f=st.cloneOptions(e[h]);c.push(f)}const d=[];for(const h in t)if(Object.prototype.hasOwnProperty.call(t,h)&&h.substr(0,12)!=="clusterEdge:"){const f=st.cloneOptions(t[h],"edge");d.push(f)}if(o=r.processProperties(o,c,d),!o)throw new Error("The processProperties function does not return properties!")}o.id===void 0&&(o.id="cluster:"+os());const a=o.id;o.label===void 0&&(o.label="cluster");let u;o.x===void 0&&(u=this._getClusterPosition(e),o.x=u.x),o.y===void 0&&(u===void 0&&(u=this._getClusterPosition(e)),o.y=u.y),o.id=a;const l=this.body.functions.createNode(o,bU);l.containedNodes=e,l.containedEdges=t,l.clusterEdgeProperties=r.clusterEdgeProperties,this.body.nodes[o.id]=l,this._clusterEdges(e,t,o,r.clusterEdgeProperties),o.id=void 0,n===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const t=this.clusteredEdges[e.id];t!==void 0&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const t=qe(e);let r=e[t[0]].x,n=e[t[0]].x,s=e[t[0]].y,o=e[t[0]].y,a;for(let u=1;u<t.length;u++)a=e[t[u]],r=a.x<r?a.x:r,n=a.x>n?a.x:n,s=a.y<s?a.y:s,o=a.y>o?a.y:o;return{x:.5*(r+n),y:.5*(s+o)}}openCluster(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const n=this.body.nodes[e];if(n===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(n.isCluster!==!0||n.containedNodes===void 0||n.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),o=Oe(s).call(s,e)-1;if(o>=0){const c=s[o];this.body.nodes[c]._openChildCluster(e),delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged");return}const a=n.containedNodes,u=n.containedEdges;if(t!==void 0&&t.releaseFunction!==void 0&&typeof t.releaseFunction=="function"){const c={},d={x:n.x,y:n.y};for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];c[f]={x:v.x,y:v.y}}const h=t.releaseFunction(d,c);for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];h[f]!==void 0&&(v.x=h[f].x===void 0?n.x:h[f].x,v.y=h[f].y===void 0?n.y:h[f].y)}}else ne(a,function(c){c.options.fixed.x===!1&&(c.x=n.x),c.options.fixed.y===!1&&(c.y=n.y)});for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const d=this.body.nodes[c];d.vx=n.vx,d.vy=n.vy,d.setOptions({physics:!0}),delete this.clusteredNodes[c]}const l=[];for(let c=0;c<n.edges.length;c++)l.push(n.edges[c]);for(let c=0;c<l.length;c++){const d=l[c],h=this._getConnectedId(d,e),f=this.clusteredNodes[h];for(let v=0;v<d.clusteringEdgeReplacingIds.length;v++){const g=d.clusteringEdgeReplacingIds[v],b=this.body.edges[g];if(b!==void 0)if(f!==void 0){const p=this.body.nodes[f.clusterId];p.containedEdges[b.id]=b,delete u[b.id];let m=b.fromId,O=b.toId;b.toId==h?O=f.clusterId:m=f.clusterId,this._createClusteredEdge(m,O,b,p.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(b)}d.remove()}for(const c in u)Object.prototype.hasOwnProperty.call(u,c)&&this._restoreEdge(u[c]);delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const t=[];if(this.isCluster(e)===!0){const r=this.body.nodes[e].containedNodes;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.push(this.body.nodes[n].id)}return t}findNode(e){const t=[];let n=0,s;for(;this.clusteredNodes[e]!==void 0&&n<100;){if(s=this.body.nodes[e],s===void 0)return[];t.push(s.id),e=this.clusteredNodes[e].clusterId,n++}return s=this.body.nodes[e],s===void 0?[]:(t.push(s.id),Ui(t).call(t),t)}updateClusteredNode(e,t){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(t===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}updateEdge(e,t){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(t===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const r=this.getClusteredEdges(e);for(let n=0;n<r.length;n++)this.body.edges[r[n]].setOptions(t);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const t=[];let n=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&n<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,n++;return Ui(t).call(t),t}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const t=[e],r=[],n=[],s=100;let o=0;for(;t.length>0&&o<s;){const a=t.pop();if(a===void 0)continue;const u=this.body.edges[a];if(u===void 0)continue;o++;const l=u.clusteringEdgeReplacingIds;if(l===void 0)n.push(a);else for(let c=0;c<l.length;++c){const d=l[c];Oe(t).call(t,l)!==-1||Oe(r).call(r,l)!==-1||t.push(d)}r.push(a)}return n}_getConnectedId(e,t){return e.toId!=t?e.toId:(e.fromId!=t,e.fromId)}_getHubSize(){let e=0,t=0,r=0,n=0;for(let u=0;u<this.body.nodeIndices.length;u++){const l=this.body.nodes[this.body.nodeIndices[u]];l.edges.length>n&&(n=l.edges.length),e+=l.edges.length,t+=Math.pow(l.edges.length,2),r+=1}e=e/r,t=t/r;const s=t-Math.pow(e,2),o=Math.sqrt(s);let a=Math.floor(e+2*o);return a>n&&(a=n),a}_createClusteredEdge(e,t,r,n,s){const o=st.cloneOptions(r,"edge");ge(o,n),o.from=e,o.to=t,o.id="clusterEdge:"+os(),s!==void 0&&ge(o,s);const a=this.body.functions.createEdge(o);return a.clusteringEdgeReplacingIds=[r.id],a.connect(),this.body.edges[a.id]=a,a}_clusterEdges(e,t,r,n){if(t instanceof Ir){const s=t,o={};o[s.id]=s,t=o}if(e instanceof we){const s=e,o={};o[s.id]=s,e=o}if(r==null)throw new Error("_clusterEdges: parameter clusterNode required");n===void 0&&(n=r.clusterEdgeProperties),this._createClusterEdges(e,t,r,n);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&this.body.edges[s]!==void 0){const o=this.body.edges[s];this._backupEdgeOptions(o),o.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:r.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const t=this.clusteredNodes[e];if(t===void 0)return;const r=t.clusterId;if(r!==void 0)return this.body.nodes[r]}_filter(e,t){const r=[];return ne(e,n=>{t(n)&&r.push(n)}),r}_updateState(){let e;const t=[],r={},n=u=>{ne(this.body.nodes,l=>{l.isCluster===!0&&u(l)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&t.push(e)}n(function(u){for(let l=0;l<t.length;l++)delete u.containedNodes[t[l]]});for(let u=0;u<t.length;u++)delete this.clusteredNodes[t[u]];ne(this.clusteredEdges,u=>{const l=this.body.edges[u];(l===void 0||!l.endPointsValid())&&(r[u]=u)}),n(function(u){ne(u.containedEdges,(l,c)=>{!l.endPointsValid()&&!r[c]&&(r[c]=c)})}),ne(this.body.edges,(u,l)=>{let c=!0;const d=u.clusteringEdgeReplacingIds;if(d!==void 0){let h=0;ne(d,f=>{const v=this.body.edges[f];v!==void 0&&v.endPointsValid()&&(h+=1)}),c=h>0}(!u.endPointsValid()||!c)&&(r[l]=l)}),n(u=>{ne(r,l=>{delete u.containedEdges[l],ne(u.edges,(c,d)=>{if(c.id===l){u.edges[d]=null;return}c.clusteringEdgeReplacingIds=this._filter(c.clusteringEdgeReplacingIds,function(h){return!r[h]})}),u.edges=this._filter(u.edges,function(c){return c!==null})})}),ne(r,u=>{delete this.clusteredEdges[u]}),ne(r,u=>{delete this.body.edges[u]});const s=qe(this.body.edges);ne(s,u=>{const l=this.body.edges[u],c=this._isClusteredNode(l.fromId)||this._isClusteredNode(l.toId);if(c!==this._isClusteredEdge(l.id))if(c){const d=this._getClusterNodeForNode(l.fromId);d!==void 0&&this._clusterEdges(this.body.nodes[l.fromId],l,d);const h=this._getClusterNodeForNode(l.toId);h!==void 0&&this._clusterEdges(this.body.nodes[l.toId],l,h)}else delete this._clusterEdges[u],this._restoreEdge(l)});let o=!1,a=!0;for(;a;){const u=[];n(function(l){const c=qe(l.containedNodes).length,d=l.options.allowSingleNodeCluster===!0;(d&&c<1||!d&&c<2)&&u.push(l.id)});for(let l=0;l<u.length;++l)this.openCluster(u[l],{},!1);a=u.length>0,o=o||a}o&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class wU{constructor(e,t){this.body=e,this.canvas=t,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Ke(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Hi(()=>{var t;this.zooming=!1,M(t=this._requestRedraw).call(t,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",M(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&$n(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(M(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const t={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const r=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(r.clearRect(0,0,n,s),this.canvas.frame.clientWidth===0)return;if(r.save(),r.translate(this.body.view.translation.x,this.body.view.translation.y),r.scale(this.body.view.scale,this.body.view.scale),r.beginPath(),this.body.emitter.emit("beforeDrawing",r),r.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(r),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:o}=this._drawNodes(r,e);t.drawExternalLabels=o}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(r),t.drawExternalLabels!=null&&t.drawExternalLabels(),e===!1&&this._drawSelectionBox(r),r.beginPath(),this.body.emitter.emit("afterDrawing",r),r.closePath(),r.restore(),e===!0&&r.clearRect(0,0,n,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const t=this.body.nodes;let r;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r=t[n],r.resize(e),r.updateBoundingBox(e,r.selected));e.restore()}_drawNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.nodes,n=this.body.nodeIndices;let s;const o=[],a=[],u=20,l=this.canvas.DOMtoCanvas({x:-u,y:-u}),c=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),d={top:l.y,left:l.x,bottom:c.y,right:c.x},h=[];for(let b=0;b<n.length;b++)if(s=r[n[b]],s.hover)a.push(n[b]);else if(s.isSelected())o.push(n[b]);else if(t===!0){const p=s.draw(e);p.drawExternalLabel!=null&&h.push(p.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(d)===!0){const p=s.draw(e);p.drawExternalLabel!=null&&h.push(p.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let f;const v=o.length,g=a.length;for(f=0;f<v;f++){s=r[o[f]];const b=s.draw(e);b.drawExternalLabel!=null&&h.push(b.drawExternalLabel)}for(f=0;f<g;f++){s=r[a[f]];const b=s.draw(e);b.drawExternalLabel!=null&&h.push(b.drawExternalLabel)}return{drawExternalLabels:()=>{for(const b of h)b()}}}_drawEdges(e){const t=this.body.edges,r=this.body.edgeIndices;for(let n=0;n<r.length;n++){const s=t[r[n]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const t=this.body.edges,r=this.body.edgeIndices;for(let n=0;n<r.length;n++){const s=t[r[n]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,r=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var jm,nk;function EU(){if(nk)return jm;nk=1,dF();var i=fe();return jm=i.setInterval,jm}var Lm,sk;function SU(){return sk||(sk=1,Lm=EU()),Lm}var OU=SU(),IU=Y(OU);function ko(i,e){e.inputHandler=function(t){t.isFirst&&e(t)},i.on("hammer.input",e.inputHandler)}function CF(i,e){return e.inputHandler=function(t){t.isFinal&&e(t)},i.on("hammer.input",e.inputHandler)}class $U{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Ke(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",t=>{t.width!==0&&(this.body.view.translation.x=t.width*.5),t.height!==0&&(this.body.view.translation.y=t.height*.5)}),this.body.emitter.on("setSize",M(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&$n(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var t;if(window.ResizeObserver){const n=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;n.observe(s),this._cleanupCallbacks.push(()=>{n.unobserve(s)})}else{const n=IU(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(n)})}const r=M(t=this._onResize).call(t,this);window.addEventListener("resize",r),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",r)})}}_cleanUp(){var e,t,r;_e(e=Ui(t=Or(r=this._cleanupCallbacks).call(r,0)).call(t)).call(e,n=>{try{n()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let r=this.cameraState.scale;e!=1&&t!=1?r=this.cameraState.scale*.5*(e+t):e!=1?r=this.cameraState.scale*e:t!=1&&(r=this.cameraState.scale*t),this.body.view.scale=r;const n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Oe(e).call(e,"%")!==-1||Oe(e).call(e,"px")!==-1)return e;if(Oe(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Wi(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Wi.DIRECTION_ALL}),ko(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new Wi(this.frame),CF(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);let r=!1;const n=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},r=!0;else{const a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),u=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==u)&&this._getCameraState(o),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,r=!0),this.frame.canvas.height!==u&&(this.frame.canvas.height=u,r=!0)}return r===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,r}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let t=1;typeof window<"u"&&(t=window.devicePixelRatio||1);const r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function TU(i,e){const t=Ke({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},i??{});if(!Dt(t.nodes))throw new TypeError("Nodes has to be an array of ids.");if(t.nodes.length===0&&(t.nodes=e),!(typeof t.minZoomLevel=="number"&&t.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof t.maxZoomLevel=="number"&&t.minZoomLevel<=t.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return t}class PU{constructor(e,t){var r,n;this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",M(r=this.fit).call(r,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",M(n=this.releaseNode).call(n,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=TU(e,this.body.nodeIndices);const r=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;let s,o;if(r===0||n===0)o=1,s=st.getRange(this.body.nodes,e.nodes);else if(t===!0){let l=0;for(const h in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,h)&&this.body.nodes[h].predefinedPosition===!0&&(l+=1);if(l>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=st.getRange(this.body.nodes,e.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const d=Math.min(r/600,n/600);o*=d}else{this.body.emitter.emit("_resizeNodes"),s=st.getRange(this.body.nodes,e.nodes);const l=Math.abs(s.maxX-s.minX)*1.1,c=Math.abs(s.maxY-s.minY)*1.1,d=r/l,h=n/c;o=d<=h?d:h}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);const u={position:st.findCenter(s),scale:o,animation:e.animation};this.moveTo(u)}focus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const r={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=r,t.lockedOnNode=e,this.moveTo(t)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Zr(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Zr(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Zr(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Zr(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.position.x,y:t.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+r.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+r.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var n;this.viewFunction=M(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=M(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.x,y:t.y-e.y},n=this.body.view.translation,s={x:n.x+r.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+r.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const t=s8[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var r;this.viewFunction=M(r=this._lockedRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function ok(i){var e=i&&i.preventDefault||!1,t=i&&i.container||window,r={},n={keydown:{},keyup:{}},s={},o;for(o=97;o<=122;o++)s[String.fromCharCode(o)]={code:65+(o-97),shift:!1};for(o=65;o<=90;o++)s[String.fromCharCode(o)]={code:o,shift:!0};for(o=0;o<=9;o++)s[""+o]={code:48+o,shift:!1};for(o=1;o<=12;o++)s["F"+o]={code:111+o,shift:!1};for(o=0;o<=9;o++)s["num"+o]={code:96+o,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(c){l(c,"keydown")},u=function(c){l(c,"keyup")},l=function(c,d){if(n[d][c.keyCode]!==void 0){for(var h=n[d][c.keyCode],f=0;f<h.length;f++)(h[f].shift===void 0||h[f].shift==!0&&c.shiftKey==!0||h[f].shift==!1&&c.shiftKey==!1)&&h[f].fn(c);e==!0&&c.preventDefault()}};return r.bind=function(c,d,h){if(h===void 0&&(h="keydown"),s[c]===void 0)throw new Error("unsupported key: "+c);n[h][s[c].code]===void 0&&(n[h][s[c].code]=[]),n[h][s[c].code].push({fn:d,shift:s[c].shift})},r.bindAll=function(c,d){d===void 0&&(d="keydown");for(var h in s)s.hasOwnProperty(h)&&r.bind(h,c,d)},r.getKey=function(c){for(var d in s)if(s.hasOwnProperty(d)){if(c.shiftKey==!0&&s[d].shift==!0&&c.keyCode==s[d].code)return d;if(c.shiftKey==!1&&s[d].shift==!1&&c.keyCode==s[d].code)return d;if(c.keyCode==s[d].code&&d=="shift")return d}return"unknown key, currently not supported"},r.unbind=function(c,d,h){if(h===void 0&&(h="keydown"),s[c]===void 0)throw new Error("unsupported key: "+c);if(d!==void 0){var f=[],v=n[h][s[c].code];if(v!==void 0)for(var g=0;g<v.length;g++)v[g].fn==d&&v[g].shift==s[c].shift||f.push(n[h][s[c].code][g]);n[h][s[c].code]=f}else n[h][s[c].code]=[]},r.reset=function(){n={keydown:{},keyup:{}}},r.destroy=function(){n={keydown:{},keyup:{}},t.removeEventListener("keydown",a,!0),t.removeEventListener("keyup",u,!0)},t.addEventListener("keydown",a,!0),t.addEventListener("keyup",u,!0),r}class RU{constructor(e,t){this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],t=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);const a=new Wi(this.navigationDOM[e[o]]);if(t[o]==="_fit"){var r;ko(a,M(r=this._fit).call(r,this))}else{var n;ko(a,M(n=this.bindToRedraw).call(n,this,t[o]))}this.navigationHammers.push(a)}const s=new Wi(this.canvas.frame);CF(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var t;this.boundFunctions[e]=M(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,n=t/e,s=(1-n)*this.canvas.canvasViewCenter.x+r.x*n,o=(1-n)*this.canvas.canvasViewCenter.y+r.y*n;this.body.view.scale=t,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,n=t/e,s=(1-n)*this.canvas.canvasViewCenter.x+r.x*n,o=(1-n)*this.canvas.canvasViewCenter.y+r.y*n;this.body.view.scale=t,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=ok({container:window,preventDefault:!0}):this.keycharm=ok({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,t,r,n,s,o,a,u,l,c,d,h,f,v,g,b,p,m,O,y,S,I,w,_;M(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),M(t=this.keycharm).call(t,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),M(r=this.keycharm).call(r,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),M(n=this.keycharm).call(n,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),M(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),M(o=this.keycharm).call(o,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),M(a=this.keycharm).call(a,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),M(u=this.keycharm).call(u,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),M(l=this.keycharm).call(l,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),M(c=this.keycharm).call(c,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),M(d=this.keycharm).call(d,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),M(h=this.keycharm).call(h,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),M(f=this.keycharm).call(f,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),M(v=this.keycharm).call(v,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),M(g=this.keycharm).call(g,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),M(b=this.keycharm).call(b,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),M(p=this.keycharm).call(p,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),M(m=this.keycharm).call(m,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),M(O=this.keycharm).call(O,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),M(y=this.keycharm).call(y,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),M(S=this.keycharm).call(S,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),M(I=this.keycharm).call(I,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),M(w=this.keycharm).call(w,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),M(_=this.keycharm).call(_,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class xU{constructor(e,t,r){var n,s,o,a,u,l,c,d,h,f,v,g,b;this.body=e,this.canvas=t,this.selectionHandler=r,this.navigationHandler=new RU(e,t),this.body.eventListeners.onTap=M(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=M(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=M(o=this.onDoubleTap).call(o,this),this.body.eventListeners.onHold=M(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=M(u=this.onDragStart).call(u,this),this.body.eventListeners.onDrag=M(l=this.onDrag).call(l,this),this.body.eventListeners.onDragEnd=M(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=M(d=this.onMouseWheel).call(d,this),this.body.eventListeners.onPinch=M(h=this.onPinch).call(h,this),this.body.eventListeners.onMouseMove=M(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=M(v=this.onRelease).call(v,this),this.body.eventListeners.onContext=M(g=this.onContext).call(g,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=M(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Ke(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Co(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),gt(this.options,e,"keyboard"),e.tooltip&&(Ke(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=ib(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-t8(this.canvas.frame.canvas),y:e.y-r8(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}onDoubleTap(e){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}onHold(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=new Date().valueOf()}}onContext(e){const t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,t){const r=function(n,s){const o=[];for(let a=0;a<n.length;a++){const u=n[a];Oe(s).call(s,u)===-1&&o.push(u)}return o};return{nodes:r(e.nodes,t.nodes),edges:r(e.edges,t.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Ke({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const r=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)}}else if(t!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=t.id,t.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const r of this.selectionHandler.getSelectedNodes()){const n={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(n)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const t=this.getPointer(e.center),r=this.drag.selection;if(r&&r.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,t);const n=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;_e(r).call(r,o=>{const a=o.node;o.xFixed===!1&&(a.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(o.x)+n)),o.yFixed===!1&&(a.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(o.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(t.x),y:this.canvas._YconvertDOMtoCanvas(t.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const n=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+n,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var t;this.body.selectionBox.show=!1;const r=this.body.selectionBox.position,n={minX:Math.min(r.start.x,r.end.x),minY:Math.min(r.start.y,r.end.y),maxX:Math.max(r.start.x,r.end.x),maxY:Math.max(r.start.y,r.end.y)},s=pr(t=this.body.nodeIndices).call(t,a=>{const u=this.body.nodes[a];return u.x>=n.minX&&u.x<=n.maxX&&u.y>=n.minY&&u.y<=n.maxY});_e(s).call(s,a=>this.selectionHandler.selectObject(this.body.nodes[a]));const o=this.getPointer(e.center);this.selectionHandler.commitAndEmit(o,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const r=this.drag.selection;r&&r.length?(_e(r).call(r,function(n){n.node.options.fixed.x=n.xFixed,n.node.options.fixed.y=n.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const t=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const r=this.pinch.scale*e.scale;this.zoom(r,t)}zoom(e,t){if(this.options.zoomView===!0){const r=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let n;this.drag!==void 0&&this.drag.dragging===!0&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,o=e/r,a=(1-o)*t.x+s.x*o,u=(1-o)*t.y+s.y*o;if(this.body.view.scale=e,this.body.view.translation={x:a,y:u},n!=null){const l=this.canvas.canvasToDOM(n);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),r<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let t=this.body.view.scale;t*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const r=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,r)}e.preventDefault()}}onMouseMove(e){const t=this.getPointer({x:e.clientX,y:e.clientY});let r=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(t),this.popup.hidden===!1&&(r=!0,this.popup.setPosition(t.x+3,t.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),r===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Hi(()=>this._checkShowPopup(t),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,t)}_checkShowPopup(e){const t=this.canvas._XconvertDOMtoCanvas(e.x),r=this.canvas._YconvertDOMtoCanvas(e.y),n={left:t,top:r,right:t,bottom:r},s=this.popupObj===void 0?void 0:this.popupObj.id;let o=!1,a="node";if(this.popupObj===void 0){const u=this.body.nodeIndices,l=this.body.nodes;let c;const d=[];for(let h=0;h<u.length;h++)c=l[u[h]],c.isOverlappingWith(n)===!0&&(o=!0,c.getTitle()!==void 0&&d.push(u[h]));d.length>0&&(this.popupObj=l[d[d.length-1]],o=!0)}if(this.popupObj===void 0&&o===!1){const u=this.body.edgeIndices,l=this.body.edges;let c;const d=[];for(let h=0;h<u.length;h++)c=l[u[h]],c.isOverlappingWith(n)===!0&&c.connected===!0&&c.getTitle()!==void 0&&d.push(u[h]);d.length>0&&(this.popupObj=l[d[d.length-1]],a="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new f8(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const t=this.selectionHandler._pointerToPositionObject(e);let r=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(r=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t),r===!0)){const n=this.selectionHandler.getNodeAt(e);r=n===void 0?!1:n.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(r=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));r===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var ak={},uk={},lk;function CU(){if(lk)return uk;lk=1;var i=h1(),e=aF();return i("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),uk}var ck;function qU(){return ck||(ck=1,CU()),ak}var dk={},zm,hk;function Oi(){if(hk)return zm;hk=1;var i=bn(),e=TypeError;return zm=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(i(t)+" is not a set")},zm}var Wm,fk;function Ii(){if(fk)return Wm;fk=1;var i=pt(),e=uF(),t=i("Set"),r=t.prototype;return Wm={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},Wm}var Hm,vk;function $i(){if(vk)return Hm;vk=1;var i=ft();return Hm=function(e,t,r){for(var n=r?e:e.iterator,s=e.next,o,a;!(o=i(s,n)).done;)if(a=t(o.value),a!==void 0)return a},Hm}var Vm,pk;function ro(){if(pk)return Vm;pk=1;var i=$i();return Vm=function(e,t,r){return r?i(e.keys(),t,!0):e.forEach(t)},Vm}var Um,gk;function w1(){if(gk)return Um;gk=1;var i=Ii(),e=ro(),t=i.Set,r=i.add;return Um=function(n){var s=new t;return e(n,function(o){r(s,o)}),s},Um}var Gm,mk;function io(){return mk||(mk=1,Gm=function(i){return i.size}),Gm}var Km,yk;function DU(){return yk||(yk=1,Km=function(i){return{iterator:i,next:i.next,done:!1}}),Km}var Ym,bk;function Ti(){if(bk)return Ym;bk=1;var i=fr(),e=Kt(),t=ft(),r=Sn(),n=DU(),s="Invalid size",o=RangeError,a=TypeError,u=Math.max,l=function(c,d){this.set=c,this.size=u(d,0),this.has=i(c.has),this.keys=i(c.keys)};return l.prototype={getIterator:function(){return n(e(t(this.keys,this.set)))},includes:function(c){return t(this.has,this.set,c)}},Ym=function(c){e(c);var d=+c.size;if(d!==d)throw new a(s);var h=r(d);if(h<0)throw new o(s);return new l(c,h)},Ym}var Xm,_k;function kU(){if(_k)return Xm;_k=1;var i=Oi(),e=Ii(),t=w1(),r=io(),n=Ti(),s=ro(),o=$i(),a=e.has,u=e.remove;return Xm=function(c){var d=i(this),h=n(c),f=t(d);return r(d)<=h.size?s(d,function(v){h.includes(v)&&u(f,v)}):o(h.getIterator(),function(v){a(f,v)&&u(f,v)}),f},Xm}var Zm,wk;function Pi(){return wk||(wk=1,Zm=function(){return!1}),Zm}var Ek;function MU(){if(Ek)return dk;Ek=1;var i=H(),e=kU(),t=oe(),r=Pi(),n=!r("difference",function(o){return o.size===0}),s=n||t(function(){var o={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var l=u++>1;return a.has(1)&&a.clear(),{done:l,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return i({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),dk}var Sk={},Jm,Ok;function AU(){if(Ok)return Jm;Ok=1;var i=Oi(),e=Ii(),t=io(),r=Ti(),n=ro(),s=$i(),o=e.Set,a=e.add,u=e.has;return Jm=function(c){var d=i(this),h=r(c),f=new o;return t(d)>h.size?s(h.getIterator(),function(v){u(d,v)&&a(f,v)}):n(d,function(v){h.includes(v)&&a(f,v)}),f},Jm}var Ik;function NU(){if(Ik)return Sk;Ik=1;var i=H(),e=oe(),t=AU(),r=Pi(),n=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return i({target:"Set",proto:!0,real:!0,forced:n},{intersection:t}),Sk}var $k={},Qm,Tk;function FU(){if(Tk)return Qm;Tk=1;var i=Oi(),e=Ii().has,t=io(),r=Ti(),n=ro(),s=$i(),o=c1();return Qm=function(u){var l=i(this),c=r(u);if(t(l)<=c.size)return n(l,function(h){if(c.includes(h))return!1},!0)!==!1;var d=c.getIterator();return s(d,function(h){if(e(l,h))return o(d,"normal",!1)})!==!1},Qm}var Pk;function BU(){if(Pk)return $k;Pk=1;var i=H(),e=FU(),t=Pi(),r=!t("isDisjointFrom",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),$k}var Rk={},ey,xk;function jU(){if(xk)return ey;xk=1;var i=Oi(),e=io(),t=ro(),r=Ti();return ey=function(s){var o=i(this),a=r(s);return e(o)>a.size?!1:t(o,function(u){if(!a.includes(u))return!1},!0)!==!1},ey}var Ck;function LU(){if(Ck)return Rk;Ck=1;var i=H(),e=jU(),t=Pi(),r=!t("isSubsetOf",function(n){return n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),Rk}var qk={},ty,Dk;function zU(){if(Dk)return ty;Dk=1;var i=Oi(),e=Ii().has,t=io(),r=Ti(),n=$i(),s=c1();return ty=function(a){var u=i(this),l=r(a);if(t(u)<l.size)return!1;var c=l.getIterator();return n(c,function(d){if(!e(u,d))return s(c,"normal",!1)})!==!1},ty}var kk;function WU(){if(kk)return qk;kk=1;var i=H(),e=zU(),t=Pi(),r=!t("isSupersetOf",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),qk}var Mk={},ry,Ak;function HU(){if(Ak)return ry;Ak=1;var i=Oi(),e=Ii(),t=w1(),r=Ti(),n=$i(),s=e.add,o=e.has,a=e.remove;return ry=function(l){var c=i(this),d=r(l).getIterator(),h=t(c);return n(d,function(f){o(c,f)?a(h,f):s(h,f)}),h},ry}var iy,Nk;function qF(){return Nk||(Nk=1,iy=function(i){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[i](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),iy}var Fk;function VU(){if(Fk)return Mk;Fk=1;var i=H(),e=HU(),t=qF(),r=Pi(),n=!r("symmetricDifference")||!t("symmetricDifference");return i({target:"Set",proto:!0,real:!0,forced:n},{symmetricDifference:e}),Mk}var Bk={},ny,jk;function UU(){if(jk)return ny;jk=1;var i=Oi(),e=Ii().add,t=w1(),r=Ti(),n=$i();return ny=function(o){var a=i(this),u=r(o).getIterator(),l=t(a);return n(u,function(c){e(l,c)}),l},ny}var Lk;function GU(){if(Lk)return Bk;Lk=1;var i=H(),e=UU(),t=qF(),r=Pi(),n=!r("union")||!t("union");return i({target:"Set",proto:!0,real:!0,forced:n},{union:e}),Bk}var sy,zk;function KU(){if(zk)return sy;zk=1,xn(),qU(),MU(),NU(),BU(),LU(),WU(),VU(),GU(),p1();var i=fe();return sy=i.Set,sy}var oy,Wk;function YU(){if(Wk)return oy;Wk=1;var i=KU();return Cn(),oy=i,oy}var ay,Hk;function XU(){return Hk||(Hk=1,ay=YU()),ay}var ZU=XU(),yr=Y(ZU),Vk={},Uk={},uy,Gk;function JU(){if(Gk)return uy;Gk=1;var i=ae(),e=v1(),t=va().getWeakData,r=d1(),n=Kt(),s=gn(),o=Ve(),a=pa(),u=Dr(),l=Xe(),c=wi(),d=c.set,h=c.getterFor,f=u.find,v=u.findIndex,g=i([].splice),b=0,p=function(y){return y.frozen||(y.frozen=new m)},m=function(){this.entries=[]},O=function(y,S){return f(y.entries,function(I){return I[0]===S})};return m.prototype={get:function(y){var S=O(this,y);if(S)return S[1]},has:function(y){return!!O(this,y)},set:function(y,S){var I=O(this,y);I?I[1]=S:this.entries.push([y,S])},delete:function(y){var S=v(this.entries,function(I){return I[0]===y});return~S&&g(this.entries,S,1),!!~S}},uy={getConstructor:function(y,S,I,w){var _=y(function(P,R){r(P,E),d(P,{type:S,id:b++,frozen:null}),s(R)||a(R,P[w],{that:P,AS_ENTRIES:I})}),E=_.prototype,$=h(S),T=function(P,R,C){var k=$(P),K=t(n(R),!0);return K===!0?p(k).set(R,C):K[k.id]=C,P};return e(E,{delete:function(P){var R=$(this);if(!o(P))return!1;var C=t(P);return C===!0?p(R).delete(P):C&&l(C,R.id)&&delete C[R.id]},has:function(R){var C=$(this);if(!o(R))return!1;var k=t(R);return k===!0?p(C).has(R):k&&l(k,C.id)}}),e(E,I?{get:function(R){var C=$(this);if(o(R)){var k=t(R);if(k===!0)return p(C).get(R);if(k)return k[C.id]}},set:function(R,C){return T(this,R,C)}}:{add:function(R){return T(this,R,!0)}}),_}},uy}var Kk;function QU(){if(Kk)return Uk;Kk=1;var i=sF(),e=Ee(),t=ae(),r=v1(),n=va(),s=h1(),o=JU(),a=Ve(),u=wi().enforce,l=oe(),c=iF(),d=Object,h=Array.isArray,f=d.isExtensible,v=d.isFrozen,g=d.isSealed,b=d.freeze,p=d.seal,m=!e.ActiveXObject&&"ActiveXObject"in e,O,y=function(P){return function(){return P(this,arguments.length?arguments[0]:void 0)}},S=s("WeakMap",y,o),I=S.prototype,w=t(I.set),_=function(){return i&&l(function(){var P=b([]);return w(new S,P,1),!v(P)})};if(c)if(m){O=o.getConstructor(y,"WeakMap",!0),n.enable();var E=t(I.delete),$=t(I.has),T=t(I.get);r(I,{delete:function(P){if(a(P)&&!f(P)){var R=u(this);return R.frozen||(R.frozen=new O),E(this,P)||R.frozen.delete(P)}return E(this,P)},has:function(R){if(a(R)&&!f(R)){var C=u(this);return C.frozen||(C.frozen=new O),$(this,R)||C.frozen.has(R)}return $(this,R)},get:function(R){if(a(R)&&!f(R)){var C=u(this);return C.frozen||(C.frozen=new O),$(this,R)?T(this,R):C.frozen.get(R)}return T(this,R)},set:function(R,C){if(a(R)&&!f(R)){var k=u(this);k.frozen||(k.frozen=new O),$(this,R)?w(this,R,C):k.frozen.set(R,C)}else w(this,R,C);return this}})}else _()&&r(I,{set:function(R,C){var k;return h(R)&&(v(R)?k=b:g(R)&&(k=p)),w(this,R,C),k&&k(R),this}});return Uk}var Yk;function eG(){return Yk||(Yk=1,QU()),Vk}var ly,Xk;function tG(){if(Xk)return ly;Xk=1,xn(),eG();var i=fe();return ly=i.WeakMap,ly}var cy,Zk;function rG(){if(Zk)return cy;Zk=1;var i=tG();return Cn(),cy=i,cy}var dy,Jk;function iG(){return Jk||(Jk=1,dy=rG()),dy}var nG=iG(),no=Y(nG);function as(i,e,t){sG(i,e),e.set(i,t)}function sG(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cb(i,e,t){return i.set(DF(i,e),t),t}function pe(i,e){return i.get(DF(i,e))}function DF(i,e,t){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function Qk(i,e){const t=new yr;for(const r of e)i.has(r)||t.add(r);return t}var Ci=new no,qt=new no;class eM{constructor(){as(this,Ci,new yr),as(this,qt,new yr)}get size(){return pe(qt,this).size}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const n of t)pe(qt,this).add(n)}delete(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const n of t)pe(qt,this).delete(n)}clear(){pe(qt,this).clear()}getSelection(){return[...pe(qt,this)]}getChanges(){return{added:[...Qk(pe(Ci,this),pe(qt,this))],deleted:[...Qk(pe(qt,this),pe(Ci,this))],previous:[...new yr(pe(Ci,this))],current:[...new yr(pe(qt,this))]}}commit(){const e=this.getChanges();cb(Ci,this,pe(qt,this)),cb(qt,this,new yr(pe(Ci,this)));for(const t of e.added)t.select();for(const t of e.deleted)t.unselect();return e}}var Vr=new no,Ur=new no,hy=new no;class oG{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};as(this,Vr,new eM),as(this,Ur,new eM),as(this,hy,void 0),cb(hy,this,e)}get sizeNodes(){return pe(Vr,this).size}get sizeEdges(){return pe(Ur,this).size}getNodes(){return pe(Vr,this).getSelection()}getEdges(){return pe(Ur,this).getSelection()}addNodes(){pe(Vr,this).add(...arguments)}addEdges(){pe(Ur,this).add(...arguments)}deleteNodes(e){pe(Vr,this).delete(e)}deleteEdges(e){pe(Ur,this).delete(e)}clear(){pe(Vr,this).clear(),pe(Ur,this).clear()}commit(){const e={nodes:pe(Vr,this).commit(),edges:pe(Ur,this).commit()};for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return pe(hy,this).call(this,e,...r),e}}class aG{constructor(e,t){this.body=e,this.canvas=t,this._selectionAccumulator=new oG,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Ke(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&$n(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),r!==void 0&&(t=this.selectObject(r)),this.body.emitter.emit("_requestRedraw")}return t}selectAdditionalOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);r!==void 0&&(t=!0,r.isSelected()===!0?this.deselectObject(r):this.selectObject(r),this.body.emitter.emit("_requestRedraw"))}return t}_initBaseEvent(e,t){const r={};return r.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},r.event=e,r}generateClickEvent(e,t,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const o=this._initBaseEvent(t,r);if(s===!0)o.nodes=[],o.edges=[];else{const a=this.getSelection();o.nodes=a.nodes,o.edges=a.edges}n!==void 0&&(o.previousSelection=n),e=="click"&&(o.items=this.getClickedItems(r)),t.controlEdge!==void 0&&(o.controlEdge=t.controlEdge),this.body.emitter.emit(e,o)}selectObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof we?(t===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const t=[],r=this.body.nodes;for(let n=0;n<this.body.nodeIndices.length;n++){const s=this.body.nodeIndices[n];r[s].isOverlappingWith(e)&&t.push(s)}return t}_pointerToPositionObject(e){const t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}getNodeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this._pointerToPositionObject(e),n=this._getAllNodesOverlappingWith(r);if(n.length>0)return t===!0?this.body.nodes[n[n.length-1]]:n[n.length-1]}_getEdgesOverlappingWith(e,t){const r=this.body.edges;for(let n=0;n<this.body.edgeIndices.length;n++){const s=this.body.edgeIndices[n];r[s].isOverlappingWith(e)&&t.push(s)}}_getAllEdgesOverlappingWith(e){const t=[];return this._getEdgesOverlappingWith(e,t),t}getEdgeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this.canvas.DOMtoCanvas(e);let n=10,s=null;const o=this.body.edges;for(let a=0;a<this.body.edgeIndices.length;a++){const u=this.body.edgeIndices[a],l=o[u];if(l.connected){const c=l.from.x,d=l.from.y,h=l.to.x,f=l.to.y,v=l.edgeType.getDistanceToEdge(c,d,h,f,r.x,r.y);v<n&&(s=u,n=v)}}if(s!==null)return t===!0?this.body.edges[s]:s}_addToHover(e){e instanceof we?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof we?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let t=0;t<e.edges.length;t++){const r=e.edges[t];r.hover=!0,this._addToHover(r)}}emitBlurEvent(e,t,r){const n=this._initBaseEvent(e,t);r.hover===!0&&(r.hover=!1,r instanceof we?(n.node=r.id,this.body.emitter.emit("blurNode",n)):(n.edge=r.id,this.body.emitter.emit("blurEdge",n)))}emitHoverEvent(e,t,r){const n=this._initBaseEvent(e,t);let s=!1;return r.hover===!1&&(r.hover=!0,this._addToHover(r),s=!0,r instanceof we?(n.node=r.id,this.body.emitter.emit("hoverNode",n)):(n.edge=r.id,this.body.emitter.emit("hoverEdge",n))),s}hoverObject(e,t){let r=this.getNodeAt(t);r===void 0&&(r=this.getEdgeAt(t));let n=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(r===void 0||r instanceof we&&r.id!=s||r instanceof Ir)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],n=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(n===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(r===void 0||r instanceof Ir&&r.id!=s||r instanceof we&&!r.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],n=!0));if(r!==void 0){const s=qe(this.hoverObj.edges).length,o=qe(this.hoverObj.nodes).length,a=r instanceof Ir&&s===0&&o===0,u=r instanceof we&&s===0&&o===0;(n||a||u)&&(n=this.emitHoverEvent(e,t,r)),r instanceof we&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(r)}n===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,t){let r=!1;const n=this._selectionAccumulator.commit(),s={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,s),r=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,s),r=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),r=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),r=!0),r===!0&&this.generateClickEvent("select",t,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return _s(e=this._selectionAccumulator.getNodes()).call(e,t=>t.id)}getSelectedEdgeIds(){var e;return _s(e=this._selectionAccumulator.getEdges()).call(e,t=>t.id)}setSelection(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||t.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const r of e.nodes){const n=this.body.nodes[r];if(!n)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(n,t.highlightEdges)}if(e.edges)for(const r of e.edges){const n=this.body.edges[r];if(!n)throw new RangeError('Edge with id "'+r+'" not found');this.selectObject(n)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const t=this.canvas.DOMtoCanvas(e),r=[],n=this.body.nodeIndices,s=this.body.nodes;for(let u=n.length-1;u>=0;u--){const c=s[n[u]].getItemsOnPoint(t);r.push.apply(r,c)}const o=this.body.edgeIndices,a=this.body.edges;for(let u=o.length-1;u>=0;u--){const c=a[o[u]].getItemsOnPoint(t);r.push.apply(r,c)}return r}}var tM={},fy,rM;function uG(){if(rM)return fy;rM=1;var i=On(),e=Math.floor,t=function(r,n){var s=r.length;if(s<8)for(var o=1,a,u;o<s;){for(u=o,a=r[o];u&&n(r[u-1],a)>0;)r[u]=r[--u];u!==o++&&(r[u]=a)}else for(var l=e(s/2),c=t(i(r,0,l),n),d=t(i(r,l),n),h=c.length,f=d.length,v=0,g=0;v<h||g<f;)r[v+g]=v<h&&g<f?n(c[v],d[g])<=0?c[v++]:d[g++]:v<h?c[v++]:d[g++];return r};return fy=t,fy}var vy,iM;function lG(){if(iM)return vy;iM=1;var i=mn(),e=i.match(/firefox\/(\d+)/i);return vy=!!e&&+e[1],vy}var py,nM;function cG(){if(nM)return py;nM=1;var i=mn();return py=/MSIE|Trident/.test(i),py}var gy,sM;function dG(){if(sM)return gy;sM=1;var i=mn(),e=i.match(/AppleWebKit\/(\d+)\./);return gy=!!e&&+e[1],gy}var oM;function hG(){if(oM)return tM;oM=1;var i=H(),e=ae(),t=fr(),r=It(),n=vr(),s=KN(),o=Pt(),a=oe(),u=uG(),l=Tn(),c=lG(),d=cG(),h=Hs(),f=dG(),v=[],g=e(v.sort),b=e(v.push),p=a(function(){v.sort(void 0)}),m=a(function(){v.sort(null)}),O=l("sort"),y=!a(function(){if(h)return h<70;if(!(c&&c>3)){if(d)return!0;if(f)return f<603;var w="",_,E,$,T;for(_=65;_<76;_++){switch(E=String.fromCharCode(_),_){case 66:case 69:case 70:case 72:$=3;break;case 68:case 71:$=4;break;default:$=2}for(T=0;T<47;T++)v.push({k:E+T,v:$})}for(v.sort(function(P,R){return R.v-P.v}),T=0;T<v.length;T++)E=v[T].k.charAt(0),w.charAt(w.length-1)!==E&&(w+=E);return w!=="DGBEFHACIJK"}}),S=p||!m||!O||!y,I=function(w){return function(_,E){return E===void 0?-1:_===void 0?1:w!==void 0?+w(_,E)||0:o(_)>o(E)?1:-1}};return i({target:"Array",proto:!0,forced:S},{sort:function(_){_!==void 0&&t(_);var E=r(this);if(y)return _===void 0?g(E):g(E,_);var $=[],T=n(E),P,R;for(R=0;R<T;R++)R in E&&b($,E[R]);for(u($,I(_)),P=n($),R=0;R<P;)E[R]=$[R++];for(;R<T;)s(E,R++);return E}}),tM}var my,aM;function fG(){if(aM)return my;aM=1,hG();var i=Ze();return my=i("Array","sort"),my}var yy,uM;function vG(){if(uM)return yy;uM=1;var i=Ne(),e=fG(),t=Array.prototype;return yy=function(r){var n=r.sort;return r===t||i(t,r)&&n===t.sort?e:n},yy}var by,lM;function pG(){if(lM)return by;lM=1;var i=vG();return by=i,by}var _y,cM;function gG(){return cM||(cM=1,_y=pG()),_y}var mG=gG(),Gi=Y(mG),dM={},wy,hM;function yG(){if(hM)return wy;hM=1;var i=Re(),e=oe(),t=ae(),r=o1(),n=Gs(),s=Bt(),o=ta().f,a=t(o),u=t([].push),l=i&&e(function(){var d=Object.create(null);return d[2]=2,!a(d,2)}),c=function(d){return function(h){for(var f=s(h),v=n(f),g=l&&r(f)===null,b=v.length,p=0,m=[],O;b>p;)O=v[p++],(!i||(g?O in f:a(f,O)))&&u(m,d?[O,f[O]]:f[O]);return m}};return wy={entries:c(!0),values:c(!1)},wy}var fM;function bG(){if(fM)return dM;fM=1;var i=H(),e=yG().values;return i({target:"Object",stat:!0},{values:function(r){return e(r)}}),dM}var Ey,vM;function _G(){if(vM)return Ey;vM=1,bG();var i=fe();return Ey=i.Object.values,Ey}var Sy,pM;function wG(){if(pM)return Sy;pM=1;var i=_G();return Sy=i,Sy}var Oy,gM;function EG(){return gM||(gM=1,Oy=wG()),Oy}var SG=EG(),OG=Y(SG),mM={},Iy,yM;function IG(){if(yM)return Iy;yM=1;var i=fr(),e=It(),t=ra(),r=vr(),n=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(u,l,c,d){var h=e(u),f=t(h),v=r(h);if(i(l),v===0&&c<2)throw new n(s);var g=a?v-1:0,b=a?-1:1;if(c<2)for(;;){if(g in f){d=f[g],g+=b;break}if(g+=b,a?g<0:v<=g)throw new n(s)}for(;a?g>=0:v>g;g+=b)g in f&&(d=l(d,f[g],g,h));return d}};return Iy={left:o(!1),right:o(!0)},Iy}var $y,bM;function $G(){if(bM)return $y;bM=1;var i=lF();return $y=i==="NODE",$y}var _M;function TG(){if(_M)return mM;_M=1;var i=H(),e=IG().left,t=Tn(),r=Hs(),n=$G(),s=!n&&r>79&&r<83,o=s||!t("reduce");return i({target:"Array",proto:!0,forced:o},{reduce:function(u){var l=arguments.length;return e(this,u,l,l>1?arguments[1]:void 0)}}),mM}var Ty,wM;function PG(){if(wM)return Ty;wM=1,TG();var i=Ze();return Ty=i("Array","reduce"),Ty}var Py,EM;function RG(){if(EM)return Py;EM=1;var i=Ne(),e=PG(),t=Array.prototype;return Py=function(r){var n=r.reduce;return r===t||i(t,r)&&n===t.reduce?e:n},Py}var Ry,SM;function xG(){if(SM)return Ry;SM=1;var i=RG();return Ry=i,Ry}var xy,OM;function CG(){return OM||(OM=1,xy=xG()),xy}var qG=CG(),kF=Y(qG);class MF{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,t,r),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,t){this.fake_use(e,t),this.abstract()}shift(e,t){this.fake_use(e,t),this.abstract()}}class DG extends MF{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.x=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}sort(e){Gi(e).call(e,function(t,r){return t.x-r.x})}fix(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}shift(e,t){this.layout.body.nodes[e].x+=t}}class kG extends MF{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.y=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}sort(e){Gi(e).call(e,function(t,r){return t.y-r.y})}fix(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}shift(e,t){this.layout.body.nodes[e].y+=t}}var IM={},$M;function MG(){if($M)return IM;$M=1;var i=H(),e=Dr().every,t=Tn(),r=t("every");return i({target:"Array",proto:!0,forced:!r},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),IM}var Cy,TM;function AG(){if(TM)return Cy;TM=1,MG();var i=Ze();return Cy=i("Array","every"),Cy}var qy,PM;function NG(){if(PM)return qy;PM=1;var i=Ne(),e=AG(),t=Array.prototype;return qy=function(r){var n=r.every;return r===t||i(t,r)&&n===t.every?e:n},qy}var Dy,RM;function FG(){if(RM)return Dy;RM=1;var i=NG();return Dy=i,Dy}var ky,xM;function BG(){return xM||(xM=1,ky=FG()),ky}var jG=BG(),AF=Y(jG);function LG(i,e){const t=new yr;return _e(i).call(i,r=>{var n;_e(n=r.edges).call(n,s=>{s.connected&&t.add(s)})}),_e(t).call(t,r=>{const n=r.from.id,s=r.to.id;e[n]==null&&(e[n]=0),(e[s]==null||e[n]>=e[s])&&(e[s]=e[n]+1)}),e}function zG(i){return NF(e=>{var t,r;return AF(t=pr(r=e.edges).call(r,n=>i.has(n.toId))).call(t,n=>n.to===e)},(e,t)=>t>e,"from",i)}function WG(i){return NF(e=>{var t,r;return AF(t=pr(r=e.edges).call(r,n=>i.has(n.toId))).call(t,n=>n.from===e)},(e,t)=>t<e,"to",i)}function NF(i,e,t,r){var n;const s=is(null),o=kF(n=[...$F(r).call(r)]).call(n,(d,h)=>d+1+h.edges.length,0),a=t+"Id",u=t==="to"?1:-1;for(const[d,h]of r){if(!r.has(d)||!i(h))continue;s[d]=0;const f=[h];let v=0,g;for(;g=f.pop();){var l,c;if(!r.has(d))continue;const b=s[g.id]+u;if(_e(l=pr(c=g.edges).call(c,p=>p.connected&&p.to!==p.from&&p[t]!==g&&r.has(p.toId)&&r.has(p.fromId))).call(l,p=>{const m=p[a],O=s[m];(O==null||e(b,O))&&(s[m]=b,f.push(p[t]))}),v>o)return LG(r,s);++v}}return s}class HG{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,t){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),this.parentReference[t]===void 0&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,t){t!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const t={},r=n=>{if(t[n]!==void 0)return t[n];let s=this.levels[n];if(this.childrenReference[n]){const o=this.childrenReference[n];if(o.length>0)for(let a=0;a<o.length;a++)s=Math.max(s,r(o[a]))}return t[n]=s,s};return r(e)}levelDownstream(e,t){this.levels[t.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const t=new g1;let r=0;const n=Gi(e=[...new yr(OG(this.levels))]).call(e,(s,o)=>s-o);for(const s of n)t.set(s,r++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=t.get(this.levels[s]))}getTreeSize(e,t){let r=1e9,n=-1e9,s=1e9,o=-1e9;for(const a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===t){const u=e[a];r=Math.min(u.x,r),n=Math.max(u.x,n),s=Math.min(u.y,s),o=Math.max(u.y,o)}return{min_x:r,max_x:n,min_y:s,max_y:o}}hasSameParent(e,t){const r=this.parentReference[e.id],n=this.parentReference[t.id];if(r===void 0||n===void 0)return!1;for(let s=0;s<r.length;s++)for(let o=0;o<n.length;o++)if(r[s]==n[o])return!0;return!1}inSameSubNetwork(e,t){return this.trees[e.id]===this.trees[t.id]}getLevels(){return qe(this.distributionOrdering)}addToOrdering(e,t){this.distributionOrdering[t]===void 0&&(this.distributionOrdering[t]=[]);let r=!1;const n=this.distributionOrdering[t];for(const s in n)if(n[s]===e){r=!0;break}r||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}class VG{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+lb()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Ke(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,t){if(e!==void 0){const r=this.options.hierarchical,n=r.enabled;if($n(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),gt(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),r.enabled===!0)return n===!0&&this.body.emitter.emit("refresh",!0),r.direction==="RL"||r.direction==="DU"?r.levelSeparation>0&&(r.levelSeparation*=-1):r.levelSeparation<0&&(r.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(n===!0)return this.body.emitter.emit("refresh"),ge(t,this.optionsBackup)}return t}_resetRNG(e){this.initialRandomSeed=e,this._rng=ca(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const t=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:t.enabled===void 0?!0:t.enabled,solver:"hierarchicalRepulsion"},t.enabled=t.enabled===void 0?!0:t.enabled,t.solver=t.solver||"barnesHut"):typeof e.physics=="object"?(t.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let r=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:r};else{const n=e.edges.smooth;n.type!==void 0&&n.type!=="dynamic"&&(r=n.type),this.optionsBackup.edges={smooth:{enabled:n.enabled===void 0?!0:n.enabled,type:n.type===void 0?"dynamic":n.type,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection===void 0?!1:n.forceDirection}},e.edges.smooth={enabled:n.enabled===void 0?!0:n.enabled,type:r,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection===void 0?!1:n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",r)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const t=e.length+50;for(let r=0;r<e.length;r++){const n=e[r],s=2*Math.PI*this._rng();n.x===void 0&&(n.x=t*Math.cos(s)),n.y===void 0&&(n.y=t*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let t=0;for(let r=0;r<e.length;r++)this.body.nodes[e[r]].predefinedPosition===!0&&(t+=1);if(t<.5*e.length){let n=0;const s=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const u=e.length;for(;e.length>s&&n<=10;){n+=1;const l=e.length;n%3===0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o);const c=e.length;if(l==c&&n%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*u)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const a=70;for(let u=0;u<e.length;u++){const l=this.body.nodes[e[u]];l.predefinedPosition===!1&&(l.x+=(.5-this._rng())*a,l.y+=(.5-this._rng())*a)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=st.getRangeCore(this.body.nodes,this.body.nodeIndices),t=st.findCenter(e);for(let r=0;r<this.body.nodeIndices.length;r++){const n=this.body.nodes[this.body.nodeIndices[r]];n.x-=t.x,n.y-=t.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let t=0;t<this.body.nodeIndices.length;t++)this.body.nodes[this.body.nodeIndices[t]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,t,r=!1,n=!1;this.lastNodeOnLevel={},this.hierarchical=new HG;for(t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&(e=this.body.nodes[t],e.options.level!==void 0?(r=!0,this.hierarchical.levels[t]=e.options.level):n=!0);if(n===!0&&r===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(n===!0){const o=this.options.hierarchical.sortMethod;o==="hubsize"?this._determineLevelsByHubsize():o==="directed"?this._determineLevelsDirected():o==="custom"&&this._determineLevelsCustomCallback()}for(const o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let t=!1;const r={},n=()=>{const p=o();let m=0;for(let O=0;O<p.length-1;O++){const y=p[O].max-p[O+1].min;m+=y+this.options.hierarchical.treeSpacing,s(O+1,m)}},s=(p,m)=>{const O=this.hierarchical.trees;for(const y in O)Object.prototype.hasOwnProperty.call(O,y)&&O[y]===p&&this.direction.shift(y,m)},o=()=>{const p=[];for(let m=0;m<this.hierarchical.numTrees();m++)p.push(this.direction.getTreeSize(m));return p},a=(p,m)=>{if(!m[p.id]&&(m[p.id]=!0,this.hierarchical.childrenReference[p.id])){const O=this.hierarchical.childrenReference[p.id];if(O.length>0)for(let y=0;y<O.length;y++)a(this.body.nodes[O[y]],m)}},u=function(p){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,O=1e9,y=1e9,S=1e9,I=-1e9;for(const w in p)if(Object.prototype.hasOwnProperty.call(p,w)){const _=e.body.nodes[w],E=e.hierarchical.levels[_.id],$=e.direction.getPosition(_),[T,P]=e._getSpaceAroundNode(_,p);O=Math.min(T,O),y=Math.min(P,y),E<=m&&(S=Math.min($,S),I=Math.max($,I))}return[S,I,O,y]},l=(p,m)=>{const O=this.hierarchical.getMaxLevel(p.id),y=this.hierarchical.getMaxLevel(m.id);return Math.min(O,y)},c=(p,m,O)=>{const y=this.hierarchical;for(let S=0;S<m.length;S++){const I=m[S],w=y.distributionOrdering[I];if(w.length>1)for(let _=0;_<w.length-1;_++){const E=w[_],$=w[_+1];y.hasSameParent(E,$)&&y.inSameSubNetwork(E,$)&&p(E,$,O)}}},d=function(p,m){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const y=e.direction.getPosition(p),S=e.direction.getPosition(m),I=Math.abs(S-y),w=e.options.hierarchical.nodeSpacing;if(I>w){const _={},E={};a(p,_),a(m,E);const $=l(p,m),T=u(_,$),P=u(E,$),R=T[1],C=P[0],k=P[2];if(Math.abs(R-C)>w){let j=R-C+w;j<-k+w&&(j=-k+w),j<0&&(e._shiftBlock(m.id,j),t=!0,O===!0&&e._centerParent(m))}}},h=(p,m)=>{const O=m.id,y=m.edges,S=this.hierarchical.levels[m.id],I=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,w={},_=[];for(let k=0;k<y.length;k++){const K=y[k];if(K.toId!=K.fromId){const j=K.toId==O?K.from:K.to;w[y[k].id]=j,this.hierarchical.levels[j.id]<S&&_.push(K)}}const E=(k,K)=>{let j=0;for(let Q=0;Q<K.length;Q++)if(w[K[Q].id]!==void 0){const re=this.direction.getPosition(w[K[Q].id])-k;j+=re/Math.sqrt(re*re+I)}return j},$=(k,K)=>{let j=0;for(let Q=0;Q<K.length;Q++)if(w[K[Q].id]!==void 0){const re=this.direction.getPosition(w[K[Q].id])-k;j-=I*Math.pow(re*re+I,-1.5)}return j},T=(k,K)=>{let j=this.direction.getPosition(m);const Q={};for(let re=0;re<k;re++){const he=E(j,K),W=$(j,K),le=40,ve=Math.max(-le,Math.min(le,Math.round(he/W)));if(j=j-ve,Q[j]!==void 0)break;Q[j]=re}return j},P=k=>{const K=this.direction.getPosition(m);if(r[m.id]===void 0){const le={};a(m,le),r[m.id]=le}const j=u(r[m.id]),Q=j[2],re=j[3],he=k-K;let W=0;he>0?W=Math.min(he,re-this.options.hierarchical.nodeSpacing):he<0&&(W=-Math.min(-he,Q-this.options.hierarchical.nodeSpacing)),W!=0&&(this._shiftBlock(m.id,W),t=!0)},R=k=>{const K=this.direction.getPosition(m),[j,Q]=this._getSpaceAroundNode(m),re=k-K;let he=K;re>0?he=Math.min(K+(Q-this.options.hierarchical.nodeSpacing),k):re<0&&(he=Math.max(K-(j-this.options.hierarchical.nodeSpacing),k)),he!==K&&(this.direction.setPosition(m,he),t=!0)};let C=T(p,_);P(C),C=T(p,y),R(C)},f=p=>{let m=this.hierarchical.getLevels();m=Ui(m).call(m);for(let O=0;O<p;O++){t=!1;for(let y=0;y<m.length;y++){const S=m[y],I=this.hierarchical.distributionOrdering[S];for(let w=0;w<I.length;w++)h(1e3,I[w])}if(t!==!0)break}},v=p=>{let m=this.hierarchical.getLevels();m=Ui(m).call(m);for(let O=0;O<p&&(t=!1,c(d,m,!0),t===!0);O++);},g=()=>{for(const p in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,p)&&this._centerParent(this.body.nodes[p])},b=()=>{let p=this.hierarchical.getLevels();p=Ui(p).call(p);for(let m=0;m<p.length;m++){const O=p[m],y=this.hierarchical.distributionOrdering[O];for(let S=0;S<y.length;S++)this._centerParent(y[S])}};this.options.hierarchical.blockShifting===!0&&(v(5),g()),this.options.hierarchical.edgeMinimization===!0&&f(20),this.options.hierarchical.parentCentralization===!0&&b(),n()}_getSpaceAroundNode(e,t){let r=!0;t===void 0&&(r=!1);const n=this.hierarchical.levels[e.id];if(n!==void 0){const s=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[n];let u=1e9,l=1e9;if(s!==0){const c=a[s-1];if(r===!0&&t[c.id]===void 0||r===!1){const d=this.direction.getPosition(c);u=o-d}}if(s!=a.length-1){const c=a[s+1];if(r===!0&&t[c.id]===void 0||r===!1){const d=this.direction.getPosition(c);l=Math.min(l,d-o)}}return[u,l]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const t=this.hierarchical.parentReference[e.id];for(let r=0;r<t.length;r++){const n=t[r],s=this.body.nodes[n],o=this.hierarchical.childrenReference[n];if(o!==void 0){const a=this._getCenterPosition(o),u=this.direction.getPosition(s),[l,c]=this._getSpaceAroundNode(s),d=u-a;(d<0&&Math.abs(d)<c-this.options.hierarchical.nodeSpacing||d>0&&Math.abs(d)<l-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,a)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var t;let n=qe(e[r]);n=this._indexArrayToNodes(n),Gi(t=this.direction).call(t,n);let s=0;for(let o=0;o<n.length;o++){const a=n[o];if(this.positionedNodes[a.id]===void 0){const u=this.options.hierarchical.nodeSpacing;let l=u*s;s>0&&(l=this.direction.getPosition(n[o-1])+u),this.direction.setPosition(a,l,r),this._validatePositionAndContinue(a,r,l),s++}}}}_placeBranchNodes(e,t){var r;const n=this.hierarchical.childrenReference[e];if(n===void 0)return;const s=[];for(let a=0;a<n.length;a++)s.push(this.body.nodes[n[a]]);Gi(r=this.direction).call(r,s);for(let a=0;a<s.length;a++){const u=s[a],l=this.hierarchical.levels[u.id];if(l>t&&this.positionedNodes[u.id]===void 0){const c=this.options.hierarchical.nodeSpacing;let d;a===0?d=this.direction.getPosition(this.body.nodes[e]):d=this.direction.getPosition(s[a-1])+c,this.direction.setPosition(u,d,l),this._validatePositionAndContinue(u,l,d)}else return}const o=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],o,t)}_validatePositionAndContinue(e,t,r){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[t]!==void 0){const n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(r-n<this.options.hierarchical.nodeSpacing){const s=n+this.options.hierarchical.nodeSpacing-r,o=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(o.withChild,s)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}_indexArrayToNodes(e){const t=[];for(let r=0;r<e.length;r++)t.push(this.body.nodes[e[r]]);return t}_getDistribution(){const e={};let t,r;for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){r=this.body.nodes[t];const n=this.hierarchical.levels[t]===void 0?0:this.hierarchical.levels[t];this.direction.fix(r,n),e[n]===void 0&&(e[n]={}),e[n][t]=r}return e}_getActiveEdges(e){const t=[];return ne(e.edges,r=>{var n;Oe(n=this.body.edgeIndices).call(n,r.id)!==-1&&t.push(r)}),t}_getHubSizes(){const e={},t=this.body.nodeIndices;ne(t,n=>{const s=this.body.nodes[n],o=this._getActiveEdges(s).length;e[o]=!0});const r=[];return ne(e,n=>{r.push(Number(n))}),Gi(r).call(r,function(n,s){return s-n}),r}_determineLevelsByHubsize(){const e=(r,n)=>{this.hierarchical.levelDownstream(r,n)},t=this._getHubSizes();for(let r=0;r<t.length;++r){const n=t[r];if(n===0)break;ne(this.body.nodeIndices,s=>{const o=this.body.nodes[s];n===this._getActiveEdges(o).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const t=function(n,s,o){},r=(n,s,o)=>{let a=this.hierarchical.levels[n.id];a===void 0&&(a=this.hierarchical.levels[n.id]=1e5);const u=t(st.cloneOptions(n,"node"),st.cloneOptions(s,"node"),st.cloneOptions(o,"edge"));this.hierarchical.levels[s.id]=a+u};this._crawlNetwork(r),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const t=kF(e=this.body.nodeIndices).call(e,(r,n)=>(r.set(n,this.body.nodes[n]),r),new g1);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=WG(t):this.hierarchical.levels=zG(t),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(t,r)=>{this.hierarchical.levels[r.id]>this.hierarchical.levels[t.id]&&this.hierarchical.addRelation(t.id,r.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0;const r={},n=(s,o)=>{if(r[s.id]===void 0){this.hierarchical.setTreeIndex(s,o),r[s.id]=!0;let a;const u=this._getActiveEdges(s);for(let l=0;l<u.length;l++){const c=u[l];c.connected===!0&&(c.toId==s.id?a=c.from:a=c.to,s.id!=a.id&&(e(s,a,c),n(a,o)))}}};if(t===void 0){let s=0;for(let o=0;o<this.body.nodeIndices.length;o++){const a=this.body.nodeIndices[o];if(r[a]===void 0){const u=this.body.nodes[a];n(u,s),s+=1}}}else{const s=this.body.nodes[t];if(s===void 0){console.error("Node not found:",t);return}n(s)}}_shiftBlock(e,t){const r={},n=s=>{if(r[s])return;r[s]=!0,this.direction.shift(s,t);const o=this.hierarchical.childrenReference[s];if(o!==void 0)for(let a=0;a<o.length;a++)n(o[a])};n(e)}_findCommonParent(e,t){const r={},n=(o,a)=>{const u=this.hierarchical.parentReference[a];if(u!==void 0)for(let l=0;l<u.length;l++){const c=u[l];o[c]=!0,n(o,c)}},s=(o,a)=>{const u=this.hierarchical.parentReference[a];if(u!==void 0)for(let l=0;l<u.length;l++){const c=u[l];if(o[c]!==void 0)return{foundParent:c,withChild:a};const d=s(o,c);if(d.foundParent!==null)return d}return{foundParent:null,withChild:a}};return n(r,e),s(r,t)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new DG(this):this.direction=new kG(this)}_getCenterPosition(e){let t=1e9,r=-1e9;for(let n=0;n<e.length;n++){let s;if(e[n].id!==void 0)s=e[n];else{const a=e[n];s=this.body.nodes[a]}const o=this.direction.getPosition(s);t=Math.min(t,o),r=Math.max(r,o)}return .5*(t+r)}}class UG{constructor(e,t,r,n){var s,o;this.body=e,this.canvas=t,this.selectionHandler=r,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Ke(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",M(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",M(o=this._restore).call(o,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,t,r){t!==void 0&&(t.locale!==void 0?this.options.locale=t.locale:this.options.locale=r.locale,t.locales!==void 0?this.options.locales=t.locales:this.options.locales=r.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,ge(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const r=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),s=r+n,o=this.options.locales[this.options.locale];let a=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),a=!0),this.options.addEdge!==!1&&(a===!0?this._createSeperator(1):a=!0,this._createAddEdgeButton(o)),r===1&&typeof this.options.editNode=="function"?(a===!0?this._createSeperator(2):a=!0,this._createEditNodeButton(o)):n===1&&r===0&&this.options.editEdge!==!1&&(a===!0?this._createSeperator(3):a=!0,this._createEditEdgeButton(o)),s!==0&&(r>0&&this.options.deleteNode!==!1?(a===!0&&this._createSeperator(4),this._createDeleteButton(o)):r===0&&this.options.deleteEdge!==!1&&(a===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindElementEvents(this.closeDiv,M(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",M(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t;const r=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(r),this._createSeperator(),this._createDescription(r.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,M(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",M(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const t=ge({},e.options,!1);if(t.x=e.x,t.y=e.y,this.options.editNode.length===2)this.options.editNode(t,r=>{r!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(r),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,t,r,n,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var o;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,M(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",M(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",M(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",M(r=this._dragControlNode).call(r,this)),this._temporaryBindUI("onRelease",M(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",M(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const o=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(o.from.id,o.to.id);return}if(this.guiEnabled===!0){var e;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,M(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var t,r,n,s;const o=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(o.from.x,o.from.y),u=this._getNewTargetNode(o.to.x,o.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(u.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[u.id]=u,this.body.nodeIndices.push(u.id),this._temporaryBindUI("onTouch",M(t=this._controlNodeTouch).call(t,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",M(r=this._controlNodeDragStart).call(r,this)),this._temporaryBindUI("onDrag",M(n=this._controlNodeDrag).call(n,this)),this._temporaryBindUI("onDragEnd",M(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",l=>{const c=o.edgeType.findBorderPositions(l);a.selected===!1&&(a.x=c.from.x,a.y=c.from.y),u.selected===!1&&(u.x=c.to.x,u.y=c.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),t=this.selectionHandler.getSelectedEdgeIds();let r;if(e.length>0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(r=this.options.deleteNode)}else t.length>0&&typeof this.options.deleteEdge=="function"&&(r=this.options.deleteEdge);if(typeof r=="function"){const n={nodes:e,edges:t};if(r.length===2)r(n,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(t),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,t;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(t=this.options.locales[this.options.locale])===null||t===void 0?void 0:t.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,t){const r=ge({},this.options.controlNodeStyle);r.id="targetNode"+os(),r.hidden=!1,r.physics=!1,r.x=e,r.y=t;const n=this.body.functions.createNode(r);return n.shape.boundingBox={left:e,right:e,top:t,bottom:t},n}_createEditButton(){var e;this._clean(),this.manipulationDOM={},gr(this.editModeDiv);const t=this.options.locales[this.options.locale],r=this._createButton("editMode","vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(r),this._bindElementEvents(r,M(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(gr(this.editModeDiv),gr(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const t of Or(e=this._domEventListenerCleanupQueue).call(e,0)){var e;t()}}_removeManipulationDOM(){this._clean(),gr(this.manipulationDiv),gr(this.editModeDiv),gr(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var t;const r=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,M(t=this.addNodeMode).call(t,this))}_createAddEdgeButton(e){var t;const r=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,M(t=this.addEdgeMode).call(t,this))}_createEditNodeButton(e){var t;const r=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,M(t=this.editNode).call(t,this))}_createEditEdgeButton(e){var t;const r=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,M(t=this.editEdgeMode).call(t,this))}_createDeleteButton(e){var t;let r;this.options.rtl?r="vis-delete-rtl":r="vis-delete";const n=this._createButton("delete",r,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,M(t=this.deleteSelected).call(t,this))}_createBackButton(e){var t;const r=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,M(t=this.showManipulatorToolbar).call(t,this))}_createButton(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=n,this.manipulationDOM[e+"Label"].innerText=r,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}_temporaryBindUI(e,t){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+TF(qe(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const t=this.temporaryEventFunctions[e].event,r=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,r)}this.temporaryEventFunctions=[]}_bindElementEvents(e,t){const r=new Wi(e,{});ko(r,t),this._domEventListenerCleanupQueue.push(()=>{r.destroy()});const n=s=>{let{keyCode:o,key:a}=s;(a==="Enter"||a===" "||o===13||o===32)&&t()};e.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",n,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const o=Oe(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(o!==-1){var t;Or(t=this.body.edgeIndices).call(t,o,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var r;delete this.body.nodes[this.temporaryIds.nodes[s]];const o=Oe(r=this.body.nodeIndices).call(r,this.temporaryIds.nodes[s]);if(o!==-1){var n;Or(n=this.body.nodeIndices).call(n,o,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ke({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),r=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const o=r.isOverlappingWith(t),a=n.isOverlappingWith(t);o===!0?(this.selectedControlNode=r,s.edgeType.from=r):a===!0&&(this.selectedControlNode=n,s.edgeType.to=n),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const t=this.body.functions.getPointer(e.center),r=this.canvas.DOMtoCanvas(t);this.selectedControlNode!==void 0?(this.selectedControlNode.x=r.x,this.selectedControlNode.y=r.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),n=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let a=s.length-1;a>=0;a--)if(s[a]!==this.selectedControlNode.id){o=this.body.nodes[s[a]];break}if(o!==void 0&&this.selectedControlNode!==void 0)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,n.to.id):this._performEditEdge(n.from.id,o.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ke({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const t=this.lastTouch,r=this.selectionHandler.getNodeAt(t);if(r!==void 0)if(r.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const n=this._getNewTargetNode(r.x,r.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);const s=this.body.functions.createEdge({id:"connectionEdge"+os(),from:r.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let u=s.length-1;u>=0;u--){var a;if(Oe(a=this.temporaryIds.nodes).call(a,s[u])===-1){o=this.body.nodes[s[u]];break}}if(e.controlEdge={from:n,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),this.temporaryIds.nodes[0]!==void 0){const u=this.body.nodes[this.temporaryIds.nodes[0]];u.x=this.canvas._XconvertDOMtoCanvas(t.x),u.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let u=s.length-1;u>=0;u--){var a;if(Oe(a=this.temporaryIds.nodes).call(a,s[u])===-1){o=this.body.nodes[s[u]];break}}this._cleanupTemporaryNodesAndEdges(),o!==void 0&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[n]!==void 0&&this.body.nodes[o.id]!==void 0&&this._performAddEdge(n,o.id)),e.controlEdge={from:n,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const t=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,t,void 0,!0)}_performAddNode(e){const t={id:os(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(t,r=>{r!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(t),this.showManipulatorToolbar()}_performAddEdge(e,t){const r={from:e,to:t};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(r,n=>{n!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,t){const r={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let n=this.options.editEdge;if(typeof n=="object"&&(n=n.editWithoutDrag),typeof n=="function")if(n.length===2)n(r,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[r.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const A="string",D="boolean",x="number",Jn="array",z="object",FF="dom",GG="any",My=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Ay={borderWidth:{number:x},borderWidthSelected:{number:x,undefined:"undefined"},brokenImage:{string:A,undefined:"undefined"},chosen:{label:{boolean:D,function:"function"},node:{boolean:D,function:"function"},__type__:{object:z,boolean:D}},color:{border:{string:A},background:{string:A},highlight:{border:{string:A},background:{string:A},__type__:{object:z,string:A}},hover:{border:{string:A},background:{string:A},__type__:{object:z,string:A}},__type__:{object:z,string:A}},opacity:{number:x,undefined:"undefined"},fixed:{x:{boolean:D},y:{boolean:D},__type__:{object:z,boolean:D}},font:{align:{string:A},color:{string:A},size:{number:x},face:{string:A},background:{string:A},strokeWidth:{number:x},strokeColor:{string:A},vadjust:{number:x},multi:{boolean:D,string:A},bold:{color:{string:A},size:{number:x},face:{string:A},mod:{string:A},vadjust:{number:x},__type__:{object:z,string:A}},boldital:{color:{string:A},size:{number:x},face:{string:A},mod:{string:A},vadjust:{number:x},__type__:{object:z,string:A}},ital:{color:{string:A},size:{number:x},face:{string:A},mod:{string:A},vadjust:{number:x},__type__:{object:z,string:A}},mono:{color:{string:A},size:{number:x},face:{string:A},mod:{string:A},vadjust:{number:x},__type__:{object:z,string:A}},__type__:{object:z,string:A}},group:{string:A,number:x,undefined:"undefined"},heightConstraint:{minimum:{number:x},valign:{string:A},__type__:{object:z,boolean:D,number:x}},hidden:{boolean:D},icon:{face:{string:A},code:{string:A},size:{number:x},color:{string:A},weight:{string:A,number:x},__type__:{object:z}},id:{string:A,number:x},image:{selected:{string:A,undefined:"undefined"},unselected:{string:A,undefined:"undefined"},__type__:{object:z,string:A}},imagePadding:{top:{number:x},right:{number:x},bottom:{number:x},left:{number:x},__type__:{object:z,number:x}},label:{string:A,undefined:"undefined"},labelHighlightBold:{boolean:D},level:{number:x,undefined:"undefined"},margin:{top:{number:x},right:{number:x},bottom:{number:x},left:{number:x},__type__:{object:z,number:x}},mass:{number:x},physics:{boolean:D},scaling:{min:{number:x},max:{number:x},label:{enabled:{boolean:D},min:{number:x},max:{number:x},maxVisible:{number:x},drawThreshold:{number:x},__type__:{object:z,boolean:D}},customScalingFunction:{function:"function"},__type__:{object:z}},shadow:{enabled:{boolean:D},color:{string:A},size:{number:x},x:{number:x},y:{number:x},__type__:{object:z,boolean:D}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:D,array:Jn},borderRadius:{number:x},interpolation:{boolean:D},useImageSize:{boolean:D},useBorderWithImage:{boolean:D},coordinateOrigin:{string:["center","top-left"]},__type__:{object:z}},size:{number:x},title:{string:A,dom:FF,undefined:"undefined"},value:{number:x,undefined:"undefined"},widthConstraint:{minimum:{number:x},maximum:{number:x},__type__:{object:z,boolean:D,number:x}},x:{number:x},y:{number:x},__type__:{object:z}},KG={configure:{enabled:{boolean:D},filter:{boolean:D,string:A,array:Jn,function:"function"},container:{dom:FF},showButton:{boolean:D},__type__:{object:z,boolean:D,string:A,array:Jn,function:"function"}},edges:{arrows:{to:{enabled:{boolean:D},scaleFactor:{number:x},type:{string:My},imageHeight:{number:x},imageWidth:{number:x},src:{string:A},__type__:{object:z,boolean:D}},middle:{enabled:{boolean:D},scaleFactor:{number:x},type:{string:My},imageWidth:{number:x},imageHeight:{number:x},src:{string:A},__type__:{object:z,boolean:D}},from:{enabled:{boolean:D},scaleFactor:{number:x},type:{string:My},imageWidth:{number:x},imageHeight:{number:x},src:{string:A},__type__:{object:z,boolean:D}},__type__:{string:["from","to","middle"],object:z}},endPointOffset:{from:{number:x},to:{number:x},__type__:{object:z,number:x}},arrowStrikethrough:{boolean:D},background:{enabled:{boolean:D},color:{string:A},size:{number:x},dashes:{boolean:D,array:Jn},__type__:{object:z,boolean:D}},chosen:{label:{boolean:D,function:"function"},edge:{boolean:D,function:"function"},__type__:{object:z,boolean:D}},color:{color:{string:A},highlight:{string:A},hover:{string:A},inherit:{string:["from","to","both"],boolean:D},opacity:{number:x},__type__:{object:z,string:A}},dashes:{boolean:D,array:Jn},font:{color:{string:A},size:{number:x},face:{string:A},background:{string:A},strokeWidth:{number:x},strokeColor:{string:A},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:x},multi:{boolean:D,string:A},bold:{color:{string:A},size:{number:x},face:{string:A},mod:{string:A},vadjust:{number:x},__type__:{object:z,string:A}},boldital:{color:{string:A},size:{number:x},face:{string:A},mod:{string:A},vadjust:{number:x},__type__:{object:z,string:A}},ital:{color:{string:A},size:{number:x},face:{string:A},mod:{string:A},vadjust:{number:x},__type__:{object:z,string:A}},mono:{color:{string:A},size:{number:x},face:{string:A},mod:{string:A},vadjust:{number:x},__type__:{object:z,string:A}},__type__:{object:z,string:A}},hidden:{boolean:D},hoverWidth:{function:"function",number:x},label:{string:A,undefined:"undefined"},labelHighlightBold:{boolean:D},length:{number:x,undefined:"undefined"},physics:{boolean:D},scaling:{min:{number:x},max:{number:x},label:{enabled:{boolean:D},min:{number:x},max:{number:x},maxVisible:{number:x},drawThreshold:{number:x},__type__:{object:z,boolean:D}},customScalingFunction:{function:"function"},__type__:{object:z}},selectionWidth:{function:"function",number:x},selfReferenceSize:{number:x},selfReference:{size:{number:x},angle:{number:x},renderBehindTheNode:{boolean:D},__type__:{object:z}},shadow:{enabled:{boolean:D},color:{string:A},size:{number:x},x:{number:x},y:{number:x},__type__:{object:z,boolean:D}},smooth:{enabled:{boolean:D},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:x},forceDirection:{string:["horizontal","vertical","none"],boolean:D},__type__:{object:z,boolean:D}},title:{string:A,undefined:"undefined"},width:{number:x},widthConstraint:{maximum:{number:x},__type__:{object:z,boolean:D,number:x}},value:{number:x,undefined:"undefined"},__type__:{object:z}},groups:{useDefaultGroups:{boolean:D},__any__:Ay,__type__:{object:z}},interaction:{dragNodes:{boolean:D},dragView:{boolean:D},hideEdgesOnDrag:{boolean:D},hideEdgesOnZoom:{boolean:D},hideNodesOnDrag:{boolean:D},hover:{boolean:D},keyboard:{enabled:{boolean:D},speed:{x:{number:x},y:{number:x},zoom:{number:x},__type__:{object:z}},bindToWindow:{boolean:D},autoFocus:{boolean:D},__type__:{object:z,boolean:D}},multiselect:{boolean:D},navigationButtons:{boolean:D},selectable:{boolean:D},selectConnectedEdges:{boolean:D},hoverConnectedEdges:{boolean:D},tooltipDelay:{number:x},zoomView:{boolean:D},zoomSpeed:{number:x},__type__:{object:z}},layout:{randomSeed:{undefined:"undefined",number:x,string:A},improvedLayout:{boolean:D},clusterThreshold:{number:x},hierarchical:{enabled:{boolean:D},levelSeparation:{number:x},nodeSpacing:{number:x},treeSpacing:{number:x},blockShifting:{boolean:D},edgeMinimization:{boolean:D},parentCentralization:{boolean:D},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:z,boolean:D}},__type__:{object:z}},manipulation:{enabled:{boolean:D},initiallyActive:{boolean:D},addNode:{boolean:D,function:"function"},addEdge:{boolean:D,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:z,boolean:D,function:"function"}},deleteNode:{boolean:D,function:"function"},deleteEdge:{boolean:D,function:"function"},controlNodeStyle:Ay,__type__:{object:z,boolean:D}},nodes:Ay,physics:{enabled:{boolean:D},barnesHut:{theta:{number:x},gravitationalConstant:{number:x},centralGravity:{number:x},springLength:{number:x},springConstant:{number:x},damping:{number:x},avoidOverlap:{number:x},__type__:{object:z}},forceAtlas2Based:{theta:{number:x},gravitationalConstant:{number:x},centralGravity:{number:x},springLength:{number:x},springConstant:{number:x},damping:{number:x},avoidOverlap:{number:x},__type__:{object:z}},repulsion:{centralGravity:{number:x},springLength:{number:x},springConstant:{number:x},nodeDistance:{number:x},damping:{number:x},__type__:{object:z}},hierarchicalRepulsion:{centralGravity:{number:x},springLength:{number:x},springConstant:{number:x},nodeDistance:{number:x},damping:{number:x},avoidOverlap:{number:x},__type__:{object:z}},maxVelocity:{number:x},minVelocity:{number:x},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:D},iterations:{number:x},updateInterval:{number:x},onlyDynamicEdges:{boolean:D},fit:{boolean:D},__type__:{object:z,boolean:D}},timestep:{number:x},adaptiveTimestep:{boolean:D},wind:{x:{number:x},y:{number:x},__type__:{object:z}},__type__:{object:z,boolean:D}},autoResize:{boolean:D},clickToUse:{boolean:D},locale:{string:A},locales:{__any__:{any:GG},__type__:{object:z}},height:{string:A},width:{string:A},__type__:{object:z}},BF={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},YG=(i,e,t)=>{var r;return!!(ns(i).call(i,"physics")&&ns(r=BF.physics.solver).call(r,e)&&t.physics.solver!==e&&e!=="wind")};class XG{constructor(){}getDistances(e,t,r){const n={},s=e.edges;for(let a=0;a<t.length;a++){const u=t[a],l={};n[u]=l;for(let c=0;c<t.length;c++)l[t[c]]=a==c?0:1e9}for(let a=0;a<r.length;a++){const u=s[r[a]];u.connected===!0&&n[u.fromId]!==void 0&&n[u.toId]!==void 0&&(n[u.fromId][u.toId]=1,n[u.toId][u.fromId]=1)}const o=t.length;for(let a=0;a<o;a++){const u=t[a],l=n[u];for(let c=0;c<o-1;c++){const d=t[c],h=n[d];for(let f=c+1;f<o;f++){const v=t[f],g=n[v],b=Math.min(h[v],h[u]+l[v]);h[v]=b,g[d]=b}}}return n}}class ZG{constructor(e,t,r){this.body=e,this.springLength=t,this.springConstant=r,this.distanceSolver=new XG}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const n=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();const s=.01,o=1;let a=0;const u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),l=5;let c=1e9,d=0,h=0,f=0,v=0,g=0;for(;c>s&&a<u;)for(a+=1,[d,c,h,f]=this._getHighestEnergyNode(r),v=c,g=0;v>o&&g<l;)g+=1,this._moveNode(d,h,f),[v,h,f]=this._getEnergy(d)}_getHighestEnergyNode(e){const t=this.body.nodeIndices,r=this.body.nodes;let n=0,s=t[0],o=0,a=0;for(let u=0;u<t.length;u++){const l=t[u];if(r[l].predefinedPosition!==!0||r[l].isCluster===!0&&e===!0||r[l].options.fixed.x!==!0||r[l].options.fixed.y!==!0){const[c,d,h]=this._getEnergy(l);n<c&&(n=c,s=l,o=d,a=h)}}return[s,n,o,a]}_getEnergy(e){const[t,r]=this.E_sums[e];return[Math.sqrt(t**2+r**2),t,r]}_moveNode(e,t,r){const n=this.body.nodeIndices,s=this.body.nodes;let o=0,a=0,u=0;const l=s[e].x,c=s[e].y,d=this.K_matrix[e],h=this.L_matrix[e];for(let y=0;y<n.length;y++){const S=n[y];if(S!==e){const I=s[S].x,w=s[S].y,_=d[S],E=h[S],$=1/((l-I)**2+(c-w)**2)**1.5;o+=_*(1-E*(c-w)**2*$),a+=_*(E*(l-I)*(c-w)*$),u+=_*(1-E*(l-I)**2*$)}}const f=o,v=a,g=t,b=u,p=r,m=(g/f+p/v)/(v/f-b/v),O=-(v*m+g)/f;s[e].x+=O,s[e].y+=m,this._updateE_matrix(e)}_createL_matrix(e){const t=this.body.nodeIndices,r=this.springLength;this.L_matrix=[];for(let n=0;n<t.length;n++){this.L_matrix[t[n]]={};for(let s=0;s<t.length;s++)this.L_matrix[t[n]][t[s]]=r*e[t[n]][t[s]]}}_createK_matrix(e){const t=this.body.nodeIndices,r=this.springConstant;this.K_matrix=[];for(let n=0;n<t.length;n++){this.K_matrix[t[n]]={};for(let s=0;s<t.length;s++)this.K_matrix[t[n]][t[s]]=r*e[t[n]][t[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(let r=0;r<e.length;r++)this.E_matrix[e[r]]=[];for(let r=0;r<e.length;r++){const n=e[r],s=t[n].x,o=t[n].y;let a=0,u=0;for(let l=r;l<e.length;l++){const c=e[l];if(c!==n){const d=t[c].x,h=t[c].y,f=1/Math.sqrt((s-d)**2+(o-h)**2);this.E_matrix[n][l]=[this.K_matrix[n][c]*(s-d-this.L_matrix[n][c]*(s-d)*f),this.K_matrix[n][c]*(o-h-this.L_matrix[n][c]*(o-h)*f)],this.E_matrix[c][r]=this.E_matrix[n][l],a+=this.E_matrix[n][l][0],u+=this.E_matrix[n][l][1]}}this.E_sums[n]=[a,u]}}_updateE_matrix(e){const t=this.body.nodeIndices,r=this.body.nodes,n=this.E_matrix[e],s=this.K_matrix[e],o=this.L_matrix[e],a=r[e].x,u=r[e].y;let l=0,c=0;for(let d=0;d<t.length;d++){const h=t[d];if(h!==e){const f=n[d],v=f[0],g=f[1],b=r[h].x,p=r[h].y,m=1/Math.sqrt((a-b)**2+(u-p)**2),O=s[h]*(a-b-o[h]*(a-b)*m),y=s[h]*(u-p-o[h]*(u-p)*m);n[d]=[O,y],l+=O,c+=y;const S=this.E_sums[h];S[0]+=O-v,S[1]+=y-g}}this.E_sums[e]=[l,c]}}function L(i,e,t){var r,n,s,o;if(!(this instanceof L))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:DW,clickToUse:!1},Ke(this.options,this.defaultOptions),this.body={container:i,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:M(r=this.on).call(r,this),off:M(n=this.off).call(n,this),emit:M(s=this.emit).call(s,this),once:M(o=this.once).call(o,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new zW(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new h9,this.canvas=new $U(this.body),this.selectionHandler=new aG(this.body,this.canvas),this.interactionHandler=new xU(this.body,this.canvas,this.selectionHandler),this.view=new PU(this.body,this.canvas),this.renderer=new wU(this.body,this.canvas),this.physics=new uU(this.body),this.layoutEngine=new VG(this.body),this.clustering=new _U(this.body),this.manipulation=new UG(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new SV(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new ZV(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new ZG(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}gN(L.prototype);L.prototype.setOptions=function(i){if(i===null&&(i=void 0),i!==void 0){if(v8.validate(i,KG)===!0&&console.error("%cErrors have been found in the supplied options object.",VN),$n(["locale","locales","clickToUse"],this.options,i),i.locale!==void 0&&(i.locale=jW(i.locales||this.options.locales,i.locale)),i=this.layoutEngine.setOptions(i.layout,i),this.canvas.setOptions(i),this.groups.setOptions(i.groups),this.nodesHandler.setOptions(i.nodes),this.edgesHandler.setOptions(i.edges),this.physics.setOptions(i.physics),this.manipulation.setOptions(i.manipulation,i,this.options),this.interactionHandler.setOptions(i.interaction),this.renderer.setOptions(i.interaction),this.selectionHandler.setOptions(i.interaction),i.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in i&&(this.configurator||(this.configurator=new h8(this,this.body.container,BF,this.canvas.pixelRatio,YG)),this.configurator.setOptions(i.configure)),this.configurator&&this.configurator.options.enabled===!0){const r={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};ge(r.nodes,this.nodesHandler.options),ge(r.edges,this.edgesHandler.options),ge(r.layout,this.layoutEngine.options),ge(r.interaction,this.selectionHandler.options),ge(r.interaction,this.renderer.options),ge(r.interaction,this.interactionHandler.options),ge(r.manipulation,this.manipulation.options),ge(r.physics,this.physics.options),ge(r.global,this.canvas.options),ge(r.global,this.options),this.configurator.setModuleOptions(r)}i.clickToUse!==void 0?i.clickToUse===!0?this.activator===void 0&&(this.activator=new d8(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};L.prototype._updateVisibleIndices=function(){const i=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&!this.clustering._isClusteredNode(t)&&i[t].options.hidden===!1&&this.body.nodeIndices.push(i[t].id);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t],n=i[r.fromId],s=i[r.toId],o=n!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(t)&&r.options.hidden===!1&&o&&n.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(r.id)}};L.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};L.prototype.setData=function(i){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),i&&i.dot&&(i.nodes||i.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(i&&i.options),i&&i.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=vW(i.dot);this.setData(e);return}else if(i&&i.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=wW(i.gephi);this.setData(e);return}else this.nodesHandler.setData(i&&i.nodes,!0),this.edgesHandler.setData(i&&i.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};L.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const i in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,i)&&delete this.body.nodes[i];for(const i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&delete this.body.edges[i];gr(this.body.container)};L.prototype._updateValueRange=function(i){let e,t,r,n=0;for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){const s=i[e].getValue();s!==void 0&&(t=t===void 0?s:Math.min(s,t),r=r===void 0?s:Math.max(s,r),n+=s)}if(t!==void 0&&r!==void 0)for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&i[e].setValueRange(t,r,n)};L.prototype.isActive=function(){return!this.activator||this.activator.active};L.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};L.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};L.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};L.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};L.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};L.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};L.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};L.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};L.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};L.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};L.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};L.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};L.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};L.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};L.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};L.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};L.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};L.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};L.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};L.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};L.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};L.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};L.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};L.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};L.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};L.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};L.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};L.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};L.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};L.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};L.prototype.getConnectedNodes=function(i){return this.body.nodes[i]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};L.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};L.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};L.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};L.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};L.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};L.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};L.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};L.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};L.prototype.getNodeAt=function(){const i=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i};L.prototype.getEdgeAt=function(){const i=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i};L.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};L.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};L.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};L.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};L.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};L.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};L.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};L.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};L.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};L.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};L.prototype.getOptionsFromConfigurator=function(){let i={};return this.configurator&&(i=this.configurator.getOptions.apply(this.configurator)),i};const{min:JG,max:QG}=Math,ri=(i,e=0,t=1)=>JG(QG(e,i),t),E1=i=>{i._clipped=!1,i._unclipped=i.slice(0);for(let e=0;e<=3;e++)e<3?((i[e]<0||i[e]>255)&&(i._clipped=!0),i[e]=ri(i[e],0,255)):e===3&&(i[e]=ri(i[e],0,1));return i},jF={};for(let i of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])jF[`[object ${i}]`]=i.toLowerCase();function se(i){return jF[Object.prototype.toString.call(i)]||"object"}const J=(i,e=null)=>i.length>=3?Array.prototype.slice.call(i):se(i[0])=="object"&&e?e.split("").filter(t=>i[0][t]!==void 0).map(t=>i[0][t]):i[0].slice(0),qn=i=>{if(i.length<2)return null;const e=i.length-1;return se(i[e])=="string"?i[e].toLowerCase():null},{PI:_a,min:LF,max:zF}=Math,_t=i=>Math.round(i*100)/100,db=i=>Math.round(i*100)/100,Zt=_a*2,Ny=_a/3,eK=_a/180,tK=180/_a;function WF(i){return[...i.slice(0,3).reverse(),...i.slice(3)]}const X={format:{},autodetect:[]};class q{constructor(...e){const t=this;if(se(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];let r=qn(e),n=!1;if(!r){n=!0,X.sorted||(X.autodetect=X.autodetect.sort((s,o)=>o.p-s.p),X.sorted=!0);for(let s of X.autodetect)if(r=s.test(...e),r)break}if(X.format[r]){const s=X.format[r].apply(null,n?e:e.slice(0,-1));t._rgb=E1(s)}else throw new Error("unknown format: "+e);t._rgb.length===3&&t._rgb.push(1)}toString(){return se(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const rK="3.1.2",ee=(...i)=>new q(...i);ee.version=rK;const nn={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},iK=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,nK=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,HF=i=>{if(i.match(iK)){(i.length===4||i.length===7)&&(i=i.substr(1)),i.length===3&&(i=i.split(""),i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]);const e=parseInt(i,16),t=e>>16,r=e>>8&255,n=e&255;return[t,r,n,1]}if(i.match(nK)){(i.length===5||i.length===9)&&(i=i.substr(1)),i.length===4&&(i=i.split(""),i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]+i[3]+i[3]);const e=parseInt(i,16),t=e>>24&255,r=e>>16&255,n=e>>8&255,s=Math.round((e&255)/255*100)/100;return[t,r,n,s]}throw new Error(`unknown hex color: ${i}`)},{round:vo}=Math,VF=(...i)=>{let[e,t,r,n]=J(i,"rgba"),s=qn(i)||"auto";n===void 0&&(n=1),s==="auto"&&(s=n<1?"rgba":"rgb"),e=vo(e),t=vo(t),r=vo(r);let a="000000"+(e<<16|t<<8|r).toString(16);a=a.substr(a.length-6);let u="0"+vo(n*255).toString(16);switch(u=u.substr(u.length-2),s.toLowerCase()){case"rgba":return`#${a}${u}`;case"argb":return`#${u}${a}`;default:return`#${a}`}};q.prototype.name=function(){const i=VF(this._rgb,"rgb");for(let e of Object.keys(nn))if(nn[e]===i)return e.toLowerCase();return i};X.format.named=i=>{if(i=i.toLowerCase(),nn[i])return HF(nn[i]);throw new Error("unknown color name: "+i)};X.autodetect.push({p:5,test:(i,...e)=>{if(!e.length&&se(i)==="string"&&nn[i.toLowerCase()])return"named"}});q.prototype.alpha=function(i,e=!1){return i!==void 0&&se(i)==="number"?e?(this._rgb[3]=i,this):new q([this._rgb[0],this._rgb[1],this._rgb[2],i],"rgb"):this._rgb[3]};q.prototype.clipped=function(){return this._rgb._clipped||!1};const Ut={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},sK=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function er(i){const e=sK.get(String(i).toLowerCase());if(!e)throw new Error("unknown Lab illuminant "+i);Ut.labWhitePoint=i,Ut.Xn=e[0],Ut.Zn=e[1]}function Es(){return Ut.labWhitePoint}const S1=(...i)=>{i=J(i,"lab");const[e,t,r]=i,[n,s,o]=oK(e,t,r),[a,u,l]=UF(n,s,o);return[a,u,l,i.length>3?i[3]:1]},oK=(i,e,t)=>{const{kE:r,kK:n,kKE:s,Xn:o,Yn:a,Zn:u}=Ut,l=(i+16)/116,c=.002*e+l,d=l-.005*t,h=c*c*c,f=d*d*d,v=h>r?h:(116*c-16)/n,g=i>s?Math.pow((i+16)/116,3):i/n,b=f>r?f:(116*d-16)/n,p=v*o,m=g*a,O=b*u;return[p,m,O]},Fy=i=>{const e=Math.sign(i);return i=Math.abs(i),(i<=.0031308?i*12.92:1.055*Math.pow(i,1/2.4)-.055)*e},UF=(i,e,t)=>{const{MtxAdaptMa:r,MtxAdaptMaI:n,MtxXYZ2RGB:s,RefWhiteRGB:o,Xn:a,Yn:u,Zn:l}=Ut,c=a*r.m00+u*r.m10+l*r.m20,d=a*r.m01+u*r.m11+l*r.m21,h=a*r.m02+u*r.m12+l*r.m22,f=o.X*r.m00+o.Y*r.m10+o.Z*r.m20,v=o.X*r.m01+o.Y*r.m11+o.Z*r.m21,g=o.X*r.m02+o.Y*r.m12+o.Z*r.m22,b=(i*r.m00+e*r.m10+t*r.m20)*(f/c),p=(i*r.m01+e*r.m11+t*r.m21)*(v/d),m=(i*r.m02+e*r.m12+t*r.m22)*(g/h),O=b*n.m00+p*n.m10+m*n.m20,y=b*n.m01+p*n.m11+m*n.m21,S=b*n.m02+p*n.m12+m*n.m22,I=Fy(O*s.m00+y*s.m10+S*s.m20),w=Fy(O*s.m01+y*s.m11+S*s.m21),_=Fy(O*s.m02+y*s.m12+S*s.m22);return[I*255,w*255,_*255]},O1=(...i)=>{const[e,t,r,...n]=J(i,"rgb"),[s,o,a]=GF(e,t,r),[u,l,c]=aK(s,o,a);return[u,l,c,...n.length>0&&n[0]<1?[n[0]]:[]]};function aK(i,e,t){const{Xn:r,Yn:n,Zn:s,kE:o,kK:a}=Ut,u=i/r,l=e/n,c=t/s,d=u>o?Math.pow(u,1/3):(a*u+16)/116,h=l>o?Math.pow(l,1/3):(a*l+16)/116,f=c>o?Math.pow(c,1/3):(a*c+16)/116;return[116*h-16,500*(d-h),200*(h-f)]}function By(i){const e=Math.sign(i);return i=Math.abs(i),(i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4))*e}const GF=(i,e,t)=>{i=By(i/255),e=By(e/255),t=By(t/255);const{MtxRGB2XYZ:r,MtxAdaptMa:n,MtxAdaptMaI:s,Xn:o,Yn:a,Zn:u,As:l,Bs:c,Cs:d}=Ut;let h=i*r.m00+e*r.m10+t*r.m20,f=i*r.m01+e*r.m11+t*r.m21,v=i*r.m02+e*r.m12+t*r.m22;const g=o*n.m00+a*n.m10+u*n.m20,b=o*n.m01+a*n.m11+u*n.m21,p=o*n.m02+a*n.m12+u*n.m22;let m=h*n.m00+f*n.m10+v*n.m20,O=h*n.m01+f*n.m11+v*n.m21,y=h*n.m02+f*n.m12+v*n.m22;return m*=g/l,O*=b/c,y*=p/d,h=m*s.m00+O*s.m10+y*s.m20,f=m*s.m01+O*s.m11+y*s.m21,v=m*s.m02+O*s.m12+y*s.m22,[h,f,v]};q.prototype.lab=function(){return O1(this._rgb)};const uK=(...i)=>new q(...i,"lab");Object.assign(ee,{lab:uK,getLabWhitePoint:Es,setLabWhitePoint:er});X.format.lab=S1;X.autodetect.push({p:2,test:(...i)=>{if(i=J(i,"lab"),se(i)==="array"&&i.length===3)return"lab"}});q.prototype.darken=function(i=1){const e=this,t=e.lab();return t[0]-=Ut.Kn*i,new q(t,"lab").alpha(e.alpha(),!0)};q.prototype.brighten=function(i=1){return this.darken(-i)};q.prototype.darker=q.prototype.darken;q.prototype.brighter=q.prototype.brighten;q.prototype.get=function(i){const[e,t]=i.split("."),r=this[e]();if(t){const n=e.indexOf(t)-(e.substr(0,2)==="ok"?2:0);if(n>-1)return r[n];throw new Error(`unknown channel ${t} in mode ${e}`)}else return r};const{pow:lK}=Math,cK=1e-7,dK=20;q.prototype.luminance=function(i,e="rgb"){if(i!==void 0&&se(i)==="number"){if(i===0)return new q([0,0,0,this._rgb[3]],"rgb");if(i===1)return new q([255,255,255,this._rgb[3]],"rgb");let t=this.luminance(),r=dK;const n=(o,a)=>{const u=o.interpolate(a,.5,e),l=u.luminance();return Math.abs(i-l)<cK||!r--?u:l>i?n(o,u):n(u,a)},s=(t>i?n(new q([0,0,0]),this):n(this,new q([255,255,255]))).rgb();return new q([...s,this._rgb[3]])}return hK(...this._rgb.slice(0,3))};const hK=(i,e,t)=>(i=jy(i),e=jy(e),t=jy(t),.2126*i+.7152*e+.0722*t),jy=i=>(i/=255,i<=.03928?i/12.92:lK((i+.055)/1.055,2.4)),Je={},sn=(i,e,t=.5,...r)=>{let n=r[0]||"lrgb";if(!Je[n]&&!r.length&&(n=Object.keys(Je)[0]),!Je[n])throw new Error(`interpolation mode ${n} is not defined`);return se(i)!=="object"&&(i=new q(i)),se(e)!=="object"&&(e=new q(e)),Je[n](i,e,t).alpha(i.alpha()+t*(e.alpha()-i.alpha()))};q.prototype.mix=q.prototype.interpolate=function(i,e=.5,...t){return sn(this,i,e,...t)};q.prototype.premultiply=function(i=!1){const e=this._rgb,t=e[3];return i?(this._rgb=[e[0]*t,e[1]*t,e[2]*t,t],this):new q([e[0]*t,e[1]*t,e[2]*t,t],"rgb")};const{sin:fK,cos:vK}=Math,KF=(...i)=>{let[e,t,r]=J(i,"lch");return isNaN(r)&&(r=0),r=r*eK,[e,vK(r)*t,fK(r)*t]},I1=(...i)=>{i=J(i,"lch");const[e,t,r]=i,[n,s,o]=KF(e,t,r),[a,u,l]=S1(n,s,o);return[a,u,l,i.length>3?i[3]:1]},pK=(...i)=>{const e=WF(J(i,"hcl"));return I1(...e)},{sqrt:gK,atan2:mK,round:yK}=Math,YF=(...i)=>{const[e,t,r]=J(i,"lab"),n=gK(t*t+r*r);let s=(mK(r,t)*tK+360)%360;return yK(n*1e4)===0&&(s=Number.NaN),[e,n,s]},$1=(...i)=>{const[e,t,r,...n]=J(i,"rgb"),[s,o,a]=O1(e,t,r),[u,l,c]=YF(s,o,a);return[u,l,c,...n.length>0&&n[0]<1?[n[0]]:[]]};q.prototype.lch=function(){return $1(this._rgb)};q.prototype.hcl=function(){return WF($1(this._rgb))};const bK=(...i)=>new q(...i,"lch"),_K=(...i)=>new q(...i,"hcl");Object.assign(ee,{lch:bK,hcl:_K});X.format.lch=I1;X.format.hcl=pK;["lch","hcl"].forEach(i=>X.autodetect.push({p:2,test:(...e)=>{if(e=J(e,i),se(e)==="array"&&e.length===3)return i}}));q.prototype.saturate=function(i=1){const e=this,t=e.lch();return t[1]+=Ut.Kn*i,t[1]<0&&(t[1]=0),new q(t,"lch").alpha(e.alpha(),!0)};q.prototype.desaturate=function(i=1){return this.saturate(-i)};q.prototype.set=function(i,e,t=!1){const[r,n]=i.split("."),s=this[r]();if(n){const o=r.indexOf(n)-(r.substr(0,2)==="ok"?2:0);if(o>-1){if(se(e)=="string")switch(e.charAt(0)){case"+":s[o]+=+e;break;case"-":s[o]+=+e;break;case"*":s[o]*=+e.substr(1);break;case"/":s[o]/=+e.substr(1);break;default:s[o]=+e}else if(se(e)==="number")s[o]=e;else throw new Error("unsupported value for Color.set");const a=new q(s,r);return t?(this._rgb=a._rgb,this):a}throw new Error(`unknown channel ${n} in mode ${r}`)}else return s};q.prototype.tint=function(i=.5,...e){return sn(this,"white",i,...e)};q.prototype.shade=function(i=.5,...e){return sn(this,"black",i,...e)};const wK=(i,e,t)=>{const r=i._rgb,n=e._rgb;return new q(r[0]+t*(n[0]-r[0]),r[1]+t*(n[1]-r[1]),r[2]+t*(n[2]-r[2]),"rgb")};Je.rgb=wK;const{sqrt:Ly,pow:qi}=Math,EK=(i,e,t)=>{const[r,n,s]=i._rgb,[o,a,u]=e._rgb;return new q(Ly(qi(r,2)*(1-t)+qi(o,2)*t),Ly(qi(n,2)*(1-t)+qi(a,2)*t),Ly(qi(s,2)*(1-t)+qi(u,2)*t),"rgb")};Je.lrgb=EK;const SK=(i,e,t)=>{const r=i.lab(),n=e.lab();return new q(r[0]+t*(n[0]-r[0]),r[1]+t*(n[1]-r[1]),r[2]+t*(n[2]-r[2]),"lab")};Je.lab=SK;const Dn=(i,e,t,r)=>{let n,s;r==="hsl"?(n=i.hsl(),s=e.hsl()):r==="hsv"?(n=i.hsv(),s=e.hsv()):r==="hcg"?(n=i.hcg(),s=e.hcg()):r==="hsi"?(n=i.hsi(),s=e.hsi()):r==="lch"||r==="hcl"?(r="hcl",n=i.hcl(),s=e.hcl()):r==="oklch"&&(n=i.oklch().reverse(),s=e.oklch().reverse());let o,a,u,l,c,d;(r.substr(0,1)==="h"||r==="oklch")&&([o,u,c]=n,[a,l,d]=s);let h,f,v,g;return!isNaN(o)&&!isNaN(a)?(a>o&&a-o>180?g=a-(o+360):a<o&&o-a>180?g=a+360-o:g=a-o,f=o+t*g):isNaN(o)?isNaN(a)?f=Number.NaN:(f=a,(c==1||c==0)&&r!="hsv"&&(h=l)):(f=o,(d==1||d==0)&&r!="hsv"&&(h=u)),h===void 0&&(h=u+t*(l-u)),v=c+t*(d-c),r==="oklch"?new q([v,h,f],r):new q([f,h,v],r)},XF=(i,e,t)=>Dn(i,e,t,"lch");Je.lch=XF;Je.hcl=XF;const OK=i=>{if(se(i)=="number"&&i>=0&&i<=16777215){const e=i>>16,t=i>>8&255,r=i&255;return[e,t,r,1]}throw new Error("unknown num color: "+i)},IK=(...i)=>{const[e,t,r]=J(i,"rgb");return(e<<16)+(t<<8)+r};q.prototype.num=function(){return IK(this._rgb)};const $K=(...i)=>new q(...i,"num");Object.assign(ee,{num:$K});X.format.num=OK;X.autodetect.push({p:5,test:(...i)=>{if(i.length===1&&se(i[0])==="number"&&i[0]>=0&&i[0]<=16777215)return"num"}});const TK=(i,e,t)=>{const r=i.num(),n=e.num();return new q(r+t*(n-r),"num")};Je.num=TK;const{floor:PK}=Math,RK=(...i)=>{i=J(i,"hcg");let[e,t,r]=i,n,s,o;r=r*255;const a=t*255;if(t===0)n=s=o=r;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const u=PK(e),l=e-u,c=r*(1-t),d=c+a*(1-l),h=c+a*l,f=c+a;switch(u){case 0:[n,s,o]=[f,h,c];break;case 1:[n,s,o]=[d,f,c];break;case 2:[n,s,o]=[c,f,h];break;case 3:[n,s,o]=[c,d,f];break;case 4:[n,s,o]=[h,c,f];break;case 5:[n,s,o]=[f,c,d];break}}return[n,s,o,i.length>3?i[3]:1]},xK=(...i)=>{const[e,t,r]=J(i,"rgb"),n=LF(e,t,r),s=zF(e,t,r),o=s-n,a=o*100/255,u=n/(255-o)*100;let l;return o===0?l=Number.NaN:(e===s&&(l=(t-r)/o),t===s&&(l=2+(r-e)/o),r===s&&(l=4+(e-t)/o),l*=60,l<0&&(l+=360)),[l,a,u]};q.prototype.hcg=function(){return xK(this._rgb)};const CK=(...i)=>new q(...i,"hcg");ee.hcg=CK;X.format.hcg=RK;X.autodetect.push({p:1,test:(...i)=>{if(i=J(i,"hcg"),se(i)==="array"&&i.length===3)return"hcg"}});const qK=(i,e,t)=>Dn(i,e,t,"hcg");Je.hcg=qK;const{cos:Di}=Math,DK=(...i)=>{i=J(i,"hsi");let[e,t,r]=i,n,s,o;return isNaN(e)&&(e=0),isNaN(t)&&(t=0),e>360&&(e-=360),e<0&&(e+=360),e/=360,e<1/3?(o=(1-t)/3,n=(1+t*Di(Zt*e)/Di(Ny-Zt*e))/3,s=1-(o+n)):e<2/3?(e-=1/3,n=(1-t)/3,s=(1+t*Di(Zt*e)/Di(Ny-Zt*e))/3,o=1-(n+s)):(e-=2/3,s=(1-t)/3,o=(1+t*Di(Zt*e)/Di(Ny-Zt*e))/3,n=1-(s+o)),n=ri(r*n*3),s=ri(r*s*3),o=ri(r*o*3),[n*255,s*255,o*255,i.length>3?i[3]:1]},{min:kK,sqrt:MK,acos:AK}=Math,NK=(...i)=>{let[e,t,r]=J(i,"rgb");e/=255,t/=255,r/=255;let n;const s=kK(e,t,r),o=(e+t+r)/3,a=o>0?1-s/o:0;return a===0?n=NaN:(n=(e-t+(e-r))/2,n/=MK((e-t)*(e-t)+(e-r)*(t-r)),n=AK(n),r>t&&(n=Zt-n),n/=Zt),[n*360,a,o]};q.prototype.hsi=function(){return NK(this._rgb)};const FK=(...i)=>new q(...i,"hsi");ee.hsi=FK;X.format.hsi=DK;X.autodetect.push({p:2,test:(...i)=>{if(i=J(i,"hsi"),se(i)==="array"&&i.length===3)return"hsi"}});const BK=(i,e,t)=>Dn(i,e,t,"hsi");Je.hsi=BK;const hb=(...i)=>{i=J(i,"hsl");const[e,t,r]=i;let n,s,o;if(t===0)n=s=o=r*255;else{const a=[0,0,0],u=[0,0,0],l=r<.5?r*(1+t):r+t-r*t,c=2*r-l,d=e/360;a[0]=d+1/3,a[1]=d,a[2]=d-1/3;for(let h=0;h<3;h++)a[h]<0&&(a[h]+=1),a[h]>1&&(a[h]-=1),6*a[h]<1?u[h]=c+(l-c)*6*a[h]:2*a[h]<1?u[h]=l:3*a[h]<2?u[h]=c+(l-c)*(2/3-a[h])*6:u[h]=c;[n,s,o]=[u[0]*255,u[1]*255,u[2]*255]}return i.length>3?[n,s,o,i[3]]:[n,s,o,1]},ZF=(...i)=>{i=J(i,"rgba");let[e,t,r]=i;e/=255,t/=255,r/=255;const n=LF(e,t,r),s=zF(e,t,r),o=(s+n)/2;let a,u;return s===n?(a=0,u=Number.NaN):a=o<.5?(s-n)/(s+n):(s-n)/(2-s-n),e==s?u=(t-r)/(s-n):t==s?u=2+(r-e)/(s-n):r==s&&(u=4+(e-t)/(s-n)),u*=60,u<0&&(u+=360),i.length>3&&i[3]!==void 0?[u,a,o,i[3]]:[u,a,o]};q.prototype.hsl=function(){return ZF(this._rgb)};const jK=(...i)=>new q(...i,"hsl");ee.hsl=jK;X.format.hsl=hb;X.autodetect.push({p:2,test:(...i)=>{if(i=J(i,"hsl"),se(i)==="array"&&i.length===3)return"hsl"}});const LK=(i,e,t)=>Dn(i,e,t,"hsl");Je.hsl=LK;const{floor:zK}=Math,WK=(...i)=>{i=J(i,"hsv");let[e,t,r]=i,n,s,o;if(r*=255,t===0)n=s=o=r;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const a=zK(e),u=e-a,l=r*(1-t),c=r*(1-t*u),d=r*(1-t*(1-u));switch(a){case 0:[n,s,o]=[r,d,l];break;case 1:[n,s,o]=[c,r,l];break;case 2:[n,s,o]=[l,r,d];break;case 3:[n,s,o]=[l,c,r];break;case 4:[n,s,o]=[d,l,r];break;case 5:[n,s,o]=[r,l,c];break}}return[n,s,o,i.length>3?i[3]:1]},{min:HK,max:VK}=Math,UK=(...i)=>{i=J(i,"rgb");let[e,t,r]=i;const n=HK(e,t,r),s=VK(e,t,r),o=s-n;let a,u,l;return l=s/255,s===0?(a=Number.NaN,u=0):(u=o/s,e===s&&(a=(t-r)/o),t===s&&(a=2+(r-e)/o),r===s&&(a=4+(e-t)/o),a*=60,a<0&&(a+=360)),[a,u,l]};q.prototype.hsv=function(){return UK(this._rgb)};const GK=(...i)=>new q(...i,"hsv");ee.hsv=GK;X.format.hsv=WK;X.autodetect.push({p:2,test:(...i)=>{if(i=J(i,"hsv"),se(i)==="array"&&i.length===3)return"hsv"}});const KK=(i,e,t)=>Dn(i,e,t,"hsv");Je.hsv=KK;function Mo(i,e){let t=i.length;Array.isArray(i[0])||(i=[i]),Array.isArray(e[0])||(e=e.map(o=>[o]));let r=e[0].length,n=e[0].map((o,a)=>e.map(u=>u[a])),s=i.map(o=>n.map(a=>Array.isArray(o)?o.reduce((u,l,c)=>u+l*(a[c]||0),0):a.reduce((u,l)=>u+l*o,0)));return t===1&&(s=s[0]),r===1?s.map(o=>o[0]):s}const T1=(...i)=>{i=J(i,"lab");const[e,t,r,...n]=i,[s,o,a]=YK([e,t,r]),[u,l,c]=UF(s,o,a);return[u,l,c,...n.length>0&&n[0]<1?[n[0]]:[]]};function YK(i){var e=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],t=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],r=Mo(t,i);return Mo(e,r.map(n=>n**3))}const P1=(...i)=>{const[e,t,r,...n]=J(i,"rgb"),s=GF(e,t,r);return[...XK(s),...n.length>0&&n[0]<1?[n[0]]:[]]};function XK(i){const e=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],t=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],r=Mo(e,i);return Mo(t,r.map(n=>Math.cbrt(n)))}q.prototype.oklab=function(){return P1(this._rgb)};const ZK=(...i)=>new q(...i,"oklab");Object.assign(ee,{oklab:ZK});X.format.oklab=T1;X.autodetect.push({p:2,test:(...i)=>{if(i=J(i,"oklab"),se(i)==="array"&&i.length===3)return"oklab"}});const JK=(i,e,t)=>{const r=i.oklab(),n=e.oklab();return new q(r[0]+t*(n[0]-r[0]),r[1]+t*(n[1]-r[1]),r[2]+t*(n[2]-r[2]),"oklab")};Je.oklab=JK;const QK=(i,e,t)=>Dn(i,e,t,"oklch");Je.oklch=QK;const{pow:zy,sqrt:Wy,PI:Hy,cos:CM,sin:qM,atan2:eY}=Math,tY=(i,e="lrgb",t=null)=>{const r=i.length;t||(t=Array.from(new Array(r)).map(()=>1));const n=r/t.reduce(function(d,h){return d+h});if(t.forEach((d,h)=>{t[h]*=n}),i=i.map(d=>new q(d)),e==="lrgb")return rY(i,t);const s=i.shift(),o=s.get(e),a=[];let u=0,l=0;for(let d=0;d<o.length;d++)if(o[d]=(o[d]||0)*t[0],a.push(isNaN(o[d])?0:t[0]),e.charAt(d)==="h"&&!isNaN(o[d])){const h=o[d]/180*Hy;u+=CM(h)*t[0],l+=qM(h)*t[0]}let c=s.alpha()*t[0];i.forEach((d,h)=>{const f=d.get(e);c+=d.alpha()*t[h+1];for(let v=0;v<o.length;v++)if(!isNaN(f[v]))if(a[v]+=t[h+1],e.charAt(v)==="h"){const g=f[v]/180*Hy;u+=CM(g)*t[h+1],l+=qM(g)*t[h+1]}else o[v]+=f[v]*t[h+1]});for(let d=0;d<o.length;d++)if(e.charAt(d)==="h"){let h=eY(l/a[d],u/a[d])/Hy*180;for(;h<0;)h+=360;for(;h>=360;)h-=360;o[d]=h}else o[d]=o[d]/a[d];return c/=r,new q(o,e).alpha(c>.99999?1:c,!0)},rY=(i,e)=>{const t=i.length,r=[0,0,0,0];for(let n=0;n<i.length;n++){const s=i[n],o=e[n]/t,a=s._rgb;r[0]+=zy(a[0],2)*o,r[1]+=zy(a[1],2)*o,r[2]+=zy(a[2],2)*o,r[3]+=a[3]*o}return r[0]=Wy(r[0]),r[1]=Wy(r[1]),r[2]=Wy(r[2]),r[3]>.9999999&&(r[3]=1),new q(E1(r))},{pow:iY}=Math;function Ao(i){let e="rgb",t=ee("#ccc"),r=0,n=[0,1],s=[],o=[0,0],a=!1,u=[],l=!1,c=0,d=1,h=!1,f={},v=!0,g=1;const b=function(w){if(w=w||["#fff","#000"],w&&se(w)==="string"&&ee.brewer&&ee.brewer[w.toLowerCase()]&&(w=ee.brewer[w.toLowerCase()]),se(w)==="array"){w.length===1&&(w=[w[0],w[0]]),w=w.slice(0);for(let _=0;_<w.length;_++)w[_]=ee(w[_]);s.length=0;for(let _=0;_<w.length;_++)s.push(_/(w.length-1))}return S(),u=w},p=function(w){if(a!=null){const _=a.length-1;let E=0;for(;E<_&&w>=a[E];)E++;return E-1}return 0};let m=w=>w,O=w=>w;const y=function(w,_){let E,$;if(_==null&&(_=!1),isNaN(w)||w===null)return t;_?$=w:a&&a.length>2?$=p(w)/(a.length-2):d!==c?$=(w-c)/(d-c):$=1,$=O($),_||($=m($)),g!==1&&($=iY($,g)),$=o[0]+$*(1-o[0]-o[1]),$=ri($,0,1);const T=Math.floor($*1e4);if(v&&f[T])E=f[T];else{if(se(u)==="array")for(let P=0;P<s.length;P++){const R=s[P];if($<=R){E=u[P];break}if($>=R&&P===s.length-1){E=u[P];break}if($>R&&$<s[P+1]){$=($-R)/(s[P+1]-R),E=ee.interpolate(u[P],u[P+1],$,e);break}}else se(u)==="function"&&(E=u($));v&&(f[T]=E)}return E};var S=()=>f={};b(i);const I=function(w){const _=ee(y(w));return l&&_[l]?_[l]():_};return I.classes=function(w){if(w!=null){if(se(w)==="array")a=w,n=[w[0],w[w.length-1]];else{const _=ee.analyze(n);w===0?a=[_.min,_.max]:a=ee.limits(_,"e",w)}return I}return a},I.domain=function(w){if(!arguments.length)return n;c=w[0],d=w[w.length-1],s=[];const _=u.length;if(w.length===_&&c!==d)for(let E of Array.from(w))s.push((E-c)/(d-c));else{for(let E=0;E<_;E++)s.push(E/(_-1));if(w.length>2){const E=w.map((T,P)=>P/(w.length-1)),$=w.map(T=>(T-c)/(d-c));$.every((T,P)=>E[P]===T)||(O=T=>{if(T<=0||T>=1)return T;let P=0;for(;T>=$[P+1];)P++;const R=(T-$[P])/($[P+1]-$[P]);return E[P]+R*(E[P+1]-E[P])})}}return n=[c,d],I},I.mode=function(w){return arguments.length?(e=w,S(),I):e},I.range=function(w,_){return b(w),I},I.out=function(w){return l=w,I},I.spread=function(w){return arguments.length?(r=w,I):r},I.correctLightness=function(w){return w==null&&(w=!0),h=w,S(),h?m=function(_){const E=y(0,!0).lab()[0],$=y(1,!0).lab()[0],T=E>$;let P=y(_,!0).lab()[0];const R=E+($-E)*_;let C=P-R,k=0,K=1,j=20;for(;Math.abs(C)>.01&&j-- >0;)(function(){return T&&(C*=-1),C<0?(k=_,_+=(K-_)*.5):(K=_,_+=(k-_)*.5),P=y(_,!0).lab()[0],C=P-R})();return _}:m=_=>_,I},I.padding=function(w){return w!=null?(se(w)==="number"&&(w=[w,w]),o=w,I):o},I.colors=function(w,_){arguments.length<2&&(_="hex");let E=[];if(arguments.length===0)E=u.slice(0);else if(w===1)E=[I(.5)];else if(w>1){const $=n[0],T=n[1]-$;E=nY(0,w).map(P=>I($+P/(w-1)*T))}else{i=[];let $=[];if(a&&a.length>2)for(let T=1,P=a.length,R=1<=P;R?T<P:T>P;R?T++:T--)$.push((a[T-1]+a[T])*.5);else $=n;E=$.map(T=>I(T))}return ee[_]&&(E=E.map($=>$[_]())),E},I.cache=function(w){return w!=null?(v=w,I):v},I.gamma=function(w){return w!=null?(g=w,I):g},I.nodata=function(w){return w!=null?(t=ee(w),I):t},I}function nY(i,e,t){let r=[],n=i<e,s=e;for(let o=i;n?o<s:o>s;n?o++:o--)r.push(o);return r}const sY=function(i){let e=[1,1];for(let t=1;t<i;t++){let r=[1];for(let n=1;n<=e.length;n++)r[n]=(e[n]||0)+e[n-1];e=r}return e},oY=function(i){let e,t,r,n;if(i=i.map(s=>new q(s)),i.length===2)[t,r]=i.map(s=>s.lab()),e=function(s){const o=[0,1,2].map(a=>t[a]+s*(r[a]-t[a]));return new q(o,"lab")};else if(i.length===3)[t,r,n]=i.map(s=>s.lab()),e=function(s){const o=[0,1,2].map(a=>(1-s)*(1-s)*t[a]+2*(1-s)*s*r[a]+s*s*n[a]);return new q(o,"lab")};else if(i.length===4){let s;[t,r,n,s]=i.map(o=>o.lab()),e=function(o){const a=[0,1,2].map(u=>(1-o)*(1-o)*(1-o)*t[u]+3*(1-o)*(1-o)*o*r[u]+3*(1-o)*o*o*n[u]+o*o*o*s[u]);return new q(a,"lab")}}else if(i.length>=5){let s,o,a;s=i.map(u=>u.lab()),a=i.length-1,o=sY(a),e=function(u){const l=1-u,c=[0,1,2].map(d=>s.reduce((h,f,v)=>h+o[v]*l**(a-v)*u**v*f[d],0));return new q(c,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return e},aY=i=>{const e=oY(i);return e.scale=()=>Ao(e),e},{round:JF}=Math;q.prototype.rgb=function(i=!0){return i===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(JF)};q.prototype.rgba=function(i=!0){return this._rgb.slice(0,4).map((e,t)=>t<3?i===!1?e:JF(e):e)};const uY=(...i)=>new q(...i,"rgb");Object.assign(ee,{rgb:uY});X.format.rgb=(...i)=>{const e=J(i,"rgba");return e[3]===void 0&&(e[3]=1),e};X.autodetect.push({p:3,test:(...i)=>{if(i=J(i,"rgba"),se(i)==="array"&&(i.length===3||i.length===4&&se(i[3])=="number"&&i[3]>=0&&i[3]<=1))return"rgb"}});const Nt=(i,e,t)=>{if(!Nt[t])throw new Error("unknown blend mode "+t);return Nt[t](i,e)},Ar=i=>(e,t)=>{const r=ee(t).rgb(),n=ee(e).rgb();return ee.rgb(i(r,n))},Nr=i=>(e,t)=>{const r=[];return r[0]=i(e[0],t[0]),r[1]=i(e[1],t[1]),r[2]=i(e[2],t[2]),r},lY=i=>i,cY=(i,e)=>i*e/255,dY=(i,e)=>i>e?e:i,hY=(i,e)=>i>e?i:e,fY=(i,e)=>255*(1-(1-i/255)*(1-e/255)),vY=(i,e)=>e<128?2*i*e/255:255*(1-2*(1-i/255)*(1-e/255)),pY=(i,e)=>255*(1-(1-e/255)/(i/255)),gY=(i,e)=>i===255?255:(i=255*(e/255)/(1-i/255),i>255?255:i);Nt.normal=Ar(Nr(lY));Nt.multiply=Ar(Nr(cY));Nt.screen=Ar(Nr(fY));Nt.overlay=Ar(Nr(vY));Nt.darken=Ar(Nr(dY));Nt.lighten=Ar(Nr(hY));Nt.dodge=Ar(Nr(gY));Nt.burn=Ar(Nr(pY));const{pow:mY,sin:yY,cos:bY}=Math;function _Y(i=300,e=-1.5,t=1,r=1,n=[0,1]){let s=0,o;se(n)==="array"?o=n[1]-n[0]:(o=0,n=[n,n]);const a=function(u){const l=Zt*((i+120)/360+e*u),c=mY(n[0]+o*u,r),h=(s!==0?t[0]+u*s:t)*c*(1-c)/2,f=bY(l),v=yY(l),g=c+h*(-.14861*f+1.78277*v),b=c+h*(-.29227*f-.90649*v),p=c+h*(1.97294*f);return ee(E1([g*255,b*255,p*255,1]))};return a.start=function(u){return u==null?i:(i=u,a)},a.rotations=function(u){return u==null?e:(e=u,a)},a.gamma=function(u){return u==null?r:(r=u,a)},a.hue=function(u){return u==null?t:(t=u,se(t)==="array"?(s=t[1]-t[0],s===0&&(t=t[1])):s=0,a)},a.lightness=function(u){return u==null?n:(se(u)==="array"?(n=u,o=u[1]-u[0]):(n=[u,u],o=0),a)},a.scale=()=>ee.scale(a),a.hue(t),a}const wY="0123456789abcdef",{floor:EY,random:SY}=Math,OY=()=>{let i="#";for(let e=0;e<6;e++)i+=wY.charAt(EY(SY()*16));return new q(i,"hex")},{log:DM,pow:IY,floor:$Y,abs:TY}=Math;function QF(i,e=null){const t={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return se(i)==="object"&&(i=Object.values(i)),i.forEach(r=>{e&&se(r)==="object"&&(r=r[e]),r!=null&&!isNaN(r)&&(t.values.push(r),t.sum+=r,r<t.min&&(t.min=r),r>t.max&&(t.max=r),t.count+=1)}),t.domain=[t.min,t.max],t.limits=(r,n)=>e5(t,r,n),t}function e5(i,e="equal",t=7){se(i)=="array"&&(i=QF(i));const{min:r,max:n}=i,s=i.values.sort((a,u)=>a-u);if(t===1)return[r,n];const o=[];if(e.substr(0,1)==="c"&&(o.push(r),o.push(n)),e.substr(0,1)==="e"){o.push(r);for(let a=1;a<t;a++)o.push(r+a/t*(n-r));o.push(n)}else if(e.substr(0,1)==="l"){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const a=Math.LOG10E*DM(r),u=Math.LOG10E*DM(n);o.push(r);for(let l=1;l<t;l++)o.push(IY(10,a+l/t*(u-a)));o.push(n)}else if(e.substr(0,1)==="q"){o.push(r);for(let a=1;a<t;a++){const u=(s.length-1)*a/t,l=$Y(u);if(l===u)o.push(s[l]);else{const c=u-l;o.push(s[l]*(1-c)+s[l+1]*c)}}o.push(n)}else if(e.substr(0,1)==="k"){let a;const u=s.length,l=new Array(u),c=new Array(t);let d=!0,h=0,f=null;f=[],f.push(r);for(let b=1;b<t;b++)f.push(r+b/t*(n-r));for(f.push(n);d;){for(let p=0;p<t;p++)c[p]=0;for(let p=0;p<u;p++){const m=s[p];let O=Number.MAX_VALUE,y;for(let S=0;S<t;S++){const I=TY(f[S]-m);I<O&&(O=I,y=S),c[y]++,l[p]=y}}const b=new Array(t);for(let p=0;p<t;p++)b[p]=null;for(let p=0;p<u;p++)a=l[p],b[a]===null?b[a]=s[p]:b[a]+=s[p];for(let p=0;p<t;p++)b[p]*=1/c[p];d=!1;for(let p=0;p<t;p++)if(b[p]!==f[p]){d=!0;break}f=b,h++,h>200&&(d=!1)}const v={};for(let b=0;b<t;b++)v[b]=[];for(let b=0;b<u;b++)a=l[b],v[a].push(s[b]);let g=[];for(let b=0;b<t;b++)g.push(v[b][0]),g.push(v[b][v[b].length-1]);g=g.sort((b,p)=>b-p),o.push(g[0]);for(let b=1;b<g.length;b+=2){const p=g[b];!isNaN(p)&&o.indexOf(p)===-1&&o.push(p)}}return o}const PY=(i,e)=>{i=new q(i),e=new q(e);const t=i.luminance(),r=e.luminance();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const kM=.027,RY=5e-4,xY=.1,MM=1.14,po=.022,AM=1.414,CY=(i,e)=>{i=new q(i),e=new q(e),i.alpha()<1&&(i=sn(e,i,i.alpha(),"rgb"));const t=NM(...i.rgb()),r=NM(...e.rgb()),n=t>=po?t:t+Math.pow(po-t,AM),s=r>=po?r:r+Math.pow(po-r,AM),o=Math.pow(s,.56)-Math.pow(n,.57),a=Math.pow(s,.65)-Math.pow(n,.62),u=Math.abs(s-n)<RY?0:n<s?o*MM:a*MM;return(Math.abs(u)<xY?0:u>0?u-kM:u+kM)*100};function NM(i,e,t){return .2126729*Math.pow(i/255,2.4)+.7151522*Math.pow(e/255,2.4)+.072175*Math.pow(t/255,2.4)}const{sqrt:Xt,pow:xe,min:qY,max:DY,atan2:FM,abs:BM,cos:go,sin:jM,exp:kY,PI:LM}=Math;function MY(i,e,t=1,r=1,n=1){var s=function(ve){return 360*ve/(2*LM)},o=function(ve){return 2*LM*ve/360};i=new q(i),e=new q(e);const[a,u,l]=Array.from(i.lab()),[c,d,h]=Array.from(e.lab()),f=(a+c)/2,v=Xt(xe(u,2)+xe(l,2)),g=Xt(xe(d,2)+xe(h,2)),b=(v+g)/2,p=.5*(1-Xt(xe(b,7)/(xe(b,7)+xe(25,7)))),m=u*(1+p),O=d*(1+p),y=Xt(xe(m,2)+xe(l,2)),S=Xt(xe(O,2)+xe(h,2)),I=(y+S)/2,w=s(FM(l,m)),_=s(FM(h,O)),E=w>=0?w:w+360,$=_>=0?_:_+360,T=BM(E-$)>180?(E+$+360)/2:(E+$)/2,P=1-.17*go(o(T-30))+.24*go(o(2*T))+.32*go(o(3*T+6))-.2*go(o(4*T-63));let R=$-E;R=BM(R)<=180?R:$<=E?R+360:R-360,R=2*Xt(y*S)*jM(o(R)/2);const C=c-a,k=S-y,K=1+.015*xe(f-50,2)/Xt(20+xe(f-50,2)),j=1+.045*I,Q=1+.015*I*P,re=30*kY(-xe((T-275)/25,2)),W=-(2*Xt(xe(I,7)/(xe(I,7)+xe(25,7))))*jM(2*o(re)),le=Xt(xe(C/(t*K),2)+xe(k/(r*j),2)+xe(R/(n*Q),2)+W*(k/(r*j))*(R/(n*Q)));return DY(0,qY(100,le))}function AY(i,e,t="lab"){i=new q(i),e=new q(e);const r=i.get(t),n=e.get(t);let s=0;for(let o in r){const a=(r[o]||0)-(n[o]||0);s+=a*a}return Math.sqrt(s)}const NY=(...i)=>{try{return new q(...i),!0}catch{return!1}},FY={cool(){return Ao([ee.hsl(180,1,.9),ee.hsl(250,.7,.4)])},hot(){return Ao(["#000","#f00","#ff0","#fff"]).mode("rgb")}},fb={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},t5=Object.keys(fb),zM=new Map(t5.map(i=>[i.toLowerCase(),i])),BY=typeof Proxy=="function"?new Proxy(fb,{get(i,e){const t=e.toLowerCase();if(zM.has(t))return i[zM.get(t)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(t5)}}):fb,jY=(...i)=>{i=J(i,"cmyk");const[e,t,r,n]=i,s=i.length>4?i[4]:1;return n===1?[0,0,0,s]:[e>=1?0:255*(1-e)*(1-n),t>=1?0:255*(1-t)*(1-n),r>=1?0:255*(1-r)*(1-n),s]},{max:WM}=Math,LY=(...i)=>{let[e,t,r]=J(i,"rgb");e=e/255,t=t/255,r=r/255;const n=1-WM(e,WM(t,r)),s=n<1?1/(1-n):0,o=(1-e-n)*s,a=(1-t-n)*s,u=(1-r-n)*s;return[o,a,u,n]};q.prototype.cmyk=function(){return LY(this._rgb)};const zY=(...i)=>new q(...i,"cmyk");Object.assign(ee,{cmyk:zY});X.format.cmyk=jY;X.autodetect.push({p:2,test:(...i)=>{if(i=J(i,"cmyk"),se(i)==="array"&&i.length===4)return"cmyk"}});const WY=(...i)=>{const e=J(i,"hsla");let t=qn(i)||"lsa";return e[0]=_t(e[0]||0)+"deg",e[1]=_t(e[1]*100)+"%",e[2]=_t(e[2]*100)+"%",t==="hsla"||e.length>3&&e[3]<1?(e[3]="/ "+(e.length>3?e[3]:1),t="hsla"):e.length=3,`${t.substr(0,3)}(${e.join(" ")})`},HY=(...i)=>{const e=J(i,"lab");let t=qn(i)||"lab";return e[0]=_t(e[0])+"%",e[1]=_t(e[1]),e[2]=_t(e[2]),t==="laba"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lab(${e.join(" ")})`},VY=(...i)=>{const e=J(i,"lch");let t=qn(i)||"lab";return e[0]=_t(e[0])+"%",e[1]=_t(e[1]),e[2]=isNaN(e[2])?"none":_t(e[2])+"deg",t==="lcha"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lch(${e.join(" ")})`},UY=(...i)=>{const e=J(i,"lab");return e[0]=_t(e[0]*100)+"%",e[1]=db(e[1]),e[2]=db(e[2]),e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklab(${e.join(" ")})`},r5=(...i)=>{const[e,t,r,...n]=J(i,"rgb"),[s,o,a]=P1(e,t,r),[u,l,c]=YF(s,o,a);return[u,l,c,...n.length>0&&n[0]<1?[n[0]]:[]]},GY=(...i)=>{const e=J(i,"lch");return e[0]=_t(e[0]*100)+"%",e[1]=db(e[1]),e[2]=isNaN(e[2])?"none":_t(e[2])+"deg",e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklch(${e.join(" ")})`},{round:Vy}=Math,KY=(...i)=>{const e=J(i,"rgba");let t=qn(i)||"rgb";if(t.substr(0,3)==="hsl")return WY(ZF(e),t);if(t.substr(0,3)==="lab"){const r=Es();er("d50");const n=HY(O1(e),t);return er(r),n}if(t.substr(0,3)==="lch"){const r=Es();er("d50");const n=VY($1(e),t);return er(r),n}return t.substr(0,5)==="oklab"?UY(P1(e)):t.substr(0,5)==="oklch"?GY(r5(e)):(e[0]=Vy(e[0]),e[1]=Vy(e[1]),e[2]=Vy(e[2]),(t==="rgba"||e.length>3&&e[3]<1)&&(e[3]="/ "+(e.length>3?e[3]:1),t="rgba"),`${t.substr(0,3)}(${e.slice(0,t==="rgb"?3:4).join(" ")})`)},i5=(...i)=>{i=J(i,"lch");const[e,t,r,...n]=i,[s,o,a]=KF(e,t,r),[u,l,c]=T1(s,o,a);return[u,l,c,...n.length>0&&n[0]<1?[n[0]]:[]]},ar=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,kt=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,No=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,wt=/\s*/.source,kn=/\s+/.source,R1=/\s*,\s*/.source,wa=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,Mn=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,n5=new RegExp("^rgba?\\("+wt+[ar,ar,ar].join(kn)+Mn+"\\)$"),s5=new RegExp("^rgb\\("+wt+[ar,ar,ar].join(R1)+wt+"\\)$"),o5=new RegExp("^rgba\\("+wt+[ar,ar,ar,kt].join(R1)+wt+"\\)$"),a5=new RegExp("^hsla?\\("+wt+[wa,No,No].join(kn)+Mn+"\\)$"),u5=new RegExp("^hsl?\\("+wt+[wa,No,No].join(R1)+wt+"\\)$"),l5=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,c5=new RegExp("^lab\\("+wt+[kt,kt,kt].join(kn)+Mn+"\\)$"),d5=new RegExp("^lch\\("+wt+[kt,kt,wa].join(kn)+Mn+"\\)$"),h5=new RegExp("^oklab\\("+wt+[kt,kt,kt].join(kn)+Mn+"\\)$"),f5=new RegExp("^oklch\\("+wt+[kt,kt,wa].join(kn)+Mn+"\\)$"),{round:v5}=Math,ki=i=>i.map((e,t)=>t<=2?ri(v5(e),0,255):e),Ce=(i,e=0,t=100,r=!1)=>(typeof i=="string"&&i.endsWith("%")&&(i=parseFloat(i.substring(0,i.length-1))/100,r?i=e+(i+1)*.5*(t-e):i=e+i*(t-e)),+i),rt=(i,e)=>i==="none"?e:i,x1=i=>{if(i=i.toLowerCase().trim(),i==="transparent")return[0,0,0,0];let e;if(X.format.named)try{return X.format.named(i)}catch{}if((e=i.match(n5))||(e=i.match(s5))){let t=e.slice(1,4);for(let n=0;n<3;n++)t[n]=+Ce(rt(t[n],0),0,255);t=ki(t);const r=e[4]!==void 0?+Ce(e[4],0,1):1;return t[3]=r,t}if(e=i.match(o5)){const t=e.slice(1,5);for(let r=0;r<4;r++)t[r]=+Ce(t[r],0,255);return t}if((e=i.match(a5))||(e=i.match(u5))){const t=e.slice(1,4);t[0]=+rt(t[0].replace("deg",""),0),t[1]=+Ce(rt(t[1],0),0,100)*.01,t[2]=+Ce(rt(t[2],0),0,100)*.01;const r=ki(hb(t)),n=e[4]!==void 0?+Ce(e[4],0,1):1;return r[3]=n,r}if(e=i.match(l5)){const t=e.slice(1,4);t[1]*=.01,t[2]*=.01;const r=hb(t);for(let n=0;n<3;n++)r[n]=v5(r[n]);return r[3]=+e[4],r}if(e=i.match(c5)){const t=e.slice(1,4);t[0]=Ce(rt(t[0],0),0,100),t[1]=Ce(rt(t[1],0),-125,125,!0),t[2]=Ce(rt(t[2],0),-125,125,!0);const r=Es();er("d50");const n=ki(S1(t));er(r);const s=e[4]!==void 0?+Ce(e[4],0,1):1;return n[3]=s,n}if(e=i.match(d5)){const t=e.slice(1,4);t[0]=Ce(t[0],0,100),t[1]=Ce(rt(t[1],0),0,150,!1),t[2]=+rt(t[2].replace("deg",""),0);const r=Es();er("d50");const n=ki(I1(t));er(r);const s=e[4]!==void 0?+Ce(e[4],0,1):1;return n[3]=s,n}if(e=i.match(h5)){const t=e.slice(1,4);t[0]=Ce(rt(t[0],0),0,1),t[1]=Ce(rt(t[1],0),-.4,.4,!0),t[2]=Ce(rt(t[2],0),-.4,.4,!0);const r=ki(T1(t)),n=e[4]!==void 0?+Ce(e[4],0,1):1;return r[3]=n,r}if(e=i.match(f5)){const t=e.slice(1,4);t[0]=Ce(rt(t[0],0),0,1),t[1]=Ce(rt(t[1],0),0,.4,!1),t[2]=+rt(t[2].replace("deg",""),0);const r=ki(i5(t)),n=e[4]!==void 0?+Ce(e[4],0,1):1;return r[3]=n,r}};x1.test=i=>n5.test(i)||a5.test(i)||c5.test(i)||d5.test(i)||h5.test(i)||f5.test(i)||s5.test(i)||o5.test(i)||u5.test(i)||l5.test(i)||i==="transparent";q.prototype.css=function(i){return KY(this._rgb,i)};const YY=(...i)=>new q(...i,"css");ee.css=YY;X.format.css=x1;X.autodetect.push({p:5,test:(i,...e)=>{if(!e.length&&se(i)==="string"&&x1.test(i))return"css"}});X.format.gl=(...i)=>{const e=J(i,"rgba");return e[0]*=255,e[1]*=255,e[2]*=255,e};const XY=(...i)=>new q(...i,"gl");ee.gl=XY;q.prototype.gl=function(){const i=this._rgb;return[i[0]/255,i[1]/255,i[2]/255,i[3]]};q.prototype.hex=function(i){return VF(this._rgb,i)};const ZY=(...i)=>new q(...i,"hex");ee.hex=ZY;X.format.hex=HF;X.autodetect.push({p:4,test:(i,...e)=>{if(!e.length&&se(i)==="string"&&[3,4,5,6,7,8,9].indexOf(i.length)>=0)return"hex"}});const{log:mo}=Math,p5=i=>{const e=i/100;let t,r,n;return e<66?(t=255,r=e<6?0:-155.25485562709179-.44596950469579133*(r=e-2)+104.49216199393888*mo(r),n=e<20?0:-254.76935184120902+.8274096064007395*(n=e-10)+115.67994401066147*mo(n)):(t=351.97690566805693+.114206453784165*(t=e-55)-40.25366309332127*mo(t),r=325.4494125711974+.07943456536662342*(r=e-50)-28.0852963507957*mo(r),n=255),[t,r,n,1]},{round:JY}=Math,QY=(...i)=>{const e=J(i,"rgb"),t=e[0],r=e[2];let n=1e3,s=4e4;const o=.4;let a;for(;s-n>o;){a=(s+n)*.5;const u=p5(a);u[2]/u[0]>=r/t?s=a:n=a}return JY(a)};q.prototype.temp=q.prototype.kelvin=q.prototype.temperature=function(){return QY(this._rgb)};const Uy=(...i)=>new q(...i,"temp");Object.assign(ee,{temp:Uy,kelvin:Uy,temperature:Uy});X.format.temp=X.format.kelvin=X.format.temperature=p5;q.prototype.oklch=function(){return r5(this._rgb)};const eX=(...i)=>new q(...i,"oklch");Object.assign(ee,{oklch:eX});X.format.oklch=i5;X.autodetect.push({p:2,test:(...i)=>{if(i=J(i,"oklch"),se(i)==="array"&&i.length===3)return"oklch"}});Object.assign(ee,{analyze:QF,average:tY,bezier:aY,blend:Nt,brewer:BY,Color:q,colors:nn,contrast:PY,contrastAPCA:CY,cubehelix:_Y,deltaE:MY,distance:AY,input:X,interpolate:sn,limits:e5,mix:sn,random:OY,scale:Ao,scales:FY,valid:NY});const tX={x:-70,y:-486},rX={x:6,y:-421},iX={x:3,y:-263},nX={x:183,y:-268},sX={x:-53,y:-152},oX={x:-81,y:61},aX={x:306,y:-171},uX={x:219,y:56},lX={x:148,y:-6},cX={x:60,y:87},dX={x:8,y:30},hX={x:169,y:160},fX={x:505,y:-68},vX={x:322,y:21},pX={x:810,y:-32},gX={x:697,y:-58},mX={x:381,y:85},yX={x:470,y:158},bX={x:324,y:-24},_X={x:597,y:-218},wX={x:-116,y:-233},EX={x:604,y:-26},SX={x:386,y:-411},OX={x:-213,y:81},IX={x:-228,y:-285},$X={x:-359,y:-281},TX={x:712,y:-478},PX={x:628,y:-476},RX={x:493,y:-406},xX={x:772,y:-477},g5={breadsplit:tX,"i18n-ally":{x:-135,y:-422},vueuse:rX,"@vue/composition-api":{x:-65,y:-344},"vue-demi":{x:115,y:-344},vue:iX,vite:nX,icones:sX,"unplugin-icons":{x:-24,y:-43},iconify:oX,"Iconify IntelliSense":{x:-160,y:-95},"unplugin-vue-components":{x:74,y:-92},"unplugin-auto-import":{x:100,y:-142},"vite-pwa":{x:106,y:-206},"vite-plugin-inspect":{x:312,y:-88},vitesse:aX,"vitesse-webext":{x:309,y:-255},"webext-bridge":{x:306,y:-319},"vitesse-nuxt3":{x:437,y:-175},"vitesse-theme":{x:-345,y:-343},"antfu.me":{x:451,y:-266},"vite-ssg":{x:567,y:-291},windicss:uX,slidev:lX,broz:cX,drauu:dX,unocss:hX,nuxt:fX,unplugin:vX,"vite-node":{x:704,y:2},vitest:pX,birpc:gX,"nuxt-devtools":{x:586,y:-146},"learn.nuxt.com":{x:530,y:31},shiki:mX,"shiki-magic-move":{x:325,y:160},"shiki/monaco":{x:510,y:95},twoslash:yX,"@antfu/eslint-config":{x:737,y:-287},"@eslint/config-inspector":{x:739,y:-216},"eslint-flat-config-utils":{x:924,y:-250},"eslint-typegen":{x:915,y:-191},"@nuxt/eslint":{x:772,y:-125},"eslint-stylistic":{x:683,y:-359},unimport:bX,magicast:_X,"css-icons":{x:20,y:156},"unplugin-vue-markdown":{x:474,y:-345},"v-dollar":{x:96,y:-449},"vue-reactivity":{x:-116,y:-287},reactivue:wX,"eslint-plugin-format":{x:848,y:-368},"eslint-plugin-command":{x:930,y:-312},elk:EX,handle:SX,"vue-starport":{x:-224,y:-30},"vite-plugin-restart":{x:243,y:-401},"vite-plugin-remote-assets":{x:244,y:-453},"vite-plugin-vue-server-ref":{x:274,y:-506},"qrcode-toolkit":{x:-330,y:72},uqr:OX,"qr-scanner-wechat":{x:-303,y:142},vscode:IX,"vscode-file-nesting":{x:-296,y:-163},"vscode-smart-clicks":{x:-325,y:-220},retypewriter:$X,"vitepress-twoslash":{x:775,y:157},"nuxt-content-twoslash":{x:685,y:90},"twoslash-vue":{x:613,y:158},ni:TX,sponsorkit:PX,"type-challenges":{x:491,y:-476},esno:RX,taze:xX,"nuxt-icon":{x:-107,y:154}},Z={vue:"#34ba67",nuxt:"#00DC82",vite:"#454ce1",unjs:"#982",ts:"#007ACC",vscode:"#007ACC",vitesse:"#895",vitest:"#82ba34",eslint:"#53f",shiki:"#CB7676",twoslash:"#183F66"},Eo=[{name:"breadsplit",display:"BreakSplit",link:"https://github.com/breadsplit/breadsplit",color:"#555",x:0,y:0},{name:"i18n-ally",display:"i18n Ally",link:"https://github.com/lokalise/i18n-ally",color:"#351",from:["breadsplit"]},{name:"vueuse",display:"VueUse",link:"https://github.com/vueuse/vueuse",from:["breadsplit"],shape:"circle",color:Z.vue},{name:"@vue/composition-api",link:"https://github.com/vuejs/composition-api",color:Z.vue,dashed:!0,from:["vueuse"]},{name:"vue-demi",display:"VueDemi",link:"https://github.com/vueuse/vue-demi",color:Z.vue,from:["vueuse","@vue/composition-api"]},{name:"vue",display:"Vue 3",link:"https://github.com/vuejs/core",color:Z.vue,shape:"circle",dashed:!0,margin:10,from:["@vue/composition-api","vue-demi"]},{name:"vue-reactivity",display:"Vue Reactivity",link:"https://github.com/vue-reactivity",color:Z.vue,from:["vue"]},{name:"reactivue",display:"ReactiVue",link:"https://github.com/antfu/reactivue",color:"#42b8a6",from:["vue"],animateStop:!1},{name:"vite",display:"Vite",shape:"circle",margin:15,link:"https://github.com/vitejs/vite",color:Z.vite,dashed:!0,from:["vue"]},{name:"icones",display:"Icones",link:"https://github.com/antfu/icones",color:"#834",shape:"circle",from:["vite","vue"]},{name:"vite-pwa",link:"https://github.com/vite-pwa",color:"#750",from:["icones","vite"]},{name:"unplugin-vue-components",link:"https://github.com/unplugin/unplugin-vue-components",color:"#525",from:["icones"]},{name:"unplugin-auto-import",link:"https://github.com/unplugin/unplugin-auto-import",color:"#525",from:["icones"],animateStop:!1},{name:"unplugin-icons",link:"https://github.com/unplugin/unplugin-icons",color:"#525",from:["icones"],animateStop:!1},{name:"iconify",display:"Iconify",link:"https://iconify.design/",color:"#814",dashed:!0,shape:"circle",from:["unplugin-icons"]},{name:"vscode",display:"VS Code",link:"https://github.com/microsoft/vscode",color:"#007ACC",dashed:!0,shape:"circle",from:["i18n-ally"]},{name:"Iconify IntelliSense",link:"https://github.com/antfu/vscode-iconify",color:"#814",from:["iconify","vscode"]},{name:"vite-plugin-inspect",link:"https://github.com/antfu-collective/vite-plugin-inspect",color:Z.vite,from:["unplugin-vue-components"]},{name:"vitesse",display:"Vitesse",shape:"circle",link:"https://github.com/antfu/vitesse",color:Z.vitesse,from:["icones","unplugin-vue-components","unplugin-auto-import","vite-pwa","unplugin-icons"],deps:["vueuse"]},{name:"vitesse-webext",link:"https://github.com/antfu/vitesse-webext",color:Z.vitesse,from:["vitesse"]},{name:"webext-bridge",link:"https://github.com/serversideup/webext-bridge",color:"#405",from:["vitesse-webext"]},{name:"antfu.me",link:"https://antfu.me",color:"#459",from:["vitesse"]},{name:"unplugin-vue-markdown",link:"https://github.com/unplugin/unplugin-vue-markdown",color:"#459",from:["antfu.me"],deps:["vitesse"]},{name:"vite-ssg",link:"https://github.com/antfu/vite-ssg",color:"#459",from:["antfu.me"],deps:["vitesse"]},{name:"windicss",display:"Windi CSS",link:"https://github.com/windicss/windicss",color:"#09f",dashed:!0,from:["vitesse"]},{name:"slidev",display:"Slidev",link:"https://github.com/slidevjs/slidev",color:"#2ae",shape:"circle",from:["vitesse","vite"],deps:["windicss","vueuse"]},{name:"broz",link:"https://github.com/antfu/broz",color:"#2ae",from:["slidev"]},{name:"drauu",link:"https://github.com/antfu/drauu",color:"#2ae",from:["slidev"],animateStop:!1},{name:"unocss",display:"UnoCSS",link:"https://github.com/unocss/unocss",color:"#304",from:["slidev","windicss"],deps:["vitesse"]},{name:"css-icons",display:"Pure CSS Icons",link:"https://unocss.dev/presets/icons",color:"#304",from:["unocss","iconify"]},{name:"nuxt",display:"Nuxt",shape:"circle",link:"https://github.com/nuxt/nuxt",dashed:!0,margin:18,color:Z.nuxt,from:["vitesse"]},{name:"vitesse-nuxt3",link:"https://github.com/antfu/vitesse-nuxt3",color:Z.vitesse,from:["vitesse","nuxt"]},{name:"unplugin",link:"https://github.com/unjs/unplugin",color:Z.unjs,from:["nuxt"],deps:["unplugin-icons","unplugin-auto-import","unplugin-vue-components"]},{name:"unimport",link:"https://github.com/unjs/unimport",color:Z.unjs,from:["nuxt","unplugin-auto-import"]},{name:"vite-node",link:"https://github.com/vitest-dev/vitest/tree/main/packages/vite-node",color:Z.vitest,from:["nuxt","vite"]},{name:"vitest",display:"Vitest",shape:"circle",link:"https://github.com/vitest-dev/vitest",color:Z.vitest,from:["vite","vite-node"]},{name:"birpc",link:"https://github.com/antfu/birpc",color:"#bd3",from:["vitest"]},{name:"nuxt-devtools",display:"Nuxt DevTools",link:"https://github.com/nuxt/devtools",color:"#00c58e",from:["nuxt","birpc","vite-plugin-inspect"]},{name:"magicast",link:"https://github.com/unjs/magicast",color:"#982",from:["nuxt-devtools"],deps:["nuxt"]},{name:"elk",display:"Elk",link:"https://github.com/elk-zone/elk",color:"#ea9e44",from:["nuxt"]},{name:"learn.nuxt.com",link:"https://github.com/nuxt/learn.nuxt.com",color:"#00c58e",from:["nuxt"]},{name:"shiki",display:"Shiki",link:"https://github.com/shikijs/shiki",dashed:!0,shape:"circle",color:Z.shiki,from:["nuxt","antfu.me","slidev"]},{name:"shiki-magic-move",link:"https://github.com/shikijs/shiki-magic-move",color:Z.shiki,from:["shiki","slidev"]},{name:"shiki/monaco",link:"https://github.com/shikijs/shiki",color:Z.shiki,from:["learn.nuxt.com","shiki"]},{name:"twoslash",display:"Twoslash",link:"https://github.com/twoslashes/twoslash",color:Z.twoslash,dashed:!0,from:["shiki"]},{name:"@antfu/eslint-config",link:"https://github.com/antfu/eslint-config",color:Z.eslint},{name:"eslint-stylistic",display:"ESLint Stylistic",link:"https://github.com/eslint-stylistic/eslint-stylistic",color:"#59f",from:["@antfu/eslint-config"]},{name:"@eslint/config-inspector",display:"ESLint Config Inspector",link:"https://github.com/eslint/config-inspector",color:Z.eslint,from:["@antfu/eslint-config","nuxt-devtools"]},{name:"eslint-plugin-format",link:"https://github.com/antfu/eslint-plugin-format",color:Z.eslint,from:["@antfu/eslint-config"]},{name:"eslint-plugin-command",link:"https://github.com/antfu/eslint-plugin-command",color:Z.eslint,animateStop:!1,from:["@antfu/eslint-config"]},{name:"eslint-flat-config-utils",link:"https://github.com/antfu/eslint-flat-config-utils",color:Z.eslint,animateStop:!1,from:["@antfu/eslint-config"]},{name:"eslint-typegen",link:"https://github.com/antfu/eslint-typegen",color:Z.eslint,animateStop:!1,from:["@antfu/eslint-config"]},{name:"@nuxt/eslint",display:"Nuxt ESLint",link:"https://github.com/nuxt/eslint",color:Z.nuxt,from:["nuxt","eslint-typegen","@eslint/config-inspector"]}],m5=[{name:"handle",display:"Handle",link:"https://github.com/antfu/handle",from:["vitesse"]},{name:"v-dollar",link:"https://github.com/antfu/v-dollar",color:Z.vue,from:["vue"]},{name:"vue-starport",display:"Vue Starport",link:"https://github.com/antfu/vue-starport",color:Z.vue,from:["vue","slidev"]},{name:"vite-plugin-restart",link:"https://github.com/antfu/vite-plugin-restart",color:Z.vite,from:["vite"]},{name:"vite-plugin-remote-assets",link:"https://github.com/antfu/vite-plugin-remote-assets",color:Z.vite,from:["vite"]},{name:"vite-plugin-vue-server-ref",link:"https://github.com/antfu/vite-plugin-vue-server-ref",color:Z.vite,from:["vite"]},{name:"vitesse-theme",display:"Vitesse Theme",link:"https://github.com/antfu/vscode-theme-vitesse",color:Z.vitesse,from:["vscode","vueuse"]},{name:"qrcode-toolkit",display:"QR Toolkit",link:"https://github.com/antfu/qrcode-toolkit"},{name:"uqr",link:"https://github.com/unjs/uqr",color:Z.unjs,from:["qrcode-toolkit"]},{name:"ni",link:"https://github.com/antfu/ni",color:"#153"},{name:"sponsorkit",display:"SponsorKit",link:"https://github.com/antfu/sponsorkit",color:"#a83266"},{name:"type-challenges",display:"Type Challenges",link:"https://github.com/type-challenges/type-challenges",color:Z.ts},{name:"esno",link:"https://github.com/antfu/esno",from:["type-challenges"],color:Z.ts},{name:"taze",link:"https://github.com/antfu/taze",color:"#33b85d"},{name:"qr-scanner-wechat",link:"https://github.com/antfu/qr-scanner-wechat",from:["qrcode-toolkit"],color:Z.vue},{name:"vscode-file-nesting",display:"VS Code File Nesting",link:"https://github.com/antfu/vscode-file-nesting-config",from:["vscode"],color:Z.vscode},{name:"vscode-smart-clicks",display:"VS Code Smart Clicks",link:"https://github.com/antfu/vscode-smart-clicks",from:["vscode"],color:Z.vscode},{name:"retypewriter",display:"retypewriter",link:"https://github.com/antfu/retypewriter",from:["vscode"],color:"#4cb833"},{name:"twoslash-vue",display:"Twoslash Vue",link:"https://github.com/twoslashes/twoslash",color:Z.vue,from:["twoslash"]},{name:"vitepress-twoslash",display:"VitePress Twoslash",link:"https://github.com/shikijs/shiki",color:Z.vue,from:["twoslash-vue"]},{name:"nuxt-content-twoslash",display:"Nuxt Content Twoslash",color:Z.nuxt,link:"https://github.com/antfu/nuxt-content-twoslash",from:["vitepress-twoslash","nuxt"]},{name:"nuxt-icon",display:"Nuxt Icon",link:"https://github.com/nuxt/icon",color:Z.nuxt,dashed:!0,from:["iconify","nuxt"]}];m5.forEach((i,e)=>{i.faded=!0,e&&(i.animateStop=!1)});const y5=[...Eo,...m5];for(const[i,e]of Object.entries(g5)){if(!e)continue;const t=y5.find(r=>r.name===i);t&&Object.assign(t,e)}const CX=vb({__name:"YakMap",props:_5({isEditing:{type:Boolean,default:!1},isDark:{type:Boolean,default:!0},showSecondary:{type:Boolean,default:!1},mode:{default:"all"},onEdit:{},focusScale:{default:1.5},backgroundColor:{}},{clicks:{default:1,type:Number},clicksModifiers:{}}),emits:["update:clicks"],setup(i,{expose:e}){Fo();const t=i,r=w5(i,"clicks"),n=HM(),s=Gr(()=>t.showSecondary?y5:Eo),o=Gr(()=>t.backgroundColor||(t.isDark?"#050505":"#ffff")),a=Gr(()=>t.isDark?.7:.6);function u(v,g=!1){const b=ee(v.color||"#888"),[p,m,O]=b.oklch(),y=(S=1)=>ee.oklch(a.value,m,O).mix(o.value,1-S).hex();return{id:v.name,label:v.display||v.name,...v,...v.dashed?{shapeProperties:{borderDashes:[2,2]}}:{},font:{color:y(v.faded?.75:1)},color:{border:y(v.faded?.05:v.dashed?.2:.5),background:y(v.faded?.02:(v.dashed,.05)),highlight:{border:y(v.dashed||v.faded?.2:.5),background:y(.1)},hover:{border:y(v.dashed||v.faded?.2:.5),background:y(.07)}},borderWidth:g?4:1,borderWidthSelected:g?4:2}}function l(v){const g=ee(v.color||"#333"),[b,p,m]=g.oklch();return[...(v.from||[]).map(O=>({id:`${v.name}|${O}`,from:O,to:v.name,color:ee.oklch(a.value,p,m).mix(o.value,.8).hex(),arrows:{to:{enabled:!0,type:"arrow"}}})),...(v.deps||[]).map(O=>({id:`${v.name}|${O}`,from:O,to:v.name,color:ee.oklch(a.value,p,m).mix(o.value,.95).hex(),dashes:[3,3],physics:!1}))]}function c(){r.value=Math.min(+r.value+1,Eo.length)}function d(){r.value=Math.max(+r.value-1,1)}const h=Gr(()=>s.value.filter(v=>v.animateStop!==!1));e({next:c,prev:d,count:Gr(()=>s.value.length),stops:Gr(()=>h.value.length)});function f(){if(t.mode==="all")return s.value;const v=[];let g=0;for(const b of s.value){if(b.animateStop!==!1&&(g+=1),g>+r.value)break;v.push(b)}return v}return E5(()=>{const v=f(),g=new Ji(v.map(y=>u(y))),b=new Ji(v.flatMap(y=>l(y))),p=new L(n.value,{nodes:g,edges:b},{nodes:{labelHighlightBold:!1,shape:"box",margin:{top:10,right:10,bottom:8,left:10}},edges:{smooth:{enabled:!0,type:"discrete",roundness:.5},width:1,hoverWidth:0},physics:{enabled:!1},interaction:{dragNodes:!1}});function m(){t.isEditing&&t.onEdit?.(Object.assign({},g5,p.getPositions()))}p.on("stabilized",()=>m()),p.on("dragEnd",()=>m()),p.on("click",y=>{if(!t.isEditing){if(!y.nodes?.length)y.pointer.canvas.x<-30?d():y.pointer.canvas.x>30&&c();else if(y.nodes.length===1){const S=s.value.find(I=>I.name===y.nodes[0]);S?.link&&window.open(S.link,"_blank")}}}),p.on("hoverNode",()=>{n.value&&(n.value.style.cursor="pointer")}),p.on("blurNode",()=>{n.value&&(n.value.style.cursor="default")}),C1(()=>{p.setOptions({interaction:{dragNodes:!!t.isEditing,hover:!0}})});let O=0;C1(()=>{const y=f();if(g.update(y.map((S,I)=>u(S,t.mode==="steps"&&I===y.length-1))),b.update(y.flatMap(S=>l(S))),g.remove(g.getIds().filter(S=>!y.some(I=>I.name===S))),b.remove(b.getIds().filter(S=>!y.some(I=>S.startsWith(`${I.name}|`)))),y.length>=Eo.length||t.mode==="all")p.moveTo({position:p.getViewPosition(),scale:p.getScale()}),p.fit({animation:O?{duration:1500,easingFunction:"easeInOutQuad"}:void 0});else{const S=y[y.length-1];if(S){const I=p.getViewPosition(),w=Math.sqrt((I.x-S.x)**2+(I.y-S.y)**2);(w>200||!O||+r.value==1)&&(p.moveTo({position:p.getViewPosition(),scale:p.getScale()}),p.focus(S.name,{scale:t.focusScale,animation:O?{duration:600+w*2,easingFunction:"easeInOutQuad"}:!1}))}}O+=1})}),(v,g)=>(Ss(),pb("div",{ref_key:"container",ref:n,"h-full":"","w-full":"","outline-none":"",class:"yak-map"},null,512))}}),qX=vb({__name:"YakMap",setup(i){const{isDark:e}=q5(),{$clicks:t}=Fo();return(r,n)=>(Ss(),VM(CX,{"is-dark":us(e),clicks:+us(t)+1,"focus-scale":1.5,"show-secondary":!0,mode:"steps"},null,8,["is-dark","clicks"]))}}),DX={};function kX(i,e){return Ss(),pb("div",null,[Xn(i.$slots,"default")])}const MX=R5(DX,[["render",kX]]),YX={__name:"slides.md__slidev_13",setup(i){const{$clicksContext:e,$frontmatter:t}=Fo();return e.setup(),(r,n)=>{const s=qX,o=C5;return Ss(),VM(MX,S5(O5(us(x5)(us(t),12))),{default:q1(()=>[D1(o,{context:"visible"},{default:q1(()=>[D1(s)]),_:1}),n[0]||(n[0]=Vn("div",{flex:"~ items-center gap-3",fixed:"","right-0":"","top-0":"","rounded-bl-2rem":"",p5:"","backdrop-blur-md":""},[Vn("div",{"text-5xl":""}," ð "),Vn("div",{flex:"~ col"},[Vn("a",{href:"https://antfu.me","text-sm":"",op50:"","hover:underline":"",target:"_blank"},"Anthony Fu's"),Vn("a",{"text-2xl":"",href:"https://github.com/antfu/yak-shaving-map",target:"_blank","hover:underline":""}," Yak Map ")])],-1))]),_:1,__:[0]},16)}}};export{YX as default};
