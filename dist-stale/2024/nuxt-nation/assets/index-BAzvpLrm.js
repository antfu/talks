const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/md-CcAn96DV.js","assets/modules/vue-B3AvCZz5.js","assets/slidev/center-Bohrn5tz.js","assets/modules/shiki-CeF19YAb.js","assets/modules/shiki-CozCpemh.css","assets/md-CuMTWX_Y.js","assets/md-BAfjbDxN.js","assets/md-zQs5B40A.js","assets/index-DnTJthu8.js","assets/modules/file-saver-DpYiGRfw.js","assets/md-CZAQG4hf.js","assets/slidev/default-CSJmTnLs.js","assets/md-DhmN8YR1.js","assets/ProsCons.vue_vue_type_style_index_0_lang-S8xTkMDK.js","assets/ProsCons-VYrpAVZv.css","assets/slidev/VClick-BFiI5JH7.js","assets/slidev/VClicks-DitPO7vl.js","assets/slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-DsiL0MVa.js","assets/modules/unplugin-icons-BuVOMrY2.js","assets/md-C7RYW1Kr.js","assets/md-BdNljvNz.js","assets/md-DpnbX8kL.js","assets/logo-iconify-Ch-p_BRG.js","assets/md-C2ASKEUL.js","assets/md-BftexDev.js","assets/md-CNymuqsN.js","assets/md-bIHpDiZz.js","assets/md-B3gIMyVF.js","assets/md-CV9UHr3N.js","assets/md-Dsoo8_i4.js","assets/md-CgU7ne8u.js","assets/md-DU2RRJby.js","assets/md-DzSjpCXX.css","assets/md-B-q4-4_v.js","assets/md-DPCnByHM.js","assets/slidev/entry-DkoGOTLb.js","assets/entry-DKBEYRvL.css","assets/slidev/overview-D4nu1YcH.js","assets/slidev/NoteDisplay.vue_vue_type_style_index_0_lang-DqkMMDD1.js","assets/NoteDisplay-DlY48q_E.css","assets/slidev/SlideWrapper-DXnc5MHv.js","assets/SlideWrapper-CR0Obtu-.css","assets/slidev/IconButton.vue_vue_type_script_setup_true_lang-DniQojcA.js","assets/slidev/notes-Ci1267l7.js","assets/slidev/presenter-CH4EKgSY.js","assets/slidev/shortcuts-9rIF13Mg.js","assets/shortcuts-CojLsgTv.css","assets/slidev/DrawingControls.vue_vue_type_style_index_0_lang-Dq51gif0.js","assets/DrawingControls-Cxk9a9ub.css","assets/presenter-BSm347B1.css","assets/slidev/play-DyDNrhkg.js","assets/play-D_7yfuao.css","assets/slidev/404-B0XDn5iq.js","assets/404-_5Gr6e_7.css"])))=>i.map(i=>d[i]);
import{A as b,B as rn,C as Oo,D as To,E as $s,r as O,G as xe,H as Co,I as $o,J as Ao,K as As,L as ee,M as Es,N as R,O as Eo,P as Po,f as an,o as Ot,t as Lo,d as Ps,i as Io,F as Ro,g as jn,Q as $,R as Sn,S as No,T as Nt,p as xo,U as Do,V as Hn,W as ae,X as jo,Y as Ho,Z as Fo,_ as Vo,$ as qo,a0 as W,a1 as zo,a2 as Ls,a3 as xt,a4 as Wo,a5 as Is,a6 as Bo,a7 as Uo,a8 as Jo,a9 as Rs,b as Go,a as Ko,aa as Qo,ab as Yo,ac as Zo,ad as Xo,ae as ei,af as ti,c as ni}from"./modules/vue-B3AvCZz5.js";import{T as si}from"./modules/shiki-CeF19YAb.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const I={theme:"default",title:"Journey to Nuxt Icon",titleTemplate:"%s - Slidev",addons:["slidev-addon-graph"],remoteAssets:!0,monaco:!0,monacoTypesSource:"local",monacoTypesAdditionalPackages:[],monacoTypesIgnorePackages:[],monacoRunAdditionalDeps:[],download:!1,export:{},info:!1,highlighter:"shiki",twoslash:!0,lineNumbers:!1,colorSchema:"dark",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Avenir Next"','"Nunito Sans"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"Fira Code"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Avenir Next","Nunito Sans","Fira Code"],provider:"google",local:["Avenir Next"],italic:!1,weights:["200","400","600"]},favicon:"/@fs/Users/antfu/i/talks/2024-11-12/src/node_modules/.remote-assets/NPGvKerVpwK0s9wCZ1kPwnTexy3khIJ-kR-3r-Sw4ZQ.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,author:"",record:"dev",css:"unocss",presenter:!0,browserExporter:"dev",htmlAttrs:{},transition:"fade-out",editor:!0,contextMenu:null,wakeLock:!0,mdc:!0,seoMeta:{},layout:"center",glowSeed:4,slidesTitle:"Journey to Nuxt Icon - Slidev"};function ln(t,e,n){return Math.min(n,Math.max(e,t))}function oi(...t){return ri(t).reduce((e,n)=>e+n,0)}function ii(t){return t=t??[],Array.isArray(t)?t:[t]}function ri(t){return ii(t).flat(1)}function ai(t){return Array.from(new Set(t))}function Fn(...t){let e,n,s;t.length===1?(e=0,s=1,[n]=t):[e,n,s=1]=t;const o=[];let i=e;for(;i<n;)o.push(i),i+=s||1;return o}function li(t){return t!=null}function ci(t,e){return Object.fromEntries(Object.entries(t).map(([n,s])=>e(n,s)).filter(li))}const jl="build",Ns=b(()=>I.aspectRatio),xs=b(()=>I.canvasWidth),ui=b(()=>Math.ceil(xs.value/Ns.value)),fi=b(()=>ci(I.themeConfig||{},(t,e)=>[`--slidev-theme-${t}`,e])),Ut=I.slidesTitle,Hl="/2024/nuxt-nation/",di=[],hi=new Set(["link","style","script","noscript"]),pi=new Set(["title","titleTemplate","script","style","noscript"]),Vn=new Set(["base","meta","link","style","script","noscript"]),gi=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),mi=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),yi=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),vi=new Set(["templateParams","htmlAttrs","bodyAttrs"]),ki=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);function cn(t,e={},n){for(const s in t){const o=t[s],i=n?`${n}:${s}`:s;typeof o=="object"&&o!==null?cn(o,e,i):typeof o=="function"&&(e[i]=o)}return e}const wi={run:t=>t()},bi=()=>wi,Ds=typeof console.createTask<"u"?console.createTask:bi;function _i(t,e){const n=e.shift(),s=Ds(n);return t.reduce((o,i)=>o.then(()=>s.run(()=>i(...e))),Promise.resolve())}function Si(t,e){const n=e.shift(),s=Ds(n);return Promise.all(t.map(o=>s.run(()=>o(...e))))}function Jt(t,e){for(const n of[...t])n(e)}class Mi{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,s={}){if(!e||typeof n!="function")return()=>{};const o=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!s.allowDeprecated){let r=i.message;r||(r=`${o} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(r)||(console.warn(r),this._deprecatedMessages.add(r))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let s,o=(...i)=>(typeof s=="function"&&s(),s=void 0,o=void 0,n(...i));return s=this.hook(e,o),s}removeHook(e,n){if(this._hooks[e]){const s=this._hooks[e].indexOf(n);s!==-1&&this._hooks[e].splice(s,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const s=this._hooks[e]||[];delete this._hooks[e];for(const o of s)this.hook(e,o)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=cn(e),s=Object.keys(n).map(o=>this.hook(o,n[o]));return()=>{for(const o of s.splice(0,s.length))o()}}removeHooks(e){const n=cn(e);for(const s in n)this.removeHook(s,n[s])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(_i,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(Si,e,...n)}callHookWith(e,n,...s){const o=this._before||this._after?{name:n,args:s,context:{}}:void 0;this._before&&Jt(this._before,o);const i=e(n in this._hooks?[...this._hooks[n]]:[],s);return i instanceof Promise?i.finally(()=>{this._after&&o&&Jt(this._after,o)}):(this._after&&o&&Jt(this._after,o),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function Oi(){return new Mi}const Ti=["name","property","http-equiv"],Ci=new Set(["viewport","description","keywords","robots"]);function js(t){const e=t.split(":");return e.length?ki.has(e[1]):!1}function un(t){const{props:e,tag:n}=t;if(mi.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const s of Ti)if(e[s]!==void 0){const o=e[s],i=o.includes(":"),r=Ci.has(o),l=!(i||r)&&t.key?`:key:${t.key}`:"";return`${n}:${o}${l}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(pi.has(n)){const s=t.textContent||t.innerHTML;if(s)return`${n}:content:${s}`}}function qn(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([s,o])=>`${s}:${String(o)}`).join(",")}`}function Tt(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let o;if(e&&(o=e(n,t)),Array.isArray(o))return o.map(i=>Tt(i,e));if(o?.constructor===Object){const i={};for(const r of Object.keys(o))i[r]=Tt(o[r],e,r);return i}return o}function $i(t,e){const n=t==="style"?new Map:new Set;function s(o){const i=o.trim();if(i)if(t==="style"){const[r,...a]=i.split(":").map(l=>l.trim());r&&a.length&&n.set(r,a.join(":"))}else i.split(" ").filter(Boolean).forEach(r=>n.add(r))}return typeof e=="string"?t==="style"?e.split(";").forEach(s):s(e):Array.isArray(e)?e.forEach(o=>s(o)):e&&typeof e=="object"&&Object.entries(e).forEach(([o,i])=>{i&&i!=="false"&&(t==="style"?n.set(o.trim(),i):s(o))}),n}function Hs(t,e){return t.props=t.props||{},e&&Object.entries(e).forEach(([n,s])=>{if(s===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=$i(n,s);return}if(yi.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof s=="object"){let r=e.type;if(e.type||(r="application/json"),!r?.endsWith("json")&&r!=="speculationrules")return;e.type=r,t.props.type=r,t[n]=JSON.stringify(s)}else t[n]=s;return}const o=String(s),i=n.startsWith("data-");o==="true"||o===""?t.props[n]=i?o:!0:!s&&i&&o==="false"?t.props[n]="false":s!==void 0&&(t.props[n]=s)}),t}function Ai(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},s=Hs({tag:t,props:{}},n);return s.key&&hi.has(s.tag)&&(s.props["data-hid"]=s._h=s.key),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(o=>({...s,props:{...s.props,content:o}})):s}function Ei(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(o,i)=>{for(let r=0;r<e.length;r++)i=e[r](o,i);return i};t=n(void 0,t);const s=[];return t=Tt(t,n),Object.entries(t||{}).forEach(([o,i])=>{if(i!==void 0)for(const r of Array.isArray(i)?i:[i])s.push(Ai(o,r))}),s.flat()}const zn=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,Wn={base:-10,title:10},Pi={critical:-8,high:-1,low:2},Bn={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},Li=/@import/,Qe=t=>t===""||t===!0;function Ii(t,e){if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const s=Pi[e.tagPriority]||0,o=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Bn;if(e.tag in Wn)n=Wn[e.tag];else if(e.tag==="meta"){const i=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;i&&(n=Bn.meta[i])}else e.tag==="link"&&e.props.rel?n=o.link[e.props.rel]:e.tag==="script"?Qe(e.props.async)?n=o.script.async:e.props.src&&!Qe(e.props.defer)&&!Qe(e.props.async)&&e.props.type!=="module"&&!e.props.type?.endsWith("json")?n=o.script.sync:Qe(e.props.defer)&&e.props.src&&!Qe(e.props.async)&&(n=o.script.defer):e.tag==="style"&&(n=e.innerHTML&&Li.test(e.innerHTML)?o.style.imported:o.style.sync);return(n||100)+s}function Un(t,e){const n=typeof e=="function"?e(t):e,s=n.key||String(t.plugins.size+1);t.plugins.get(s)||(t.plugins.set(s,n),t.hooks.addHooks(n.hooks||{}))}function Ri(t={}){const e=Oi();e.addHooks(t.hooks||{});const n=!t.document,s=new Map,o=new Map,i=new Set,r={_entryCount:1,plugins:o,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:s,headEntries(){return[...s.values()]},use:a=>Un(r,a),push(a,l){const c={...l||{}};delete c.head;const f=c._index??r._entryCount++,h={_i:f,input:a,options:c},d={_poll(u=!1){r.dirty=!0,!u&&i.add(f),e.callHook("entries:updated",r)},dispose(){s.delete(f)&&r.invalidate()},patch(u){(!c.mode||c.mode==="server"&&n||c.mode==="client"&&!n)&&(h.input=u,s.set(f,h),d._poll())}};return d.patch(a),d},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...r.entries.values()]};for(await e.callHook("entries:resolve",a);i.size;){const d=i.values().next().value;i.delete(d);const u=s.get(d);if(u){const g={tags:Ei(u.input,t.propResolvers||[]).map(p=>Object.assign(p,u.options)),entry:u};await e.callHook("entries:normalize",g),u._tags=g.tags.map((p,m)=>(p._w=Ii(r,p),p._p=(u._i<<10)+m,p._d=un(p),p))}}let l=!1;a.entries.flatMap(d=>(d._tags||[]).map(u=>({...u,props:{...u.props}}))).sort(zn).reduce((d,u)=>{const g=String(u._d||u._p);if(!d.has(g))return d.set(g,u);const p=d.get(g);if((u?.tagDuplicateStrategy||(vi.has(u.tag)?"merge":null)||(u.key&&u.key===p.key?"merge":null))==="merge"){const y={...p.props};Object.entries(u.props).forEach(([v,k])=>y[v]=v==="style"?new Map([...p.props.style||new Map,...k]):v==="class"?new Set([...p.props.class||new Set,...k]):k),d.set(g,{...u,props:y})}else u._p>>10===p._p>>10&&u.tag==="meta"&&js(g)?(d.set(g,Object.assign([...Array.isArray(p)?p:[p],u],u)),l=!0):(u._w===p._w?u._p>p._p:u?._w<p?._w)&&d.set(g,u);return d},a.tagMap);const c=a.tagMap.get("title"),f=a.tagMap.get("titleTemplate");if(r._title=c?.textContent,f){const d=f?.textContent;if(r._titleTemplate=d,d){let u=typeof d=="function"?d(c?.textContent):d;typeof u=="string"&&!r.plugins.has("template-params")&&(u=u.replace("%s",c?.textContent||"")),c?u===null?a.tagMap.delete("title"):a.tagMap.set("title",{...c,textContent:u}):(f.tag="title",f.textContent=u)}}a.tags=Array.from(a.tagMap.values()),l&&(a.tags=a.tags.flat().sort(zn)),await e.callHook("tags:beforeResolve",a),await e.callHook("tags:resolve",a),await e.callHook("tags:afterResolve",a);const h=[];for(const d of a.tags){const{innerHTML:u,tag:g,props:p}=d;if(gi.has(g)&&!(Object.keys(p).length===0&&!d.innerHTML&&!d.textContent)&&!(g==="meta"&&!p.content&&!p["http-equiv"]&&!p.charset)){if(g==="script"&&u){if(p.type?.endsWith("json")){const m=typeof u=="string"?u:JSON.stringify(u);d.innerHTML=m.replace(/</g,"\\u003C")}else typeof u=="string"&&(d.innerHTML=u.replace(new RegExp(`</${g}`,"g"),`<\\/${g}`));d._d=un(d)}h.push(d)}}return h},invalidate(){for(const a of s.values())i.add(a._i);r.dirty=!0,e.callHook("entries:updated",r)}};return(t?.plugins||[]).forEach(a=>Un(r,a)),r.hooks.callHook("init",r),t.init?.forEach(a=>a&&r.push(a)),r}const Ni=(t,e)=>Oo(e)?rn(e):e,Fs="usehead";function xi(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(Fs,t)}}.install}function Di(){if(To()){const t=$s(Fs);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function ji(t,e={}){const n=e.head||Di();return n.ssr?n.push(t||{},e):Hi(n,t,e)}function Hi(t,e,n={}){const s=O(!1);let o;return xe(()=>{const r=s.value?{}:Tt(e,Ni);o?o.patch(r):o=t.push(r,n)}),As()&&(Co(()=>{o.dispose()}),$o(()=>{s.value=!0}),Ao(()=>{s.value=!1})),o}function fn(t){if(t===!1||t==="false")return null;if(t==null||t===!0||t==="true")return"+1";if(typeof t=="string"&&"+-".includes(t[0]))return t;const e=+t;return Number.isNaN(e)?(console.error(`Invalid "at" prop value: ${t}`),null):e<=0?(console.warn(`[Slidev] "at" prop value must be greater than 0, but got ${t}, has been set to 1`),1):e}function Fi(t){return Array.isArray(t)?[fn(t[0]),fn(t[1])]:null}function Vs(t,e=0,n){const s=O(!1);let o=new Map,i=new Map;const r={get current(){return ln(+t.value,e,r.total)},set current(a){t.value=s.value?ln(a,e,r.total):a},clicksStart:e,get relativeSizeMap(){return o},get maxMap(){return i},get isMounted(){return s.value},setup(){Es(()=>{s.value=!0,i=R(i),Eo(t)||(r.current=t.value)}),Po(()=>{s.value=!1,o=new Map,i=new Map})},calculateSince(a,l=1){const c=fn(a);if(c==null)return null;let f,h,d;if(typeof c=="string"){const u=r.currentOffset,g=+c;f=u+g,h=u+g+l-1,d=g+l-1}else f=c,h=c+l-1,d=0;return{start:f,end:+Number.POSITIVE_INFINITY,max:h,delta:d,currentOffset:b(()=>r.current-f),isCurrent:b(()=>r.current===f),isActive:b(()=>r.current>=f)}},calculateRange(a){const l=Fi(a);if(l==null)return null;const[c,f]=l;let h,d,u;return typeof c=="string"?(h=r.currentOffset+ +c,u=+c):(h=c,u=0),typeof f=="string"?(d=h+ +f,u+=+f):d=f,{start:h,end:d,max:d,delta:u,currentOffset:b(()=>r.current-h),isCurrent:b(()=>r.current===h),isActive:b(()=>h<=r.current&&r.current<d)}},calculate(a){return Array.isArray(a)?r.calculateRange(a):r.calculateSince(a)},register(a,l){if(!l)return;const{delta:c,max:f}=l;o.set(a,c),i.set(a,f)},unregister(a){o.delete(a),i.delete(a)},get currentOffset(){return oi(...o.values())},get total(){return n??(s.value?Math.max(0,...i.values()):0)}};return r}function Vi(t,e=0){const n=t?.meta.slide?.frontmatter.clicksStart??0,s=O(Math.max(rn(e),n));return ee(()=>rn(e),o=>{s.value=Math.max(o,n)}),Vs(s,n,t?.meta?.clicks)}const qi="modulepreload",zi=function(t){return"/2024/nuxt-nation/"+t},Jn={},C=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=r?.nonce||r?.getAttribute("nonce");o=l(n.map(c=>{if(c=zi(c),c in Jn)return;Jn[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":qi,f||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),f)return new Promise((u,g)=>{d.addEventListener("load",u),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(r){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=r,window.dispatchEvent(a),!a.defaultPrevented)throw r}return o.then(r=>{for(const a of r||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},Wi=(t,e)=>{const n=t.__vccOpts||t;for(const[s,o]of e)n[s]=o;return n},Bi={},Ui={class:"px-4 py-10 text-center text-red-700 dark:text-red-500 font-bold font-mono"};function Ji(t,e){return Ot(),an("div",Ui,Lo("Failed to fetch this slide. Please check your network connection."))}const N=Wi(Bi,[["render",Ji]]),Gi={class:"h-full w-full flex items-center justify-center gap-2 slidev-slide-loading"},Ki=Ps({__name:"SlideLoading",setup(t){const e=O(!1);return Es(()=>{setTimeout(()=>{e.value=!0},200)}),(n,s)=>(Ot(),an("div",Gi,[e.value?(Ot(),an(Ro,{key:0},[s[0]||(s[0]=jn("div",{class:"i-svg-spinners-90-ring-with-bg text-xl"},null,-1)),s[1]||(s[1]=jn("div",null,"Loading slide...",-1))],64)):Io("v-if",!0)]))}}),Qi={layout:"center",highlighter:"shiki",css:"unocss",colorSchema:"dark",transition:"fade-out",mdc:!0,glowSeed:4,title:"Journey to Nuxt Icon",remoteAssets:!0,addons:["slidev-addon-graph"]},he=$(Qi),Yi=R({get layout(){return he.layout},get transition(){return he.transition},get class(){return he.class},get clicks(){return he.clicks},get name(){return he.name},get preload(){return he.preload},slide:{content:"",revision:"-ytamu0",frontmatterRaw:`layout: center
highlighter: shiki
css: unocss
colorSchema: dark
transition: fade-out
mdc: true
glowSeed: 4
title: Journey to Nuxt Icon
remoteAssets: true
addons:
  - slidev-addon-graph
`,note:"",title:"Journey to Nuxt Icon",index:0,noteHTML:`<p>Hello everyone, good to be here again at Nuxt Nation!</p>
`,raw:"",frontmatter:he,filepath:"",start:0,id:0,no:1},__clicksContext:null,__preloaded:!1}),Zi={layout:"cover"},pe=$(Zi),Xi=R({get layout(){return pe.layout},get transition(){return pe.transition},get class(){return pe.class},get clicks(){return pe.clicks},get name(){return pe.name},get preload(){return pe.preload},slide:{content:"",revision:"-5oln7k",frontmatterRaw:`layout: cover
`,note:"",title:"Journey to Nuxt Icon {.font-600!}",level:1,index:1,noteHTML:`<p>For today's topic, I'd like to talk about Nuxt Icon. I'll walk you through various of different solutions on rendering icons on web pages, with their pros and cons. And how we managed to find a balance trade-offs in the Nuxt Icon module and deliver to you.</p>
`,raw:"",frontmatter:pe,filepath:"",start:20,id:1,no:2},__clicksContext:null,__preloaded:!1}),er={layout:"intro",class:"pl-30",glowSeed:14},ge=$(er),tr=R({get layout(){return ge.layout},get transition(){return ge.transition},get class(){return ge.class},get clicks(){return ge.clicks},get name(){return ge.name},get preload(){return ge.preload},slide:{content:"",revision:"-wfuwsg",frontmatterRaw:`layout: intro
class: pl-30
glowSeed: 14
`,note:"",title:"Anthony Fu",level:1,index:2,noteHTML:"",raw:"",frontmatter:ge,filepath:"",start:37,id:2,no:3},__clicksContext:null,__preloaded:!1}),nr={layout:"fact"},me=$(nr),sr=R({get layout(){return me.layout},get transition(){return me.transition},get class(){return me.class},get clicks(){return me.clicks},get name(){return me.name},get preload(){return me.preload},slide:{content:"",revision:"8ujfrs",frontmatterRaw:`layout: fact
`,note:"",title:"Icons",level:1,index:3,noteHTML:`<p>So, let's first talk about icons in general.</p>
<p>So, what are icons? <span class="slidev-note-click-mark" data-clicks="1"></span> To me, they are tiny image assets that represent graphics, making functionality easier to identify and understand, while also making the UI more interesting and engaging.</p>
<p>However, icons are not just images; they come with unique requirements based on their usage.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> I'd say, while the concept of icons is simple, engineering them correctly is quite complicated.</p>
<p>Here, you can see many icons from different collections, each with its own properties and requirements. Let's break them down from an engineering perspective.</p>
`,raw:"",frontmatter:me,filepath:"",start:67,id:3,no:4},__clicksContext:null,__preloaded:!1}),or={},ye=$(or),ir=R({get layout(){return ye.layout},get transition(){return ye.transition},get class(){return ye.class},get clicks(){return ye.clicks},get name(){return ye.name},get preload(){return ye.preload},slide:{content:"",revision:"-l5mo3h",note:"",title:"Engineering Challenges",level:1,index:4,noteHTML:`<p>Rendering good icons comes with a few challenges beyond just displaying plain images.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> First, we need icons to be colorable. Most icons are monochrome, but they often need to adapt their colors based on the context, such as switching between light and dark modes. It's ideal if we can change their colors on the fly, so we don't have to design multiple versions of the same icon.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> Similarly, icons should be scalable. They need to fit different screen sizes or UI elements without losing quality. It would be great if we could resize them easily.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> Besides rendering, we also need to think about how we deliver icons. Icon sets usually include a large number of icons to cover various needs, but we rarely use all of them in a single page or app.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> To improve performance and save bandwidth, we need to consider how we bundle them. How flexible and granular can we be in splitting the icon sets into chunks? Should we create chunks based on how commonly icons are used, or can we be granular enough to only ship the icons we actually use?</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> After bundling, we need to decide how to load the icons. Should we include them in the same bundle as the client app, or as separate lazy-loaded chunks?</p>
<p><span class="slidev-note-click-mark" data-clicks="6"></span> Finally, we need the capability to load icons dynamically, especially for user-provided data that we don't know about at build time.</p>
<p>These are some of the key challenges we face with icons. Depending on your use case, you might only need to address some of them. But when creating tools, we aim to find a good balance to support as many scenarios as possible. So, let's explore the solutions available for icons and compare their pros and cons.</p>
`,raw:"",frontmatter:ye,filepath:"",start:92,id:4,no:5},__clicksContext:null,__preloaded:!1}),rr={},ve=$(rr),ar=R({get layout(){return ve.layout},get transition(){return ve.transition},get class(){return ve.class},get clicks(){return ve.clicks},get name(){return ve.name},get preload(){return ve.preload},slide:{content:"",revision:"-ugsiud",note:"",title:"Solution 1: `<img>`",level:1,index:5,noteHTML:`<p>Let's start with the most straightforward solution: using the image tag. This was pretty much the only option in the early days of the web.</p>
<p>You'd host your image assets somewhere, <span class="slidev-note-click-mark" data-clicks="1"></span> and then use an image tag to link to that image, specifying its width and height.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> Here are some examples from back in the day. Personally, I'm a big fan of pixel art and love this retro style.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> There are definitely some advantages to this approach. It's very simple, requires no setup or runtime dependencies, and works natively in browsers.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> However, there are also quite a few drawbacks. Images can become pixelated, meaning we don't have any color control and they don't scale well. Each icon being a separate image file results in many network requests, which could be slow, especially back in the days of HTTP 1.1. Before the image is downloaded, you might see a flash of invisible icons, which can hurt the user experience. Lastly, it's quite verbose to write, as you need to specify the full path of the image and manage the relative paths.</p>
<p>Given these downsides, it's no surprise that this approach is rarely used on websites today.</p>
`,raw:"",frontmatter:ve,filepath:"",start:210,id:5,no:6},__clicksContext:null,__preloaded:!1}),lr={},ke=$(lr),cr=R({get layout(){return ke.layout},get transition(){return ke.transition},get class(){return ke.class},get clicks(){return ke.clicks},get name(){return ke.name},get preload(){return ke.preload},slide:{content:"",revision:"xdbvs1",note:"",title:"Solution 2: Web Fonts",level:1,index:6,noteHTML:`<p>Then Web Fonts becomes the second solution. As fonts are by natural vectorized and colorable, it's soon be chosen to serve icons.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> Usually the iconset providers will compile their icons into a special font file, that assign a special unicode character to represnet each icon. Accompany with a CSS file to set the unicode value for each icon classes.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> The usage would be looked like this.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> Underneath, the CSS file would looks a bit like this. A common style selector, and then selectors for each icons to their assigned unicode value.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> The adventages of this approach is that it's easy to use, colorable, scalable, and only requires a single request to load all icons.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> However, the downside is that it requires a large font file to load all icons upfront, which can be slow. It's also hard to customize the icon set, and you might see a flash of invisible icons before the font is loaded because there are no fallback fonts.</p>
`,raw:"",frontmatter:ke,filepath:"",start:266,id:6,no:7},__clicksContext:null,__preloaded:!1}),ur={},we=$(ur),fr=R({get layout(){return we.layout},get transition(){return we.transition},get class(){return we.class},get clicks(){return we.clicks},get name(){return we.name},get preload(){return we.preload},slide:{content:"",revision:"4ax7z0",note:"",title:"Solution 3: Components",level:1,index:7,noteHTML:`<p>And then, with frontend frameworks comes to the game, reuse HTML elements because a lot easier. People came up with the idea of directly inline the SVG tags as component.</p>
<p>For iconsets to support this approach, they often comes with packages to provide their wrappers for each framework.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> For example, MDI icons use a shared component and provide icon data as a pros, while <span class="slidev-note-click-mark" data-clicks="2"></span> Tablar icons provide component for each icon.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> Because they are SVGs, they are colorable, scalable, and have all the features of SVGs. Usually people bundles icon into the app, so there are no additional networks requests, and it's even SSR friendly and visible at the first render.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> However, the downsides are that it creates a lot of SVG DOM elements, which can hurt the performance when you have a lot of icons. It also increases the bundle size, and requires specific integration support for each icon set and framework combinations. This implies a level of vendor lock-in, making it hard to switch to another icon set or framework.</p>
<p>And to be fair, these trade-offs are already quite a good deal, many projects are using this approach today as you don't really switch icon sets or frameworks very often.</p>
`,raw:"",frontmatter:we,filepath:"",start:338,id:7,no:8},__clicksContext:null,__preloaded:!1}),dr={glow:"right",class:"h-full"},be=$(dr),hr=R({get layout(){return be.layout},get transition(){return be.transition},get class(){return be.class},get clicks(){return be.clicks},get name(){return be.name},get preload(){return be.preload},slide:{content:"",revision:"iroz68",frontmatterRaw:`glow: right
class: h-full
`,note:"",title:'Iconify <img src="/logo-iconify.svg" inline-block ml4 />',level:1,index:8,noteHTML:`<p>Talking about vender lock-in, I'd like to bring up this open source project called Iconify.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> Iconify is a unified icon framework that provides a single solution for all popular icon sets.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> It offers a unified collection of data for consuming, <span class="slidev-note-click-mark" data-clicks="3"></span> and supports over 100 open source icon sets with more than 200,000 icons.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> They even provides an server API for your to fetch icons dynamically. Any icon is just one request away.</p>
<p>The solutions we are going to talk later on are all built on top of it, meaning that you don't need to worries about the iconset support anymore and can switch to any iconset or even mix them with zero migration needed.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> Iconify really did the heavy lifting works underneath to collect and normalize all those icons, which I would invite you to sponsor Iconify on GitHub or Open Collective to support their work if you are benefit from its ecosystem.</p>
`,raw:"",frontmatter:be,filepath:"",start:411,id:8,no:9},__clicksContext:null,__preloaded:!1}),pr={},_e=$(pr),gr=R({get layout(){return _e.layout},get transition(){return _e.transition},get class(){return _e.class},get clicks(){return _e.clicks},get name(){return _e.name},get preload(){return _e.preload},slide:{content:"",revision:"-uab0bc",note:"",index:9,noteHTML:`<p>Here I also made an icon explorer for Iconify called Icônes. You can browser all the icons from Iconify collection, copy or download them as ease. The URL is icon-e-s.js.org</p>
`,raw:"",frontmatter:_e,filepath:"",start:473,id:9,no:10},__clicksContext:null,__preloaded:!1}),mr={},Se=$(mr),yr=R({get layout(){return Se.layout},get transition(){return Se.transition},get class(){return Se.class},get clicks(){return Se.clicks},get name(){return Se.name},get preload(){return Se.preload},slide:{content:"",revision:"wdmphe",note:"",title:"Solution 4: Iconify Runtime",level:1,index:10,noteHTML:`<p>So back to the solutions we were talking about, Iconify also comes with it's own runtime solution. That you can simply <span class="slidev-note-click-mark" data-clicks="1"></span> import the library and <span class="slidev-note-click-mark" data-clicks="2"></span> use any icons as an web components.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> Under the hood, the component will send requests to the Iconify API, and the api will serve the needed icons from the massive icons collection.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> This is a great fit for rendering icons from user provided content or some other dynamic content that you don't know at build time. And it's super easy to setup, that you can even use it as a CDN without any build tools.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> The downsides are that it would add a runtime dependencies, that your icons will only renders after JavaScript is loaded and the icon get fetched. This also would not work for SSR and cache layers like PWA.</p>
`,raw:"",frontmatter:Se,filepath:"",start:487,id:10,no:11},__clicksContext:null,__preloaded:!1}),vr={},Me=$(vr),kr=R({get layout(){return Me.layout},get transition(){return Me.transition},get class(){return Me.class},get clicks(){return Me.clicks},get name(){return Me.name},get preload(){return Me.preload},slide:{content:"",revision:"-qqlrd8",note:"",title:"Solution 5: On-demand Components",level:1,index:11,noteHTML:`<p>With the unified interface from Iconify, combining with Vite's on-demand approach, we made <code>unplugin-icons</code> that supports you to <span class="slidev-note-click-mark" data-clicks="1"></span> import any icons on-demand as components.</p>
<p>Because it's an unplugin, it supports all popular build tools including Vite, webpack and rspack etc. We provide compiler for all popular frameworks like Vue, React, Svelte, Solid etc. And with Iconify, we make it possible to have one single solution for any framework to use any icons. <span class="slidev-note-click-mark" data-clicks="2"></span> Estimate the vendor-lockin on your choices of icons.</p>
<p>So, because this is still fundentamally the same technique as the previous component icons solution. <span class="slidev-note-click-mark" data-clicks="3"></span> We share the same pros and cons. The difference is that with build tools integrated, we are able to serve the full collections of Iconify while only ship the icons you actually used. <span class="slidev-note-click-mark" data-clicks="4"></span> However, at runtime we still have the concern of DOM elements and so on.</p>
`,raw:"",frontmatter:Me,filepath:"",start:537,id:11,no:12},__clicksContext:null,__preloaded:!1}),wr={},Oe=$(wr),br=R({get layout(){return Oe.layout},get transition(){return Oe.transition},get class(){return Oe.class},get clicks(){return Oe.clicks},get name(){return Oe.name},get preload(){return Oe.preload},slide:{content:"",revision:"-l4d74b",note:"",title:"Solution 6: Pure CSS Icons",level:1,index:12,noteHTML:`<p>As a side-effect of creating UnoCSS, I discovered that it's possible to embed icons entirely in CSS, leading to the solution of Pure CSS Icons.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> This method inlines SVG icons as data URLs and provides a single class to display the icons. <span class="slidev-note-click-mark" data-clicks="2"></span> With some tweaks, the icons become colorable, scalable, and even capable of displaying SVG animations.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> Browsers can cache the CSS rules, and each icon only requires one DOM element to render. This approach ships the icons in a single CSS file with no additional requests. Since it's pure CSS, the icons display along with the rest of your UI, require zero runtime, and work naturally with SSR - your server doesn't need any extra work on the  server side.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> The only downsides are the lack of full customization for elements inside the SVG and the need to bundle icons at build-time, which isn't dynamic.</p>
<p>I highly recommend this approach for most cases where you don't need to dynamically render user-provided icons. In my opinion, it's the most well-rounded solution so far. If you use UnoCSS, install the icon presets, and you will be able use this feature just like any other utility class.</p>
`,raw:"",frontmatter:Oe,filepath:"",start:585,id:12,no:13},__clicksContext:null,__preloaded:!1}),_r={},Te=$(_r),Sr=R({get layout(){return Te.layout},get transition(){return Te.transition},get class(){return Te.class},get clicks(){return Te.clicks},get name(){return Te.name},get preload(){return Te.preload},slide:{content:"",revision:"-2jh48g",note:"",index:13,noteHTML:`<p>Finally, let's talk about Nuxt. Our goal with Nuxt is to provide seamless solutions that cover as many use cases as possible.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> Let's quickly go over the integration challenges we faced to make Nuxt Icon comprehensive.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> First, we need to support both SSR and CSR, as they are core features of Nuxt. We want to ensure that icons render without any flashes for the best user experience.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> We also want to support dynamic icons, such as those from Nuxt Content, allowing you to use icons from your content data.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> Performance is crucial, so we need to ensure that our solution doesn't compromise on speed.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> Lastly, we want to support custom icons. In addition to the thousands of icons from Iconify, users should be able to load their custom icons using the same syntax.</p>
<p>With these requirements in mind, <span class="slidev-note-click-mark" data-clicks="6"></span> let's compare the solutions we discussed earlier.</p>
<p><span class="slidev-note-click-mark" data-clicks="7"></span> For dynamic icons, the Iconify Runtime seems to be the only option. However, it doesn't work perfectly with SSR and doesn't support custom icons, as the requests go to Iconify's servers, which aren't aware of our local setup.</p>
<p><span class="slidev-note-click-mark" data-clicks="8"></span> On the other hand, CSS Icons are performant and work well with SSR, but they don't support dynamic icons.</p>
<p>[pause a bit]</p>
`,raw:"",frontmatter:Te,filepath:"",start:721,id:13,no:14},__clicksContext:null,__preloaded:!1}),Mr={layout:"center"},Ce=$(Mr),Or=R({get layout(){return Ce.layout},get transition(){return Ce.transition},get class(){return Ce.class},get clicks(){return Ce.clicks},get name(){return Ce.name},get preload(){return Ce.preload},slide:{content:"",revision:"-c8nwtl",frontmatterRaw:`layout: center
`,note:"",index:14,noteHTML:`<p>So, which should we choose? That's tough as we seems to either option we are trading off something we need.</p>
<p>Ummm, so, <span class="slidev-note-click-mark" data-clicks="1"></span> why don't we choose both?</p>
`,raw:"",frontmatter:Ce,filepath:"",start:827,id:14,no:15},__clicksContext:null,__preloaded:!1}),Tr={},$e=$(Tr),Cr=R({get layout(){return $e.layout},get transition(){return $e.transition},get class(){return $e.class},get clicks(){return $e.clicks},get name(){return $e.name},get preload(){return $e.preload},slide:{content:"",revision:"-mmo302",note:"",title:"Dual Rendering Modes",level:1,index:15,noteHTML:`<p>First, to ease out the trade-off of rendering approach, in Nuxt Icon, we provided an <code>&lt;Icon&gt;</code> component that supports both CSS and SVG Mode - both are SSR friendly. Deps on how much customize you need, you can switch between to mode per icon.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> For CSS Mode, the icon will ben included in the CSS from SSR.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> While for the SVG mode, the icon will be flatten as inlined HTML during SSR.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> Both approach allows icon to be rendered at the initial screen without runtime cost.</p>
`,raw:"",frontmatter:$e,filepath:"",start:843,id:15,no:16},__clicksContext:null,__preloaded:!1}),$r={},Ae=$($r),Ar=R({get layout(){return Ae.layout},get transition(){return Ae.transition},get class(){return Ae.class},get clicks(){return Ae.clicks},get name(){return Ae.name},get preload(){return Ae.preload},slide:{content:"",revision:"ksqbh4",note:"",title:"Bundles",level:1,index:16,noteHTML:`<p>Let's talk about dynamic icons and how we can optimize their loading.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> For dynamic icons, we can use Iconify's API, <span class="slidev-note-click-mark" data-clicks="2"></span> which serves any icon on demand via network requests. The downside is that these API servers might be far from your users, causing delays.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> To improve this, if we know certain icons will always be used, we can bundle them directly into the client. This way, they render instantly without additional requests. <span class="slidev-note-click-mark" data-clicks="4"></span> However, we can only do this for statically known icons. Bundling all possible icons would make the bundle size too large.</p>
<p>Since Nuxt is a full-stack framework, <span class="slidev-note-click-mark" data-clicks="5"></span> we can find a middle ground by introducing a server bundle. On the server side, bundle size is less of an issue, <span class="slidev-note-click-mark" data-clicks="6"></span> so we can include more icon sets. During SSR, these icons can be fetched quickly and sent to the client on demand. With this setup, we can use the Iconify API as a final fallback, ensuring high performance for commonly used icons while still being able to serve any icon from Iconify.</p>
`,raw:"",frontmatter:Ae,filepath:"",start:911,id:16,no:17},__clicksContext:null,__preloaded:!1}),Er={clicks:7},Ee=$(Er),Pr=R({get layout(){return Ee.layout},get transition(){return Ee.transition},get class(){return Ee.class},get clicks(){return Ee.clicks},get name(){return Ee.name},get preload(){return Ee.preload},slide:{content:"",revision:"bpp6h7",frontmatterRaw:`clicks: 7
`,note:"",title:"Data Flow",level:1,index:17,noteHTML:`<p>Let's walk through the data flow to make it clearer.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> Wen can provide the icon id to the Icon component to use it. <span class="slidev-note-click-mark" data-clicks="2"></span> The component first checks if the icon is already server-rendered. If it is, we stop there since the icon is already present.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> If not, then we will look up the client bundle for it. Most static-known icons will be there, so we can render them directly.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> For dynamic icons that aren't in the client bundle, the component will request them from our server endpoint. This endpoint is usually deployed along with your app and close to end users. <span class="slidev-note-click-mark" data-clicks="5"></span> The server looks for the requested icons in the server bundle and serves them back to client. <span class="slidev-note-click-mark" data-clicks="6"></span> We have caching on both the browser and API endpoints, so once an icon is requested, subsequent requests are much faster.</p>
<p><span class="slidev-note-click-mark" data-clicks="7"></span> If the server can't find the icon in its bundle, it requests the icon from Iconify and forwards it to the client. In this case, caching is also applied to speed up future requests.</p>
<p>With all these steps, we can load icons efficiently while supporting dynamic icons.</p>
`,raw:"",frontmatter:Ee,filepath:"",start:1132,id:17,no:18},__clicksContext:null,__preloaded:!1}),Lr={glow:"right"},Pe=$(Lr),Ir=R({get layout(){return Pe.layout},get transition(){return Pe.transition},get class(){return Pe.class},get clicks(){return Pe.clicks},get name(){return Pe.name},get preload(){return Pe.preload},slide:{content:"",revision:"-ctamd8",frontmatterRaw:`glow: right
`,note:"",index:18,noteHTML:`<p>So, that's the approach we've explored in Nuxt Icon v1.0. We believe we've found a balance that minimizes trade-offs, offering both a great user experience and flexibility.</p>
<p>Give it a try and let us know what you think! We're excited to hear your feedback!</p>
`,raw:"",frontmatter:Pe,filepath:"",start:1156,id:18,no:19},__clicksContext:null,__preloaded:!1}),Rr={layout:"center",class:"text-center pb-5"},Le=$(Rr),Nr=R({get layout(){return Le.layout},get transition(){return Le.transition},get class(){return Le.class},get clicks(){return Le.clicks},get name(){return Le.name},get preload(){return Le.preload},slide:{content:"",revision:"a46bof",frontmatterRaw:`layout: center
class: 'text-center pb-5'
`,note:"",title:"Thank You!",level:1,index:19,noteHTML:"",raw:"",frontmatter:Le,filepath:"",start:1194,id:19,no:20},__clicksContext:null,__preloaded:!1}),j=new Array(20),D=(t,e)=>No({loader:e,delay:300,loadingComponent:Ki,errorComponent:N,onError:n=>console.error("Failed to load slide "+(t+1),n)}),Gn=async()=>{try{return j[0]??=await C(()=>import("./md-CcAn96DV.js"),__vite__mapDeps([0,1,2,3,4]))}catch(t){return console.error("slide failed to load",t),N}},Kn=async()=>{try{return j[1]??=await C(()=>import("./md-CuMTWX_Y.js"),__vite__mapDeps([5,1,3,4]))}catch(t){return console.error("slide failed to load",t),N}},Qn=async()=>{try{return j[2]??=await C(()=>import("./md-BAfjbDxN.js"),__vite__mapDeps([6,1,3,4]))}catch(t){return console.error("slide failed to load",t),N}},Yn=async()=>{try{return j[3]??=await C(()=>import("./md-zQs5B40A.js"),__vite__mapDeps([7,1,8,9,3,4]))}catch(t){return console.error("slide failed to load",t),N}},Zn=async()=>{try{return j[4]??=await C(()=>import("./md-CZAQG4hf.js"),__vite__mapDeps([10,1,11,3,4]))}catch(t){return console.error("slide failed to load",t),N}},Xn=async()=>{try{return j[5]??=await C(()=>import("./md-DhmN8YR1.js"),__vite__mapDeps([12,13,1,14,15,16,17,18,11,3,4]))}catch(t){return console.error("slide failed to load",t),N}},es=async()=>{try{return j[6]??=await C(()=>import("./md-C7RYW1Kr.js"),__vite__mapDeps([19,13,1,14,15,16,17,18,11,3,4]))}catch(t){return console.error("slide failed to load",t),N}},ts=async()=>{try{return j[7]??=await C(()=>import("./md-BdNljvNz.js"),__vite__mapDeps([20,13,1,14,17,18,11,3,4]))}catch(t){return console.error("slide failed to load",t),N}},ns=async()=>{try{return j[8]??=await C(()=>import("./md-DpnbX8kL.js"),__vite__mapDeps([21,16,1,22,11,3,4]))}catch(t){return console.error("slide failed to load",t),N}},ss=async()=>{try{return j[9]??=await C(()=>import("./md-C2ASKEUL.js"),__vite__mapDeps([23,1,11,3,4]))}catch(t){return console.error("slide failed to load",t),N}},os=async()=>{try{return j[10]??=await C(()=>import("./md-BftexDev.js"),__vite__mapDeps([24,13,1,14,17,18,11,3,4]))}catch(t){return console.error("slide failed to load",t),N}},is=async()=>{try{return j[11]??=await C(()=>import("./md-CNymuqsN.js"),__vite__mapDeps([25,13,1,14,18,17,11,3,4]))}catch(t){return console.error("slide failed to load",t),N}},rs=async()=>{try{return j[12]??=await C(()=>import("./md-bIHpDiZz.js"),__vite__mapDeps([26,13,1,14,17,18,11,3,4]))}catch(t){return console.error("slide failed to load",t),N}},as=async()=>{try{return j[13]??=await C(()=>import("./md-B3gIMyVF.js"),__vite__mapDeps([27,1,11,3,4]))}catch(t){return console.error("slide failed to load",t),N}},ls=async()=>{try{return j[14]??=await C(()=>import("./md-CV9UHr3N.js"),__vite__mapDeps([28,1,2,3,4]))}catch(t){return console.error("slide failed to load",t),N}},cs=async()=>{try{return j[15]??=await C(()=>import("./md-Dsoo8_i4.js"),__vite__mapDeps([29,17,18,1,11,3,4]))}catch(t){return console.error("slide failed to load",t),N}},us=async()=>{try{return j[16]??=await C(()=>import("./md-CgU7ne8u.js"),__vite__mapDeps([30,1,11,3,4]))}catch(t){return console.error("slide failed to load",t),N}},fs=async()=>{try{return j[17]??=await C(()=>import("./md-DU2RRJby.js"),__vite__mapDeps([31,1,11,3,4,32]))}catch(t){return console.error("slide failed to load",t),N}},ds=async()=>{try{return j[18]??=await C(()=>import("./md-B-q4-4_v.js"),__vite__mapDeps([33,17,18,1,11,3,4]))}catch(t){return console.error("slide failed to load",t),N}},hs=async()=>{try{return j[19]??=await C(()=>import("./md-DPCnByHM.js"),__vite__mapDeps([34,1,2,3,4]))}catch(t){return console.error("slide failed to load",t),N}},xr=[{no:1,meta:Yi,load:Gn,component:D(0,Gn)},{no:2,meta:Xi,load:Kn,component:D(1,Kn)},{no:3,meta:tr,load:Qn,component:D(2,Qn)},{no:4,meta:sr,load:Yn,component:D(3,Yn)},{no:5,meta:ir,load:Zn,component:D(4,Zn)},{no:6,meta:ar,load:Xn,component:D(5,Xn)},{no:7,meta:cr,load:es,component:D(6,es)},{no:8,meta:fr,load:ts,component:D(7,ts)},{no:9,meta:hr,load:ns,component:D(8,ns)},{no:10,meta:gr,load:ss,component:D(9,ss)},{no:11,meta:yr,load:os,component:D(10,os)},{no:12,meta:kr,load:is,component:D(11,is)},{no:13,meta:br,load:rs,component:D(12,rs)},{no:14,meta:Sr,load:as,component:D(13,as)},{no:15,meta:Or,load:ls,component:D(14,ls)},{no:16,meta:Cr,load:cs,component:D(15,cs)},{no:17,meta:Ar,load:us,component:D(16,us)},{no:18,meta:Pr,load:fs,component:D(17,fs)},{no:19,meta:Ir,load:ds,component:D(18,ds)},{no:20,meta:Nr,load:hs,component:D(19,hs)}],se=Sn(xr);function qs(t,e){if(!e||e==="all"||e==="*")return Fn(1,t+1);if(e==="none")return[];const n=[];for(const s of e.split(/[,;]/g))if(!s.includes("-"))n.push(+s);else{const[o,i]=s.split("-",2);n.push(...Fn(+o,i?+i+1:t+1))}return ai(n).filter(s=>s<=t).sort((s,o)=>s-o)}const rt="$$slidev-clicks-context",Dt="$$slidev-page",zs="$$slidev-slide-element",Ws="$$slidev-slide-scale",Bs="$$slidev-context",Dr="$$slidev-route",jt="$$slidev-render-context",Us="$$slidev-fontmatter",Js="$$slidev-slide-zoom",vt="slidev-vclick-target",Ye="slidev-vclick-hidden",Ze="slidev-vclick-fade",Gt="slidev-vclick-hidden-explicitly",Kt="slidev-vclick-current",Qt="slidev-vclick-prior",kt=999999,jr=["localhost","127.0.0.1"],Gs=["clicks","clicksStart","disabled","hide","hideInToc","layout","level","preload","routeAlias","src","title","transition","zoom","dragPos","lang"],Hr=[...Gs,"theme","titleTemplate","info","author","keywords","presenter","browserExporter","download","exportFilename","export","highlighter","lineNumbers","monaco","monacoTypesSource","monacoTypesAdditionalPackages","monacoRunAdditionalDeps","remoteAssets","selectable","record","colorSchema","routerMode","aspectRatio","canvasWidth","themeConfig","favicon","plantUmlServer","fonts","defaults","drawings","htmlAttrs","mdc","contextMenu","wakeLock","seoMeta"];function Fr(t,e,{mode:n="replace"}={}){const s=Nt();return b({get(){const o=s.currentRoute.value.query[t];return o==null?e:Array.isArray(o)?o.filter(Boolean):o},set(o){xo(()=>{(s.currentRoute.value.query[t]??e?.toString())!==o.toString()&&s[Do(n)]({query:{...s.currentRoute.value.query,[t]:`${o}`===e?void 0:o}})})}})}function Vr(){const t=ae(Bs),e=Hn(t,"nav"),n=ae(rt).value,s=Hn(n,"current"),o=ae(Dt),i=ae(jt),r=ae(Us,{}),a=ae(Dr,void 0),l=ae(Ws,O(1)),c=ae(Js,b(()=>1));return{$slidev:t,$nav:e,$clicksContext:n,$clicks:s,$page:o,$route:a,$renderContext:i,$frontmatter:r,$scale:l,$zoom:c}}function Fl(t,e){return{...jo(t,e===0?Hr:Gs),frontmatter:t}}function Ht(t){return se.value.find(e=>e.no===+t||e.meta.slide?.frontmatter.routeAlias===t)}function We(t,e,n=!1){(typeof t=="number"||typeof t=="string")&&(t=Ht(t));const s=t.meta.slide?.frontmatter.routeAlias??t.no;return n?`/export/${s}`:e?`/presenter/${s}`:`/${s}`}function qr(){const{$page:t}=Vr(),{currentSlideNo:e}=je();return b(()=>t.value===e.value)}function Vl(t){const e=qr();xe(()=>e.value&&t())}const zr={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function Wr(t,e=!1){if(!t||(typeof t=="string"&&(t={name:t}),!t.name))return;let n=t.name.includes("|")?t.name:zr[t.name]||t.name;if(n.includes("|")){const[s,o]=n.split("|").map(i=>i.trim());n=e?o:s}if(n)return{...t,name:n}}function Br(t,e,n){let s=t>0?n?.meta?.transition:e?.meta?.transition;return s||(s=I.transition||void 0),Wr(s,t<0)}const ql=O(!1),zl=O(!1),Wl=O(!1),Ur=O(!1),Mn=O(!1),Bl=O(!1),Ul=O(!0),Jl=zo({xs:460,...Wo}),Ct=Fo(),Gl=Ho(),Kl=b(()=>Ct.height.value-Ct.width.value/Ns.value>120),Ql=Vo(xt?document.body:null),Ks=qo(),Yl=b(()=>["INPUT","TEXTAREA"].includes(Ks.value?.tagName||"")),Zl=b(()=>["BUTTON","A"].includes(Ks.value?.tagName||""));W("slidev-camera","default",{listenToStorageChanges:!1});W("slidev-mic","default",{listenToStorageChanges:!1});const Jr=W("slidev-scale",0),Xl=W("slidev-wake-lock",!0),ec=W("slidev-hide-cursor-idle",!0);W("slidev-skip-export-pdf-tip",!1);W("slidev-export-capture-delay",400,{listenToStorageChanges:!1});const tc=W("slidev-presenter-cursor",!0,{listenToStorageChanges:!1}),Gr=W("slidev-show-editor",!1,{listenToStorageChanges:!1}),Kr=W("slidev-editor-vertical",!1,{listenToStorageChanges:!1}),Qr=W("slidev-editor-width",xt?window.innerWidth*.4:318,{listenToStorageChanges:!1}),Yr=W("slidev-editor-height",xt?window.innerHeight*.4:300,{listenToStorageChanges:!1}),ut=Sn(null),$t=W("slidev-presenter-font-size",1,{listenToStorageChanges:!1}),ft=W("slidev-presenter-layout",1,{listenToStorageChanges:!1}),dn={invert:!1,contrast:1,brightness:1,hueRotate:0,saturate:1,sepia:0},Zr=W("slidev-viewer-css-filter",dn,{listenToStorageChanges:!1,mergeDefaults:!0,deep:!0}),nc=b(()=>Object.keys(dn).some(t=>Zr.value[t]!==dn[t]));function sc(){ft.value=ft.value+1,ft.value>3&&(ft.value=1)}function oc(){$t.value=Math.min(2,$t.value+.1)}function ic(){$t.value=Math.max(.5,$t.value-.1)}const rc=Ls(Ur),dt=W("slidev-sync-directions",{viewerSend:!0,viewerReceive:!0,presenterSend:!0,presenterReceive:!0},{listenToStorageChanges:!1,mergeDefaults:!0});function Qs(t,e,n=1){const s=e.meta.slide.level??n;s&&s>n&&t.length>0?Qs(t[t.length-1].children,e,n+1):t.push({no:e.no,children:[],level:n,titleLevel:s,path:We(e.meta.slide?.frontmatter?.routeAlias??e.no,!1),hideInToc:!!e.meta?.slide?.frontmatter?.hideInToc,title:e.meta?.slide?.title})}function Ys(t,e,n=!1,s,o){return t.map(i=>{const r={...i,active:i.no===o?.value,hasActiveParent:n};return r.children.length>0&&(r.children=Ys(r.children,e,r.active||r.hasActiveParent,r,o)),s&&(r.active||r.activeParent)&&(s.activeParent=!0),r})}function Zs(t,e=1){return t.filter(n=>!n.hideInToc).map(n=>({...n,children:Zs(n.children,e+1)}))}function Xr(t,e,n){const s=b(()=>t.value.filter(i=>i.meta?.slide?.title).reduce((i,r)=>(Qs(i,r),i),[])),o=b(()=>Ys(s.value,n.value,void 0,void 0,e));return b(()=>Zs(o.value))}function ea(t,e,n=O(0),s,o,i){const r=b(()=>se.value.length),a=O(0),l=O(0),c=b(()=>We(t.value,s.value)),f=b(()=>t.value.no),h=b(()=>t.value.meta?.layout||(f.value===1?"cover":"default")),d=b(()=>e.value.current),u=b(()=>e.value.clicksStart),g=b(()=>e.value.total),p=b(()=>se.value[Math.min(se.value.length,f.value+1)-1]),m=b(()=>se.value[Math.max(1,f.value-1)-1]),y=b(()=>f.value<se.value.length||d.value<g.value),v=b(()=>f.value>1||d.value>0),k=b(()=>o.value?void 0:Br(a.value,t.value,m.value));ee(t,(H,P)=>{a.value=H.no-P.no});async function w(H){return!1}const _=Xr(se,f,t);async function T(){l.value=1,g.value<=n.value?await V():n.value+=1}async function E(){l.value=-1,n.value<=u.value?await U(!0):n.value-=1}async function V(H=!1){l.value=1,f.value<se.value.length&&await M(f.value+1,H&&!o.value?kt:void 0)}async function U(H=!1){l.value=-1,f.value>1&&await M(f.value-1,H&&!o.value?kt:void 0)}function ce(){return M(1)}function Z(){return M(r.value)}async function M(H,P=0,re=!1){Mn.value=!1;const ue=f.value!==H,Ke=P!==n.value,K=Ht(H)?.meta,x=K?.slide?.frontmatter.clicksStart??0;P=ln(P,x,K?.__clicksContext?.total??kt),(re||ue||Ke)&&await i?.push({path:We(H,s.value,i.currentRoute.value.name==="export"),query:{...i.currentRoute.value.query,clicks:P===0?void 0:P.toString(),embedded:location.search.includes("embedded")?"true":void 0}})}function A(){i?.push({path:We(f.value,!0),query:{...i.currentRoute.value.query}})}function q(){i?.push({path:We(f.value,!1),query:{...i.currentRoute.value.query}})}return{slides:se,total:r,currentPath:c,currentSlideNo:f,currentPage:f,currentSlideRoute:t,currentLayout:h,currentTransition:k,clicksDirection:l,nextRoute:p,prevRoute:m,clicksContext:e,clicks:d,clicksStart:u,clicksTotal:g,hasNext:y,hasPrev:v,tocTree:_,navDirection:a,openInEditor:w,next:T,prev:E,go:M,goLast:Z,goFirst:ce,nextSlide:V,prevSlide:U,enterPresenter:A,exitPresenter:q}}const ta=Is(()=>{const t=Nt(),e=Bo(),n=b(()=>(t?.currentRoute?.value?.query,new URLSearchParams(location.search))),s=b(()=>n.value.has("print")||e.name==="export"),o=O(n.value.get("print")==="clicks"),i=b(()=>n.value.has("embedded")),r=b(()=>e.name==="play"),a=b(()=>e.name==="presenter"),l=b(()=>e.name==="notes"),c=b(()=>!a.value&&(!I.remote||n.value.get("password")===I.remote)),f=b(()=>!!e.params.no),h=b(()=>f.value?Ht(e.params.no)?.no??1:1),d=b(()=>se.value[h.value-1]),u=O(qs(se.value.length,e?.query?.range)),g=Fr("clicks","0"),p=b(()=>y(d.value)),m=b({get(){let v=+(g.value||0);return Number.isNaN(v)&&(v=0),v},set(v){Mn.value=!1,g.value=v.toString()}});function y(v){if(v?.meta?.__clicksContext)return v.meta.__clicksContext;const k=v.no,w=Vs(b({get(){return h.value===k?Math.max(+(g.value??0),w.clicksStart):h.value>k?kt:w.clicksStart},set(_){h.value===k&&(g.value=_.toString())}}),v?.meta.slide?.frontmatter.clicksStart??0,v?.meta.clicks);return v?.meta&&(v.meta.__clicksContext=w),w}return{router:t,currentRoute:b(()=>e),isPrintMode:s,isPrintWithClicks:o,isEmbedded:i,isPlaying:r,isPresenter:a,isNotesViewer:l,isPresenterAvailable:c,hasPrimarySlide:f,currentSlideNo:h,currentSlideRoute:d,clicksContext:p,queryClicksRaw:g,queryClicks:m,printRange:u,getPrimaryClicks:y}}),je=Is(()=>{const t=ta(),e=Nt(),n=ea(t.currentSlideRoute,t.clicksContext,t.queryClicks,t.isPresenter,t.isPrintMode,e);return ee([n.total,t.currentRoute],async()=>{const s=t.currentRoute.value.params.no;t.hasPrimarySlide.value&&!Ht(s)&&(s&&s!=="index.html"?await n.go(n.total.value,0,!0):await n.go(1,0,!0))},{flush:"pre",immediate:!0}),{...n,...t}}),ps=Uo(),Yt=W("slidev-color-schema","auto"),gs=b(()=>I.colorSchema!=="auto"),Xs=b({get(){return gs.value?I.colorSchema==="dark":Yt.value==="auto"?ps.value:Yt.value==="dark"},set(t){gs.value||(Yt.value=t===ps.value?"auto":t?"dark":"light")}}),ac=Ls(Xs);if(xt){const t="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";ee(Xs,e=>{const n=window.document.createElement("style");n.appendChild(document.createTextNode(t)),window.document.head.appendChild(n);const s=document.querySelector("html");s.classList.toggle("dark",e),s.classList.toggle("light",!e),window.getComputedStyle(n).opacity,document.head.removeChild(n)},{immediate:!0})}function na(){const{isPrintMode:t}=je();Jo(b(()=>t.value?`
@page {
  size: ${xs.value}px ${ui.value}px;
  margin: 0px;
}

* {
  transition: none !important;
  transition-duration: 0s !important;
}`:""))}const On=Symbol.for("yaml.alias"),sa=Symbol.for("yaml.document"),De=Symbol.for("yaml.map"),eo=Symbol.for("yaml.pair"),Tn=Symbol.for("yaml.scalar"),at=Symbol.for("yaml.seq"),ie=Symbol.for("yaml.node.type"),He=t=>!!t&&typeof t=="object"&&t[ie]===On,Ft=t=>!!t&&typeof t=="object"&&t[ie]===sa,to=t=>!!t&&typeof t=="object"&&t[ie]===De,z=t=>!!t&&typeof t=="object"&&t[ie]===eo,F=t=>!!t&&typeof t=="object"&&t[ie]===Tn,Cn=t=>!!t&&typeof t=="object"&&t[ie]===at;function Y(t){if(t&&typeof t=="object")switch(t[ie]){case De:case at:return!0}return!1}function B(t){if(t&&typeof t=="object")switch(t[ie]){case On:case De:case Tn:case at:return!0}return!1}const no=t=>(F(t)||Y(t))&&!!t.anchor,Ie=Symbol("break visit"),oa=Symbol("skip children"),nt=Symbol("remove node");function Vt(t,e){const n=ia(e);Ft(t)?Be(null,t.contents,n,Object.freeze([t]))===nt&&(t.contents=null):Be(null,t,n,Object.freeze([]))}Vt.BREAK=Ie;Vt.SKIP=oa;Vt.REMOVE=nt;function Be(t,e,n,s){const o=ra(t,e,n,s);if(B(o)||z(o))return aa(t,s,o),Be(t,o,n,s);if(typeof o!="symbol"){if(Y(e)){s=Object.freeze(s.concat(e));for(let i=0;i<e.items.length;++i){const r=Be(i,e.items[i],n,s);if(typeof r=="number")i=r-1;else{if(r===Ie)return Ie;r===nt&&(e.items.splice(i,1),i-=1)}}}else if(z(e)){s=Object.freeze(s.concat(e));const i=Be("key",e.key,n,s);if(i===Ie)return Ie;i===nt&&(e.key=null);const r=Be("value",e.value,n,s);if(r===Ie)return Ie;r===nt&&(e.value=null)}}return o}function ia(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function ra(t,e,n,s){if(typeof n=="function")return n(t,e,s);if(to(e))return n.Map?.(t,e,s);if(Cn(e))return n.Seq?.(t,e,s);if(z(e))return n.Pair?.(t,e,s);if(F(e))return n.Scalar?.(t,e,s);if(He(e))return n.Alias?.(t,e,s)}function aa(t,e,n){const s=e[e.length-1];if(Y(s))s.items[t]=n;else if(z(s))t==="key"?s.key=n:s.value=n;else if(Ft(s))s.contents=n;else{const o=He(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${o} parent`)}}function so(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function tt(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let o=0,i=s.length;o<i;++o){const r=s[o],a=tt(t,s,String(o),r);a===void 0?delete s[o]:a!==r&&(s[o]=a)}else if(s instanceof Map)for(const o of Array.from(s.keys())){const i=s.get(o),r=tt(t,s,o,i);r===void 0?s.delete(o):r!==i&&s.set(o,r)}else if(s instanceof Set)for(const o of Array.from(s)){const i=tt(t,s,o,o);i===void 0?s.delete(o):i!==o&&(s.delete(o),s.add(i))}else for(const[o,i]of Object.entries(s)){const r=tt(t,s,o,i);r===void 0?delete s[o]:r!==i&&(s[o]=r)}return t.call(e,n,s)}function oe(t,e,n){if(Array.isArray(t))return t.map((s,o)=>oe(s,String(o),n));if(t&&typeof t.toJSON=="function"){if(!n||!no(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=i=>{s.res=i,delete n.onCreate};const o=t.toJSON(e,n);return n.onCreate&&n.onCreate(o),o}return typeof t=="bigint"&&!n?.keep?Number(t):t}class $n{constructor(e){Object.defineProperty(this,ie,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:s,onAnchor:o,reviver:i}={}){if(!Ft(e))throw new TypeError("A document argument is required");const r={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=oe(this,"",r);if(typeof o=="function")for(const{count:l,res:c}of r.anchors.values())o(c,l);return typeof i=="function"?tt(i,{"":a},"",a):a}}class la extends $n{constructor(e){super(On),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let s;n?.aliasResolveCache?s=n.aliasResolveCache:(s=[],Vt(e,{Node:(i,r)=>{(He(r)||no(r))&&s.push(r)}}),n&&(n.aliasResolveCache=s));let o;for(const i of s){if(i===this)break;i.anchor===this.source&&(o=i)}return o}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:o,maxAliasCount:i}=n,r=this.resolve(o,n);if(!r){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=s.get(r);if(a||(oe(r,null,n),a=s.get(r)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=wt(o,r,s)),a.count*a.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,n,s){const o=`*${this.source}`;if(e){if(so(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${o} `}return o}}function wt(t,e,n){if(He(e)){const s=e.resolve(t),o=n&&s&&n.get(s);return o?o.count*o.aliasCount:0}else if(Y(e)){let s=0;for(const o of e.items){const i=wt(t,o,n);i>s&&(s=i)}return s}else if(z(e)){const s=wt(t,e.key,n),o=wt(t,e.value,n);return Math.max(s,o)}return 1}const oo=t=>!t||typeof t!="function"&&typeof t!="object";class L extends $n{constructor(e){super(Tn),this.value=e}toJSON(e,n){return n?.keep?this.value:oe(this.value,e,n)}toString(){return String(this.value)}}L.BLOCK_FOLDED="BLOCK_FOLDED";L.BLOCK_LITERAL="BLOCK_LITERAL";L.PLAIN="PLAIN";L.QUOTE_DOUBLE="QUOTE_DOUBLE";L.QUOTE_SINGLE="QUOTE_SINGLE";function ca(t,e,n){return n.find(s=>s.identify?.(t)&&!s.format)}function At(t,e,n){if(Ft(t)&&(t=t.contents),B(t))return t;if(z(t)){const h=n.schema[De].createNode?.(n.schema,null,n);return h.items.push(t),h}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:o,onTagObj:i,schema:r,sourceObjects:a}=n;let l;if(s&&t&&typeof t=="object"){if(l=a.get(t),l)return l.anchor??(l.anchor=o(t)),new la(l.anchor);l={anchor:null,node:null},a.set(t,l)}let c=ca(t,e,r.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const h=new L(t);return l&&(l.node=h),h}c=t instanceof Map?r[De]:Symbol.iterator in Object(t)?r[at]:r[De]}i&&(i(c),delete n.onTagObj);const f=c?.createNode?c.createNode(n.schema,t,n):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(n.schema,t,n):new L(t);return c.default||(f.tag=c.tag),l&&(l.node=f),f}function ms(t,e,n){let s=n;for(let o=e.length-1;o>=0;--o){const i=e[o];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const r=[];r[i]=s,s=r}else s=new Map([[i,s]])}return At(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const ua=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class io extends $n{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>B(s)||z(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(ua(e))this.add(n);else{const[s,...o]=e,i=this.get(s,!0);if(Y(i))i.addIn(o,n);else if(i===void 0&&this.schema)this.set(s,ms(this.schema,o,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const o=this.get(n,!0);if(Y(o))return o.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...o]=e,i=this.get(s,!0);return o.length===0?!n&&F(i)?i.value:i:Y(i)?i.getIn(o,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!z(n))return!1;const s=n.value;return s==null||e&&F(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const o=this.get(n,!0);return Y(o)?o.hasIn(s):!1}setIn(e,n){const[s,...o]=e;if(o.length===0)this.set(s,n);else{const i=this.get(s,!0);if(Y(i))i.setIn(o,n);else if(i===void 0&&this.schema)this.set(s,ms(this.schema,o,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}}const fa=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function it(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const Ue=(t,e,n)=>t.endsWith(`
`)?it(n,e):n.includes(`
`)?`
`+it(n,e):(t.endsWith(" ")?"":" ")+n,ro="flow",hn="block",bt="quoted";function qt(t,e,n="flow",{indentAtStart:s,lineWidth:o=80,minContentWidth:i=20,onFold:r,onOverflow:a}={}){if(!o||o<0)return t;o<i&&(i=0);const l=Math.max(1+i,1+o-e.length);if(t.length<=l)return t;const c=[],f={};let h=o-e.length;typeof s=="number"&&(s>o-Math.max(2,i)?c.push(0):h=o-s);let d,u,g=!1,p=-1,m=-1,y=-1;n===hn&&(p=ys(t,p,e.length),p!==-1&&(h=p+l));for(let k;k=t[p+=1];){if(n===bt&&k==="\\"){switch(m=p,t[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}y=p}if(k===`
`)n===hn&&(p=ys(t,p,e.length)),h=p+e.length+l,d=void 0;else{if(k===" "&&u&&u!==" "&&u!==`
`&&u!=="	"){const w=t[p+1];w&&w!==" "&&w!==`
`&&w!=="	"&&(d=p)}if(p>=h)if(d)c.push(d),h=d+l,d=void 0;else if(n===bt){for(;u===" "||u==="	";)u=k,k=t[p+=1],g=!0;const w=p>y+1?p-2:m-1;if(f[w])return t;c.push(w),f[w]=!0,h=w+l,d=void 0}else g=!0}u=k}if(g&&a&&a(),c.length===0)return t;r&&r();let v=t.slice(0,c[0]);for(let k=0;k<c.length;++k){const w=c[k],_=c[k+1]||t.length;w===0?v=`
${e}${t.slice(0,_)}`:(n===bt&&f[w]&&(v+=`${t[w]}\\`),v+=`
${e}${t.slice(w+1,_)}`)}return v}function ys(t,e,n){let s=e,o=e+1,i=t[o];for(;i===" "||i==="	";)if(e<o+n)i=t[++e];else{do i=t[++e];while(i&&i!==`
`);s=e,o=e+1,i=t[o]}return s}const zt=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),Wt=t=>/^(%|---|\.\.\.)/m.test(t);function da(t,e,n){if(!e||e<0)return!1;const s=e-n,o=t.length;if(o<=s)return!1;for(let i=0,r=0;i<o;++i)if(t[i]===`
`){if(i-r>s)return!0;if(r=i+1,o-r<=s)return!1}return!0}function st(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,o=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(Wt(t)?"  ":"");let r="",a=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(r+=n.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{r+=n.slice(a,l);const f=n.substr(l+2,4);switch(f){case"0000":r+="\\0";break;case"0007":r+="\\a";break;case"000b":r+="\\v";break;case"001b":r+="\\e";break;case"0085":r+="\\N";break;case"00a0":r+="\\_";break;case"2028":r+="\\L";break;case"2029":r+="\\P";break;default:f.substr(0,2)==="00"?r+="\\x"+f.substr(2):r+=n.substr(l,6)}l+=5,a=l+1}break;case"n":if(s||n[l+2]==='"'||n.length<o)l+=1;else{for(r+=n.slice(a,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)r+=`
`,l+=2;r+=i,n[l+2]===" "&&(r+="\\"),l+=1,a=l+1}break;default:l+=1}return r=a?r+n.slice(a):n,s?r:qt(r,i,bt,zt(e,!1))}function pn(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return st(t,e);const n=e.indent||(Wt(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?s:qt(s,n,ro,zt(e,!1))}function Je(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=st;else{const o=t.includes('"'),i=t.includes("'");o&&!i?s=pn:i&&!o?s=st:s=n?pn:st}return s(t,e)}let gn;try{gn=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{gn=/\n+(?!\n|$)/g}function _t({comment:t,type:e,value:n},s,o,i){const{blockQuote:r,commentString:a,lineWidth:l}=s.options;if(!r||/\n[\t ]+$/.test(n))return Je(n,s);const c=s.indent||(s.forceBlockIndent||Wt(n)?"  ":""),f=r==="literal"?!0:r==="folded"||e===L.BLOCK_FOLDED?!1:e===L.BLOCK_LITERAL?!0:!da(n,l,c.length);if(!n)return f?`|
`:`>
`;let h,d;for(d=n.length;d>0;--d){const _=n[d-1];if(_!==`
`&&_!=="	"&&_!==" ")break}let u=n.substring(d);const g=u.indexOf(`
`);g===-1?h="-":n===u||g!==u.length-1?(h="+",i&&i()):h="",u&&(n=n.slice(0,-u.length),u[u.length-1]===`
`&&(u=u.slice(0,-1)),u=u.replace(gn,`$&${c}`));let p=!1,m,y=-1;for(m=0;m<n.length;++m){const _=n[m];if(_===" ")p=!0;else if(_===`
`)y=m;else break}let v=n.substring(0,y<m?y+1:m);v&&(n=n.substring(v.length),v=v.replace(/\n+/g,`$&${c}`));let w=(p?c?"2":"1":"")+h;if(t&&(w+=" "+a(t.replace(/ ?[\r\n]+/g," ")),o&&o()),!f){const _=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let T=!1;const E=zt(s,!0);r!=="folded"&&e!==L.BLOCK_FOLDED&&(E.onOverflow=()=>{T=!0});const V=qt(`${v}${_}${u}`,c,hn,E);if(!T)return`>${w}
${c}${V}`}return n=n.replace(/\n+/g,`$&${c}`),`|${w}
${c}${v}${n}${u}`}function ha(t,e,n,s){const{type:o,value:i}=t,{actualString:r,implicitKey:a,indent:l,indentStep:c,inFlow:f}=e;if(a&&i.includes(`
`)||f&&/[[\]{},]/.test(i))return Je(i,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||f||!i.includes(`
`)?Je(i,e):_t(t,e,n,s);if(!a&&!f&&o!==L.PLAIN&&i.includes(`
`))return _t(t,e,n,s);if(Wt(i)){if(l==="")return e.forceBlockIndent=!0,_t(t,e,n,s);if(a&&l===c)return Je(i,e)}const h=i.replace(/\n+/g,`$&
${l}`);if(r){const d=p=>p.default&&p.tag!=="tag:yaml.org,2002:str"&&p.test?.test(h),{compat:u,tags:g}=e.doc.schema;if(g.some(d)||u?.some(d))return Je(i,e)}return a?h:qt(h,l,ro,zt(e,!1))}function pa(t,e,n,s){const{implicitKey:o,inFlow:i}=e,r=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:a}=t;a!==L.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(r.value)&&(a=L.QUOTE_DOUBLE);const l=f=>{switch(f){case L.BLOCK_FOLDED:case L.BLOCK_LITERAL:return o||i?Je(r.value,e):_t(r,e,n,s);case L.QUOTE_DOUBLE:return st(r.value,e);case L.QUOTE_SINGLE:return pn(r.value,e);case L.PLAIN:return ha(r,e,n,s);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:f,defaultStringType:h}=e.options,d=o&&f||h;if(c=l(d),c===null)throw new Error(`Unsupported default string type ${d}`)}return c}function ga(t,e){const n=Object.assign({blockQuote:!0,commentString:fa,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function ma(t,e){if(e.tag){const o=t.filter(i=>i.tag===e.tag);if(o.length>0)return o.find(i=>i.format===e.format)??o[0]}let n,s;if(F(e)){s=e.value;let o=t.filter(i=>i.identify?.(s));if(o.length>1){const i=o.filter(r=>r.test);i.length>0&&(o=i)}n=o.find(i=>i.format===e.format)??o.find(i=>!i.format)}else s=e,n=t.find(o=>o.nodeClass&&s instanceof o.nodeClass);if(!n){const o=s?.constructor?.name??(s===null?"null":typeof s);throw new Error(`Tag not resolved for ${o} value`)}return n}function ya(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const o=[],i=(F(t)||Y(t))&&t.anchor;i&&so(i)&&(n.add(i),o.push(`&${i}`));const r=t.tag??(e.default?null:e.tag);return r&&o.push(s.directives.tagString(r)),o.join(" ")}function Et(t,e,n,s){if(z(t))return t.toString(e,n,s);if(He(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let o;const i=B(t)?t:e.doc.createNode(t,{onTagObj:l=>o=l});o??(o=ma(e.doc.schema.tags,i));const r=ya(i,o,e);r.length>0&&(e.indentAtStart=(e.indentAtStart??0)+r.length+1);const a=typeof o.stringify=="function"?o.stringify(i,e,n,s):F(i)?pa(i,e,n,s):i.toString(e,n,s);return r?F(i)||a[0]==="{"||a[0]==="["?`${r} ${a}`:`${r}
${e.indent}${a}`:a}function va({key:t,value:e},n,s,o){const{allNullValues:i,doc:r,indent:a,indentStep:l,options:{commentString:c,indentSeq:f,simpleKeys:h}}=n;let d=B(t)&&t.comment||null;if(h){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(Y(t)||!B(t)&&typeof t=="object"){const E="With simple keys, collection cannot be used as a key value";throw new Error(E)}}let u=!h&&(!t||d&&e==null&&!n.inFlow||Y(t)||(F(t)?t.type===L.BLOCK_FOLDED||t.type===L.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!u&&(h||!i),indent:a+l});let g=!1,p=!1,m=Et(t,n,()=>g=!0,()=>p=!0);if(!u&&!n.inFlow&&m.length>1024){if(h)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");u=!0}if(n.inFlow){if(i||e==null)return g&&s&&s(),m===""?"?":u?`? ${m}`:m}else if(i&&!h||e==null&&u)return m=`? ${m}`,d&&!g?m+=Ue(m,n.indent,c(d)):p&&o&&o(),m;g&&(d=null),u?(d&&(m+=Ue(m,n.indent,c(d))),m=`? ${m}
${a}:`):(m=`${m}:`,d&&(m+=Ue(m,n.indent,c(d))));let y,v,k;B(e)?(y=!!e.spaceBefore,v=e.commentBefore,k=e.comment):(y=!1,v=null,k=null,e&&typeof e=="object"&&(e=r.createNode(e))),n.implicitKey=!1,!u&&!d&&F(e)&&(n.indentAtStart=m.length+1),p=!1,!f&&l.length>=2&&!n.inFlow&&!u&&Cn(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let w=!1;const _=Et(e,n,()=>w=!0,()=>p=!0);let T=" ";if(d||y||v){if(T=y?`
`:"",v){const E=c(v);T+=`
${it(E,n.indent)}`}_===""&&!n.inFlow?T===`
`&&(T=`

`):T+=`
${n.indent}`}else if(!u&&Y(e)){const E=_[0],V=_.indexOf(`
`),U=V!==-1,ce=n.inFlow??e.flow??e.items.length===0;if(U||!ce){let Z=!1;if(U&&(E==="&"||E==="!")){let M=_.indexOf(" ");E==="&"&&M!==-1&&M<V&&_[M+1]==="!"&&(M=_.indexOf(" ",M+1)),(M===-1||V<M)&&(Z=!0)}Z||(T=`
${n.indent}`)}}else(_===""||_[0]===`
`)&&(T="");return m+=T+_,n.inFlow?w&&s&&s():k&&!w?m+=Ue(m,n.indent,c(k)):p&&o&&o(),m}function ka(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const ht="<<",Zt={identify:t=>t===ht||typeof t=="symbol"&&t.description===ht,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new L(Symbol(ht)),{addToJSMap:ao}),stringify:()=>ht},wa=(t,e)=>(Zt.identify(e)||F(e)&&(!e.type||e.type===L.PLAIN)&&Zt.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===Zt.tag&&n.default);function ao(t,e,n){if(n=t&&He(n)?n.resolve(t.doc):n,Cn(n))for(const s of n.items)Xt(t,e,s);else if(Array.isArray(n))for(const s of n)Xt(t,e,s);else Xt(t,e,n)}function Xt(t,e,n){const s=t&&He(n)?n.resolve(t.doc):n;if(!to(s))throw new Error("Merge sources must be maps or map aliases");const o=s.toJSON(null,t,Map);for(const[i,r]of o)e instanceof Map?e.has(i)||e.set(i,r):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:r,writable:!0,enumerable:!0,configurable:!0});return e}function lo(t,e,{key:n,value:s}){if(B(n)&&n.addToJSMap)n.addToJSMap(t,e,s);else if(wa(t,n))ao(t,e,s);else{const o=oe(n,"",t);if(e instanceof Map)e.set(o,oe(s,o,t));else if(e instanceof Set)e.add(o);else{const i=ba(n,o,t),r=oe(s,i,t);i in e?Object.defineProperty(e,i,{value:r,writable:!0,enumerable:!0,configurable:!0}):e[i]=r}}return e}function ba(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(B(t)&&n?.doc){const s=ga(n.doc,{});s.anchors=new Set;for(const i of n.anchors.keys())s.anchors.add(i.anchor);s.inFlow=!0,s.inStringifyKey=!0;const o=t.toString(s);if(!n.mapKeyWarned){let i=JSON.stringify(o);i.length>40&&(i=i.substring(0,36)+'..."'),ka(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return o}return JSON.stringify(e)}function An(t,e,n){const s=At(t,void 0,n),o=At(e,void 0,n);return new le(s,o)}class le{constructor(e,n=null){Object.defineProperty(this,ie,{value:eo}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return B(n)&&(n=n.clone(e)),B(s)&&(s=s.clone(e)),new le(n,s)}toJSON(e,n){const s=n?.mapAsMap?new Map:{};return lo(n,s,this)}toString(e,n,s){return e?.doc?va(this,e,n,s):JSON.stringify(this)}}function co(t,e,n){return(e.inFlow??t.flow?Sa:_a)(t,e,n)}function _a({comment:t,items:e},n,{blockItemPrefix:s,flowChars:o,itemIndent:i,onChompKeep:r,onComment:a}){const{indent:l,options:{commentString:c}}=n,f=Object.assign({},n,{indent:i,type:null});let h=!1;const d=[];for(let g=0;g<e.length;++g){const p=e[g];let m=null;if(B(p))!h&&p.spaceBefore&&d.push(""),Pt(n,d,p.commentBefore,h),p.comment&&(m=p.comment);else if(z(p)){const v=B(p.key)?p.key:null;v&&(!h&&v.spaceBefore&&d.push(""),Pt(n,d,v.commentBefore,h))}h=!1;let y=Et(p,f,()=>m=null,()=>h=!0);m&&(y+=Ue(y,i,c(m))),h&&m&&(h=!1),d.push(s+y)}let u;if(d.length===0)u=o.start+o.end;else{u=d[0];for(let g=1;g<d.length;++g){const p=d[g];u+=p?`
${l}${p}`:`
`}}return t?(u+=`
`+it(c(t),l),a&&a()):h&&r&&r(),u}function Sa({items:t},e,{flowChars:n,itemIndent:s}){const{indent:o,indentStep:i,flowCollectionPadding:r,options:{commentString:a}}=e;s+=i;const l=Object.assign({},e,{indent:s,inFlow:!0,type:null});let c=!1,f=0;const h=[];for(let g=0;g<t.length;++g){const p=t[g];let m=null;if(B(p))p.spaceBefore&&h.push(""),Pt(e,h,p.commentBefore,!1),p.comment&&(m=p.comment);else if(z(p)){const v=B(p.key)?p.key:null;v&&(v.spaceBefore&&h.push(""),Pt(e,h,v.commentBefore,!1),v.comment&&(c=!0));const k=B(p.value)?p.value:null;k?(k.comment&&(m=k.comment),k.commentBefore&&(c=!0)):p.value==null&&v?.comment&&(m=v.comment)}m&&(c=!0);let y=Et(p,l,()=>m=null);g<t.length-1&&(y+=","),m&&(y+=Ue(y,s,a(m))),!c&&(h.length>f||y.includes(`
`))&&(c=!0),h.push(y),f=h.length}const{start:d,end:u}=n;if(h.length===0)return d+u;if(!c){const g=h.reduce((p,m)=>p+m.length+2,2);c=e.options.lineWidth>0&&g>e.options.lineWidth}if(c){let g=d;for(const p of h)g+=p?`
${i}${o}${p}`:`
`;return`${g}
${o}${u}`}else return`${d}${r}${h.join(" ")}${r}${u}`}function Pt({indent:t,options:{commentString:e}},n,s,o){if(s&&o&&(s=s.replace(/^\n+/,"")),s){const i=it(e(s),t);n.push(i.trimStart())}}function Ne(t,e){const n=F(e)?e.value:e;for(const s of t)if(z(s)&&(s.key===e||s.key===n||F(s.key)&&s.key.value===n))return s}class qe extends io{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(De,e),this.items=[]}static from(e,n,s){const{keepUndefined:o,replacer:i}=s,r=new this(e),a=(l,c)=>{if(typeof i=="function")c=i.call(n,l,c);else if(Array.isArray(i)&&!i.includes(l))return;(c!==void 0||o)&&r.items.push(An(l,c,s))};if(n instanceof Map)for(const[l,c]of n)a(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))a(l,n[l]);return typeof e.sortMapEntries=="function"&&r.items.sort(e.sortMapEntries),r}add(e,n){let s;z(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new le(e,e?.value):s=new le(e.key,e.value);const o=Ne(this.items,s.key),i=this.schema?.sortMapEntries;if(o){if(!n)throw new Error(`Key ${s.key} already set`);F(o.value)&&oo(s.value)?o.value.value=s.value:o.value=s.value}else if(i){const r=this.items.findIndex(a=>i(s,a)<0);r===-1?this.items.push(s):this.items.splice(r,0,s)}else this.items.push(s)}delete(e){const n=Ne(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const o=Ne(this.items,e)?.value;return(!n&&F(o)?o.value:o)??void 0}has(e){return!!Ne(this.items,e)}set(e,n){this.add(new le(e,n),!0)}toJSON(e,n,s){const o=s?new s:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(o);for(const i of this.items)lo(n,o,i);return o}toString(e,n,s){if(!e)return JSON.stringify(this);for(const o of this.items)if(!z(o))throw new Error(`Map items must all be pairs; found ${JSON.stringify(o)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),co(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}class uo extends io{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(at,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=pt(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=pt(e);if(typeof s!="number")return;const o=this.items[s];return!n&&F(o)?o.value:o}has(e){const n=pt(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=pt(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const o=this.items[s];F(o)&&oo(n)?o.value=n:this.items[s]=n}toJSON(e,n){const s=[];n?.onCreate&&n.onCreate(s);let o=0;for(const i of this.items)s.push(oe(i,String(o++),n));return s}toString(e,n,s){return e?co(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}static from(e,n,s){const{replacer:o}=s,i=new this(e);if(n&&Symbol.iterator in Object(n)){let r=0;for(let a of n){if(typeof o=="function"){const l=n instanceof Set?a:String(r++);a=o.call(n,l,a)}i.items.push(At(a,void 0,s))}}return i}}function pt(t){let e=F(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function Ma(t,e,n){const{replacer:s}=n,o=new uo(t);o.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let r of e){typeof s=="function"&&(r=s.call(e,String(i++),r));let a,l;if(Array.isArray(r))if(r.length===2)a=r[0],l=r[1];else throw new TypeError(`Expected [key, value] tuple: ${r}`);else if(r&&r instanceof Object){const c=Object.keys(r);if(c.length===1)a=c[0],l=r[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=r;o.items.push(An(a,l,n))}return o}class En extends uo{constructor(){super(),this.add=qe.prototype.add.bind(this),this.delete=qe.prototype.delete.bind(this),this.get=qe.prototype.get.bind(this),this.has=qe.prototype.has.bind(this),this.set=qe.prototype.set.bind(this),this.tag=En.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n?.onCreate&&n.onCreate(s);for(const o of this.items){let i,r;if(z(o)?(i=oe(o.key,"",n),r=oe(o.value,i,n)):i=oe(o,"",n),s.has(i))throw new Error("Ordered maps must not include duplicate keys");s.set(i,r)}return s}static from(e,n,s){const o=Ma(e,n,s),i=new this;return i.items=o.items,i}}En.tag="tag:yaml.org,2002:omap";class Pn extends qe{constructor(e){super(e),this.tag=Pn.tag}add(e){let n;z(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new le(e.key,null):n=new le(e,null),Ne(this.items,n.key)||this.items.push(n)}get(e,n){const s=Ne(this.items,e);return!n&&z(s)?F(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=Ne(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new le(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}static from(e,n,s){const{replacer:o}=s,i=new this(e);if(n&&Symbol.iterator in Object(n))for(let r of n)typeof o=="function"&&(r=o.call(n,r,r)),i.items.push(An(r,null,s));return i}}Pn.tag="tag:yaml.org,2002:set";new Set("0123456789ABCDEFabcdef");new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()");new Set(",[]{}");new Set(` ,[]{}
\r	`);function Ln(t=5){const e=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",s=n.length;for(let o=0;o<t;o++)e.push(n.charAt(Math.floor(Math.random()*s)));return e.join("")}function lc(t,e,n,s){const o=qs(e+n-1,t);for(let i=0;i<e;i++){const r=s(i),a=o.includes(i+n);for(const l of r)l.classList.toggle("slidev-code-highlighted",a),l.classList.toggle("slidev-code-dishonored",!a),l.classList.toggle("highlighted",a),l.classList.toggle("dishonored",!a)}}function fo(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}function te(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!1})}const fe=$({});let Oa=[],Ta=[];te(fe,"$syncUp",!0);te(fe,"$syncDown",!0);te(fe,"$paused",!1);te(fe,"$onSet",t=>Oa.push(t));te(fe,"$onPatch",t=>Ta.push(t));fo();te(fe,"$patch",async()=>!1);const Ca={channels:[],enabled:!0,init(t,e,n,s=!1){let o;if(!s)o=new BroadcastChannel(t),o.addEventListener("message",i=>e(i.data)),this.channels.push(o);else if(s){this.listener=function(r){r&&r.key===t&&r.newValue&&e(JSON.parse(r.newValue))},window.addEventListener("storage",this.listener);const i=window.localStorage.getItem(t);i&&e(JSON.parse(i))}return(i,r=!1)=>{this.enabled&&(!s&&o&&!r&&o.postMessage(Rs(i)),s&&!r&&window.localStorage.setItem(t,JSON.stringify(i)))}},disable(){this.enabled=!1,this.channels.forEach(t=>t.close()),this.listener&&window.removeEventListener("storage",this.listener)}},$a=$([Ca]),Aa=new Map,vs=O({});function ho(t,e,n=!1){const s=[];let o=!1,i=!1,r,a;const l=$(e);function c(u){s.push(u)}function f(u,g){l[u]!==g&&(clearTimeout(r),o=!0,l[u]=g,r=setTimeout(()=>o=!1,0))}function h(u){o||(clearTimeout(a),i=!0,Object.entries(u).forEach(([g,p])=>{l[g]=p}),a=setTimeout(()=>i=!1,0))}function d(u){Aa.set(u,{onUpdate:h,persist:n,state:l}),vs.value[u]=$a.map(p=>p.init(u,h,l,n)).filter(p=>!!p);function g(){vs.value[u].forEach(p=>p?.(Rs(l),i)),o||s.forEach(p=>p(l))}ee(l,g,{deep:!0})}return{init:d,onPatch:c,onUpdate:h,patch:f,state:l}}const{init:Ea,onPatch:cc,patch:uc,state:fc}=ho(fe,fe,!1),Fe=$({page:0,clicks:0});let Pa=[],La=[];te(Fe,"$syncUp",!0);te(Fe,"$syncDown",!0);te(Fe,"$paused",!1);te(Fe,"$onSet",t=>Pa.push(t));te(Fe,"$onPatch",t=>La.push(t));fo();te(Fe,"$patch",async()=>!1);const{init:Ia,onPatch:Ra,patch:gt,state:dc}=ho(Fe,{page:1,clicks:0,clicksTotal:0});function Na(){const t=As().appContext.app,e=$({nav:je(),configs:I,themeConfigs:b(()=>I.themeConfig)});t.provide(jt,O("none")),t.provide(Bs,e),t.provide(Dt,b(()=>e.nav.currentSlideNo)),t.provide(rt,Sn(Vi()));for(const d of di)d();const{clicksContext:n,currentSlideNo:s,hasPrimarySlide:o,isNotesViewer:i,isPresenter:r,isPrintMode:a}=je();ji({title:Ut,htmlAttrs:I.htmlAttrs}),na(),Ia(`${Ut} - shared`),Ea(`${Ut} - drawings`);const l=`${location.origin}_${Ln()}`,c=b(()=>r.value?"presenter":"viewer");function f(){(r.value?dt.value.presenterSend:dt.value.viewerSend)&&(i.value||a.value||!r.value&&!jr.includes(location.host.split(":")[0])||(gt("page",+s.value),gt("clicks",n.value.current),gt("clicksTotal",n.value.total),gt("lastUpdate",{id:l,type:c.value,time:new Date().getTime()})))}const h=Nt();h.afterEach(f),ee(n,f),Ra(d=>{(r.value?dt.value.presenterReceive:dt.value.viewerReceive)&&(!o.value||a.value||d.lastUpdate?.type!==c.value&&(+d.page==+s.value&&+n.value.current==+d.clicks||(Mn.value=!1,h.replace({path:We(d.page,r.value),query:{...h.currentRoute.value.query,clicks:d.clicks||0}}))))})}const xa=Ps({__name:"App",setup(t){return Na(),xe(()=>{for(const[e,n]of Object.entries(fi.value))document.body.style.setProperty(e,n.toString())}),(e,n)=>{const s=Ko("RouterView");return Ot(),Go(s)}}}),Da=[];async function po(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const s={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async o=>{const i=new Map,r=new Promise(u=>{t.resolveTags().then(g=>{u(g.map(p=>{const m=i.get(p._d)||0,y={tag:p,id:(m?`${p._d}:${m}`:p._d)||qn(p),shouldRender:!0};return p._d&&js(p._d)&&i.set(p._d,m+1),y}))})});let a=t._dom;if(!a){a={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const u of["body","head"]){const g=n[u]?.children;for(const p of g){const m=p.tagName.toLowerCase();if(!Vn.has(m))continue;const y=Hs({tag:m,props:{}},{innerHTML:p.innerHTML,...p.getAttributeNames().reduce((v,k)=>(v[k]=p.getAttribute(k),v),{})||{}});if(y.key=p.getAttribute("data-hid")||void 0,y._d=un(y)||qn(y),a.elMap.has(y._d)){let v=1,k=y._d;for(;a.elMap.has(k);)k=`${y._d}:${v++}`;a.elMap.set(k,p)}else a.elMap.set(y._d,p)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function l(u,g,p){const m=`${u}:${g}`;a.sideEffects[m]=p,delete a.pendingSideEffects[m]}function c({id:u,$el:g,tag:p}){const m=p.tag.endsWith("Attrs");a.elMap.set(u,g),m||(p.textContent&&p.textContent!==g.textContent&&(g.textContent=p.textContent),p.innerHTML&&p.innerHTML!==g.innerHTML&&(g.innerHTML=p.innerHTML),l(u,"el",()=>{g?.remove(),a.elMap.delete(u)}));for(const y in p.props){if(!Object.prototype.hasOwnProperty.call(p.props,y))continue;const v=p.props[y];if(y.startsWith("on")&&typeof v=="function"){const w=g?.dataset;if(w&&w[`${y}fired`]){const _=y.slice(0,-5);v.call(g,new Event(_.substring(2)))}g.getAttribute(`data-${y}`)!==""&&((p.tag==="bodyAttrs"?n.defaultView:g).addEventListener(y.substring(2),v.bind(g)),g.setAttribute(`data-${y}`,""));continue}const k=`attr:${y}`;if(y==="class"){if(!v)continue;for(const w of v)m&&l(u,`${k}:${w}`,()=>g.classList.remove(w)),!g.classList.contains(w)&&g.classList.add(w)}else if(y==="style"){if(!v)continue;for(const[w,_]of v)l(u,`${k}:${w}`,()=>{g.style.removeProperty(w)}),g.style.setProperty(w,_)}else v!==!1&&v!==null&&(g.getAttribute(y)!==v&&g.setAttribute(y,v===!0?"":String(v)),m&&l(u,k,()=>g.removeAttribute(y)))}}const f=[],h={bodyClose:void 0,bodyOpen:void 0,head:void 0},d=await r;for(const u of d){const{tag:g,shouldRender:p,id:m}=u;if(p){if(g.tag==="title"){n.title=g.textContent,l("title","",()=>n.title=a.title);continue}u.$el=u.$el||a.elMap.get(m),u.$el?c(u):Vn.has(g.tag)&&f.push(u)}}for(const u of f){const g=u.tag.tagPosition||"head";u.$el=n.createElement(u.tag.tag),c(u),h[g]=h[g]||n.createDocumentFragment(),h[g].appendChild(u.$el)}for(const u of d)await t.hooks.callHook("dom:renderTag",u,n,l);h.head&&n.head.appendChild(h.head),h.bodyOpen&&n.body.insertBefore(h.bodyOpen,n.body.firstChild),h.bodyClose&&n.body.appendChild(h.bodyClose);for(const u in a.pendingSideEffects)a.pendingSideEffects[u]();t._dom=a,await t.hooks.callHook("dom:rendered",{renders:d}),o()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function ja(t={}){const e=t.domOptions?.render||po;t.document=t.document||(typeof window<"u"?document:void 0);const n=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return Ri({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function Ha(t,e){let n=0;return()=>{const s=++n;e(()=>{n===s&&t()})}}function Fa(t={}){const e=ja({domOptions:{render:Ha(()=>po(e),n=>setTimeout(n,0))},...t});return e.install=xi(e),e}function hc(t,e=""){const n=["slidev-page",e],s=t?.meta?.slide?.no;return s!=null&&n.push(`slidev-page-${s}`),n.filter(Boolean).join(" ")}async function pc(){const{saveAs:t}=await C(async()=>{const{saveAs:e}=await import("./modules/file-saver-DpYiGRfw.js").then(n=>n.F);return{saveAs:e}},[]);t(typeof I.download=="string"?I.download:I.exportFilename?`${I.exportFilename}.pdf`:"/2024/nuxt-nation/slidev-exported.pdf",`${I.title}.pdf`)}function Ge(t,e,n){return(t.instance?.$).provides[e]??n}function Va(){return{install(t){t.directive("click",{name:"v-click",mounted(e,n){const s=St(e,n,n.value);s!=null&&(e.classList.toggle(vt,!0),e.dataset.slidevClicksStart=String(s.start),Number.isFinite(s.end)&&(e.dataset.slidevClicksEnd=String(s.end)),e.watchStopHandle=xe(()=>{const o=s.isActive.value,i=s.isCurrent.value,r=o&&!i;s.flagHide?(e.classList.toggle(s.flagFade?Ze:Ye,o),e.classList.toggle(Gt,o)):e.classList.toggle(s.flagFade?Ze:Ye,!o),e.classList.toggle(Kt,i),e.classList.toggle(Qt,r)}))},unmounted:en}),t.directive("after",{name:"v-after",mounted(e,n){const s=St(e,n,"+0");s!=null&&(e.classList.toggle(vt,!0),e.watchStopHandle=xe(()=>{const o=s.isActive.value,i=s.isCurrent.value,r=o&&!i;s.flagHide?(e.classList.toggle(s.flagFade?Ze:Ye,o),e.classList.toggle(Gt,o)):e.classList.toggle(s.flagFade?Ze:Ye,!o),e.classList.toggle(Kt,i),e.classList.toggle(Qt,r)}))},unmounted:en}),t.directive("click-hide",{name:"v-click-hide",mounted(e,n){const s=St(e,n,n.value,!0);s!=null&&(e.classList.toggle(vt,!0),e.watchStopHandle=xe(()=>{const o=s.isActive.value,i=s.isCurrent.value,r=o&&!i;e.classList.toggle(s.flagFade?Ze:Ye,o),e.classList.toggle(Gt,o),e.classList.toggle(Kt,i),e.classList.toggle(Qt,r)}))},unmounted:en})}}}const go=new Map;function St(t,e,n,s=!1){const o=Ge(e,rt)?.value;if(!t||!o)return null;const i=s||e.modifiers.hide!==!1&&e.modifiers.hide!=null,r=e.modifiers.fade!==!1&&e.modifiers.fade!=null,a=o.calculate(n);if(!a)return null;o.register(t,a);const l=b(()=>i?!a.isActive.value:a.isActive.value),c=b(()=>l.value?"shown":Number.isFinite(a.end)?o.current<a.start?"before":"after":i?"after":"before"),f={...a,isShown:l,visibilityState:c,flagFade:r,flagHide:i};return go.set(t,f),f}function en(t,e){t.classList.toggle(vt,!1),Ge(e,rt)?.value?.unregister(t),t.watchStopHandle?.()}function qa(t=$s(zs,O())){const e=Qo(t),n=ee([Gr,Kr,Qr,Yr,Jr,Ct.width,Ct.height],()=>{setTimeout(e.update,300)},{flush:"post",immediate:!0});return{...e,stop:n}}function za(t){return()=>{}}function Wa(t,e,n,s=!1){function o(x){return t?Ge(t,x):ae(x)}const i=o(jt),r=o(Us)??{},a=o(Dt),l=b(()=>za(a.value)),c=o(Ws)??O(1),f=o(Js)??O(1),{left:h,top:d,stop:u}=qa(o(zs)??O()),{isPrintMode:g}=je(),p=["slide","presenter"].includes(i.value)&&!g.value;let m=t?"directive":"prop",y=Ln(),v;if(Array.isArray(e)?v=e:typeof e=="string"&&e.includes(",")?v=e.split(",").map(Number):e!=null&&(m="frontmatter",y=`${e}`,e=r?.dragPos?.[y],v=e?.split(",").map(Number)),m!=="frontmatter"&&!n)throw new Error("[Slidev] Can not identify the source position of the v-drag element, please provide an explicit `id` prop.");const k=[u],w=!s&&e!=null&&!Number.isFinite(v?.[3]);v??=[Number.NaN,Number.NaN,0];const _=O(v[2]),T=O(v[0]+v[2]/2),E=O(s?0:v[4]??0),V=b(()=>E.value*Math.PI/180),U=b(()=>Math.sin(V.value)),ce=b(()=>Math.cos(V.value)),Z=O(),M=O({left:0,top:0,width:0,height:0}),A=O(0);function q(){if(!Z.value)return;const x=Z.value.getBoundingClientRect();M.value={left:x.left/f.value,top:x.top/f.value,width:x.width/f.value,height:x.height/f.value},A.value=(M.value.width+M.value.height)/c.value/(Math.abs(U.value)+Math.abs(ce.value))-_.value}k.push(ee(_,q,{flush:"post"}));const H=O(v[3]??0),P=w?b({get:()=>(w?A.value:H.value)||0,set:x=>!w&&(H.value=x)}):H,re=w?O(v[1]):O(v[1]+v[3]/2),ue=w?b({get:()=>re.value+P.value/2,set:x=>re.value=x-P.value/2}):re,Ke=b(()=>Number.isFinite(T.value)?{position:"absolute",zIndex:100,left:`${T.value-_.value/2}px`,top:`${ue.value-P.value/2}px`,width:`${_.value}px`,height:w?void 0:`${P.value}px`,transformOrigin:"center center",transform:`rotate(${E.value}deg)`}:{position:"absolute",zIndex:100});k.push(ee([T,ue,_,P,E],([x,ct,Nn,xn,Dn])=>{let Ve=[x-Nn/2,ct-xn/2,Nn].map(Math.round).join();w?Ve+=m==="directive"?",NaN":",_":Ve+=`,${Math.round(xn)}`,Math.round(Dn)!==0&&(Ve+=`,${Math.round(Dn)}`),m==="directive"&&(Ve=`[${Ve}]`),l.value(y,Ve,m,n)}));const K={dragId:y,dataSource:m,markdownSource:n,isArrow:s,zoom:f,autoHeight:w,x0:T,y0:ue,width:_,height:P,rotate:E,container:Z,containerStyle:Ke,watchStopHandles:k,dragging:b(()=>ut.value===K),mounted(){p&&(q(),e||setTimeout(()=>{q(),T.value=(M.value.left+M.value.width/2-h.value)/c.value,ue.value=(M.value.top-d.value)/c.value,_.value=M.value.width/c.value,P.value=M.value.height/c.value},100))},unmounted(){p&&K.stopDragging()},startDragging(){p&&(q(),ut.value=K)},stopDragging(){p&&ut.value===K&&(ut.value=null)}};return k.push(Yo(Z,x=>{const ct=document.querySelector("#drag-control-container");ct&&x.target&&ct.contains(x.target)||K.stopDragging()}),ee(Zo(),x=>{x||K.stopDragging()})),K}function Ba(){return{install(t){t.directive("drag",{name:"v-drag",created(e,n,s){const o=Wa(n,n.value,s.props?.markdownSource);s.props&&(s.props={...s.props},delete s.props.markdownSource),o.container.value=e,e.draggingState=o,e.dataset.dragId=o.dragId,o.watchStopHandles.push(ee(o.containerStyle,i=>{for(const[r,a]of Object.entries(i))a&&(e.style[r]=a)},{immediate:!0})),e.addEventListener("dblclick",o.startDragging)},mounted(e){e.draggingState.mounted()},unmounted(e){const n=e.draggingState;n.unmounted(),e.removeEventListener("dblclick",n.startDragging),n.watchStopHandles.forEach(s=>s())}})}}}function mo(){return Math.floor(Math.random()*2**31)}class Ua{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function mn(t,e,n){if(t&&t.length){const[s,o]=e,i=Math.PI/180*n,r=Math.cos(i),a=Math.sin(i);for(const l of t){const[c,f]=l;l[0]=(c-s)*r-(f-o)*a+s,l[1]=(c-s)*a+(f-o)*r+o}}}function Ja(t,e,n){const s=[];t.forEach(o=>s.push(...o)),mn(s,e,n)}function Ga(t,e){return t[0]===e[0]&&t[1]===e[1]}function Ka(t,e,n,s=1){const o=n,i=Math.max(e,.1),r=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,a=[0,0];if(o)for(const c of r)mn(c,a,o);const l=Qa(r,i,s);if(o){for(const c of r)mn(c,a,-o);Ja(l,a,-o)}return l}function Qa(t,e,n){const s=[];for(const c of t){const f=[...c];Ga(f[0],f[f.length-1])||f.push([f[0][0],f[0][1]]),f.length>2&&s.push(f)}const o=[];e=Math.max(e,.1);const i=[];for(const c of s)for(let f=0;f<c.length-1;f++){const h=c[f],d=c[f+1];if(h[1]!==d[1]){const u=Math.min(h[1],d[1]);i.push({ymin:u,ymax:Math.max(h[1],d[1]),x:u===h[1]?h[0]:d[0],islope:(d[0]-h[0])/(d[1]-h[1])})}}if(i.sort((c,f)=>c.ymin<f.ymin?-1:c.ymin>f.ymin?1:c.x<f.x?-1:c.x>f.x?1:c.ymax===f.ymax?0:(c.ymax-f.ymax)/Math.abs(c.ymax-f.ymax)),!i.length)return o;let r=[],a=i[0].ymin,l=0;for(;r.length||i.length;){if(i.length){let c=-1;for(let h=0;h<i.length&&!(i[h].ymin>a);h++)c=h;i.splice(0,c+1).forEach(h=>{r.push({s:a,edge:h})})}if(r=r.filter(c=>!(c.edge.ymax<=a)),r.sort((c,f)=>c.edge.x===f.edge.x?0:(c.edge.x-f.edge.x)/Math.abs(c.edge.x-f.edge.x)),(n!==1||l%e===0)&&r.length>1)for(let c=0;c<r.length;c=c+2){const f=c+1;if(f>=r.length)break;const h=r[c].edge,d=r[f].edge;o.push([[Math.round(h.x),a],[Math.round(d.x),a]])}a+=n,r.forEach(c=>{c.edge.x=c.edge.x+n*c.edge.islope}),l++}return o}function lt(t,e){var n;const s=e.hachureAngle+90;let o=e.hachureGap;o<0&&(o=e.strokeWidth*4),o=Math.round(Math.max(o,.1));let i=1;return e.roughness>=1&&(((n=e.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(i=o),Ka(t,o,s,i||1)}class In{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const s=lt(e,n);return{type:"fillSketch",ops:this.renderLines(s,n)}}renderLines(e,n){const s=[];for(const o of e)s.push(...this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],n));return s}}function Bt(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}class Ya extends In{fillPolygons(e,n){let s=n.hachureGap;s<0&&(s=n.strokeWidth*4),s=Math.max(s,.1);const o=Object.assign({},n,{hachureGap:s}),i=lt(e,o),r=Math.PI/180*n.hachureAngle,a=[],l=s*.5*Math.cos(r),c=s*.5*Math.sin(r);for(const[h,d]of i)Bt([h,d])&&a.push([[h[0]-l,h[1]+c],[...d]],[[h[0]+l,h[1]-c],[...d]]);return{type:"fillSketch",ops:this.renderLines(a,n)}}}class Za extends In{fillPolygons(e,n){const s=this._fillPolygons(e,n),o=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),i=this._fillPolygons(e,o);return s.ops=s.ops.concat(i.ops),s}}class Xa{constructor(e){this.helper=e}fillPolygons(e,n){n=Object.assign({},n,{hachureAngle:0});const s=lt(e,n);return this.dotsOnLines(s,n)}dotsOnLines(e,n){const s=[];let o=n.hachureGap;o<0&&(o=n.strokeWidth*4),o=Math.max(o,.1);let i=n.fillWeight;i<0&&(i=n.strokeWidth/2);const r=o/4;for(const a of e){const l=Bt(a),c=l/o,f=Math.ceil(c)-1,h=l-f*o,d=(a[0][0]+a[1][0])/2-o/4,u=Math.min(a[0][1],a[1][1]);for(let g=0;g<f;g++){const p=u+h+g*o,m=d-r+Math.random()*2*r,y=p-r+Math.random()*2*r,v=this.helper.ellipse(m,y,i,i,n);s.push(...v.ops)}}return{type:"fillSketch",ops:s}}}class el{constructor(e){this.helper=e}fillPolygons(e,n){const s=lt(e,n);return{type:"fillSketch",ops:this.dashedLine(s,n)}}dashedLine(e,n){const s=n.dashOffset<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashOffset,o=n.dashGap<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashGap,i=[];return e.forEach(r=>{const a=Bt(r),l=Math.floor(a/(s+o)),c=(a+o-l*(s+o))/2;let f=r[0],h=r[1];f[0]>h[0]&&(f=r[1],h=r[0]);const d=Math.atan((h[1]-f[1])/(h[0]-f[0]));for(let u=0;u<l;u++){const g=u*(s+o),p=g+s,m=[f[0]+g*Math.cos(d)+c*Math.cos(d),f[1]+g*Math.sin(d)+c*Math.sin(d)],y=[f[0]+p*Math.cos(d)+c*Math.cos(d),f[1]+p*Math.sin(d)+c*Math.sin(d)];i.push(...this.helper.doubleLineOps(m[0],m[1],y[0],y[1],n))}}),i}}class tl{constructor(e){this.helper=e}fillPolygons(e,n){const s=n.hachureGap<0?n.strokeWidth*4:n.hachureGap,o=n.zigzagOffset<0?s:n.zigzagOffset;n=Object.assign({},n,{hachureGap:s+o});const i=lt(e,n);return{type:"fillSketch",ops:this.zigzagLines(i,o,n)}}zigzagLines(e,n,s){const o=[];return e.forEach(i=>{const r=Bt(i),a=Math.round(r/(2*n));let l=i[0],c=i[1];l[0]>c[0]&&(l=i[1],c=i[0]);const f=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let h=0;h<a;h++){const d=h*2*n,u=(h+1)*2*n,g=Math.sqrt(2*Math.pow(n,2)),p=[l[0]+d*Math.cos(f),l[1]+d*Math.sin(f)],m=[l[0]+u*Math.cos(f),l[1]+u*Math.sin(f)],y=[p[0]+g*Math.cos(f+Math.PI/4),p[1]+g*Math.sin(f+Math.PI/4)];o.push(...this.helper.doubleLineOps(p[0],p[1],y[0],y[1],s),...this.helper.doubleLineOps(y[0],y[1],m[0],m[1],s))}}),o}}const J={};function nl(t,e){let n=t.fillStyle||"hachure";if(!J[n])switch(n){case"zigzag":J[n]||(J[n]=new Ya(e));break;case"cross-hatch":J[n]||(J[n]=new Za(e));break;case"dots":J[n]||(J[n]=new Xa(e));break;case"dashed":J[n]||(J[n]=new el(e));break;case"zigzag-line":J[n]||(J[n]=new tl(e));break;case"hachure":default:n="hachure",J[n]||(J[n]=new In(e));break}return J[n]}const sl=0,yn=1,yo=2,mt={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function ol(t){const e=new Array;for(;t!=="";)if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:sl,text:RegExp.$1},t=t.substr(RegExp.$1.length);else if(t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))e[e.length]={type:yn,text:`${parseFloat(RegExp.$1)}`},t=t.substr(RegExp.$1.length);else return[];return e[e.length]={type:yo,text:""},e}function tn(t,e){return t.type===e}function Rn(t){const e=[],n=ol(t);let s="BOD",o=0,i=n[o];for(;!tn(i,yo);){let r=0;const a=[];if(s==="BOD")if(i.text==="M"||i.text==="m")o++,r=mt[i.text],s=i.text;else return Rn("M0,0"+t);else tn(i,yn)?r=mt[s]:(o++,r=mt[i.text],s=i.text);if(o+r<n.length){for(let l=o;l<o+r;l++){const c=n[l];if(tn(c,yn))a[a.length]=+c.text;else throw new Error("Param not a number: "+s+","+c.text)}if(typeof mt[s]=="number"){const l={key:s,data:a};e.push(l),o+=r,i=n[o],s==="M"&&(s="L"),s==="m"&&(s="l")}else throw new Error("Bad segment: "+s)}else throw new Error("Path data ended short")}return e}function vo(t){let e=0,n=0,s=0,o=0;const i=[];for(const{key:r,data:a}of t)switch(r){case"M":i.push({key:"M",data:[...a]}),[e,n]=a,[s,o]=a;break;case"m":e+=a[0],n+=a[1],i.push({key:"M",data:[e,n]}),s=e,o=n;break;case"L":i.push({key:"L",data:[...a]}),[e,n]=a;break;case"l":e+=a[0],n+=a[1],i.push({key:"L",data:[e,n]});break;case"C":i.push({key:"C",data:[...a]}),e=a[4],n=a[5];break;case"c":{const l=a.map((c,f)=>f%2?c+n:c+e);i.push({key:"C",data:l}),e=l[4],n=l[5];break}case"Q":i.push({key:"Q",data:[...a]}),e=a[2],n=a[3];break;case"q":{const l=a.map((c,f)=>f%2?c+n:c+e);i.push({key:"Q",data:l}),e=l[2],n=l[3];break}case"A":i.push({key:"A",data:[...a]}),e=a[5],n=a[6];break;case"a":e+=a[5],n+=a[6],i.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],e,n]});break;case"H":i.push({key:"H",data:[...a]}),e=a[0];break;case"h":e+=a[0],i.push({key:"H",data:[e]});break;case"V":i.push({key:"V",data:[...a]}),n=a[0];break;case"v":n+=a[0],i.push({key:"V",data:[n]});break;case"S":i.push({key:"S",data:[...a]}),e=a[2],n=a[3];break;case"s":{const l=a.map((c,f)=>f%2?c+n:c+e);i.push({key:"S",data:l}),e=l[2],n=l[3];break}case"T":i.push({key:"T",data:[...a]}),e=a[0],n=a[1];break;case"t":e+=a[0],n+=a[1],i.push({key:"T",data:[e,n]});break;case"Z":case"z":i.push({key:"Z",data:[]}),e=s,n=o;break}return i}function ko(t){const e=[];let n="",s=0,o=0,i=0,r=0,a=0,l=0;for(const{key:c,data:f}of t){switch(c){case"M":e.push({key:"M",data:[...f]}),[s,o]=f,[i,r]=f;break;case"C":e.push({key:"C",data:[...f]}),s=f[4],o=f[5],a=f[2],l=f[3];break;case"L":e.push({key:"L",data:[...f]}),[s,o]=f;break;case"H":s=f[0],e.push({key:"L",data:[s,o]});break;case"V":o=f[0],e.push({key:"L",data:[s,o]});break;case"S":{let h=0,d=0;n==="C"||n==="S"?(h=s+(s-a),d=o+(o-l)):(h=s,d=o),e.push({key:"C",data:[h,d,...f]}),a=f[0],l=f[1],s=f[2],o=f[3];break}case"T":{const[h,d]=f;let u=0,g=0;n==="Q"||n==="T"?(u=s+(s-a),g=o+(o-l)):(u=s,g=o);const p=s+2*(u-s)/3,m=o+2*(g-o)/3,y=h+2*(u-h)/3,v=d+2*(g-d)/3;e.push({key:"C",data:[p,m,y,v,h,d]}),a=u,l=g,s=h,o=d;break}case"Q":{const[h,d,u,g]=f,p=s+2*(h-s)/3,m=o+2*(d-o)/3,y=u+2*(h-u)/3,v=g+2*(d-g)/3;e.push({key:"C",data:[p,m,y,v,u,g]}),a=h,l=d,s=u,o=g;break}case"A":{const h=Math.abs(f[0]),d=Math.abs(f[1]),u=f[2],g=f[3],p=f[4],m=f[5],y=f[6];h===0||d===0?(e.push({key:"C",data:[s,o,m,y,m,y]}),s=m,o=y):(s!==m||o!==y)&&(wo(s,o,m,y,h,d,u,g,p).forEach(function(k){e.push({key:"C",data:k})}),s=m,o=y);break}case"Z":e.push({key:"Z",data:[]}),s=i,o=r;break}n=c}return e}function il(t){return Math.PI*t/180}function Xe(t,e,n){const s=t*Math.cos(n)-e*Math.sin(n),o=t*Math.sin(n)+e*Math.cos(n);return[s,o]}function wo(t,e,n,s,o,i,r,a,l,c){const f=il(r);let h=[],d=0,u=0,g=0,p=0;if(c)[d,u,g,p]=c;else{[t,e]=Xe(t,e,-f),[n,s]=Xe(n,s,-f);const M=(t-n)/2,A=(e-s)/2;let q=M*M/(o*o)+A*A/(i*i);q>1&&(q=Math.sqrt(q),o=q*o,i=q*i);const H=a===l?-1:1,P=o*o,re=i*i,ue=P*re-P*A*A-re*M*M,Ke=P*A*A+re*M*M,K=H*Math.sqrt(Math.abs(ue/Ke));g=K*o*A/i+(t+n)/2,p=K*-i*M/o+(e+s)/2,d=Math.asin(parseFloat(((e-p)/i).toFixed(9))),u=Math.asin(parseFloat(((s-p)/i).toFixed(9))),t<g&&(d=Math.PI-d),n<g&&(u=Math.PI-u),d<0&&(d=Math.PI*2+d),u<0&&(u=Math.PI*2+u),l&&d>u&&(d=d-Math.PI*2),!l&&u>d&&(u=u-Math.PI*2)}let m=u-d;if(Math.abs(m)>Math.PI*120/180){const M=u,A=n,q=s;l&&u>d?u=d+Math.PI*120/180*1:u=d+Math.PI*120/180*-1,n=g+o*Math.cos(u),s=p+i*Math.sin(u),h=wo(n,s,A,q,o,i,r,0,l,[u,M,g,p])}m=u-d;const y=Math.cos(d),v=Math.sin(d),k=Math.cos(u),w=Math.sin(u),_=Math.tan(m/4),T=4/3*o*_,E=4/3*i*_,V=[t,e],U=[t+T*v,e-E*y],ce=[n+T*w,s-E*k],Z=[n,s];if(U[0]=2*V[0]-U[0],U[1]=2*V[1]-U[1],c)return[U,ce,Z].concat(h);{h=[U,ce,Z].concat(h);const M=[];for(let A=0;A<h.length;A+=3){const q=Xe(h[A][0],h[A][1],f),H=Xe(h[A+1][0],h[A+1][1],f),P=Xe(h[A+2][0],h[A+2][1],f);M.push([q[0],q[1],H[0],H[1],P[0],P[1]])}return M}}const rl={randOffset:cl,randOffsetWithRange:ul,ellipse:vn,doubleLineOps:fl};function X(t,e,n,s,o){return{type:"path",ops:de(t,e,n,s,o)}}function ot(t,e,n){const s=(t||[]).length;if(s>2){const o=[];for(let i=0;i<s-1;i++)o.push(...de(t[i][0],t[i][1],t[i+1][0],t[i+1][1],n));return e&&o.push(...de(t[s-1][0],t[s-1][1],t[0][0],t[0][1],n)),{type:"path",ops:o}}else if(s===2)return X(t[0][0],t[0][1],t[1][0],t[1][1],n);return{type:"path",ops:[]}}function al(t,e){return ot(t,!0,e)}function bo(t,e,n,s,o){const i=[[t,e],[t+n,e],[t+n,e+s],[t,e+s]];return al(i,o)}function ks(t,e){if(t.length){const s=typeof t[0][0]=="number"?[t]:t,o=yt(s[0],1*(1+e.roughness*.2),e),i=e.disableMultiStroke?[]:yt(s[0],1.5*(1+e.roughness*.22),_s(e));for(let r=1;r<s.length;r++){const a=s[r];if(a.length){const l=yt(a,1*(1+e.roughness*.2),e),c=e.disableMultiStroke?[]:yt(a,1.5*(1+e.roughness*.22),_s(e));for(const f of l)f.op!=="move"&&o.push(f);for(const f of c)f.op!=="move"&&i.push(f)}}return{type:"path",ops:o.concat(i)}}return{type:"path",ops:[]}}function vn(t,e,n,s,o){const i=_o(n,s,o);return kn(t,e,o,i).opset}function _o(t,e,n){const s=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),o=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*s)),i=Math.PI*2/o;let r=Math.abs(t/2),a=Math.abs(e/2);const l=1-n.curveFitting;return r+=S(r*l,n),a+=S(a*l,n),{increment:i,rx:r,ry:a}}function kn(t,e,n,s){const[o,i]=Ss(s.increment,t,e,s.rx,s.ry,1,s.increment*Lt(.1,Lt(.4,1,n),n),n);let r=It(o,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[a]=Ss(s.increment,t,e,s.rx,s.ry,1.5,0,n),l=It(a,null,n);r=r.concat(l)}return{estimatedPoints:i,opset:{type:"path",ops:r}}}function ws(t,e,n,s,o,i,r,a,l){const c=t,f=e;let h=Math.abs(n/2),d=Math.abs(s/2);h+=S(h*.01,l),d+=S(d*.01,l);let u=o,g=i;for(;u<0;)u+=Math.PI*2,g+=Math.PI*2;g-u>Math.PI*2&&(u=0,g=Math.PI*2);const p=Math.PI*2/l.curveStepCount,m=Math.min(p/2,(g-u)/2),y=Ms(m,c,f,h,d,u,g,1,l);if(!l.disableMultiStroke){const v=Ms(m,c,f,h,d,u,g,1.5,l);y.push(...v)}return r&&(a?y.push(...de(c,f,c+h*Math.cos(u),f+d*Math.sin(u),l),...de(c,f,c+h*Math.cos(g),f+d*Math.sin(g),l)):y.push({op:"lineTo",data:[c,f]},{op:"lineTo",data:[c+h*Math.cos(u),f+d*Math.sin(u)]})),{type:"path",ops:y}}function bs(t,e){const n=ko(vo(Rn(t))),s=[];let o=[0,0],i=[0,0];for(const{key:r,data:a}of n)switch(r){case"M":{i=[a[0],a[1]],o=[a[0],a[1]];break}case"L":s.push(...de(i[0],i[1],a[0],a[1],e)),i=[a[0],a[1]];break;case"C":{const[l,c,f,h,d,u]=a;s.push(...dl(l,c,f,h,d,u,i,e)),i=[d,u];break}case"Z":s.push(...de(i[0],i[1],o[0],o[1],e)),i=[o[0],o[1]];break}return{type:"path",ops:s}}function nn(t,e){const n=[];for(const s of t)if(s.length){const o=e.maxRandomnessOffset||0,i=s.length;if(i>2){n.push({op:"move",data:[s[0][0]+S(o,e),s[0][1]+S(o,e)]});for(let r=1;r<i;r++)n.push({op:"lineTo",data:[s[r][0]+S(o,e),s[r][1]+S(o,e)]})}}return{type:"fillPath",ops:n}}function ze(t,e){return nl(e,rl).fillPolygons(t,e)}function ll(t,e,n,s,o,i,r){const a=t,l=e;let c=Math.abs(n/2),f=Math.abs(s/2);c+=S(c*.01,r),f+=S(f*.01,r);let h=o,d=i;for(;h<0;)h+=Math.PI*2,d+=Math.PI*2;d-h>Math.PI*2&&(h=0,d=Math.PI*2);const u=(d-h)/r.curveStepCount,g=[];for(let p=h;p<=d;p=p+u)g.push([a+c*Math.cos(p),l+f*Math.sin(p)]);return g.push([a+c*Math.cos(d),l+f*Math.sin(d)]),g.push([a,l]),ze([g],r)}function cl(t,e){return S(t,e)}function ul(t,e,n){return Lt(t,e,n)}function fl(t,e,n,s,o){return de(t,e,n,s,o,!0)}function _s(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function So(t){return t.randomizer||(t.randomizer=new Ua(t.seed||0)),t.randomizer.next()}function Lt(t,e,n,s=1){return n.roughness*s*(So(n)*(e-t)+t)}function S(t,e,n=1){return Lt(-t,t,e,n)}function de(t,e,n,s,o,i=!1){const r=i?o.disableMultiStrokeFill:o.disableMultiStroke,a=wn(t,e,n,s,o,!0,!1);if(r)return a;const l=wn(t,e,n,s,o,!0,!0);return a.concat(l)}function wn(t,e,n,s,o,i,r){const a=Math.pow(t-n,2)+Math.pow(e-s,2),l=Math.sqrt(a);let c=1;l<200?c=1:l>500?c=.4:c=-.0016668*l+1.233334;let f=o.maxRandomnessOffset||0;f*f*100>a&&(f=l/10);const h=f/2,d=.2+So(o)*.2;let u=o.bowing*o.maxRandomnessOffset*(s-e)/200,g=o.bowing*o.maxRandomnessOffset*(t-n)/200;u=S(u,o,c),g=S(g,o,c);const p=[],m=()=>S(h,o,c),y=()=>S(f,o,c),v=o.preserveVertices;return r?p.push({op:"move",data:[t+(v?0:m()),e+(v?0:m())]}):p.push({op:"move",data:[t+(v?0:S(f,o,c)),e+(v?0:S(f,o,c))]}),r?p.push({op:"bcurveTo",data:[u+t+(n-t)*d+m(),g+e+(s-e)*d+m(),u+t+2*(n-t)*d+m(),g+e+2*(s-e)*d+m(),n+(v?0:m()),s+(v?0:m())]}):p.push({op:"bcurveTo",data:[u+t+(n-t)*d+y(),g+e+(s-e)*d+y(),u+t+2*(n-t)*d+y(),g+e+2*(s-e)*d+y(),n+(v?0:y()),s+(v?0:y())]}),p}function yt(t,e,n){if(!t.length)return[];const s=[];s.push([t[0][0]+S(e,n),t[0][1]+S(e,n)]),s.push([t[0][0]+S(e,n),t[0][1]+S(e,n)]);for(let o=1;o<t.length;o++)s.push([t[o][0]+S(e,n),t[o][1]+S(e,n)]),o===t.length-1&&s.push([t[o][0]+S(e,n),t[o][1]+S(e,n)]);return It(s,null,n)}function It(t,e,n){const s=t.length,o=[];if(s>3){const i=[],r=1-n.curveTightness;o.push({op:"move",data:[t[1][0],t[1][1]]});for(let a=1;a+2<s;a++){const l=t[a];i[0]=[l[0],l[1]],i[1]=[l[0]+(r*t[a+1][0]-r*t[a-1][0])/6,l[1]+(r*t[a+1][1]-r*t[a-1][1])/6],i[2]=[t[a+1][0]+(r*t[a][0]-r*t[a+2][0])/6,t[a+1][1]+(r*t[a][1]-r*t[a+2][1])/6],i[3]=[t[a+1][0],t[a+1][1]],o.push({op:"bcurveTo",data:[i[1][0],i[1][1],i[2][0],i[2][1],i[3][0],i[3][1]]})}}else s===3?(o.push({op:"move",data:[t[1][0],t[1][1]]}),o.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):s===2&&o.push(...wn(t[0][0],t[0][1],t[1][0],t[1][1],n,!0,!0));return o}function Ss(t,e,n,s,o,i,r,a){const l=a.roughness===0,c=[],f=[];if(l){t=t/4,f.push([e+s*Math.cos(-t),n+o*Math.sin(-t)]);for(let h=0;h<=Math.PI*2;h=h+t){const d=[e+s*Math.cos(h),n+o*Math.sin(h)];c.push(d),f.push(d)}f.push([e+s*Math.cos(0),n+o*Math.sin(0)]),f.push([e+s*Math.cos(t),n+o*Math.sin(t)])}else{const h=S(.5,a)-Math.PI/2;f.push([S(i,a)+e+.9*s*Math.cos(h-t),S(i,a)+n+.9*o*Math.sin(h-t)]);const d=Math.PI*2+h-.01;for(let u=h;u<d;u=u+t){const g=[S(i,a)+e+s*Math.cos(u),S(i,a)+n+o*Math.sin(u)];c.push(g),f.push(g)}f.push([S(i,a)+e+s*Math.cos(h+Math.PI*2+r*.5),S(i,a)+n+o*Math.sin(h+Math.PI*2+r*.5)]),f.push([S(i,a)+e+.98*s*Math.cos(h+r),S(i,a)+n+.98*o*Math.sin(h+r)]),f.push([S(i,a)+e+.9*s*Math.cos(h+r*.5),S(i,a)+n+.9*o*Math.sin(h+r*.5)])}return[f,c]}function Ms(t,e,n,s,o,i,r,a,l){const c=i+S(.1,l),f=[];f.push([S(a,l)+e+.9*s*Math.cos(c-t),S(a,l)+n+.9*o*Math.sin(c-t)]);for(let h=c;h<=r;h=h+t)f.push([S(a,l)+e+s*Math.cos(h),S(a,l)+n+o*Math.sin(h)]);return f.push([e+s*Math.cos(r),n+o*Math.sin(r)]),f.push([e+s*Math.cos(r),n+o*Math.sin(r)]),It(f,null,l)}function dl(t,e,n,s,o,i,r,a){const l=[],c=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let f=[0,0];const h=a.disableMultiStroke?1:2,d=a.preserveVertices;for(let u=0;u<h;u++)u===0?l.push({op:"move",data:[r[0],r[1]]}):l.push({op:"move",data:[r[0]+(d?0:S(c[0],a)),r[1]+(d?0:S(c[0],a))]}),f=d?[o,i]:[o+S(c[u],a),i+S(c[u],a)],l.push({op:"bcurveTo",data:[t+S(c[u],a),e+S(c[u],a),n+S(c[u],a),s+S(c[u],a),f[0],f[1]]});return l}function et(t){return[...t]}function Os(t,e=0){const n=t.length;if(n<3)throw new Error("A curve must have at least three points.");const s=[];if(n===3)s.push(et(t[0]),et(t[1]),et(t[2]),et(t[2]));else{const o=[];o.push(t[0],t[0]);for(let a=1;a<t.length;a++)o.push(t[a]),a===t.length-1&&o.push(t[a]);const i=[],r=1-e;s.push(et(o[0]));for(let a=1;a+2<o.length;a++){const l=o[a];i[0]=[l[0],l[1]],i[1]=[l[0]+(r*o[a+1][0]-r*o[a-1][0])/6,l[1]+(r*o[a+1][1]-r*o[a-1][1])/6],i[2]=[o[a+1][0]+(r*o[a][0]-r*o[a+2][0])/6,o[a+1][1]+(r*o[a][1]-r*o[a+2][1])/6],i[3]=[o[a+1][0],o[a+1][1]],s.push(i[1],i[2],i[3])}}return s}function hl(t,e){return Math.sqrt(Mt(t,e))}function Mt(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function pl(t,e,n){const s=Mt(e,n);if(s===0)return Mt(t,e);let o=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/s;return o=Math.max(0,Math.min(1,o)),Mt(t,Re(e,n,o))}function Re(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function gl(t,e){const n=t[e+0],s=t[e+1],o=t[e+2],i=t[e+3];let r=3*s[0]-2*n[0]-i[0];r*=r;let a=3*s[1]-2*n[1]-i[1];a*=a;let l=3*o[0]-2*i[0]-n[0];l*=l;let c=3*o[1]-2*i[1]-n[1];return c*=c,r<l&&(r=l),a<c&&(a=c),r+a}function bn(t,e,n,s){const o=s||[];if(gl(t,e)<n){const i=t[e+0];o.length?hl(o[o.length-1],i)>1&&o.push(i):o.push(i),o.push(t[e+3])}else{const r=t[e+0],a=t[e+1],l=t[e+2],c=t[e+3],f=Re(r,a,.5),h=Re(a,l,.5),d=Re(l,c,.5),u=Re(f,h,.5),g=Re(h,d,.5),p=Re(u,g,.5);bn([r,f,u,p],0,n,o),bn([p,g,d,c],0,n,o)}return o}function ml(t,e){return Rt(t,0,t.length,e)}function Rt(t,e,n,s,o){const i=o||[],r=t[e],a=t[n-1];let l=0,c=1;for(let f=e+1;f<n-1;++f){const h=pl(t[f],r,a);h>l&&(l=h,c=f)}return Math.sqrt(l)>s?(Rt(t,e,c+1,s,i),Rt(t,c,n,s,i)):(i.length||i.push(r),i.push(a)),i}function _n(t,e=.15,n){const s=[],o=(t.length-1)/3;for(let i=0;i<o;i++){const r=i*3;bn(t,r,e,s)}return n&&n>0?Rt(s,0,s.length,n):s}function yl(t,e,n){const s=Rn(t),o=ko(vo(s)),i=[];let r=[],a=[0,0],l=[];const c=()=>{l.length>=4&&r.push(..._n(l,e)),l=[]},f=()=>{c(),r.length&&(i.push(r),r=[])};for(const{key:d,data:u}of o)switch(d){case"M":f(),a=[u[0],u[1]],r.push(a);break;case"L":c(),r.push([u[0],u[1]]);break;case"C":if(!l.length){const g=r.length?r[r.length-1]:a;l.push([g[0],g[1]])}l.push([u[0],u[1]]),l.push([u[2],u[3]]),l.push([u[4],u[5]]);break;case"Z":c(),r.push([a[0],a[1]]);break}if(f(),!n)return i;const h=[];for(const d of i){const u=ml(d,n);u.length&&h.push(u)}return h}const Q="none";class vl{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return mo()}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,s){return{shape:e,sets:n||[],options:s||this.defaultOptions}}line(e,n,s,o,i){const r=this._o(i);return this._d("line",[X(e,n,s,o,r)],r)}rectangle(e,n,s,o,i){const r=this._o(i),a=[],l=bo(e,n,s,o,r);if(r.fill){const c=[[e,n],[e+s,n],[e+s,n+o],[e,n+o]];r.fillStyle==="solid"?a.push(nn([c],r)):a.push(ze([c],r))}return r.stroke!==Q&&a.push(l),this._d("rectangle",a,r)}ellipse(e,n,s,o,i){const r=this._o(i),a=[],l=_o(s,o,r),c=kn(e,n,r,l);if(r.fill)if(r.fillStyle==="solid"){const f=kn(e,n,r,l).opset;f.type="fillPath",a.push(f)}else a.push(ze([c.estimatedPoints],r));return r.stroke!==Q&&a.push(c.opset),this._d("ellipse",a,r)}circle(e,n,s,o){const i=this.ellipse(e,n,s,s,o);return i.shape="circle",i}linearPath(e,n){const s=this._o(n);return this._d("linearPath",[ot(e,!1,s)],s)}arc(e,n,s,o,i,r,a=!1,l){const c=this._o(l),f=[],h=ws(e,n,s,o,i,r,a,!0,c);if(a&&c.fill)if(c.fillStyle==="solid"){const d=Object.assign({},c);d.disableMultiStroke=!0;const u=ws(e,n,s,o,i,r,!0,!1,d);u.type="fillPath",f.push(u)}else f.push(ll(e,n,s,o,i,r,c));return c.stroke!==Q&&f.push(h),this._d("arc",f,c)}curve(e,n){const s=this._o(n),o=[],i=ks(e,s);if(s.fill&&s.fill!==Q)if(s.fillStyle==="solid"){const r=ks(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(r.ops)})}else{const r=[],a=e;if(a.length){const c=typeof a[0][0]=="number"?[a]:a;for(const f of c)f.length<3?r.push(...f):f.length===3?r.push(..._n(Os([f[0],f[0],f[1],f[2]]),10,(1+s.roughness)/2)):r.push(..._n(Os(f),10,(1+s.roughness)/2))}r.length&&o.push(ze([r],s))}return s.stroke!==Q&&o.push(i),this._d("curve",o,s)}polygon(e,n){const s=this._o(n),o=[],i=ot(e,!0,s);return s.fill&&(s.fillStyle==="solid"?o.push(nn([e],s)):o.push(ze([e],s))),s.stroke!==Q&&o.push(i),this._d("polygon",o,s)}path(e,n){const s=this._o(n),o=[];if(!e)return this._d("path",o,s);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const i=s.fill&&s.fill!=="transparent"&&s.fill!==Q,r=s.stroke!==Q,a=!!(s.simplification&&s.simplification<1),l=a?4-4*(s.simplification||1):(1+s.roughness)/2,c=yl(e,1,l),f=bs(e,s);if(i)if(s.fillStyle==="solid")if(c.length===1){const h=bs(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else o.push(nn(c,s));else o.push(ze(c,s));return r&&(a?c.forEach(h=>{o.push(ot(h,!1,s))}):o.push(f)),this._d("path",o,s)}opsToPath(e,n){let s="";for(const o of e.ops){const i=typeof n=="number"&&n>=0?o.data.map(r=>+r.toFixed(n)):o.data;switch(o.op){case"move":s+=`M${i[0]} ${i[1]} `;break;case"bcurveTo":s+=`C${i[0]} ${i[1]}, ${i[2]} ${i[3]}, ${i[4]} ${i[5]} `;break;case"lineTo":s+=`L${i[0]} ${i[1]} `;break}}return s.trim()}toPaths(e){const n=e.sets||[],s=e.options||this.defaultOptions,o=[];for(const i of n){let r=null;switch(i.type){case"path":r={d:this.opsToPath(i),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:Q};break;case"fillPath":r={d:this.opsToPath(i),stroke:Q,strokeWidth:0,fill:s.fill||Q};break;case"fillSketch":r=this.fillSketch(i,s);break}r&&o.push(r)}return o}fillSketch(e,n){let s=n.fillWeight;return s<0&&(s=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||Q,strokeWidth:s,fill:Q}}_mergedShape(e){return e.filter((n,s)=>s===0?!0:n.op!=="move")}}const Mo="http://www.w3.org/2000/svg",kl=800;let sn=null;function wl(){return sn||(sn=new vl().defaultOptions),sn}function on(t,e,n){return{...wl(),maxRandomnessOffset:2,roughness:t==="highlight"?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,disableMultiStroke:t!=="double",disableMultiStrokeFill:!1,seed:e,...n}}function bl(t){const e=t.padding;if(e||e===0){if(typeof e=="number")return[e,e,e,e];if(Array.isArray(e)){const n=e;if(n.length)switch(n.length){case 4:return[...n];case 1:return[n[0],n[0],n[0],n[0]];case 2:return[...n,...n];case 3:return[...n,n[1]];default:return[n[0],n[1],n[2],n[3]]}}}return[5,5,5,5]}function _l(t,e,n,s,o,i){const r=[];let a=n.strokeWidth||2;const l=bl(n),c=n.animate===void 0?!0:!!n.animate,f=n.iterations||2,h=n.rtl?1:0,d=on("single",i,n);switch(n.type){case"underline":{const u=e.y+e.h+l[2];for(let g=h;g<f+h;g++)g%2?r.push(X(e.x+e.w,u,e.x,u,d)):r.push(X(e.x,u,e.x+e.w,u,d));break}case"strike-through":{const u=e.y+e.h/2;for(let g=h;g<f+h;g++)g%2?r.push(X(e.x+e.w,u,e.x,u,d)):r.push(X(e.x,u,e.x+e.w,u,d));break}case"box":{const u=e.x-l[3],g=e.y-l[0],p=e.w+(l[1]+l[3]),m=e.h+(l[0]+l[2]);for(let y=0;y<f;y++)r.push(bo(u,g,p,m,d));break}case"bracket":{const u=Array.isArray(n.brackets)?n.brackets:n.brackets?[n.brackets]:["right"],g=e.x-l[3]*2,p=e.x+e.w+l[1]*2,m=e.y-l[0]*2,y=e.y+e.h+l[2]*2;for(const v of u){let k;switch(v){case"bottom":k=[[g,e.y+e.h],[g,y],[p,y],[p,e.y+e.h]];break;case"top":k=[[g,e.y],[g,m],[p,m],[p,e.y]];break;case"left":k=[[e.x,m],[g,m],[g,y],[e.x,y]];break;case"right":k=[[e.x+e.w,m],[p,m],[p,y],[e.x+e.w,y]];break}k&&r.push(ot(k,!1,d))}break}case"crossed-off":{const u=e.x,g=e.y,p=u+e.w,m=g+e.h;for(let y=h;y<f+h;y++)y%2?r.push(X(p,m,u,g,d)):r.push(X(u,g,p,m,d));for(let y=h;y<f+h;y++)y%2?r.push(X(u,m,p,g,d)):r.push(X(p,g,u,m,d));break}case"circle":{const u=on("double",i,n),g=e.w+(l[1]+l[3]),p=e.h+(l[0]+l[2]),m=e.x-l[3]+g/2,y=e.y-l[0]+p/2,v=Math.floor(f/2),k=f-v*2;for(let w=0;w<v;w++)r.push(vn(m,y,g,p,u));for(let w=0;w<k;w++)r.push(vn(m,y,g,p,d));break}case"highlight":{const u=on("highlight",i,n);a=e.h*.95;const g=e.y+e.h/2;for(let p=h;p<f+h;p++)p%2?r.push(X(e.x+e.w,g,e.x,g,u)):r.push(X(e.x,g,e.x+e.w,g,u));break}}if(r.length){const u=Sl(r),g=[],p=[];let m=0;const y=(v,k,w)=>v.setAttribute(k,w);for(const v of u){const k=document.createElementNS(Mo,"path");if(y(k,"d",v),y(k,"fill","none"),y(k,"stroke",n.color||"currentColor"),y(k,"stroke-width",`${a}`),n.opacity!==void 0&&y(k,"style",`opacity:${n.opacity}`),c){const w=k.getTotalLength();g.push(w),m+=w}t.appendChild(k),p.push(k)}if(c){let v=0;for(let k=0;k<p.length;k++){const w=p[k],_=g[k],T=m?o*(_/m):0,E=s+v,V=w.style;V.strokeDashoffset=`${_}`,V.strokeDasharray=`${_}`,V.animation=`rough-notation-dash ${T}ms ease-out ${E}ms forwards`,v+=T}return Ts(o+s)}}return Ts(0)}function Ts(t){return new Promise(e=>setTimeout(e,t))}function Sl(t){const e=[];for(const n of t){let s="";for(const o of n.ops){const i=o.data;switch(o.op){case"move":s.trim()&&e.push(s.trim()),s=`M${i[0]} ${i[1]} `;break;case"bcurveTo":s+=`C${i[0]} ${i[1]}, ${i[2]} ${i[3]}, ${i[4]} ${i[5]} `;break;case"lineTo":s+=`L${i[0]} ${i[1]} `;break}}s.trim()&&e.push(s.trim())}return e}function Ml(){if(!window.__rno_kf_s){const t=window.__rno_kf_s=document.createElement("style");t.textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(t)}}var Ol=Object.defineProperty,Tl=(t,e,n)=>e in t?Ol(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ne=(t,e,n)=>(Tl(t,typeof e!="symbol"?e+"":e,n),n);class Cl{constructor(e,n){ne(this,"_state","unattached"),ne(this,"_config"),ne(this,"_resizing",!1),ne(this,"_ro"),ne(this,"_seed",mo()),ne(this,"_e"),ne(this,"_svg"),ne(this,"_lastSizes",[]),ne(this,"_animationDelay",0),ne(this,"_resizeListener",()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,this._state==="showing"&&this.haveRectsChanged()&&this.show()},400))}),ne(this,"pendingRefresh"),this._e=e,this._config=JSON.parse(JSON.stringify(n)),this.attach()}getConfig(e){return this._config[e]}setConfig(e,n){this._config[e]!==n&&(this._config[e]=n,this.refresh())}get animate(){return this._config.animate}set animate(e){this._config.animate=e}get animationDuration(){return this._config.animationDuration}set animationDuration(e){this._config.animationDuration=e}get iterations(){return this._config.iterations}set iterations(e){this._config.iterations=e}get color(){return this._config.color}set color(e){this._config.color!==e&&(this._config.color=e,this.refresh())}get class(){return this._config.class}set class(e){this._config.class!==e&&(this._config.class=e,this._svg&&this._svg.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" ")))}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(e){this._config.strokeWidth!==e&&(this._config.strokeWidth=e,this.refresh())}get padding(){return this._config.padding}set padding(e){this._config.padding!==e&&(this._config.padding=e,this.refresh())}attach(){if(this._state==="unattached"&&this._e.parentElement){Ml();const e=this._svg=document.createElementNS(Mo,"svg");e.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" "));const n=e.style;n.position="absolute",n.top="0",n.left="0",n.overflow="visible",n.pointerEvents="none",n.width="100px",n.height="100px";const s=this._config.type==="highlight";if(this._e.insertAdjacentElement(s?"beforebegin":"afterend",e),this._state="not-showing",s){const o=window.getComputedStyle(this._e).position;(!o||o==="static")&&(this._e.style.position="relative")}this.attachListeners()}}detachListeners(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver(e=>{for(const n of e)n.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){const e=this.rects();if(e.length===this._lastSizes.length){for(let n=0;n<e.length;n++)if(!this.isSameRect(e[n],this._lastSizes[n]))return!0}else return!0}return!1}isSameRect(e,n){const s=(o,i)=>Math.round(o)===Math.round(i);return s(e.x,n.x)&&s(e.y,n.y)&&s(e.w,n.w)&&s(e.h,n.h)}isShowing(){return this._state!=="not-showing"}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}async show(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&await this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&await this.render(this._svg,!1);break}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()}async render(e,n){let s=this._config;n&&(s=JSON.parse(JSON.stringify(this._config)),s.animate=!1);const o=this.rects();let i=0;o.forEach(c=>i+=c.w);const r=s.animationDuration||kl;let a=0;const l=[];for(let c=0;c<o.length;c++){const f=o[c],h=r*(f.w/i);l.push(_l(e,o[c],s,a+this._animationDelay+(this._config.delay||0),h,this._seed)),a+=h}return this._lastSizes=o,this._state="showing",await Promise.all(l)}rects(){const e=[];if(this._svg)if(this._config.multiline){const n=this._e.getClientRects();for(let s=0;s<n.length;s++)e.push(this.svgRect(this._svg,n[s]))}else e.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return e}svgRect(e,n){const s=e.getBoundingClientRect(),o=n;return{x:(o.x||o.left)-(s.x||s.left),y:(o.y||o.top)-(s.y||s.top),w:o.width,h:o.height}}}function $l(t,e){return new Cl(t,e)}function G(t,e){return t.class=[t.class,e].filter(Boolean).join(" "),t}const Cs={box:t=>Object.assign(t,{type:"box"}),circle:t=>Object.assign(t,{type:"circle"}),underline:t=>Object.assign(t,{type:"underline"}),highlight:t=>Object.assign(t,{type:"highlight"}),"strike-through":t=>Object.assign(t,{type:"strike-through"}),"crossed-off":t=>Object.assign(t,{type:"crossed-off"}),bracket:t=>Object.assign(t,{type:"bracket"}),strike:t=>Object.assign(t,{type:"strike-through"}),cross:t=>Object.assign(t,{type:"crossed-off"}),crossed:t=>Object.assign(t,{type:"crossed-off"}),linethrough:t=>Object.assign(t,{type:"strike-through"}),"line-through":t=>Object.assign(t,{type:"strike-through"}),black:t=>G(t,"text-black"),blue:t=>G(t,"text-blue"),cyan:t=>G(t,"text-cyan"),gray:t=>G(t,"text-gray"),green:t=>G(t,"text-green"),indigo:t=>G(t,"text-indigo"),lime:t=>G(t,"text-lime"),orange:t=>G(t,"text-orange"),pink:t=>G(t,"text-pink"),purple:t=>G(t,"text-purple"),red:t=>G(t,"text-red"),teal:t=>G(t,"text-teal"),white:t=>G(t,"text-white"),yellow:t=>G(t,"text-yellow")},Al=[[/^delay-?(\d+)?$/,(t,e,n)=>{const s=(t[1]?Number.parseInt(t[1]):n)||300;return e.delay=s,e}],[/^(?:op|opacity)-?(\d+)?$/,(t,e,n)=>{const s=(t[1]?Number.parseInt(t[1]):n)||100;return e.opacity=s/100,e}]];function El(){return{install(t){t.directive("mark",{name:"v-mark",mounted:(e,n)=>{const{isPrintMode:s}=je(),o=b(()=>{const a=typeof n.value=="object"&&!Array.isArray(n.value)?{...n.value}:{at:n.value};let l={at:a.at};const c=Object.entries(n.modifiers).filter(([h,d])=>{if(Cs[h])return l=Cs[h](l,d),!1;for(const[u,g]of Al){const p=h.match(u);if(p)return l=g(p,l,d),!1}return!0});c.length&&console.warn("[Slidev] Invalid modifiers for v-mark:",c);const f={...l,...a};return f.type||="underline",s.value&&(f.animationDuration=1),f}),i=$l(e,o.value),r=St(e,n,o.value.at);if(!r){i.show();return}e.watchStopHandle=xe(()=>{let a;o.value.class&&(i.class=o.value.class),o.value.color&&(i.color=o.value.color);const l=o.value.at;l===!0?a=!0:l===!1?a=!1:a=r.isActive.value,a!=null&&(a?i.show():i.hide())})},unmounted:e=>{e.watchStopHandle?.()}})}}}function Pl(){return{install(t){const e=Xo();t.directive("motion",{name:"v-motion",mounted(n,s,o,i){const r=Ge(s,rt),a=Ge(s,Dt),l=Ge(s,jt),{currentPage:c,clicks:f,isPrintMode:h}=je(),d=o.props={...o.props},u={...d.initial,...d.variants?.["slidev-initial"]},g={...d.enter,...d.variants?.["slidev-enter"]},p={...d.leave,...d.variants?.["slidev-leave"]};delete d.initial,delete d.enter,delete d.leave;const m=`${Ln()}-`,y=[];for(const k of Object.keys(d))if(k.startsWith("click-")){const w=k.slice(6),_=w.includes("-")?w.split("-").map(Number):+w,T=m+w;y.push({id:T,at:_,variant:{...d[k]},info:r?.value.calculate(_)}),delete d[k]}y.sort((k,w)=>(Array.isArray(k.at)?k.at[0]:k.at)-(Array.isArray(w.at)?w.at[0]:w.at)),e.created(n,s,o,i),e.mounted(n,s,o,i);const v=n.motionInstance;v.clickIds=y.map(k=>k.id),v.set(u),v.watchStopHandle=ee([a,c,f].filter(Boolean),()=>{const k=go.get(n)?.visibilityState.value??"shown";if(!r?.value||!["slide","presenter"].includes(l?.value??"")){const w={...u,...g};for(const{variant:_}of y)Object.assign(w,_);v.set(w)}else if(h.value||a?.value===c.value)if(k==="shown"){const w={...u,...g};for(const{variant:_,info:T}of y)(!T||T.isActive.value)&&Object.assign(w,_);h.value?v.set(w):v.apply(w)}else v.apply(k==="before"?u:p);else v.apply((a?.value??-1)>c.value?u:p)},{immediate:!0})},unmounted(n){n.motionInstance.watchStopHandle()}})}}}const Ll=[];function Il(){const t=[];function e(n){if(!I.remote||I.remote===n.query.password)return!0;if(I.remote&&n.query.password===void 0){const s=prompt("Enter password");if(I.remote===s)return!0}return n.params.no?{path:`/${n.params.no}`}:{path:""}}return t.push({name:"entry",path:"/entry",component:()=>C(()=>import("./slidev/entry-DkoGOTLb.js"),__vite__mapDeps([35,1,3,4,36])),beforeEnter:e},{name:"overview",path:"/overview",component:()=>C(()=>import("./slidev/overview-D4nu1YcH.js"),__vite__mapDeps([37,18,1,38,39,40,8,9,41,42,3,4])),beforeEnter:e},{name:"notes",path:"/notes",component:()=>C(()=>import("./slidev/notes-Ci1267l7.js"),__vite__mapDeps([43,1,38,39,42,3,4])),beforeEnter:e},{name:"presenter",path:"/presenter/:no",component:()=>C(()=>import("./slidev/presenter-CH4EKgSY.js"),__vite__mapDeps([44,1,40,8,9,41,45,22,18,42,3,4,46,38,39,47,48,49])),beforeEnter:e},{path:"/presenter",redirect:{path:"/presenter/1"}}),t.push({name:"play",path:"/:no",component:()=>C(()=>import("./slidev/play-DyDNrhkg.js"),__vite__mapDeps([50,1,40,8,9,41,45,22,18,42,3,4,46,51]))},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>C(()=>import("./slidev/404-B0XDn5iq.js"),__vite__mapDeps([52,1,3,4,53]))}),Ll.reduce((n,s)=>s(n),t)}async function Rl(t){function e(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}e(),window.addEventListener("resize",e);const n=ei({history:ti("/2024/nuxt-nation/"),routes:Il()});t.use(n),t.use(Fa()),t.use(Va()),t.use(El()),t.use(Ba()),t.use(Pl()),t.use(si,{container:"#twoslash-container"});const s={app:t,router:n};for(const o of Da)await o(s)}async function Nl(){const t=ni(xa);await Rl(t),t.mount("#app")}Nl();export{Bl as $,Zr as A,dn as B,kt as C,Kr as D,Xl as E,rc as F,jl as G,Ct as H,Vr as I,Wl as J,Ks as K,Jr as L,dt as M,Jl as N,pc as O,sc as P,nc as Q,se as R,Ur as S,Ht as T,Ws as U,qa as V,xs as W,ui as X,Gl as Y,Mn as Z,Wi as _,je as a,ut as a0,Ul as a1,Zl as a2,Yl as a3,fc as a4,uc as a5,cc as a6,te as a7,fo as a8,ho as a9,Ns as aa,zs as ab,Dr as ac,Us as ad,Dt as ae,jt as af,rt as ag,Js as ah,hc as ai,Fl as aj,Ln as ak,fn as al,ii as am,Vl as an,Ye as ao,lc as ap,Xs as b,Vi as c,dc as d,Vs as e,Ql as f,We as g,ft as h,gs as i,Gr as j,$t as k,oc as l,ic as m,tc as n,ln as o,Hl as p,ec as q,Fn as r,Ut as s,ac as t,ji as u,I as v,C as w,ql as x,zl as y,Kl as z};
