import{Q as f5,d as LA,r as P1,A as Hr,ab as v5,M as p5,f as go,o as Zn,n as g5,G as R1,aL as y5,aj as ro,g as at,e as zA,ag as Oa,b as m5,w as b5,v as _5,x as w5,U as q1}from"./modules/vue-B3AvCZz5.js";import{t as E5,b as S5,i as O5,I as hb,an as I5,aj as $5}from"./index-BAzvpLrm.js";import{I as T5}from"./slidev/default-CSJmTnLs.js";import"./modules/shiki-CeF19YAb.js";function P5(){return{isColorSchemaConfigured:O5,isDark:S5,toggleDark:E5}}const{min:R5,max:q5}=Math,Jr=(i,e=0,t=1)=>R5(q5(e,i),t),fb=i=>{i._clipped=!1,i._unclipped=i.slice(0);for(let e=0;e<=3;e++)e<3?((i[e]<0||i[e]>255)&&(i._clipped=!0),i[e]=Jr(i[e],0,255)):e===3&&(i[e]=Jr(i[e],0,1));return i},WA={};for(let i of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])WA[`[object ${i}]`]=i.toLowerCase();function ne(i){return WA[Object.prototype.toString.call(i)]||"object"}const Z=(i,e=null)=>i.length>=3?Array.prototype.slice.call(i):ne(i[0])=="object"&&e?e.split("").filter(t=>i[0][t]!==void 0).map(t=>i[0][t]):i[0].slice(0),on=i=>{if(i.length<2)return null;const e=i.length-1;return ne(i[e])=="string"?i[e].toLowerCase():null},{PI:ko,min:HA,max:GA}=Math,mt=i=>Math.round(i*100)/100,Gm=i=>Math.round(i*100)/100,Zt=ko*2,Ia=ko/3,C5=ko/180,x5=180/ko;function UA(i){return[...i.slice(0,3).reverse(),...i.slice(3)]}const X={format:{},autodetect:[]};class x{constructor(...e){const t=this;if(ne(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];let r=on(e),n=!1;if(!r){n=!0,X.sorted||(X.autodetect=X.autodetect.sort((s,o)=>o.p-s.p),X.sorted=!0);for(let s of X.autodetect)if(r=s.test(...e),r)break}if(X.format[r]){const s=X.format[r].apply(null,n?e:e.slice(0,-1));t._rgb=fb(s)}else throw new Error("unknown format: "+e);t._rgb.length===3&&t._rgb.push(1)}toString(){return ne(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const D5="3.1.2",Q=(...i)=>new x(...i);Q.version=D5;const Ki={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},M5=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,A5=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,VA=i=>{if(i.match(M5)){(i.length===4||i.length===7)&&(i=i.substr(1)),i.length===3&&(i=i.split(""),i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]);const e=parseInt(i,16),t=e>>16,r=e>>8&255,n=e&255;return[t,r,n,1]}if(i.match(A5)){(i.length===5||i.length===9)&&(i=i.substr(1)),i.length===4&&(i=i.split(""),i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]+i[3]+i[3]);const e=parseInt(i,16),t=e>>24&255,r=e>>16&255,n=e>>8&255,s=Math.round((e&255)/255*100)/100;return[t,r,n,s]}throw new Error(`unknown hex color: ${i}`)},{round:io}=Math,KA=(...i)=>{let[e,t,r,n]=Z(i,"rgba"),s=on(i)||"auto";n===void 0&&(n=1),s==="auto"&&(s=n<1?"rgba":"rgb"),e=io(e),t=io(t),r=io(r);let a="000000"+(e<<16|t<<8|r).toString(16);a=a.substr(a.length-6);let u="0"+io(n*255).toString(16);switch(u=u.substr(u.length-2),s.toLowerCase()){case"rgba":return`#${a}${u}`;case"argb":return`#${u}${a}`;default:return`#${a}`}};x.prototype.name=function(){const i=KA(this._rgb,"rgb");for(let e of Object.keys(Ki))if(Ki[e]===i)return e.toLowerCase();return i};X.format.named=i=>{if(i=i.toLowerCase(),Ki[i])return VA(Ki[i]);throw new Error("unknown color name: "+i)};X.autodetect.push({p:5,test:(i,...e)=>{if(!e.length&&ne(i)==="string"&&Ki[i.toLowerCase()])return"named"}});x.prototype.alpha=function(i,e=!1){return i!==void 0&&ne(i)==="number"?e?(this._rgb[3]=i,this):new x([this._rgb[0],this._rgb[1],this._rgb[2],i],"rgb"):this._rgb[3]};x.prototype.clipped=function(){return this._rgb._clipped||!1};const Ht={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},k5=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Jt(i){const e=k5.get(String(i).toLowerCase());if(!e)throw new Error("unknown Lab illuminant "+i);Ht.labWhitePoint=i,Ht.Xn=e[0],Ht.Zn=e[1]}function as(){return Ht.labWhitePoint}const vb=(...i)=>{i=Z(i,"lab");const[e,t,r]=i,[n,s,o]=N5(e,t,r),[a,u,l]=YA(n,s,o);return[a,u,l,i.length>3?i[3]:1]},N5=(i,e,t)=>{const{kE:r,kK:n,kKE:s,Xn:o,Yn:a,Zn:u}=Ht,l=(i+16)/116,d=.002*e+l,c=l-.005*t,h=d*d*d,f=c*c*c,v=h>r?h:(116*d-16)/n,g=i>s?Math.pow((i+16)/116,3):i/n,_=f>r?f:(116*c-16)/n,y=v*o,p=g*a,O=_*u;return[y,p,O]},$a=i=>{const e=Math.sign(i);return i=Math.abs(i),(i<=.0031308?i*12.92:1.055*Math.pow(i,1/2.4)-.055)*e},YA=(i,e,t)=>{const{MtxAdaptMa:r,MtxAdaptMaI:n,MtxXYZ2RGB:s,RefWhiteRGB:o,Xn:a,Yn:u,Zn:l}=Ht,d=a*r.m00+u*r.m10+l*r.m20,c=a*r.m01+u*r.m11+l*r.m21,h=a*r.m02+u*r.m12+l*r.m22,f=o.X*r.m00+o.Y*r.m10+o.Z*r.m20,v=o.X*r.m01+o.Y*r.m11+o.Z*r.m21,g=o.X*r.m02+o.Y*r.m12+o.Z*r.m22,_=(i*r.m00+e*r.m10+t*r.m20)*(f/d),y=(i*r.m01+e*r.m11+t*r.m21)*(v/c),p=(i*r.m02+e*r.m12+t*r.m22)*(g/h),O=_*n.m00+y*n.m10+p*n.m20,m=_*n.m01+y*n.m11+p*n.m21,S=_*n.m02+y*n.m12+p*n.m22,$=$a(O*s.m00+m*s.m10+S*s.m20),w=$a(O*s.m01+m*s.m11+S*s.m21),b=$a(O*s.m02+m*s.m12+S*s.m22);return[$*255,w*255,b*255]},pb=(...i)=>{const[e,t,r,...n]=Z(i,"rgb"),[s,o,a]=XA(e,t,r),[u,l,d]=F5(s,o,a);return[u,l,d,...n.length>0&&n[0]<1?[n[0]]:[]]};function F5(i,e,t){const{Xn:r,Yn:n,Zn:s,kE:o,kK:a}=Ht,u=i/r,l=e/n,d=t/s,c=u>o?Math.pow(u,1/3):(a*u+16)/116,h=l>o?Math.pow(l,1/3):(a*l+16)/116,f=d>o?Math.pow(d,1/3):(a*d+16)/116;return[116*h-16,500*(c-h),200*(h-f)]}function Ta(i){const e=Math.sign(i);return i=Math.abs(i),(i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4))*e}const XA=(i,e,t)=>{i=Ta(i/255),e=Ta(e/255),t=Ta(t/255);const{MtxRGB2XYZ:r,MtxAdaptMa:n,MtxAdaptMaI:s,Xn:o,Yn:a,Zn:u,As:l,Bs:d,Cs:c}=Ht;let h=i*r.m00+e*r.m10+t*r.m20,f=i*r.m01+e*r.m11+t*r.m21,v=i*r.m02+e*r.m12+t*r.m22;const g=o*n.m00+a*n.m10+u*n.m20,_=o*n.m01+a*n.m11+u*n.m21,y=o*n.m02+a*n.m12+u*n.m22;let p=h*n.m00+f*n.m10+v*n.m20,O=h*n.m01+f*n.m11+v*n.m21,m=h*n.m02+f*n.m12+v*n.m22;return p*=g/l,O*=_/d,m*=y/c,h=p*s.m00+O*s.m10+m*s.m20,f=p*s.m01+O*s.m11+m*s.m21,v=p*s.m02+O*s.m12+m*s.m22,[h,f,v]};x.prototype.lab=function(){return pb(this._rgb)};const B5=(...i)=>new x(...i,"lab");Object.assign(Q,{lab:B5,getLabWhitePoint:as,setLabWhitePoint:Jt});X.format.lab=vb;X.autodetect.push({p:2,test:(...i)=>{if(i=Z(i,"lab"),ne(i)==="array"&&i.length===3)return"lab"}});x.prototype.darken=function(i=1){const e=this,t=e.lab();return t[0]-=Ht.Kn*i,new x(t,"lab").alpha(e.alpha(),!0)};x.prototype.brighten=function(i=1){return this.darken(-i)};x.prototype.darker=x.prototype.darken;x.prototype.brighter=x.prototype.brighten;x.prototype.get=function(i){const[e,t]=i.split("."),r=this[e]();if(t){const n=e.indexOf(t)-(e.substr(0,2)==="ok"?2:0);if(n>-1)return r[n];throw new Error(`unknown channel ${t} in mode ${e}`)}else return r};const{pow:j5}=Math,L5=1e-7,z5=20;x.prototype.luminance=function(i,e="rgb"){if(i!==void 0&&ne(i)==="number"){if(i===0)return new x([0,0,0,this._rgb[3]],"rgb");if(i===1)return new x([255,255,255,this._rgb[3]],"rgb");let t=this.luminance(),r=z5;const n=(o,a)=>{const u=o.interpolate(a,.5,e),l=u.luminance();return Math.abs(i-l)<L5||!r--?u:l>i?n(o,u):n(u,a)},s=(t>i?n(new x([0,0,0]),this):n(this,new x([255,255,255]))).rgb();return new x([...s,this._rgb[3]])}return W5(...this._rgb.slice(0,3))};const W5=(i,e,t)=>(i=Pa(i),e=Pa(e),t=Pa(t),.2126*i+.7152*e+.0722*t),Pa=i=>(i/=255,i<=.03928?i/12.92:j5((i+.055)/1.055,2.4)),Ze={},Yi=(i,e,t=.5,...r)=>{let n=r[0]||"lrgb";if(!Ze[n]&&!r.length&&(n=Object.keys(Ze)[0]),!Ze[n])throw new Error(`interpolation mode ${n} is not defined`);return ne(i)!=="object"&&(i=new x(i)),ne(e)!=="object"&&(e=new x(e)),Ze[n](i,e,t).alpha(i.alpha()+t*(e.alpha()-i.alpha()))};x.prototype.mix=x.prototype.interpolate=function(i,e=.5,...t){return Yi(this,i,e,...t)};x.prototype.premultiply=function(i=!1){const e=this._rgb,t=e[3];return i?(this._rgb=[e[0]*t,e[1]*t,e[2]*t,t],this):new x([e[0]*t,e[1]*t,e[2]*t,t],"rgb")};const{sin:H5,cos:G5}=Math,ZA=(...i)=>{let[e,t,r]=Z(i,"lch");return isNaN(r)&&(r=0),r=r*C5,[e,G5(r)*t,H5(r)*t]},gb=(...i)=>{i=Z(i,"lch");const[e,t,r]=i,[n,s,o]=ZA(e,t,r),[a,u,l]=vb(n,s,o);return[a,u,l,i.length>3?i[3]:1]},U5=(...i)=>{const e=UA(Z(i,"hcl"));return gb(...e)},{sqrt:V5,atan2:K5,round:Y5}=Math,JA=(...i)=>{const[e,t,r]=Z(i,"lab"),n=V5(t*t+r*r);let s=(K5(r,t)*x5+360)%360;return Y5(n*1e4)===0&&(s=Number.NaN),[e,n,s]},yb=(...i)=>{const[e,t,r,...n]=Z(i,"rgb"),[s,o,a]=pb(e,t,r),[u,l,d]=JA(s,o,a);return[u,l,d,...n.length>0&&n[0]<1?[n[0]]:[]]};x.prototype.lch=function(){return yb(this._rgb)};x.prototype.hcl=function(){return UA(yb(this._rgb))};const X5=(...i)=>new x(...i,"lch"),Z5=(...i)=>new x(...i,"hcl");Object.assign(Q,{lch:X5,hcl:Z5});X.format.lch=gb;X.format.hcl=U5;["lch","hcl"].forEach(i=>X.autodetect.push({p:2,test:(...e)=>{if(e=Z(e,i),ne(e)==="array"&&e.length===3)return i}}));x.prototype.saturate=function(i=1){const e=this,t=e.lch();return t[1]+=Ht.Kn*i,t[1]<0&&(t[1]=0),new x(t,"lch").alpha(e.alpha(),!0)};x.prototype.desaturate=function(i=1){return this.saturate(-i)};x.prototype.set=function(i,e,t=!1){const[r,n]=i.split("."),s=this[r]();if(n){const o=r.indexOf(n)-(r.substr(0,2)==="ok"?2:0);if(o>-1){if(ne(e)=="string")switch(e.charAt(0)){case"+":s[o]+=+e;break;case"-":s[o]+=+e;break;case"*":s[o]*=+e.substr(1);break;case"/":s[o]/=+e.substr(1);break;default:s[o]=+e}else if(ne(e)==="number")s[o]=e;else throw new Error("unsupported value for Color.set");const a=new x(s,r);return t?(this._rgb=a._rgb,this):a}throw new Error(`unknown channel ${n} in mode ${r}`)}else return s};x.prototype.tint=function(i=.5,...e){return Yi(this,"white",i,...e)};x.prototype.shade=function(i=.5,...e){return Yi(this,"black",i,...e)};const J5=(i,e,t)=>{const r=i._rgb,n=e._rgb;return new x(r[0]+t*(n[0]-r[0]),r[1]+t*(n[1]-r[1]),r[2]+t*(n[2]-r[2]),"rgb")};Ze.rgb=J5;const{sqrt:Ra,pow:Ri}=Math,Q5=(i,e,t)=>{const[r,n,s]=i._rgb,[o,a,u]=e._rgb;return new x(Ra(Ri(r,2)*(1-t)+Ri(o,2)*t),Ra(Ri(n,2)*(1-t)+Ri(a,2)*t),Ra(Ri(s,2)*(1-t)+Ri(u,2)*t),"rgb")};Ze.lrgb=Q5;const eB=(i,e,t)=>{const r=i.lab(),n=e.lab();return new x(r[0]+t*(n[0]-r[0]),r[1]+t*(n[1]-r[1]),r[2]+t*(n[2]-r[2]),"lab")};Ze.lab=eB;const an=(i,e,t,r)=>{let n,s;r==="hsl"?(n=i.hsl(),s=e.hsl()):r==="hsv"?(n=i.hsv(),s=e.hsv()):r==="hcg"?(n=i.hcg(),s=e.hcg()):r==="hsi"?(n=i.hsi(),s=e.hsi()):r==="lch"||r==="hcl"?(r="hcl",n=i.hcl(),s=e.hcl()):r==="oklch"&&(n=i.oklch().reverse(),s=e.oklch().reverse());let o,a,u,l,d,c;(r.substr(0,1)==="h"||r==="oklch")&&([o,u,d]=n,[a,l,c]=s);let h,f,v,g;return!isNaN(o)&&!isNaN(a)?(a>o&&a-o>180?g=a-(o+360):a<o&&o-a>180?g=a+360-o:g=a-o,f=o+t*g):isNaN(o)?isNaN(a)?f=Number.NaN:(f=a,(d==1||d==0)&&r!="hsv"&&(h=l)):(f=o,(c==1||c==0)&&r!="hsv"&&(h=u)),h===void 0&&(h=u+t*(l-u)),v=d+t*(c-d),r==="oklch"?new x([v,h,f],r):new x([f,h,v],r)},QA=(i,e,t)=>an(i,e,t,"lch");Ze.lch=QA;Ze.hcl=QA;const tB=i=>{if(ne(i)=="number"&&i>=0&&i<=16777215){const e=i>>16,t=i>>8&255,r=i&255;return[e,t,r,1]}throw new Error("unknown num color: "+i)},rB=(...i)=>{const[e,t,r]=Z(i,"rgb");return(e<<16)+(t<<8)+r};x.prototype.num=function(){return rB(this._rgb)};const iB=(...i)=>new x(...i,"num");Object.assign(Q,{num:iB});X.format.num=tB;X.autodetect.push({p:5,test:(...i)=>{if(i.length===1&&ne(i[0])==="number"&&i[0]>=0&&i[0]<=16777215)return"num"}});const nB=(i,e,t)=>{const r=i.num(),n=e.num();return new x(r+t*(n-r),"num")};Ze.num=nB;const{floor:sB}=Math,oB=(...i)=>{i=Z(i,"hcg");let[e,t,r]=i,n,s,o;r=r*255;const a=t*255;if(t===0)n=s=o=r;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const u=sB(e),l=e-u,d=r*(1-t),c=d+a*(1-l),h=d+a*l,f=d+a;switch(u){case 0:[n,s,o]=[f,h,d];break;case 1:[n,s,o]=[c,f,d];break;case 2:[n,s,o]=[d,f,h];break;case 3:[n,s,o]=[d,c,f];break;case 4:[n,s,o]=[h,d,f];break;case 5:[n,s,o]=[f,d,c];break}}return[n,s,o,i.length>3?i[3]:1]},aB=(...i)=>{const[e,t,r]=Z(i,"rgb"),n=HA(e,t,r),s=GA(e,t,r),o=s-n,a=o*100/255,u=n/(255-o)*100;let l;return o===0?l=Number.NaN:(e===s&&(l=(t-r)/o),t===s&&(l=2+(r-e)/o),r===s&&(l=4+(e-t)/o),l*=60,l<0&&(l+=360)),[l,a,u]};x.prototype.hcg=function(){return aB(this._rgb)};const uB=(...i)=>new x(...i,"hcg");Q.hcg=uB;X.format.hcg=oB;X.autodetect.push({p:1,test:(...i)=>{if(i=Z(i,"hcg"),ne(i)==="array"&&i.length===3)return"hcg"}});const lB=(i,e,t)=>an(i,e,t,"hcg");Ze.hcg=lB;const{cos:qi}=Math,dB=(...i)=>{i=Z(i,"hsi");let[e,t,r]=i,n,s,o;return isNaN(e)&&(e=0),isNaN(t)&&(t=0),e>360&&(e-=360),e<0&&(e+=360),e/=360,e<1/3?(o=(1-t)/3,n=(1+t*qi(Zt*e)/qi(Ia-Zt*e))/3,s=1-(o+n)):e<2/3?(e-=1/3,n=(1-t)/3,s=(1+t*qi(Zt*e)/qi(Ia-Zt*e))/3,o=1-(n+s)):(e-=2/3,s=(1-t)/3,o=(1+t*qi(Zt*e)/qi(Ia-Zt*e))/3,n=1-(s+o)),n=Jr(r*n*3),s=Jr(r*s*3),o=Jr(r*o*3),[n*255,s*255,o*255,i.length>3?i[3]:1]},{min:cB,sqrt:hB,acos:fB}=Math,vB=(...i)=>{let[e,t,r]=Z(i,"rgb");e/=255,t/=255,r/=255;let n;const s=cB(e,t,r),o=(e+t+r)/3,a=o>0?1-s/o:0;return a===0?n=NaN:(n=(e-t+(e-r))/2,n/=hB((e-t)*(e-t)+(e-r)*(t-r)),n=fB(n),r>t&&(n=Zt-n),n/=Zt),[n*360,a,o]};x.prototype.hsi=function(){return vB(this._rgb)};const pB=(...i)=>new x(...i,"hsi");Q.hsi=pB;X.format.hsi=dB;X.autodetect.push({p:2,test:(...i)=>{if(i=Z(i,"hsi"),ne(i)==="array"&&i.length===3)return"hsi"}});const gB=(i,e,t)=>an(i,e,t,"hsi");Ze.hsi=gB;const Um=(...i)=>{i=Z(i,"hsl");const[e,t,r]=i;let n,s,o;if(t===0)n=s=o=r*255;else{const a=[0,0,0],u=[0,0,0],l=r<.5?r*(1+t):r+t-r*t,d=2*r-l,c=e/360;a[0]=c+1/3,a[1]=c,a[2]=c-1/3;for(let h=0;h<3;h++)a[h]<0&&(a[h]+=1),a[h]>1&&(a[h]-=1),6*a[h]<1?u[h]=d+(l-d)*6*a[h]:2*a[h]<1?u[h]=l:3*a[h]<2?u[h]=d+(l-d)*(2/3-a[h])*6:u[h]=d;[n,s,o]=[u[0]*255,u[1]*255,u[2]*255]}return i.length>3?[n,s,o,i[3]]:[n,s,o,1]},ek=(...i)=>{i=Z(i,"rgba");let[e,t,r]=i;e/=255,t/=255,r/=255;const n=HA(e,t,r),s=GA(e,t,r),o=(s+n)/2;let a,u;return s===n?(a=0,u=Number.NaN):a=o<.5?(s-n)/(s+n):(s-n)/(2-s-n),e==s?u=(t-r)/(s-n):t==s?u=2+(r-e)/(s-n):r==s&&(u=4+(e-t)/(s-n)),u*=60,u<0&&(u+=360),i.length>3&&i[3]!==void 0?[u,a,o,i[3]]:[u,a,o]};x.prototype.hsl=function(){return ek(this._rgb)};const yB=(...i)=>new x(...i,"hsl");Q.hsl=yB;X.format.hsl=Um;X.autodetect.push({p:2,test:(...i)=>{if(i=Z(i,"hsl"),ne(i)==="array"&&i.length===3)return"hsl"}});const mB=(i,e,t)=>an(i,e,t,"hsl");Ze.hsl=mB;const{floor:bB}=Math,_B=(...i)=>{i=Z(i,"hsv");let[e,t,r]=i,n,s,o;if(r*=255,t===0)n=s=o=r;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const a=bB(e),u=e-a,l=r*(1-t),d=r*(1-t*u),c=r*(1-t*(1-u));switch(a){case 0:[n,s,o]=[r,c,l];break;case 1:[n,s,o]=[d,r,l];break;case 2:[n,s,o]=[l,r,c];break;case 3:[n,s,o]=[l,d,r];break;case 4:[n,s,o]=[c,l,r];break;case 5:[n,s,o]=[r,l,d];break}}return[n,s,o,i.length>3?i[3]:1]},{min:wB,max:EB}=Math,SB=(...i)=>{i=Z(i,"rgb");let[e,t,r]=i;const n=wB(e,t,r),s=EB(e,t,r),o=s-n;let a,u,l;return l=s/255,s===0?(a=Number.NaN,u=0):(u=o/s,e===s&&(a=(t-r)/o),t===s&&(a=2+(r-e)/o),r===s&&(a=4+(e-t)/o),a*=60,a<0&&(a+=360)),[a,u,l]};x.prototype.hsv=function(){return SB(this._rgb)};const OB=(...i)=>new x(...i,"hsv");Q.hsv=OB;X.format.hsv=_B;X.autodetect.push({p:2,test:(...i)=>{if(i=Z(i,"hsv"),ne(i)==="array"&&i.length===3)return"hsv"}});const IB=(i,e,t)=>an(i,e,t,"hsv");Ze.hsv=IB;function wo(i,e){let t=i.length;Array.isArray(i[0])||(i=[i]),Array.isArray(e[0])||(e=e.map(o=>[o]));let r=e[0].length,n=e[0].map((o,a)=>e.map(u=>u[a])),s=i.map(o=>n.map(a=>Array.isArray(o)?o.reduce((u,l,d)=>u+l*(a[d]||0),0):a.reduce((u,l)=>u+l*o,0)));return t===1&&(s=s[0]),r===1?s.map(o=>o[0]):s}const mb=(...i)=>{i=Z(i,"lab");const[e,t,r,...n]=i,[s,o,a]=$B([e,t,r]),[u,l,d]=YA(s,o,a);return[u,l,d,...n.length>0&&n[0]<1?[n[0]]:[]]};function $B(i){var e=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],t=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],r=wo(t,i);return wo(e,r.map(n=>n**3))}const bb=(...i)=>{const[e,t,r,...n]=Z(i,"rgb"),s=XA(e,t,r);return[...TB(s),...n.length>0&&n[0]<1?[n[0]]:[]]};function TB(i){const e=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],t=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],r=wo(e,i);return wo(t,r.map(n=>Math.cbrt(n)))}x.prototype.oklab=function(){return bb(this._rgb)};const PB=(...i)=>new x(...i,"oklab");Object.assign(Q,{oklab:PB});X.format.oklab=mb;X.autodetect.push({p:2,test:(...i)=>{if(i=Z(i,"oklab"),ne(i)==="array"&&i.length===3)return"oklab"}});const RB=(i,e,t)=>{const r=i.oklab(),n=e.oklab();return new x(r[0]+t*(n[0]-r[0]),r[1]+t*(n[1]-r[1]),r[2]+t*(n[2]-r[2]),"oklab")};Ze.oklab=RB;const qB=(i,e,t)=>an(i,e,t,"oklch");Ze.oklch=qB;const{pow:qa,sqrt:Ca,PI:xa,cos:C1,sin:x1,atan2:CB}=Math,xB=(i,e="lrgb",t=null)=>{const r=i.length;t||(t=Array.from(new Array(r)).map(()=>1));const n=r/t.reduce(function(c,h){return c+h});if(t.forEach((c,h)=>{t[h]*=n}),i=i.map(c=>new x(c)),e==="lrgb")return DB(i,t);const s=i.shift(),o=s.get(e),a=[];let u=0,l=0;for(let c=0;c<o.length;c++)if(o[c]=(o[c]||0)*t[0],a.push(isNaN(o[c])?0:t[0]),e.charAt(c)==="h"&&!isNaN(o[c])){const h=o[c]/180*xa;u+=C1(h)*t[0],l+=x1(h)*t[0]}let d=s.alpha()*t[0];i.forEach((c,h)=>{const f=c.get(e);d+=c.alpha()*t[h+1];for(let v=0;v<o.length;v++)if(!isNaN(f[v]))if(a[v]+=t[h+1],e.charAt(v)==="h"){const g=f[v]/180*xa;u+=C1(g)*t[h+1],l+=x1(g)*t[h+1]}else o[v]+=f[v]*t[h+1]});for(let c=0;c<o.length;c++)if(e.charAt(c)==="h"){let h=CB(l/a[c],u/a[c])/xa*180;for(;h<0;)h+=360;for(;h>=360;)h-=360;o[c]=h}else o[c]=o[c]/a[c];return d/=r,new x(o,e).alpha(d>.99999?1:d,!0)},DB=(i,e)=>{const t=i.length,r=[0,0,0,0];for(let n=0;n<i.length;n++){const s=i[n],o=e[n]/t,a=s._rgb;r[0]+=qa(a[0],2)*o,r[1]+=qa(a[1],2)*o,r[2]+=qa(a[2],2)*o,r[3]+=a[3]*o}return r[0]=Ca(r[0]),r[1]=Ca(r[1]),r[2]=Ca(r[2]),r[3]>.9999999&&(r[3]=1),new x(fb(r))},{pow:MB}=Math;function Eo(i){let e="rgb",t=Q("#ccc"),r=0,n=[0,1],s=[],o=[0,0],a=!1,u=[],l=!1,d=0,c=1,h=!1,f={},v=!0,g=1;const _=function(w){if(w=w||["#fff","#000"],w&&ne(w)==="string"&&Q.brewer&&Q.brewer[w.toLowerCase()]&&(w=Q.brewer[w.toLowerCase()]),ne(w)==="array"){w.length===1&&(w=[w[0],w[0]]),w=w.slice(0);for(let b=0;b<w.length;b++)w[b]=Q(w[b]);s.length=0;for(let b=0;b<w.length;b++)s.push(b/(w.length-1))}return S(),u=w},y=function(w){if(a!=null){const b=a.length-1;let E=0;for(;E<b&&w>=a[E];)E++;return E-1}return 0};let p=w=>w,O=w=>w;const m=function(w,b){let E,I;if(b==null&&(b=!1),isNaN(w)||w===null)return t;b?I=w:a&&a.length>2?I=y(w)/(a.length-2):c!==d?I=(w-d)/(c-d):I=1,I=O(I),b||(I=p(I)),g!==1&&(I=MB(I,g)),I=o[0]+I*(1-o[0]-o[1]),I=Jr(I,0,1);const T=Math.floor(I*1e4);if(v&&f[T])E=f[T];else{if(ne(u)==="array")for(let P=0;P<s.length;P++){const R=s[P];if(I<=R){E=u[P];break}if(I>=R&&P===s.length-1){E=u[P];break}if(I>R&&I<s[P+1]){I=(I-R)/(s[P+1]-R),E=Q.interpolate(u[P],u[P+1],I,e);break}}else ne(u)==="function"&&(E=u(I));v&&(f[T]=E)}return E};var S=()=>f={};_(i);const $=function(w){const b=Q(m(w));return l&&b[l]?b[l]():b};return $.classes=function(w){if(w!=null){if(ne(w)==="array")a=w,n=[w[0],w[w.length-1]];else{const b=Q.analyze(n);w===0?a=[b.min,b.max]:a=Q.limits(b,"e",w)}return $}return a},$.domain=function(w){if(!arguments.length)return n;d=w[0],c=w[w.length-1],s=[];const b=u.length;if(w.length===b&&d!==c)for(let E of Array.from(w))s.push((E-d)/(c-d));else{for(let E=0;E<b;E++)s.push(E/(b-1));if(w.length>2){const E=w.map((T,P)=>P/(w.length-1)),I=w.map(T=>(T-d)/(c-d));I.every((T,P)=>E[P]===T)||(O=T=>{if(T<=0||T>=1)return T;let P=0;for(;T>=I[P+1];)P++;const R=(T-I[P])/(I[P+1]-I[P]);return E[P]+R*(E[P+1]-E[P])})}}return n=[d,c],$},$.mode=function(w){return arguments.length?(e=w,S(),$):e},$.range=function(w,b){return _(w),$},$.out=function(w){return l=w,$},$.spread=function(w){return arguments.length?(r=w,$):r},$.correctLightness=function(w){return w==null&&(w=!0),h=w,S(),h?p=function(b){const E=m(0,!0).lab()[0],I=m(1,!0).lab()[0],T=E>I;let P=m(b,!0).lab()[0];const R=E+(I-E)*b;let C=P-R,M=0,K=1,j=20;for(;Math.abs(C)>.01&&j-- >0;)(function(){return T&&(C*=-1),C<0?(M=b,b+=(K-b)*.5):(K=b,b+=(M-b)*.5),P=m(b,!0).lab()[0],C=P-R})();return b}:p=b=>b,$},$.padding=function(w){return w!=null?(ne(w)==="number"&&(w=[w,w]),o=w,$):o},$.colors=function(w,b){arguments.length<2&&(b="hex");let E=[];if(arguments.length===0)E=u.slice(0);else if(w===1)E=[$(.5)];else if(w>1){const I=n[0],T=n[1]-I;E=AB(0,w).map(P=>$(I+P/(w-1)*T))}else{i=[];let I=[];if(a&&a.length>2)for(let T=1,P=a.length,R=1<=P;R?T<P:T>P;R?T++:T--)I.push((a[T-1]+a[T])*.5);else I=n;E=I.map(T=>$(T))}return Q[b]&&(E=E.map(I=>I[b]())),E},$.cache=function(w){return w!=null?(v=w,$):v},$.gamma=function(w){return w!=null?(g=w,$):g},$.nodata=function(w){return w!=null?(t=Q(w),$):t},$}function AB(i,e,t){let r=[],n=i<e,s=e;for(let o=i;n?o<s:o>s;n?o++:o--)r.push(o);return r}const kB=function(i){let e=[1,1];for(let t=1;t<i;t++){let r=[1];for(let n=1;n<=e.length;n++)r[n]=(e[n]||0)+e[n-1];e=r}return e},NB=function(i){let e,t,r,n;if(i=i.map(s=>new x(s)),i.length===2)[t,r]=i.map(s=>s.lab()),e=function(s){const o=[0,1,2].map(a=>t[a]+s*(r[a]-t[a]));return new x(o,"lab")};else if(i.length===3)[t,r,n]=i.map(s=>s.lab()),e=function(s){const o=[0,1,2].map(a=>(1-s)*(1-s)*t[a]+2*(1-s)*s*r[a]+s*s*n[a]);return new x(o,"lab")};else if(i.length===4){let s;[t,r,n,s]=i.map(o=>o.lab()),e=function(o){const a=[0,1,2].map(u=>(1-o)*(1-o)*(1-o)*t[u]+3*(1-o)*(1-o)*o*r[u]+3*(1-o)*o*o*n[u]+o*o*o*s[u]);return new x(a,"lab")}}else if(i.length>=5){let s,o,a;s=i.map(u=>u.lab()),a=i.length-1,o=kB(a),e=function(u){const l=1-u,d=[0,1,2].map(c=>s.reduce((h,f,v)=>h+o[v]*l**(a-v)*u**v*f[c],0));return new x(d,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return e},FB=i=>{const e=NB(i);return e.scale=()=>Eo(e),e},{round:tk}=Math;x.prototype.rgb=function(i=!0){return i===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(tk)};x.prototype.rgba=function(i=!0){return this._rgb.slice(0,4).map((e,t)=>t<3?i===!1?e:tk(e):e)};const BB=(...i)=>new x(...i,"rgb");Object.assign(Q,{rgb:BB});X.format.rgb=(...i)=>{const e=Z(i,"rgba");return e[3]===void 0&&(e[3]=1),e};X.autodetect.push({p:3,test:(...i)=>{if(i=Z(i,"rgba"),ne(i)==="array"&&(i.length===3||i.length===4&&ne(i[3])=="number"&&i[3]>=0&&i[3]<=1))return"rgb"}});const At=(i,e,t)=>{if(!At[t])throw new Error("unknown blend mode "+t);return At[t](i,e)},Rr=i=>(e,t)=>{const r=Q(t).rgb(),n=Q(e).rgb();return Q.rgb(i(r,n))},qr=i=>(e,t)=>{const r=[];return r[0]=i(e[0],t[0]),r[1]=i(e[1],t[1]),r[2]=i(e[2],t[2]),r},jB=i=>i,LB=(i,e)=>i*e/255,zB=(i,e)=>i>e?e:i,WB=(i,e)=>i>e?i:e,HB=(i,e)=>255*(1-(1-i/255)*(1-e/255)),GB=(i,e)=>e<128?2*i*e/255:255*(1-2*(1-i/255)*(1-e/255)),UB=(i,e)=>255*(1-(1-e/255)/(i/255)),VB=(i,e)=>i===255?255:(i=255*(e/255)/(1-i/255),i>255?255:i);At.normal=Rr(qr(jB));At.multiply=Rr(qr(LB));At.screen=Rr(qr(HB));At.overlay=Rr(qr(GB));At.darken=Rr(qr(zB));At.lighten=Rr(qr(WB));At.dodge=Rr(qr(VB));At.burn=Rr(qr(UB));const{pow:KB,sin:YB,cos:XB}=Math;function ZB(i=300,e=-1.5,t=1,r=1,n=[0,1]){let s=0,o;ne(n)==="array"?o=n[1]-n[0]:(o=0,n=[n,n]);const a=function(u){const l=Zt*((i+120)/360+e*u),d=KB(n[0]+o*u,r),h=(s!==0?t[0]+u*s:t)*d*(1-d)/2,f=XB(l),v=YB(l),g=d+h*(-.14861*f+1.78277*v),_=d+h*(-.29227*f-.90649*v),y=d+h*(1.97294*f);return Q(fb([g*255,_*255,y*255,1]))};return a.start=function(u){return u==null?i:(i=u,a)},a.rotations=function(u){return u==null?e:(e=u,a)},a.gamma=function(u){return u==null?r:(r=u,a)},a.hue=function(u){return u==null?t:(t=u,ne(t)==="array"?(s=t[1]-t[0],s===0&&(t=t[1])):s=0,a)},a.lightness=function(u){return u==null?n:(ne(u)==="array"?(n=u,o=u[1]-u[0]):(n=[u,u],o=0),a)},a.scale=()=>Q.scale(a),a.hue(t),a}const JB="0123456789abcdef",{floor:QB,random:e3}=Math,t3=()=>{let i="#";for(let e=0;e<6;e++)i+=JB.charAt(QB(e3()*16));return new x(i,"hex")},{log:D1,pow:r3,floor:i3,abs:n3}=Math;function rk(i,e=null){const t={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return ne(i)==="object"&&(i=Object.values(i)),i.forEach(r=>{e&&ne(r)==="object"&&(r=r[e]),r!=null&&!isNaN(r)&&(t.values.push(r),t.sum+=r,r<t.min&&(t.min=r),r>t.max&&(t.max=r),t.count+=1)}),t.domain=[t.min,t.max],t.limits=(r,n)=>ik(t,r,n),t}function ik(i,e="equal",t=7){ne(i)=="array"&&(i=rk(i));const{min:r,max:n}=i,s=i.values.sort((a,u)=>a-u);if(t===1)return[r,n];const o=[];if(e.substr(0,1)==="c"&&(o.push(r),o.push(n)),e.substr(0,1)==="e"){o.push(r);for(let a=1;a<t;a++)o.push(r+a/t*(n-r));o.push(n)}else if(e.substr(0,1)==="l"){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const a=Math.LOG10E*D1(r),u=Math.LOG10E*D1(n);o.push(r);for(let l=1;l<t;l++)o.push(r3(10,a+l/t*(u-a)));o.push(n)}else if(e.substr(0,1)==="q"){o.push(r);for(let a=1;a<t;a++){const u=(s.length-1)*a/t,l=i3(u);if(l===u)o.push(s[l]);else{const d=u-l;o.push(s[l]*(1-d)+s[l+1]*d)}}o.push(n)}else if(e.substr(0,1)==="k"){let a;const u=s.length,l=new Array(u),d=new Array(t);let c=!0,h=0,f=null;f=[],f.push(r);for(let _=1;_<t;_++)f.push(r+_/t*(n-r));for(f.push(n);c;){for(let y=0;y<t;y++)d[y]=0;for(let y=0;y<u;y++){const p=s[y];let O=Number.MAX_VALUE,m;for(let S=0;S<t;S++){const $=n3(f[S]-p);$<O&&(O=$,m=S),d[m]++,l[y]=m}}const _=new Array(t);for(let y=0;y<t;y++)_[y]=null;for(let y=0;y<u;y++)a=l[y],_[a]===null?_[a]=s[y]:_[a]+=s[y];for(let y=0;y<t;y++)_[y]*=1/d[y];c=!1;for(let y=0;y<t;y++)if(_[y]!==f[y]){c=!0;break}f=_,h++,h>200&&(c=!1)}const v={};for(let _=0;_<t;_++)v[_]=[];for(let _=0;_<u;_++)a=l[_],v[a].push(s[_]);let g=[];for(let _=0;_<t;_++)g.push(v[_][0]),g.push(v[_][v[_].length-1]);g=g.sort((_,y)=>_-y),o.push(g[0]);for(let _=1;_<g.length;_+=2){const y=g[_];!isNaN(y)&&o.indexOf(y)===-1&&o.push(y)}}return o}const s3=(i,e)=>{i=new x(i),e=new x(e);const t=i.luminance(),r=e.luminance();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const M1=.027,o3=5e-4,a3=.1,A1=1.14,no=.022,k1=1.414,u3=(i,e)=>{i=new x(i),e=new x(e),i.alpha()<1&&(i=Yi(e,i,i.alpha(),"rgb"));const t=N1(...i.rgb()),r=N1(...e.rgb()),n=t>=no?t:t+Math.pow(no-t,k1),s=r>=no?r:r+Math.pow(no-r,k1),o=Math.pow(s,.56)-Math.pow(n,.57),a=Math.pow(s,.65)-Math.pow(n,.62),u=Math.abs(s-n)<o3?0:n<s?o*A1:a*A1;return(Math.abs(u)<a3?0:u>0?u-M1:u+M1)*100};function N1(i,e,t){return .2126729*Math.pow(i/255,2.4)+.7151522*Math.pow(e/255,2.4)+.072175*Math.pow(t/255,2.4)}const{sqrt:Xt,pow:Re,min:l3,max:d3,atan2:F1,abs:B1,cos:so,sin:j1,exp:c3,PI:L1}=Math;function h3(i,e,t=1,r=1,n=1){var s=function(fe){return 360*fe/(2*L1)},o=function(fe){return 2*L1*fe/360};i=new x(i),e=new x(e);const[a,u,l]=Array.from(i.lab()),[d,c,h]=Array.from(e.lab()),f=(a+d)/2,v=Xt(Re(u,2)+Re(l,2)),g=Xt(Re(c,2)+Re(h,2)),_=(v+g)/2,y=.5*(1-Xt(Re(_,7)/(Re(_,7)+Re(25,7)))),p=u*(1+y),O=c*(1+y),m=Xt(Re(p,2)+Re(l,2)),S=Xt(Re(O,2)+Re(h,2)),$=(m+S)/2,w=s(F1(l,p)),b=s(F1(h,O)),E=w>=0?w:w+360,I=b>=0?b:b+360,T=B1(E-I)>180?(E+I+360)/2:(E+I)/2,P=1-.17*so(o(T-30))+.24*so(o(2*T))+.32*so(o(3*T+6))-.2*so(o(4*T-63));let R=I-E;R=B1(R)<=180?R:I<=E?R+360:R-360,R=2*Xt(m*S)*j1(o(R)/2);const C=d-a,M=S-m,K=1+.015*Re(f-50,2)/Xt(20+Re(f-50,2)),j=1+.045*$,J=1+.015*$*P,te=30*c3(-Re((T-275)/25,2)),W=-(2*Xt(Re($,7)/(Re($,7)+Re(25,7))))*j1(2*o(te)),ue=Xt(Re(C/(t*K),2)+Re(M/(r*j),2)+Re(R/(n*J),2)+W*(M/(r*j))*(R/(n*J)));return d3(0,l3(100,ue))}function f3(i,e,t="lab"){i=new x(i),e=new x(e);const r=i.get(t),n=e.get(t);let s=0;for(let o in r){const a=(r[o]||0)-(n[o]||0);s+=a*a}return Math.sqrt(s)}const v3=(...i)=>{try{return new x(...i),!0}catch{return!1}},p3={cool(){return Eo([Q.hsl(180,1,.9),Q.hsl(250,.7,.4)])},hot(){return Eo(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Vm={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},nk=Object.keys(Vm),z1=new Map(nk.map(i=>[i.toLowerCase(),i])),g3=typeof Proxy=="function"?new Proxy(Vm,{get(i,e){const t=e.toLowerCase();if(z1.has(t))return i[z1.get(t)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(nk)}}):Vm,y3=(...i)=>{i=Z(i,"cmyk");const[e,t,r,n]=i,s=i.length>4?i[4]:1;return n===1?[0,0,0,s]:[e>=1?0:255*(1-e)*(1-n),t>=1?0:255*(1-t)*(1-n),r>=1?0:255*(1-r)*(1-n),s]},{max:W1}=Math,m3=(...i)=>{let[e,t,r]=Z(i,"rgb");e=e/255,t=t/255,r=r/255;const n=1-W1(e,W1(t,r)),s=n<1?1/(1-n):0,o=(1-e-n)*s,a=(1-t-n)*s,u=(1-r-n)*s;return[o,a,u,n]};x.prototype.cmyk=function(){return m3(this._rgb)};const b3=(...i)=>new x(...i,"cmyk");Object.assign(Q,{cmyk:b3});X.format.cmyk=y3;X.autodetect.push({p:2,test:(...i)=>{if(i=Z(i,"cmyk"),ne(i)==="array"&&i.length===4)return"cmyk"}});const _3=(...i)=>{const e=Z(i,"hsla");let t=on(i)||"lsa";return e[0]=mt(e[0]||0)+"deg",e[1]=mt(e[1]*100)+"%",e[2]=mt(e[2]*100)+"%",t==="hsla"||e.length>3&&e[3]<1?(e[3]="/ "+(e.length>3?e[3]:1),t="hsla"):e.length=3,`${t.substr(0,3)}(${e.join(" ")})`},w3=(...i)=>{const e=Z(i,"lab");let t=on(i)||"lab";return e[0]=mt(e[0])+"%",e[1]=mt(e[1]),e[2]=mt(e[2]),t==="laba"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lab(${e.join(" ")})`},E3=(...i)=>{const e=Z(i,"lch");let t=on(i)||"lab";return e[0]=mt(e[0])+"%",e[1]=mt(e[1]),e[2]=isNaN(e[2])?"none":mt(e[2])+"deg",t==="lcha"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lch(${e.join(" ")})`},S3=(...i)=>{const e=Z(i,"lab");return e[0]=mt(e[0]*100)+"%",e[1]=Gm(e[1]),e[2]=Gm(e[2]),e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklab(${e.join(" ")})`},sk=(...i)=>{const[e,t,r,...n]=Z(i,"rgb"),[s,o,a]=bb(e,t,r),[u,l,d]=JA(s,o,a);return[u,l,d,...n.length>0&&n[0]<1?[n[0]]:[]]},O3=(...i)=>{const e=Z(i,"lch");return e[0]=mt(e[0]*100)+"%",e[1]=Gm(e[1]),e[2]=isNaN(e[2])?"none":mt(e[2])+"deg",e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklch(${e.join(" ")})`},{round:Da}=Math,I3=(...i)=>{const e=Z(i,"rgba");let t=on(i)||"rgb";if(t.substr(0,3)==="hsl")return _3(ek(e),t);if(t.substr(0,3)==="lab"){const r=as();Jt("d50");const n=w3(pb(e),t);return Jt(r),n}if(t.substr(0,3)==="lch"){const r=as();Jt("d50");const n=E3(yb(e),t);return Jt(r),n}return t.substr(0,5)==="oklab"?S3(bb(e)):t.substr(0,5)==="oklch"?O3(sk(e)):(e[0]=Da(e[0]),e[1]=Da(e[1]),e[2]=Da(e[2]),(t==="rgba"||e.length>3&&e[3]<1)&&(e[3]="/ "+(e.length>3?e[3]:1),t="rgba"),`${t.substr(0,3)}(${e.slice(0,t==="rgb"?3:4).join(" ")})`)},ok=(...i)=>{i=Z(i,"lch");const[e,t,r,...n]=i,[s,o,a]=ZA(e,t,r),[u,l,d]=mb(s,o,a);return[u,l,d,...n.length>0&&n[0]<1?[n[0]]:[]]},tr=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,Dt=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,So=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,wt=/\s*/.source,un=/\s+/.source,_b=/\s*,\s*/.source,No=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,ln=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,ak=new RegExp("^rgba?\\("+wt+[tr,tr,tr].join(un)+ln+"\\)$"),uk=new RegExp("^rgb\\("+wt+[tr,tr,tr].join(_b)+wt+"\\)$"),lk=new RegExp("^rgba\\("+wt+[tr,tr,tr,Dt].join(_b)+wt+"\\)$"),dk=new RegExp("^hsla?\\("+wt+[No,So,So].join(un)+ln+"\\)$"),ck=new RegExp("^hsl?\\("+wt+[No,So,So].join(_b)+wt+"\\)$"),hk=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,fk=new RegExp("^lab\\("+wt+[Dt,Dt,Dt].join(un)+ln+"\\)$"),vk=new RegExp("^lch\\("+wt+[Dt,Dt,No].join(un)+ln+"\\)$"),pk=new RegExp("^oklab\\("+wt+[Dt,Dt,Dt].join(un)+ln+"\\)$"),gk=new RegExp("^oklch\\("+wt+[Dt,Dt,No].join(un)+ln+"\\)$"),{round:yk}=Math,Ci=i=>i.map((e,t)=>t<=2?Jr(yk(e),0,255):e),qe=(i,e=0,t=100,r=!1)=>(typeof i=="string"&&i.endsWith("%")&&(i=parseFloat(i.substring(0,i.length-1))/100,r?i=e+(i+1)*.5*(t-e):i=e+i*(t-e)),+i),tt=(i,e)=>i==="none"?e:i,wb=i=>{if(i=i.toLowerCase().trim(),i==="transparent")return[0,0,0,0];let e;if(X.format.named)try{return X.format.named(i)}catch{}if((e=i.match(ak))||(e=i.match(uk))){let t=e.slice(1,4);for(let n=0;n<3;n++)t[n]=+qe(tt(t[n],0),0,255);t=Ci(t);const r=e[4]!==void 0?+qe(e[4],0,1):1;return t[3]=r,t}if(e=i.match(lk)){const t=e.slice(1,5);for(let r=0;r<4;r++)t[r]=+qe(t[r],0,255);return t}if((e=i.match(dk))||(e=i.match(ck))){const t=e.slice(1,4);t[0]=+tt(t[0].replace("deg",""),0),t[1]=+qe(tt(t[1],0),0,100)*.01,t[2]=+qe(tt(t[2],0),0,100)*.01;const r=Ci(Um(t)),n=e[4]!==void 0?+qe(e[4],0,1):1;return r[3]=n,r}if(e=i.match(hk)){const t=e.slice(1,4);t[1]*=.01,t[2]*=.01;const r=Um(t);for(let n=0;n<3;n++)r[n]=yk(r[n]);return r[3]=+e[4],r}if(e=i.match(fk)){const t=e.slice(1,4);t[0]=qe(tt(t[0],0),0,100),t[1]=qe(tt(t[1],0),-125,125,!0),t[2]=qe(tt(t[2],0),-125,125,!0);const r=as();Jt("d50");const n=Ci(vb(t));Jt(r);const s=e[4]!==void 0?+qe(e[4],0,1):1;return n[3]=s,n}if(e=i.match(vk)){const t=e.slice(1,4);t[0]=qe(t[0],0,100),t[1]=qe(tt(t[1],0),0,150,!1),t[2]=+tt(t[2].replace("deg",""),0);const r=as();Jt("d50");const n=Ci(gb(t));Jt(r);const s=e[4]!==void 0?+qe(e[4],0,1):1;return n[3]=s,n}if(e=i.match(pk)){const t=e.slice(1,4);t[0]=qe(tt(t[0],0),0,1),t[1]=qe(tt(t[1],0),-.4,.4,!0),t[2]=qe(tt(t[2],0),-.4,.4,!0);const r=Ci(mb(t)),n=e[4]!==void 0?+qe(e[4],0,1):1;return r[3]=n,r}if(e=i.match(gk)){const t=e.slice(1,4);t[0]=qe(tt(t[0],0),0,1),t[1]=qe(tt(t[1],0),0,.4,!1),t[2]=+tt(t[2].replace("deg",""),0);const r=Ci(ok(t)),n=e[4]!==void 0?+qe(e[4],0,1):1;return r[3]=n,r}};wb.test=i=>ak.test(i)||dk.test(i)||fk.test(i)||vk.test(i)||pk.test(i)||gk.test(i)||uk.test(i)||lk.test(i)||ck.test(i)||hk.test(i)||i==="transparent";x.prototype.css=function(i){return I3(this._rgb,i)};const $3=(...i)=>new x(...i,"css");Q.css=$3;X.format.css=wb;X.autodetect.push({p:5,test:(i,...e)=>{if(!e.length&&ne(i)==="string"&&wb.test(i))return"css"}});X.format.gl=(...i)=>{const e=Z(i,"rgba");return e[0]*=255,e[1]*=255,e[2]*=255,e};const T3=(...i)=>new x(...i,"gl");Q.gl=T3;x.prototype.gl=function(){const i=this._rgb;return[i[0]/255,i[1]/255,i[2]/255,i[3]]};x.prototype.hex=function(i){return KA(this._rgb,i)};const P3=(...i)=>new x(...i,"hex");Q.hex=P3;X.format.hex=VA;X.autodetect.push({p:4,test:(i,...e)=>{if(!e.length&&ne(i)==="string"&&[3,4,5,6,7,8,9].indexOf(i.length)>=0)return"hex"}});const{log:oo}=Math,mk=i=>{const e=i/100;let t,r,n;return e<66?(t=255,r=e<6?0:-155.25485562709179-.44596950469579133*(r=e-2)+104.49216199393888*oo(r),n=e<20?0:-254.76935184120902+.8274096064007395*(n=e-10)+115.67994401066147*oo(n)):(t=351.97690566805693+.114206453784165*(t=e-55)-40.25366309332127*oo(t),r=325.4494125711974+.07943456536662342*(r=e-50)-28.0852963507957*oo(r),n=255),[t,r,n,1]},{round:R3}=Math,q3=(...i)=>{const e=Z(i,"rgb"),t=e[0],r=e[2];let n=1e3,s=4e4;const o=.4;let a;for(;s-n>o;){a=(s+n)*.5;const u=mk(a);u[2]/u[0]>=r/t?s=a:n=a}return R3(a)};x.prototype.temp=x.prototype.kelvin=x.prototype.temperature=function(){return q3(this._rgb)};const Ma=(...i)=>new x(...i,"temp");Object.assign(Q,{temp:Ma,kelvin:Ma,temperature:Ma});X.format.temp=X.format.kelvin=X.format.temperature=mk;x.prototype.oklch=function(){return sk(this._rgb)};const C3=(...i)=>new x(...i,"oklch");Object.assign(Q,{oklch:C3});X.format.oklch=ok;X.autodetect.push({p:2,test:(...i)=>{if(i=Z(i,"oklch"),ne(i)==="array"&&i.length===3)return"oklch"}});Object.assign(Q,{analyze:rk,average:xB,bezier:FB,blend:At,brewer:g3,Color:x,colors:Ki,contrast:s3,contrastAPCA:u3,cubehelix:ZB,deltaE:h3,distance:f3,input:X,interpolate:Yi,limits:ik,mix:Yi,random:t3,scale:Eo,scales:p3,valid:v3});/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.1
 * @date    2025-07-13T02:52:37.151Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var H1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ae(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Aa={exports:{}},G1={},Gn,U1;function Me(){if(U1)return Gn;U1=1;var i=function(e){return e&&e.Math===Math&&e};return Gn=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof H1=="object"&&H1)||i(typeof Gn=="object"&&Gn)||function(){return this}()||Function("return this")(),Gn}var ka,V1;function de(){return V1||(V1=1,ka=function(i){try{return!!i()}catch{return!0}}),ka}var Na,K1;function ws(){if(K1)return Na;K1=1;var i=de();return Na=!i(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Na}var Fa,Y1;function Fo(){if(Y1)return Fa;Y1=1;var i=ws(),e=Function.prototype,t=e.apply,r=e.call;return Fa=typeof Reflect=="object"&&Reflect.apply||(i?r.bind(t):function(){return r.apply(t,arguments)}),Fa}var Ba,X1;function ye(){if(X1)return Ba;X1=1;var i=ws(),e=Function.prototype,t=e.call,r=i&&e.bind.bind(t,t);return Ba=i?r:function(n){return function(){return t.apply(n,arguments)}},Ba}var ja,Z1;function ur(){if(Z1)return ja;Z1=1;var i=ye(),e=i({}.toString),t=i("".slice);return ja=function(r){return t(e(r),8,-1)},ja}var La,J1;function bk(){if(J1)return La;J1=1;var i=ur(),e=ye();return La=function(t){if(i(t)==="Function")return e(t)},La}var za,Q1;function je(){if(Q1)return za;Q1=1;var i=typeof document=="object"&&document.all;return za=typeof i>"u"&&i!==void 0?function(e){return typeof e=="function"||e===i}:function(e){return typeof e=="function"},za}var Wa={},Ha,e0;function Ae(){if(e0)return Ha;e0=1;var i=de();return Ha=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Ha}var Ga,t0;function ct(){if(t0)return Ga;t0=1;var i=ws(),e=Function.prototype.call;return Ga=i?e.bind(e):function(){return e.apply(e,arguments)},Ga}var Ua={},r0;function Eb(){if(r0)return Ua;r0=1;var i={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!i.call({1:2},1);return Ua.f=t?function(n){var s=e(this,n);return!!s&&s.enumerable}:i,Ua}var Va,i0;function Es(){return i0||(i0=1,Va=function(i,e){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:e}}),Va}var Ka,n0;function Bo(){if(n0)return Ka;n0=1;var i=ye(),e=de(),t=ur(),r=Object,n=i("".split);return Ka=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?n(s,""):r(s)}:r,Ka}var Ya,s0;function Ss(){return s0||(s0=1,Ya=function(i){return i==null}),Ya}var Xa,o0;function di(){if(o0)return Xa;o0=1;var i=Ss(),e=TypeError;return Xa=function(t){if(i(t))throw new e("Can't call method on "+t);return t},Xa}var Za,a0;function lr(){if(a0)return Za;a0=1;var i=Bo(),e=di();return Za=function(t){return i(e(t))},Za}var Ja,u0;function ht(){if(u0)return Ja;u0=1;var i=je();return Ja=function(e){return typeof e=="object"?e!==null:i(e)},Ja}var Qa,l0;function Le(){return l0||(l0=1,Qa={}),Qa}var eu,d0;function vt(){if(d0)return eu;d0=1;var i=Le(),e=Me(),t=je(),r=function(n){return t(n)?n:void 0};return eu=function(n,s){return arguments.length<2?r(i[n])||r(e[n]):i[n]&&i[n][s]||e[n]&&e[n][s]},eu}var tu,c0;function Je(){if(c0)return tu;c0=1;var i=ye();return tu=i({}.isPrototypeOf),tu}var ru,h0;function dn(){if(h0)return ru;h0=1;var i=Me(),e=i.navigator,t=e&&e.userAgent;return ru=t?String(t):"",ru}var iu,f0;function Os(){if(f0)return iu;f0=1;var i=Me(),e=dn(),t=i.process,r=i.Deno,n=t&&t.versions||r&&r.version,s=n&&n.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),iu=a,iu}var nu,v0;function cn(){if(v0)return nu;v0=1;var i=Os(),e=de(),t=Me(),r=t.String;return nu=!!Object.getOwnPropertySymbols&&!e(function(){var n=Symbol("symbol detection");return!r(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&i&&i<41}),nu}var su,p0;function _k(){if(p0)return su;p0=1;var i=cn();return su=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol",su}var ou,g0;function Is(){if(g0)return ou;g0=1;var i=vt(),e=je(),t=Je(),r=_k(),n=Object;return ou=r?function(s){return typeof s=="symbol"}:function(s){var o=i("Symbol");return e(o)&&t(o.prototype,n(s))},ou}var au,y0;function hn(){if(y0)return au;y0=1;var i=String;return au=function(e){try{return i(e)}catch{return"Object"}},au}var uu,m0;function dr(){if(m0)return uu;m0=1;var i=je(),e=hn(),t=TypeError;return uu=function(r){if(i(r))return r;throw new t(e(r)+" is not a function")},uu}var lu,b0;function Sb(){if(b0)return lu;b0=1;var i=dr(),e=Ss();return lu=function(t,r){var n=t[r];return e(n)?void 0:i(n)},lu}var du,_0;function x3(){if(_0)return du;_0=1;var i=ct(),e=je(),t=ht(),r=TypeError;return du=function(n,s){var o,a;if(s==="string"&&e(o=n.toString)&&!t(a=i(o,n))||e(o=n.valueOf)&&!t(a=i(o,n))||s!=="string"&&e(o=n.toString)&&!t(a=i(o,n)))return a;throw new r("Can't convert object to primitive value")},du}var cu={exports:{}},hu,w0;function fn(){return w0||(w0=1,hu=!0),hu}var fu,E0;function D3(){if(E0)return fu;E0=1;var i=Me(),e=Object.defineProperty;return fu=function(t,r){try{e(i,t,{value:r,configurable:!0,writable:!0})}catch{i[t]=r}return r},fu}var S0;function Ob(){if(S0)return cu.exports;S0=1;var i=fn(),e=Me(),t=D3(),r="__core-js_shared__",n=cu.exports=e[r]||t(r,{});return(n.versions||(n.versions=[])).push({version:"3.44.0",mode:i?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),cu.exports}var vu,O0;function vn(){if(O0)return vu;O0=1;var i=Ob();return vu=function(e,t){return i[e]||(i[e]=t||{})},vu}var pu,I0;function Ft(){if(I0)return pu;I0=1;var i=di(),e=Object;return pu=function(t){return e(i(t))},pu}var gu,$0;function ze(){if($0)return gu;$0=1;var i=ye(),e=Ft(),t=i({}.hasOwnProperty);return gu=Object.hasOwn||function(n,s){return t(e(n),s)},gu}var yu,T0;function jo(){if(T0)return yu;T0=1;var i=ye(),e=0,t=Math.random(),r=i(1.1.toString);return yu=function(n){return"Symbol("+(n===void 0?"":n)+")_"+r(++e+t,36)},yu}var mu,P0;function Ke(){if(P0)return mu;P0=1;var i=Me(),e=vn(),t=ze(),r=jo(),n=cn(),s=_k(),o=i.Symbol,a=e("wks"),u=s?o.for||o:o&&o.withoutSetter||r;return mu=function(l){return t(a,l)||(a[l]=n&&t(o,l)?o[l]:u("Symbol."+l)),a[l]},mu}var bu,R0;function wk(){if(R0)return bu;R0=1;var i=ct(),e=ht(),t=Is(),r=Sb(),n=x3(),s=Ke(),o=TypeError,a=s("toPrimitive");return bu=function(u,l){if(!e(u)||t(u))return u;var d=r(u,a),c;if(d){if(l===void 0&&(l="default"),c=i(d,u,l),!e(c)||t(c))return c;throw new o("Can't convert object to primitive value")}return l===void 0&&(l="number"),n(u,l)},bu}var _u,q0;function Ib(){if(q0)return _u;q0=1;var i=wk(),e=Is();return _u=function(t){var r=i(t,"string");return e(r)?r:r+""},_u}var wu,C0;function Ek(){if(C0)return wu;C0=1;var i=Me(),e=ht(),t=i.document,r=e(t)&&e(t.createElement);return wu=function(n){return r?t.createElement(n):{}},wu}var Eu,x0;function Sk(){if(x0)return Eu;x0=1;var i=Ae(),e=de(),t=Ek();return Eu=!i&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),Eu}var D0;function Lo(){if(D0)return Wa;D0=1;var i=Ae(),e=ct(),t=Eb(),r=Es(),n=lr(),s=Ib(),o=ze(),a=Sk(),u=Object.getOwnPropertyDescriptor;return Wa.f=i?u:function(d,c){if(d=n(d),c=s(c),a)try{return u(d,c)}catch{}if(o(d,c))return r(!e(t.f,d,c),d[c])},Wa}var Su,M0;function M3(){if(M0)return Su;M0=1;var i=de(),e=je(),t=/#|\.prototype\./,r=function(u,l){var d=s[n(u)];return d===a?!0:d===o?!1:e(l)?i(l):!!l},n=r.normalize=function(u){return String(u).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return Su=r,Su}var Ou,A0;function zo(){if(A0)return Ou;A0=1;var i=bk(),e=dr(),t=ws(),r=i(i.bind);return Ou=function(n,s){return e(n),s===void 0?n:t?r(n,s):function(){return n.apply(s,arguments)}},Ou}var Iu={},$u,k0;function Ok(){if(k0)return $u;k0=1;var i=Ae(),e=de();return $u=i&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),$u}var Tu,N0;function cr(){if(N0)return Tu;N0=1;var i=ht(),e=String,t=TypeError;return Tu=function(r){if(i(r))return r;throw new t(e(r)+" is not an object")},Tu}var F0;function Et(){if(F0)return Iu;F0=1;var i=Ae(),e=Sk(),t=Ok(),r=cr(),n=Ib(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u="enumerable",l="configurable",d="writable";return Iu.f=i?t?function(h,f,v){if(r(h),f=n(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&d in v&&!v[d]){var g=a(h,f);g&&g[d]&&(h[f]=v.value,v={configurable:l in v?v[l]:g[l],enumerable:u in v?v[u]:g[u],writable:!1})}return o(h,f,v)}:o:function(h,f,v){if(r(h),f=n(f),r(v),e)try{return o(h,f,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(h[f]=v.value),h},Iu}var Pu,B0;function pn(){if(B0)return Pu;B0=1;var i=Ae(),e=Et(),t=Es();return Pu=i?function(r,n,s){return e.f(r,n,t(1,s))}:function(r,n,s){return r[n]=s,r},Pu}var Ru,j0;function ee(){if(j0)return Ru;j0=1;var i=Me(),e=Fo(),t=bk(),r=je(),n=Lo().f,s=M3(),o=Le(),a=zo(),u=pn(),l=ze(),d=function(c){var h=function(f,v,g){if(this instanceof h){switch(arguments.length){case 0:return new c;case 1:return new c(f);case 2:return new c(f,v)}return new c(f,v,g)}return e(c,this,arguments)};return h.prototype=c.prototype,h};return Ru=function(c,h){var f=c.target,v=c.global,g=c.stat,_=c.proto,y=v?i:g?i[f]:i[f]&&i[f].prototype,p=v?o:o[f]||u(o,f,{})[f],O=p.prototype,m,S,$,w,b,E,I,T,P;for(w in h)m=s(v?w:f+(g?".":"#")+w,c.forced),S=!m&&y&&l(y,w),E=p[w],S&&(c.dontCallGetSet?(P=n(y,w),I=P&&P.value):I=y[w]),b=S&&I?I:h[w],!(!m&&!_&&typeof E==typeof b)&&(c.bind&&S?T=a(b,i):c.wrap&&S?T=d(b):_&&r(b)?T=t(b):T=b,(c.sham||b&&b.sham||E&&E.sham)&&u(T,"sham",!0),u(p,w,T),_&&($=f+"Prototype",l(o,$)||u(o,$,{}),u(o[$],w,b),c.real&&O&&(m||!O[w])&&u(O,w,b)))},Ru}var L0;function A3(){if(L0)return G1;L0=1;var i=ee(),e=Ae(),t=Et().f;return i({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),G1}var z0;function k3(){if(z0)return Aa.exports;z0=1,A3();var i=Le(),e=i.Object,t=Aa.exports=function(n,s,o){return e.defineProperty(n,s,o)};return e.defineProperty.sham&&(t.sham=!0),Aa.exports}var qu,W0;function Ik(){if(W0)return qu;W0=1;var i=k3();return qu=i,qu}var Cu,H0;function N3(){if(H0)return Cu;H0=1;var i=Ik();return Cu=i,Cu}var xu,G0;function F3(){if(G0)return xu;G0=1;var i=N3();return xu=i,xu}var Du,U0;function B3(){return U0||(U0=1,Du=F3()),Du}var j3=B3(),L3=ae(j3),V0={},Mu,K0;function $s(){if(K0)return Mu;K0=1;var i=ur();return Mu=Array.isArray||function(t){return i(t)==="Array"},Mu}var Au,Y0;function z3(){if(Y0)return Au;Y0=1;var i=Math.ceil,e=Math.floor;return Au=Math.trunc||function(r){var n=+r;return(n>0?e:i)(n)},Au}var ku,X0;function gn(){if(X0)return ku;X0=1;var i=z3();return ku=function(e){var t=+e;return t!==t||t===0?0:i(t)},ku}var Nu,Z0;function $k(){if(Z0)return Nu;Z0=1;var i=gn(),e=Math.min;return Nu=function(t){var r=i(t);return r>0?e(r,9007199254740991):0},Nu}var Fu,J0;function ci(){if(J0)return Fu;J0=1;var i=$k();return Fu=function(e){return i(e.length)},Fu}var Bu,Q0;function Tk(){if(Q0)return Bu;Q0=1;var i=TypeError,e=9007199254740991;return Bu=function(t){if(t>e)throw i("Maximum allowed index exceeded");return t},Bu}var ju,e_;function $b(){if(e_)return ju;e_=1;var i=Ae(),e=Et(),t=Es();return ju=function(r,n,s){i?e.f(r,n,t(0,s)):r[n]=s},ju}var Lu,t_;function Tb(){if(t_)return Lu;t_=1;var i=Ke(),e=i("toStringTag"),t={};return t[e]="z",Lu=String(t)==="[object z]",Lu}var zu,r_;function Cr(){if(r_)return zu;r_=1;var i=Tb(),e=je(),t=ur(),r=Ke(),n=r("toStringTag"),s=Object,o=t(function(){return arguments}())==="Arguments",a=function(u,l){try{return u[l]}catch{}};return zu=i?t:function(u){var l,d,c;return u===void 0?"Undefined":u===null?"Null":typeof(d=a(l=s(u),n))=="string"?d:o?t(l):(c=t(l))==="Object"&&e(l.callee)?"Arguments":c},zu}var Wu,i_;function W3(){if(i_)return Wu;i_=1;var i=ye(),e=je(),t=Ob(),r=i(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(n){return r(n)}),Wu=t.inspectSource,Wu}var Hu,n_;function H3(){if(n_)return Hu;n_=1;var i=ye(),e=de(),t=je(),r=Cr(),n=vt(),s=W3(),o=function(){},a=n("Reflect","construct"),u=/^\s*(?:class|function)\b/,l=i(u.exec),d=!u.test(o),c=function(v){if(!t(v))return!1;try{return a(o,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!l(u,s(v))}catch{return!0}};return h.sham=!0,Hu=!a||e(function(){var f;return c(c.call)||!c(Object)||!c(function(){f=!0})||f})?h:c,Hu}var Gu,s_;function G3(){if(s_)return Gu;s_=1;var i=$s(),e=H3(),t=ht(),r=Ke(),n=r("species"),s=Array;return Gu=function(o){var a;return i(o)&&(a=o.constructor,e(a)&&(a===s||i(a.prototype))?a=void 0:t(a)&&(a=a[n],a===null&&(a=void 0))),a===void 0?s:a},Gu}var Uu,o_;function Pb(){if(o_)return Uu;o_=1;var i=G3();return Uu=function(e,t){return new(i(e))(t===0?0:t)},Uu}var Vu,a_;function Wo(){if(a_)return Vu;a_=1;var i=de(),e=Ke(),t=Os(),r=e("species");return Vu=function(n){return t>=51||!i(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[n](Boolean).foo!==1})},Vu}var u_;function Pk(){if(u_)return V0;u_=1;var i=ee(),e=de(),t=$s(),r=ht(),n=Ft(),s=ci(),o=Tk(),a=$b(),u=Pb(),l=Wo(),d=Ke(),c=Os(),h=d("isConcatSpreadable"),f=c>=51||!e(function(){var _=[];return _[h]=!1,_.concat()[0]!==_}),v=function(_){if(!r(_))return!1;var y=_[h];return y!==void 0?!!y:t(_)},g=!f||!l("concat");return i({target:"Array",proto:!0,arity:1,forced:g},{concat:function(y){var p=n(this),O=u(p,0),m=0,S,$,w,b,E;for(S=-1,w=arguments.length;S<w;S++)if(E=S===-1?p:arguments[S],v(E))for(b=s(E),o(m+b),$=0;$<b;$++,m++)$ in E&&a(O,m,E[$]);else o(m+1),a(O,m++,E);return O.length=m,O}}),V0}var l_={},d_={},Ku,c_;function xr(){if(c_)return Ku;c_=1;var i=Cr(),e=String;return Ku=function(t){if(i(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},Ku}var Yu={},Xu,h_;function Rk(){if(h_)return Xu;h_=1;var i=gn(),e=Math.max,t=Math.min;return Xu=function(r,n){var s=i(r);return s<0?e(s+n,0):t(s,n)},Xu}var Zu,f_;function U3(){if(f_)return Zu;f_=1;var i=lr(),e=Rk(),t=ci(),r=function(n){return function(s,o,a){var u=i(s),l=t(u);if(l===0)return!n&&-1;var d=e(a,l),c;if(n&&o!==o){for(;l>d;)if(c=u[d++],c!==c)return!0}else for(;l>d;d++)if((n||d in u)&&u[d]===o)return n||d||0;return!n&&-1}};return Zu={includes:r(!0),indexOf:r(!1)},Zu}var Ju,v_;function Ts(){return v_||(v_=1,Ju={}),Ju}var Qu,p_;function qk(){if(p_)return Qu;p_=1;var i=ye(),e=ze(),t=lr(),r=U3().indexOf,n=Ts(),s=i([].push);return Qu=function(o,a){var u=t(o),l=0,d=[],c;for(c in u)!e(n,c)&&e(u,c)&&s(d,c);for(;a.length>l;)e(u,c=a[l++])&&(~r(d,c)||s(d,c));return d},Qu}var el,g_;function Rb(){return g_||(g_=1,el=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),el}var tl,y_;function Ho(){if(y_)return tl;y_=1;var i=qk(),e=Rb();return tl=Object.keys||function(r){return i(r,e)},tl}var m_;function qb(){if(m_)return Yu;m_=1;var i=Ae(),e=Ok(),t=Et(),r=cr(),n=lr(),s=Ho();return Yu.f=i&&!e?Object.defineProperties:function(a,u){r(a);for(var l=n(u),d=s(u),c=d.length,h=0,f;c>h;)t.f(a,f=d[h++],l[f]);return a},Yu}var rl,b_;function V3(){if(b_)return rl;b_=1;var i=vt();return rl=i("document","documentElement"),rl}var il,__;function Go(){if(__)return il;__=1;var i=vn(),e=jo(),t=i("keys");return il=function(r){return t[r]||(t[r]=e(r))},il}var nl,w_;function Ps(){if(w_)return nl;w_=1;var i=cr(),e=qb(),t=Rb(),r=Ts(),n=V3(),s=Ek(),o=Go(),a=">",u="<",l="prototype",d="script",c=o("IE_PROTO"),h=function(){},f=function(p){return u+d+a+p+u+"/"+d+a},v=function(p){p.write(f("")),p.close();var O=p.parentWindow.Object;return p=null,O},g=function(){var p=s("iframe"),O="java"+d+":",m;return p.style.display="none",n.appendChild(p),p.src=String(O),m=p.contentWindow.document,m.open(),m.write(f("document.F=Object")),m.close(),m.F},_,y=function(){try{_=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&_?v(_):g():v(_);for(var p=t.length;p--;)delete y[l][t[p]];return y()};return r[c]=!0,nl=Object.create||function(O,m){var S;return O!==null?(h[l]=i(O),S=new h,h[l]=null,S[c]=O):S=y(),m===void 0?S:e.f(S,m)},nl}var sl={},E_;function Uo(){if(E_)return sl;E_=1;var i=qk(),e=Rb(),t=e.concat("length","prototype");return sl.f=Object.getOwnPropertyNames||function(n){return i(n,t)},sl}var ol={},al,S_;function Rs(){if(S_)return al;S_=1;var i=ye();return al=i([].slice),al}var O_;function Ck(){if(O_)return ol;O_=1;var i=ur(),e=lr(),t=Uo().f,r=Rs(),n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(n)}};return ol.f=function(a){return n&&i(a)==="Window"?s(a):t(e(a))},ol}var ul={},I_;function Vo(){return I_||(I_=1,ul.f=Object.getOwnPropertySymbols),ul}var ll,$_;function qs(){if($_)return ll;$_=1;var i=pn();return ll=function(e,t,r,n){return n&&n.enumerable?e[t]=r:i(e,t,r),e},ll}var dl,T_;function Cb(){if(T_)return dl;T_=1;var i=Et();return dl=function(e,t,r){return i.f(e,t,r)},dl}var cl={},P_;function Ko(){if(P_)return cl;P_=1;var i=Ke();return cl.f=i,cl}var hl,R_;function Oe(){if(R_)return hl;R_=1;var i=Le(),e=ze(),t=Ko(),r=Et().f;return hl=function(n){var s=i.Symbol||(i.Symbol={});e(s,n)||r(s,n,{value:t.f(n)})},hl}var fl,q_;function xk(){if(q_)return fl;q_=1;var i=ct(),e=vt(),t=Ke(),r=qs();return fl=function(){var n=e("Symbol"),s=n&&n.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(u){return i(o,this)},{arity:1})},fl}var vl,C_;function K3(){if(C_)return vl;C_=1;var i=Tb(),e=Cr();return vl=i?{}.toString:function(){return"[object "+e(this)+"]"},vl}var pl,x_;function hi(){if(x_)return pl;x_=1;var i=Tb(),e=Et().f,t=pn(),r=ze(),n=K3(),s=Ke(),o=s("toStringTag");return pl=function(a,u,l,d){var c=l?a:a&&a.prototype;c&&(r(c,o)||e(c,o,{configurable:!0,value:u}),d&&!i&&t(c,"toString",n))},pl}var gl,D_;function Y3(){if(D_)return gl;D_=1;var i=Me(),e=je(),t=i.WeakMap;return gl=e(t)&&/native code/.test(String(t)),gl}var yl,M_;function Cs(){if(M_)return yl;M_=1;var i=Y3(),e=Me(),t=ht(),r=pn(),n=ze(),s=Ob(),o=Go(),a=Ts(),u="Object already initialized",l=e.TypeError,d=e.WeakMap,c,h,f,v=function(p){return f(p)?h(p):c(p,{})},g=function(p){return function(O){var m;if(!t(O)||(m=h(O)).type!==p)throw new l("Incompatible receiver, "+p+" required");return m}};if(i||s.state){var _=s.state||(s.state=new d);_.get=_.get,_.has=_.has,_.set=_.set,c=function(p,O){if(_.has(p))throw new l(u);return O.facade=p,_.set(p,O),O},h=function(p){return _.get(p)||{}},f=function(p){return _.has(p)}}else{var y=o("state");a[y]=!0,c=function(p,O){if(n(p,y))throw new l(u);return O.facade=p,r(p,y,O),O},h=function(p){return n(p,y)?p[y]:{}},f=function(p){return n(p,y)}}return yl={set:c,get:h,has:f,enforce:v,getterFor:g},yl}var ml,A_;function yn(){if(A_)return ml;A_=1;var i=zo(),e=ye(),t=Bo(),r=Ft(),n=ci(),s=Pb(),o=e([].push),a=function(u){var l=u===1,d=u===2,c=u===3,h=u===4,f=u===6,v=u===7,g=u===5||f;return function(_,y,p,O){for(var m=r(_),S=t(m),$=n(S),w=i(y,p),b=0,E=O||s,I=l?E(_,$):d||v?E(_,0):void 0,T,P;$>b;b++)if((g||b in S)&&(T=S[b],P=w(T,b,m),u))if(l)I[b]=P;else if(P)switch(u){case 3:return!0;case 5:return T;case 6:return b;case 2:o(I,T)}else switch(u){case 4:return!1;case 7:o(I,T)}return f?-1:c||h?h:I}};return ml={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},ml}var k_;function X3(){if(k_)return d_;k_=1;var i=ee(),e=Me(),t=ct(),r=ye(),n=fn(),s=Ae(),o=cn(),a=de(),u=ze(),l=Je(),d=cr(),c=lr(),h=Ib(),f=xr(),v=Es(),g=Ps(),_=Ho(),y=Uo(),p=Ck(),O=Vo(),m=Lo(),S=Et(),$=qb(),w=Eb(),b=qs(),E=Cb(),I=vn(),T=Go(),P=Ts(),R=jo(),C=Ke(),M=Ko(),K=Oe(),j=xk(),J=hi(),te=Cs(),ce=yn().forEach,W=T("hidden"),ue="Symbol",fe="prototype",Ee=te.set,Rt=te.getterFor(ue),me=Object[fe],Qe=e.Symbol,qt=Qe&&Qe[fe],ba=e.RangeError,_a=e.TypeError,Fr=e.QObject,kn=m.f,et=S.f,Nn=p.f,wa=w.f,Fn=r([].push),Fe=I("symbols"),Ct=I("op-symbols"),Ea=I("wks"),Br=!Fr||!Fr[fe]||!Fr[fe].findChild,Bn=function(G,N,F){var B=kn(me,N);B&&delete me[N],et(G,N,F),B&&G!==me&&et(me,N,B)},jr=s&&a(function(){return g(et({},"a",{get:function(){return et(this,"a",{value:7}).a}})).a!==7})?Bn:et,Lr=function(G,N){var F=Fe[G]=g(qt);return Ee(F,{type:ue,tag:G,description:N}),s||(F.description=N),F},Yt=function(N,F,B){N===me&&Yt(Ct,F,B),d(N);var U=h(F);return d(B),u(Fe,U)?(B.enumerable?(u(N,W)&&N[W][U]&&(N[W][U]=!1),B=g(B,{enumerable:v(0,!1)})):(u(N,W)||et(N,W,v(1,g(null))),N[W][U]=!0),jr(N,U,B)):et(N,U,B)},zr=function(N,F){d(N);var B=c(F),U=_(B).concat(zn(B));return ce(U,function(le){(!s||t(Wr,B,le))&&Yt(N,le,B[le])}),N},Sa=function(N,F){return F===void 0?g(N):zr(g(N),F)},Wr=function(N){var F=h(N),B=t(wa,this,F);return this===me&&u(Fe,F)&&!u(Ct,F)?!1:B||!u(this,F)||!u(Fe,F)||u(this,W)&&this[W][F]?B:!0},jn=function(N,F){var B=c(N),U=h(F);if(!(B===me&&u(Fe,U)&&!u(Ct,U))){var le=kn(B,U);return le&&u(Fe,U)&&!(u(B,W)&&B[W][U])&&(le.enumerable=!0),le}},Ln=function(N){var F=Nn(c(N)),B=[];return ce(F,function(U){!u(Fe,U)&&!u(P,U)&&Fn(B,U)}),B},zn=function(G){var N=G===me,F=Nn(N?Ct:c(G)),B=[];return ce(F,function(U){u(Fe,U)&&(!N||u(me,U))&&Fn(B,Fe[U])}),B};return o||(Qe=function(){if(l(qt,this))throw new _a("Symbol is not a constructor");var N=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),F=R(N),B=function(U){var le=this===void 0?e:this;le===me&&t(B,Ct,U),u(le,W)&&u(le[W],F)&&(le[W][F]=!1);var Wn=v(1,U);try{jr(le,F,Wn)}catch(Hn){if(!(Hn instanceof ba))throw Hn;Bn(le,F,Wn)}};return s&&Br&&jr(me,F,{configurable:!0,set:B}),Lr(F,N)},qt=Qe[fe],b(qt,"toString",function(){return Rt(this).tag}),b(Qe,"withoutSetter",function(G){return Lr(R(G),G)}),w.f=Wr,S.f=Yt,$.f=zr,m.f=jn,y.f=p.f=Ln,O.f=zn,M.f=function(G){return Lr(C(G),G)},s&&(E(qt,"description",{configurable:!0,get:function(){return Rt(this).description}}),n||b(me,"propertyIsEnumerable",Wr,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:Qe}),ce(_(Ea),function(G){K(G)}),i({target:ue,stat:!0,forced:!o},{useSetter:function(){Br=!0},useSimple:function(){Br=!1}}),i({target:"Object",stat:!0,forced:!o,sham:!s},{create:Sa,defineProperty:Yt,defineProperties:zr,getOwnPropertyDescriptor:jn}),i({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:Ln}),j(),J(Qe,ue),P[W]=!0,d_}var N_={},bl,F_;function Dk(){if(F_)return bl;F_=1;var i=cn();return bl=i&&!!Symbol.for&&!!Symbol.keyFor,bl}var B_;function Z3(){if(B_)return N_;B_=1;var i=ee(),e=vt(),t=ze(),r=xr(),n=vn(),s=Dk(),o=n("string-to-symbol-registry"),a=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{for:function(u){var l=r(u);if(t(o,l))return o[l];var d=e("Symbol")(l);return o[l]=d,a[d]=l,d}}),N_}var j_={},L_;function J3(){if(L_)return j_;L_=1;var i=ee(),e=ze(),t=Is(),r=hn(),n=vn(),s=Dk(),o=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!t(u))throw new TypeError(r(u)+" is not a symbol");if(e(o,u))return o[u]}}),j_}var z_={},_l,W_;function Q3(){if(W_)return _l;W_=1;var i=ye(),e=$s(),t=je(),r=ur(),n=xr(),s=i([].push);return _l=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,u=[],l=0;l<a;l++){var d=o[l];typeof d=="string"?s(u,d):(typeof d=="number"||r(d)==="Number"||r(d)==="String")&&s(u,n(d))}var c=u.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var g=0;g<c;g++)if(u[g]===f)return v}}},_l}var H_;function Mk(){if(H_)return z_;H_=1;var i=ee(),e=vt(),t=Fo(),r=ct(),n=ye(),s=de(),o=je(),a=Is(),u=Rs(),l=Q3(),d=cn(),c=String,h=e("JSON","stringify"),f=n(/./.exec),v=n("".charAt),g=n("".charCodeAt),_=n("".replace),y=n(1.1.toString),p=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,S=!d||s(function(){var E=e("Symbol")("stringify detection");return h([E])!=="[null]"||h({a:E})!=="{}"||h(Object(E))!=="{}"}),$=s(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),w=function(E,I){var T=u(arguments),P=l(I);if(!(!o(P)&&(E===void 0||a(E))))return T[1]=function(R,C){if(o(P)&&(C=r(P,this,c(R),C)),!a(C))return C},t(h,null,T)},b=function(E,I,T){var P=v(T,I-1),R=v(T,I+1);return f(O,E)&&!f(m,R)||f(m,E)&&!f(O,P)?"\\u"+y(g(E,0),16):E};return h&&i({target:"JSON",stat:!0,arity:3,forced:S||$},{stringify:function(I,T,P){var R=u(arguments),C=t(S?w:h,null,R);return $&&typeof C=="string"?_(C,p,b):C}}),z_}var G_={},U_;function ej(){if(U_)return G_;U_=1;var i=ee(),e=cn(),t=de(),r=Vo(),n=Ft(),s=!e||t(function(){r.f(1)});return i({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var u=r.f;return u?u(n(a)):[]}}),G_}var V_;function Ak(){return V_||(V_=1,X3(),Z3(),J3(),Mk(),ej()),l_}var K_={},Y_;function kk(){if(Y_)return K_;Y_=1;var i=Oe();return i("asyncDispose"),K_}var X_={},Z_;function tj(){if(Z_)return X_;Z_=1;var i=Oe();return i("asyncIterator"),X_}var J_={},Q_;function Nk(){if(Q_)return J_;Q_=1;var i=Oe();return i("dispose"),J_}var ew={},tw;function rj(){if(tw)return ew;tw=1;var i=Oe();return i("hasInstance"),ew}var rw={},iw;function ij(){if(iw)return rw;iw=1;var i=Oe();return i("isConcatSpreadable"),rw}var nw={},sw;function Fk(){if(sw)return nw;sw=1;var i=Oe();return i("iterator"),nw}var ow={},aw;function nj(){if(aw)return ow;aw=1;var i=Oe();return i("match"),ow}var uw={},lw;function sj(){if(lw)return uw;lw=1;var i=Oe();return i("matchAll"),uw}var dw={},cw;function oj(){if(cw)return dw;cw=1;var i=Oe();return i("replace"),dw}var hw={},fw;function aj(){if(fw)return hw;fw=1;var i=Oe();return i("search"),hw}var vw={},pw;function uj(){if(pw)return vw;pw=1;var i=Oe();return i("species"),vw}var gw={},yw;function lj(){if(yw)return gw;yw=1;var i=Oe();return i("split"),gw}var mw={},bw;function Bk(){if(bw)return mw;bw=1;var i=Oe(),e=xk();return i("toPrimitive"),e(),mw}var _w={},ww;function dj(){if(ww)return _w;ww=1;var i=vt(),e=Oe(),t=hi();return e("toStringTag"),t(i("Symbol"),"Symbol"),_w}var Ew={},Sw;function cj(){if(Sw)return Ew;Sw=1;var i=Oe();return i("unscopables"),Ew}var Ow={},Iw;function hj(){if(Iw)return Ow;Iw=1;var i=Me(),e=hi();return e(i.JSON,"JSON",!0),Ow}var wl,$w;function fj(){if($w)return wl;$w=1,Pk(),Ak(),kk(),tj(),Nk(),rj(),ij(),Fk(),nj(),sj(),oj(),aj(),uj(),lj(),Bk(),dj(),cj(),hj();var i=Le();return wl=i.Symbol,wl}var Tw={},El,Pw;function vj(){return Pw||(Pw=1,El=function(){}),El}var Sl,Rw;function mn(){return Rw||(Rw=1,Sl={}),Sl}var Ol,qw;function pj(){if(qw)return Ol;qw=1;var i=Ae(),e=ze(),t=Function.prototype,r=i&&Object.getOwnPropertyDescriptor,n=e(t,"name"),s=n&&(function(){}).name==="something",o=n&&(!i||i&&r(t,"name").configurable);return Ol={EXISTS:n,PROPER:s,CONFIGURABLE:o},Ol}var Il,Cw;function gj(){if(Cw)return Il;Cw=1;var i=de();return Il=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Il}var $l,xw;function jk(){if(xw)return $l;xw=1;var i=ze(),e=je(),t=Ft(),r=Go(),n=gj(),s=r("IE_PROTO"),o=Object,a=o.prototype;return $l=n?o.getPrototypeOf:function(u){var l=t(u);if(i(l,s))return l[s];var d=l.constructor;return e(d)&&l instanceof d?d.prototype:l instanceof o?a:null},$l}var Tl,Dw;function Lk(){if(Dw)return Tl;Dw=1;var i=de(),e=je(),t=ht(),r=Ps(),n=jk(),s=qs(),o=Ke(),a=fn(),u=o("iterator"),l=!1,d,c,h;[].keys&&(h=[].keys(),"next"in h?(c=n(n(h)),c!==Object.prototype&&(d=c)):l=!0);var f=!t(d)||i(function(){var v={};return d[u].call(v)!==v});return f?d={}:a&&(d=r(d)),e(d[u])||s(d,u,function(){return this}),Tl={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:l},Tl}var Pl,Mw;function yj(){if(Mw)return Pl;Mw=1;var i=Lk().IteratorPrototype,e=Ps(),t=Es(),r=hi(),n=mn(),s=function(){return this};return Pl=function(o,a,u,l){var d=a+" Iterator";return o.prototype=e(i,{next:t(+!l,u)}),r(o,d,!1,!0),n[d]=s,o},Pl}var Rl,Aw;function mj(){if(Aw)return Rl;Aw=1;var i=ye(),e=dr();return Rl=function(t,r,n){try{return i(e(Object.getOwnPropertyDescriptor(t,r)[n]))}catch{}},Rl}var ql,kw;function bj(){if(kw)return ql;kw=1;var i=ht();return ql=function(e){return i(e)||e===null},ql}var Cl,Nw;function _j(){if(Nw)return Cl;Nw=1;var i=bj(),e=String,t=TypeError;return Cl=function(r){if(i(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},Cl}var xl,Fw;function wj(){if(Fw)return xl;Fw=1;var i=mj(),e=ht(),t=di(),r=_j();return xl=Object.setPrototypeOf||("__proto__"in{}?function(){var n=!1,s={},o;try{o=i(Object.prototype,"__proto__","set"),o(s,[]),n=s instanceof Array}catch{}return function(u,l){return t(u),r(l),e(u)&&(n?o(u,l):u.__proto__=l),u}}():void 0),xl}var Dl,Bw;function xb(){if(Bw)return Dl;Bw=1;var i=ee(),e=ct(),t=fn(),r=pj(),n=je(),s=yj(),o=jk(),a=wj(),u=hi(),l=pn(),d=qs(),c=Ke(),h=mn(),f=Lk(),v=r.PROPER,g=r.CONFIGURABLE,_=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,p=c("iterator"),O="keys",m="values",S="entries",$=function(){return this};return Dl=function(w,b,E,I,T,P,R){s(E,b,I);var C=function(Ee){if(Ee===T&&te)return te;if(!y&&Ee&&Ee in j)return j[Ee];switch(Ee){case O:return function(){return new E(this,Ee)};case m:return function(){return new E(this,Ee)};case S:return function(){return new E(this,Ee)}}return function(){return new E(this)}},M=b+" Iterator",K=!1,j=w.prototype,J=j[p]||j["@@iterator"]||T&&j[T],te=!y&&J||C(T),ce=b==="Array"&&j.entries||J,W,ue,fe;if(ce&&(W=o(ce.call(new w)),W!==Object.prototype&&W.next&&(!t&&o(W)!==_&&(a?a(W,_):n(W[p])||d(W,p,$)),u(W,M,!0,!0),t&&(h[M]=$))),v&&T===m&&J&&J.name!==m&&(!t&&g?l(j,"name",m):(K=!0,te=function(){return e(J,this)})),T)if(ue={values:C(m),keys:P?te:C(O),entries:C(S)},R)for(fe in ue)(y||K||!(fe in j))&&d(j,fe,ue[fe]);else i({target:b,proto:!0,forced:y||K},ue);return(!t||R)&&j[p]!==te&&d(j,p,te,{name:T}),h[b]=te,ue},Dl}var Ml,jw;function Db(){return jw||(jw=1,Ml=function(i,e){return{value:i,done:e}}),Ml}var Al,Lw;function Dr(){if(Lw)return Al;Lw=1;var i=lr(),e=vj(),t=mn(),r=Cs(),n=Et().f,s=xb(),o=Db(),a=fn(),u=Ae(),l="Array Iterator",d=r.set,c=r.getterFor(l);Al=s(Array,"Array",function(f,v){d(this,{type:l,target:i(f),index:0,kind:v})},function(){var f=c(this),v=f.target,g=f.index++;if(!v||g>=v.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(g,!1);case"values":return o(v[g],!1)}return o([g,v[g]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&u&&h.name!=="values")try{n(h,"name",{value:"values"})}catch{}return Al}var kl,zw;function Ej(){return zw||(zw=1,kl={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),kl}var Ww;function Mr(){if(Ww)return Tw;Ww=1,Dr();var i=Ej(),e=Me(),t=hi(),r=mn();for(var n in i)t(e[n],n),r[n]=r.Array;return Tw}var Nl,Hw;function Sj(){if(Hw)return Nl;Hw=1;var i=fj();return Mr(),Nl=i,Nl}var Gw={},Uw;function Oj(){if(Uw)return Gw;Uw=1;var i=Ke(),e=Et().f,t=i("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),Gw}var Vw={},Kw;function Ij(){return Kw||(Kw=1,kk()),Vw}var Yw={},Xw;function $j(){return Xw||(Xw=1,Nk()),Yw}var Zw={},Jw;function Tj(){if(Jw)return Zw;Jw=1;var i=Oe();return i("metadata"),Zw}var Fl,Qw;function Pj(){if(Qw)return Fl;Qw=1;var i=Sj();return Oj(),Ij(),$j(),Tj(),Fl=i,Fl}var eE={},Bl,tE;function zk(){if(tE)return Bl;tE=1;var i=vt(),e=ye(),t=i("Symbol"),r=t.keyFor,n=e(t.prototype.valueOf);return Bl=t.isRegisteredSymbol||function(o){try{return r(n(o))!==void 0}catch{return!1}},Bl}var rE;function Rj(){if(rE)return eE;rE=1;var i=ee(),e=zk();return i({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),eE}var iE={},jl,nE;function Wk(){if(nE)return jl;nE=1;for(var i=vn(),e=vt(),t=ye(),r=Is(),n=Ke(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),u=t(s.prototype.valueOf),l=i("wks"),d=0,c=a(s),h=c.length;d<h;d++)try{var f=c[d];r(s[f])&&n(f)}catch{}return jl=function(g){if(o&&o(g))return!0;try{for(var _=u(g),y=0,p=a(l),O=p.length;y<O;y++)if(l[p[y]]==_)return!0}catch{}return!1},jl}var sE;function qj(){if(sE)return iE;sE=1;var i=ee(),e=Wk();return i({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),iE}var oE={},aE;function Cj(){if(aE)return oE;aE=1;var i=Oe();return i("customMatcher"),oE}var uE={},lE;function xj(){if(lE)return uE;lE=1;var i=Oe();return i("observable"),uE}var dE={},cE;function Dj(){if(cE)return dE;cE=1;var i=ee(),e=zk();return i({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),dE}var hE={},fE;function Mj(){if(fE)return hE;fE=1;var i=ee(),e=Wk();return i({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),hE}var vE={},pE;function Aj(){if(pE)return vE;pE=1;var i=Oe();return i("matcher"),vE}var gE={},yE;function kj(){if(yE)return gE;yE=1;var i=Oe();return i("metadataKey"),gE}var mE={},bE;function Nj(){if(bE)return mE;bE=1;var i=Oe();return i("patternMatch"),mE}var _E={},wE;function Fj(){if(wE)return _E;wE=1;var i=Oe();return i("replaceAll"),_E}var Ll,EE;function Bj(){if(EE)return Ll;EE=1;var i=Pj();return Rj(),qj(),Cj(),xj(),Dj(),Mj(),Aj(),kj(),Nj(),Fj(),Ll=i,Ll}var zl,SE;function jj(){return SE||(SE=1,zl=Bj()),zl}var Lj=jj(),ao=ae(Lj),OE={},Wl,IE;function zj(){if(IE)return Wl;IE=1;var i=ye(),e=gn(),t=xr(),r=di(),n=i("".charAt),s=i("".charCodeAt),o=i("".slice),a=function(u){return function(l,d){var c=t(r(l)),h=e(d),f=c.length,v,g;return h<0||h>=f?u?"":void 0:(v=s(c,h),v<55296||v>56319||h+1===f||(g=s(c,h+1))<56320||g>57343?u?n(c,h):v:u?o(c,h,h+2):(v-55296<<10)+(g-56320)+65536)}};return Wl={codeAt:a(!1),charAt:a(!0)},Wl}var $E;function Yo(){if($E)return OE;$E=1;var i=zj().charAt,e=xr(),t=Cs(),r=xb(),n=Db(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(u){o(this,{type:s,string:e(u),index:0})},function(){var l=a(this),d=l.string,c=l.index,h;return c>=d.length?n(void 0,!0):(h=i(d,c),l.index+=h.length,n(h,!1))}),OE}var Hl,TE;function Wj(){if(TE)return Hl;TE=1,Dr(),Yo(),Fk();var i=Ko();return Hl=i.f("iterator"),Hl}var Gl,PE;function Hk(){if(PE)return Gl;PE=1;var i=Wj();return Mr(),Gl=i,Gl}var Ul,RE;function Hj(){if(RE)return Ul;RE=1;var i=Hk();return Ul=i,Ul}var Vl,qE;function Gj(){if(qE)return Vl;qE=1;var i=Hj();return Vl=i,Vl}var Kl,CE;function Uj(){return CE||(CE=1,Kl=Gj()),Kl}var Vj=Uj(),Kj=ae(Vj);function us(i){"@babel/helpers - typeof";return us=typeof ao=="function"&&typeof Kj=="symbol"?function(e){return typeof e}:function(e){return e&&typeof ao=="function"&&e.constructor===ao&&e!==ao.prototype?"symbol":typeof e},us(i)}var Yl,xE;function Yj(){if(xE)return Yl;xE=1,Bk();var i=Ko();return Yl=i.f("toPrimitive"),Yl}var Xl,DE;function Xj(){if(DE)return Xl;DE=1;var i=Yj();return Xl=i,Xl}var Zl,ME;function Zj(){if(ME)return Zl;ME=1;var i=Xj();return Zl=i,Zl}var Jl,AE;function Jj(){if(AE)return Jl;AE=1;var i=Zj();return Jl=i,Jl}var Ql,kE;function Qj(){return kE||(kE=1,Ql=Jj()),Ql}var eL=Qj(),tL=ae(eL);function rL(i,e){if(us(i)!="object"||!i)return i;var t=i[tL];if(t!==void 0){var r=t.call(i,e);if(us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function iL(i){var e=rL(i,"string");return us(e)=="symbol"?e:e+""}function _r(i,e,t){return(e=iL(e))in i?L3(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var NE={},ed,FE;function nL(){if(FE)return ed;FE=1;var i=ye(),e=dr(),t=ht(),r=ze(),n=Rs(),s=ws(),o=Function,a=i([].concat),u=i([].join),l={},d=function(c,h,f){if(!r(l,h)){for(var v=[],g=0;g<h;g++)v[g]="a["+g+"]";l[h]=o("C,a","return new C("+u(v,",")+")")}return l[h](c,f)};return ed=s?o.bind:function(h){var f=e(this),v=f.prototype,g=n(arguments,1),_=function(){var p=a(g,n(arguments));return this instanceof _?d(f,p.length,p):f.apply(h,p)};return t(v)&&(_.prototype=v),_},ed}var BE;function sL(){if(BE)return NE;BE=1;var i=ee(),e=nL();return i({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),NE}var td,jE;function St(){if(jE)return td;jE=1;var i=Me(),e=Le();return td=function(t,r){var n=e[t+"Prototype"],s=n&&n[r];if(s)return s;var o=i[t],a=o&&o.prototype;return a&&a[r]},td}var rd,LE;function oL(){if(LE)return rd;LE=1,sL();var i=St();return rd=i("Function","bind"),rd}var id,zE;function aL(){if(zE)return id;zE=1;var i=Je(),e=oL(),t=Function.prototype;return id=function(r){var n=r.bind;return r===t||i(t,r)&&n===t.bind?e:n},id}var nd,WE;function uL(){if(WE)return nd;WE=1;var i=aL();return nd=i,nd}var sd,HE;function lL(){return HE||(HE=1,sd=uL()),sd}var dL=lL(),cL=ae(dL),GE={},od,UE;function hL(){if(UE)return od;UE=1;var i=dr(),e=Ft(),t=Bo(),r=ci(),n=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(u,l,d,c){var h=e(u),f=t(h),v=r(h);if(i(l),v===0&&d<2)throw new n(s);var g=a?v-1:0,_=a?-1:1;if(d<2)for(;;){if(g in f){c=f[g],g+=_;break}if(g+=_,a?g<0:v<=g)throw new n(s)}for(;a?g>=0:v>g;g+=_)g in f&&(c=l(c,f[g],g,h));return c}};return od={left:o(!1),right:o(!0)},od}var ad,VE;function Xo(){if(VE)return ad;VE=1;var i=de();return ad=function(e,t){var r=[][e];return!!r&&i(function(){r.call(null,t||function(){return 1},1)})},ad}var ud,KE;function Gk(){if(KE)return ud;KE=1;var i=Me(),e=dn(),t=ur(),r=function(n){return e.slice(0,n.length)===n};return ud=function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":i.Bun&&typeof Bun.version=="string"?"BUN":i.Deno&&typeof Deno.version=="object"?"DENO":t(i.process)==="process"?"NODE":i.window&&i.document?"BROWSER":"REST"}(),ud}var ld,YE;function fL(){if(YE)return ld;YE=1;var i=Gk();return ld=i==="NODE",ld}var XE;function vL(){if(XE)return GE;XE=1;var i=ee(),e=hL().left,t=Xo(),r=Os(),n=fL(),s=!n&&r>79&&r<83,o=s||!t("reduce");return i({target:"Array",proto:!0,forced:o},{reduce:function(u){var l=arguments.length;return e(this,u,l,l>1?arguments[1]:void 0)}}),GE}var dd,ZE;function pL(){if(ZE)return dd;ZE=1,vL();var i=St();return dd=i("Array","reduce"),dd}var cd,JE;function gL(){if(JE)return cd;JE=1;var i=Je(),e=pL(),t=Array.prototype;return cd=function(r){var n=r.reduce;return r===t||i(t,r)&&n===t.reduce?e:n},cd}var hd,QE;function yL(){if(QE)return hd;QE=1;var i=gL();return hd=i,hd}var fd,eS;function mL(){return eS||(eS=1,fd=yL()),fd}var bL=mL(),_L=ae(bL),tS={},rS;function wL(){if(rS)return tS;rS=1;var i=ee(),e=yn().filter,t=Wo(),r=t("filter");return i({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),tS}var vd,iS;function EL(){if(iS)return vd;iS=1,wL();var i=St();return vd=i("Array","filter"),vd}var pd,nS;function SL(){if(nS)return pd;nS=1;var i=Je(),e=EL(),t=Array.prototype;return pd=function(r){var n=r.filter;return r===t||i(t,r)&&n===t.filter?e:n},pd}var gd,sS;function OL(){if(sS)return gd;sS=1;var i=SL();return gd=i,gd}var yd,oS;function IL(){return oS||(oS=1,yd=OL()),yd}var $L=IL(),ki=ae($L),aS={},uS;function TL(){if(uS)return aS;uS=1;var i=ee(),e=yn().map,t=Wo(),r=t("map");return i({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),aS}var md,lS;function PL(){if(lS)return md;lS=1,TL();var i=St();return md=i("Array","map"),md}var bd,dS;function RL(){if(dS)return bd;dS=1;var i=Je(),e=PL(),t=Array.prototype;return bd=function(r){var n=r.map;return r===t||i(t,r)&&n===t.map?e:n},bd}var _d,cS;function qL(){if(cS)return _d;cS=1;var i=RL();return _d=i,_d}var wd,hS;function CL(){return hS||(hS=1,wd=qL()),wd}var xL=CL(),jt=ae(xL),Ed={exports:{}},fS;function DL(){return fS||(fS=1,function(i){function e(r){if(r)return t(r);this._callbacks=new Map}function t(r){return Object.assign(r,e.prototype),r._callbacks=new Map,r}e.prototype.on=function(r,n){const s=this._callbacks.get(r)??[];return s.push(n),this._callbacks.set(r,s),this},e.prototype.once=function(r,n){const s=(...o)=>{this.off(r,s),n.apply(this,o)};return s.fn=n,this.on(r,s),this},e.prototype.off=function(r,n){if(r===void 0&&n===void 0)return this._callbacks.clear(),this;if(n===void 0)return this._callbacks.delete(r),this;const s=this._callbacks.get(r);if(s){for(const[o,a]of s.entries())if(a===n||a.fn===n){s.splice(o,1);break}s.length===0?this._callbacks.delete(r):this._callbacks.set(r,s)}return this},e.prototype.emit=function(r,...n){const s=this._callbacks.get(r);if(s){const o=[...s];for(const a of o)a.apply(this,n)}return this},e.prototype.listeners=function(r){return this._callbacks.get(r)??[]},e.prototype.listenerCount=function(r){if(r)return this.listeners(r).length;let n=0;for(const s of this._callbacks.values())n+=s.length;return n},e.prototype.hasListeners=function(r){return this.listenerCount(r)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,i.exports=e}(Ed)),Ed.exports}var ML=DL(),AL=ae(ML);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function kt(){return kt=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},kt.apply(this,arguments)}function Ot(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function uo(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var Km;typeof Object.assign!="function"?Km=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])}return t}:Km=Object.assign;var ii=Km,vS=["","webkit","Moz","MS","ms","o"],kL=typeof document>"u"?{style:{}}:document.createElement("div"),NL="function",Ni=Math.round,ni=Math.abs,Mb=Date.now;function Zo(i,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),s=0;s<vS.length;){if(t=vS[s],r=t?t+n:e,r in i)return r;s++}}var rr;typeof window>"u"?rr={}:rr=window;var Uk=Zo(kL.style,"touchAction"),Vk=Uk!==void 0;function FL(){if(!Vk)return!1;var i={},e=rr.CSS&&rr.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=e?rr.CSS.supports("touch-action",t):!0}),i}var Kk="compute",Yk="auto",Ym="manipulation",Qr="none",ls="pan-x",ds="pan-y",lo=FL(),BL=/mobile|tablet|ip(ad|hone|od)|android/i,Xk="ontouchstart"in rr,jL=Zo(rr,"PointerEvent")!==void 0,LL=Xk&&BL.test(navigator.userAgent),xs="touch",zL="pen",Ab="mouse",WL="kinect",HL=25,st=1,fi=2,xe=4,lt=8,Oo=1,Ds=2,Ms=4,As=8,Xi=16,Gt=Ds|Ms,ei=As|Xi,Zk=Gt|ei,Jk=["x","y"],Io=["clientX","clientY"];function ir(i,e,t){var r;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(r=0;r<i.length;)e.call(t,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&e.call(t,i[r],r,i)}function Jo(i,e){return typeof i===NL?i.apply(e&&e[0]||void 0,e):i}function Kr(i,e){return i.indexOf(e)>-1}function GL(i){if(Kr(i,Qr))return Qr;var e=Kr(i,ls),t=Kr(i,ds);return e&&t?Qr:e||t?e?ls:ds:Kr(i,Ym)?Ym:Yk}var Qk=function(){function i(t,r){this.manager=t,this.set(r)}var e=i.prototype;return e.set=function(r){r===Kk&&(r=this.compute()),Vk&&this.manager.element.style&&lo[r]&&(this.manager.element.style[Uk]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return ir(this.manager.recognizers,function(n){Jo(n.options.enable,[n])&&(r=r.concat(n.getTouchAction()))}),GL(r.join(" "))},e.preventDefaults=function(r){var n=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var o=this.actions,a=Kr(o,Qr)&&!lo[Qr],u=Kr(o,ds)&&!lo[ds],l=Kr(o,ls)&&!lo[ls];if(a){var d=r.pointers.length===1,c=r.distance<2,h=r.deltaTime<250;if(d&&c&&h)return}if(!(l&&u)&&(a||u&&s&Gt||l&&s&ei))return this.preventSrc(n)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},i}();function kb(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function eN(i){var e=i.length;if(e===1)return{x:Ni(i[0].clientX),y:Ni(i[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=i[n].clientX,r+=i[n].clientY,n++;return{x:Ni(t/e),y:Ni(r/e)}}function pS(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:Ni(i.pointers[t].clientX),clientY:Ni(i.pointers[t].clientY)},t++;return{timeStamp:Mb(),pointers:e,center:eN(e),deltaX:i.deltaX,deltaY:i.deltaY}}function $o(i,e,t){t||(t=Jk);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.sqrt(r*r+n*n)}function Xm(i,e,t){t||(t=Jk);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.atan2(n,r)*180/Math.PI}function tN(i,e){return i===e?Oo:ni(i)>=ni(e)?i<0?Ds:Ms:e<0?As:Xi}function UL(i,e){var t=e.center,r=i.offsetDelta||{},n=i.prevDelta||{},s=i.prevInput||{};(e.eventType===st||s.eventType===xe)&&(n=i.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=i.offsetDelta={x:t.x,y:t.y}),e.deltaX=n.x+(t.x-r.x),e.deltaY=n.y+(t.y-r.y)}function rN(i,e,t){return{x:e/i||0,y:t/i||0}}function VL(i,e){return $o(e[0],e[1],Io)/$o(i[0],i[1],Io)}function KL(i,e){return Xm(e[1],e[0],Io)+Xm(i[1],i[0],Io)}function YL(i,e){var t=i.lastInterval||e,r=e.timeStamp-t.timeStamp,n,s,o,a;if(e.eventType!==lt&&(r>HL||t.velocity===void 0)){var u=e.deltaX-t.deltaX,l=e.deltaY-t.deltaY,d=rN(r,u,l);s=d.x,o=d.y,n=ni(d.x)>ni(d.y)?d.x:d.y,a=tN(u,l),i.lastInterval=e}else n=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=n,e.velocityX=s,e.velocityY=o,e.direction=a}function XL(i,e){var t=i.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=pS(e)),n>1&&!t.firstMultiple?t.firstMultiple=pS(e):n===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,u=e.center=eN(r);e.timeStamp=Mb(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Xm(a,u),e.distance=$o(a,u),UL(t,e),e.offsetDirection=tN(e.deltaX,e.deltaY);var l=rN(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=ni(l.x)>ni(l.y)?l.x:l.y,e.scale=o?VL(o.pointers,r):1,e.rotation=o?KL(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,YL(t,e);var d=i.element,c=e.srcEvent,h;c.composedPath?h=c.composedPath()[0]:c.path?h=c.path[0]:h=c.target,kb(h,d)&&(d=h),e.target=d}function ZL(i,e,t){var r=t.pointers.length,n=t.changedPointers.length,s=e&st&&r-n===0,o=e&(xe|lt)&&r-n===0;t.isFirst=!!s,t.isFinal=!!o,s&&(i.session={}),t.eventType=e,XL(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function cs(i){return i.trim().split(/\s+/g)}function Jn(i,e,t){ir(cs(e),function(r){i.addEventListener(r,t,!1)})}function Qn(i,e,t){ir(cs(e),function(r){i.removeEventListener(r,t,!1)})}function gS(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var bn=function(){function i(t,r){var n=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){Jo(t.options.enable,[t])&&n.handler(s)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Jn(this.element,this.evEl,this.domHandler),this.evTarget&&Jn(this.target,this.evTarget,this.domHandler),this.evWin&&Jn(gS(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Qn(this.element,this.evEl,this.domHandler),this.evTarget&&Qn(this.target,this.evTarget,this.domHandler),this.evWin&&Qn(gS(this.element),this.evWin,this.domHandler)},i}();function si(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var r=0;r<i.length;){if(t&&i[r][t]==e||!t&&i[r]===e)return r;r++}return-1}var JL={pointerdown:st,pointermove:fi,pointerup:xe,pointercancel:lt,pointerout:lt},QL={2:xs,3:zL,4:Ab,5:WL},iN="pointerdown",nN="pointermove pointerup pointercancel";rr.MSPointerEvent&&!rr.PointerEvent&&(iN="MSPointerDown",nN="MSPointerMove MSPointerUp MSPointerCancel");var sN=function(i){Ot(e,i);function e(){var r,n=e.prototype;return n.evEl=iN,n.evWin=nN,r=i.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(n){var s=this.store,o=!1,a=n.type.toLowerCase().replace("ms",""),u=JL[a],l=QL[n.pointerType]||n.pointerType,d=l===xs,c=si(s,n.pointerId,"pointerId");u&st&&(n.button===0||d)?c<0&&(s.push(n),c=s.length-1):u&(xe|lt)&&(o=!0),!(c<0)&&(s[c]=n,this.callback(this.manager,u,{pointers:s,changedPointers:[n],pointerType:l,srcEvent:n}),o&&s.splice(c,1))},e}(bn);function hs(i){return Array.prototype.slice.call(i,0)}function Nb(i,e,t){for(var r=[],n=[],s=0;s<i.length;){var o=e?i[s][e]:i[s];si(n,o)<0&&r.push(i[s]),n[s]=o,s++}return t&&(e?r=r.sort(function(a,u){return a[e]>u[e]}):r=r.sort()),r}var ez={touchstart:st,touchmove:fi,touchend:xe,touchcancel:lt},tz="touchstart touchmove touchend touchcancel",Fb=function(i){Ot(e,i);function e(){var r;return e.prototype.evTarget=tz,r=i.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(n){var s=ez[n.type],o=rz.call(this,n,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:xs,srcEvent:n})},e}(bn);function rz(i,e){var t=hs(i.touches),r=this.targetIds;if(e&(st|fi)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var n,s,o=hs(i.changedTouches),a=[],u=this.target;if(s=t.filter(function(l){return kb(l.target,u)}),e===st)for(n=0;n<s.length;)r[s[n].identifier]=!0,n++;for(n=0;n<o.length;)r[o[n].identifier]&&a.push(o[n]),e&(xe|lt)&&delete r[o[n].identifier],n++;if(a.length)return[Nb(s.concat(a),"identifier",!0),a]}var iz={mousedown:st,mousemove:fi,mouseup:xe},nz="mousedown",sz="mousemove mouseup",Bb=function(i){Ot(e,i);function e(){var r,n=e.prototype;return n.evEl=nz,n.evWin=sz,r=i.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(n){var s=iz[n.type];s&st&&n.button===0&&(this.pressed=!0),s&fi&&n.which!==1&&(s=xe),this.pressed&&(s&xe&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[n],changedPointers:[n],pointerType:Ab,srcEvent:n}))},e}(bn),oz=2500,yS=25;function mS(i){var e=i.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},n=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=n.indexOf(r);a>-1&&n.splice(a,1)};setTimeout(s,oz)}}function az(i,e){i&st?(this.primaryTouch=e.changedPointers[0].identifier,mS.call(this,e)):i&(xe|lt)&&mS.call(this,e)}function uz(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],s=Math.abs(e-n.x),o=Math.abs(t-n.y);if(s<=yS&&o<=yS)return!0}return!1}var oN=function(){var i=function(e){Ot(t,e);function t(n,s){var o;return o=e.call(this,n,s)||this,o.handler=function(a,u,l){var d=l.pointerType===xs,c=l.pointerType===Ab;if(!(c&&l.sourceCapabilities&&l.sourceCapabilities.firesTouchEvents)){if(d)az.call(uo(uo(o)),u,l);else if(c&&uz.call(uo(uo(o)),l))return;o.callback(a,u,l)}},o.touch=new Fb(o.manager,o.handler),o.mouse=new Bb(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(bn);return i}();function lz(i){var e,t=i.options.inputClass;return t?e=t:jL?e=sN:LL?e=Fb:Xk?e=oN:e=Bb,new e(i,ZL)}function Fi(i,e,t){return Array.isArray(i)?(ir(i,t[e],t),!0):!1}var yo=1,bt=2,Zi=4,wr=8,nr=wr,fs=16,Lt=32,dz=1;function cz(){return dz++}function co(i,e){var t=e.manager;return t?t.get(i):i}function bS(i){return i&fs?"cancel":i&wr?"end":i&Zi?"move":i&bt?"start":""}var ks=function(){function i(t){t===void 0&&(t={}),this.options=kt({enable:!0},t),this.id=cz(),this.manager=null,this.state=yo,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(r){return ii(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(Fi(r,"recognizeWith",this))return this;var n=this.simultaneous;return r=co(r,this),n[r.id]||(n[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return Fi(r,"dropRecognizeWith",this)?this:(r=co(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(Fi(r,"requireFailure",this))return this;var n=this.requireFail;return r=co(r,this),si(n,r)===-1&&(n.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(Fi(r,"dropRequireFailure",this))return this;r=co(r,this);var n=si(this.requireFail,r);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var n=this,s=this.state;function o(a){n.manager.emit(a,r)}s<wr&&o(n.options.event+bS(s)),o(n.options.event),r.additionalEvent&&o(r.additionalEvent),s>=wr&&o(n.options.event+bS(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=Lt},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(Lt|yo)))return!1;r++}return!0},e.recognize=function(r){var n=ii({},r);if(!Jo(this.options.enable,[this,n])){this.reset(),this.state=Lt;return}this.state&(nr|fs|Lt)&&(this.state=yo),this.state=this.process(n),this.state&(bt|Zi|wr|fs)&&this.tryEmit(n)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},i}(),Zm=function(i){Ot(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,kt({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var t=e.prototype;return t.getTouchAction=function(){return[Ym]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,u=n.distance<o.threshold,l=n.deltaTime<o.time;if(this.reset(),n.eventType&st&&this.count===0)return this.failTimeout();if(u&&l&&a){if(n.eventType!==xe)return this.failTimeout();var d=this.pTime?n.timeStamp-this.pTime<o.interval:!0,c=!this.pCenter||$o(this.pCenter,n.center)<o.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!c||!d?this.count=1:this.count+=1,this._input=n;var h=this.count%o.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=nr,s.tryEmit()},o.interval),bt):nr}return Lt},t.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=Lt},this.options.interval),Lt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===nr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(ks),Ji=function(i){Ot(e,i);function e(r){return r===void 0&&(r={}),i.call(this,kt({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(n){var s=this.options.pointers;return s===0||n.pointers.length===s},t.process=function(n){var s=this.state,o=n.eventType,a=s&(bt|Zi),u=this.attrTest(n);return a&&(o&lt||!u)?s|fs:a||u?o&xe?s|wr:s&bt?s|Zi:bt:Lt},e}(ks);function aN(i){return i===Xi?"down":i===As?"up":i===Ds?"left":i===Ms?"right":""}var jb=function(i){Ot(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,kt({event:"pan",threshold:10,pointers:1,direction:Zk},r))||this,n.pX=null,n.pY=null,n}var t=e.prototype;return t.getTouchAction=function(){var n=this.options.direction,s=[];return n&Gt&&s.push(ds),n&ei&&s.push(ls),s},t.directionTest=function(n){var s=this.options,o=!0,a=n.distance,u=n.direction,l=n.deltaX,d=n.deltaY;return u&s.direction||(s.direction&Gt?(u=l===0?Oo:l<0?Ds:Ms,o=l!==this.pX,a=Math.abs(n.deltaX)):(u=d===0?Oo:d<0?As:Xi,o=d!==this.pY,a=Math.abs(n.deltaY))),n.direction=u,o&&a>s.threshold&&u&s.direction},t.attrTest=function(n){return Ji.prototype.attrTest.call(this,n)&&(this.state&bt||!(this.state&bt)&&this.directionTest(n))},t.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var s=aN(n.direction);s&&(n.additionalEvent=this.options.event+s),i.prototype.emit.call(this,n)},e}(Ji),uN=function(i){Ot(e,i);function e(r){return r===void 0&&(r={}),i.call(this,kt({event:"swipe",threshold:10,velocity:.3,direction:Gt|ei,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return jb.prototype.getTouchAction.call(this)},t.attrTest=function(n){var s=this.options.direction,o;return s&(Gt|ei)?o=n.overallVelocity:s&Gt?o=n.overallVelocityX:s&ei&&(o=n.overallVelocityY),i.prototype.attrTest.call(this,n)&&s&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&ni(o)>this.options.velocity&&n.eventType&xe},t.emit=function(n){var s=aN(n.offsetDirection);s&&this.manager.emit(this.options.event+s,n),this.manager.emit(this.options.event,n)},e}(Ji),lN=function(i){Ot(e,i);function e(r){return r===void 0&&(r={}),i.call(this,kt({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Qr]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&bt)},t.emit=function(n){if(n.scale!==1){var s=n.scale<1?"in":"out";n.additionalEvent=this.options.event+s}i.prototype.emit.call(this,n)},e}(Ji),dN=function(i){Ot(e,i);function e(r){return r===void 0&&(r={}),i.call(this,kt({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Qr]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&bt)},e}(Ji),cN=function(i){Ot(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,kt({event:"press",pointers:1,time:251,threshold:9},r))||this,n._timer=null,n._input=null,n}var t=e.prototype;return t.getTouchAction=function(){return[Yk]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,u=n.distance<o.threshold,l=n.deltaTime>o.time;if(this._input=n,!u||!a||n.eventType&(xe|lt)&&!l)this.reset();else if(n.eventType&st)this.reset(),this._timer=setTimeout(function(){s.state=nr,s.tryEmit()},o.time);else if(n.eventType&xe)return nr;return Lt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(n){this.state===nr&&(n&&n.eventType&xe?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=Mb(),this.manager.emit(this.options.event,this._input)))},e}(ks),hN={domEvents:!1,touchAction:Kk,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},_S=[[dN,{enable:!1}],[lN,{enable:!1},["rotate"]],[uN,{direction:Gt}],[jb,{direction:Gt},["swipe"]],[Zm],[Zm,{event:"doubletap",taps:2},["tap"]],[cN]],hz=1,wS=2;function ES(i,e){var t=i.element;if(t.style){var r;ir(i.options.cssProps,function(n,s){r=Zo(t.style,s),e?(i.oldCssProps[r]=t.style[r],t.style[r]=n):t.style[r]=i.oldCssProps[r]||""}),e||(i.oldCssProps={})}}function fz(i,e){var t=document.createEvent("Event");t.initEvent(i,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var SS=function(){function i(t,r){var n=this;this.options=ii({},hN,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=lz(this),this.touchAction=new Qk(this,this.options.touchAction),ES(this,!0),ir(this.options.recognizers,function(s){var o=n.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=i.prototype;return e.set=function(r){return ii(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?wS:hz},e.recognize=function(r){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&nr)&&(n.curRecognizer=null,a=null);for(var u=0;u<o.length;)s=o[u],n.stopped!==wS&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(bt|Zi|wr)&&(n.curRecognizer=s,a=s),u++}},e.get=function(r){if(r instanceof ks)return r;for(var n=this.recognizers,s=0;s<n.length;s++)if(n[s].options.event===r)return n[s];return null},e.add=function(r){if(Fi(r,"add",this))return this;var n=this.get(r.options.event);return n&&this.remove(n),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(Fi(r,"remove",this))return this;var n=this.get(r);if(r){var s=this.recognizers,o=si(s,n);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,n){if(r===void 0||n===void 0)return this;var s=this.handlers;return ir(cs(r),function(o){s[o]=s[o]||[],s[o].push(n)}),this},e.off=function(r,n){if(r===void 0)return this;var s=this.handlers;return ir(cs(r),function(o){n?s[o]&&s[o].splice(si(s[o],n),1):delete s[o]}),this},e.emit=function(r,n){this.options.domEvents&&fz(r,n);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){n.type=r,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](n),o++}},e.destroy=function(){this.element&&ES(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i}(),vz={touchstart:st,touchmove:fi,touchend:xe,touchcancel:lt},pz="touchstart",gz="touchstart touchmove touchend touchcancel",yz=function(i){Ot(e,i);function e(){var r,n=e.prototype;return n.evTarget=pz,n.evWin=gz,r=i.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(n){var s=vz[n.type];if(s===st&&(this.started=!0),!!this.started){var o=mz.call(this,n,s);s&(xe|lt)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:xs,srcEvent:n})}},e}(bn);function mz(i,e){var t=hs(i.touches),r=hs(i.changedTouches);return e&(xe|lt)&&(t=Nb(t.concat(r),"identifier",!0)),[t,r]}function fN(i,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),s=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),i.apply(this,arguments)}}var vN=fN(function(i,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&i[r[n]]===void 0)&&(i[r[n]]=e[r[n]]),n++;return i},"extend","Use `assign`."),bz=fN(function(i,e){return vN(i,e,!0)},"merge","Use `assign`.");function _z(i,e,t){var r=e.prototype,n;n=i.prototype=Object.create(r),n.constructor=i,n._super=r,t&&ii(n,t)}function OS(i,e){return function(){return i.apply(e,arguments)}}var wz=function(){var i=function(t,r){return r===void 0&&(r={}),new SS(t,kt({recognizers:_S.concat()},r))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=Zk,i.DIRECTION_DOWN=Xi,i.DIRECTION_LEFT=Ds,i.DIRECTION_RIGHT=Ms,i.DIRECTION_UP=As,i.DIRECTION_HORIZONTAL=Gt,i.DIRECTION_VERTICAL=ei,i.DIRECTION_NONE=Oo,i.DIRECTION_DOWN=Xi,i.INPUT_START=st,i.INPUT_MOVE=fi,i.INPUT_END=xe,i.INPUT_CANCEL=lt,i.STATE_POSSIBLE=yo,i.STATE_BEGAN=bt,i.STATE_CHANGED=Zi,i.STATE_ENDED=wr,i.STATE_RECOGNIZED=nr,i.STATE_CANCELLED=fs,i.STATE_FAILED=Lt,i.Manager=SS,i.Input=bn,i.TouchAction=Qk,i.TouchInput=Fb,i.MouseInput=Bb,i.PointerEventInput=sN,i.TouchMouseInput=oN,i.SingleTouchInput=yz,i.Recognizer=ks,i.AttrRecognizer=Ji,i.Tap=Zm,i.Pan=jb,i.Swipe=uN,i.Pinch=lN,i.Rotate=dN,i.Press=cN,i.on=Jn,i.off=Qn,i.each=ir,i.merge=bz,i.extend=vN,i.bindFn=OS,i.assign=ii,i.inherit=_z,i.bindFn=OS,i.prefixed=Zo,i.toArray=hs,i.inArray=si,i.uniqueArray=Nb,i.splitStr=cs,i.boolOrFn=Jo,i.hasParent=kb,i.addEventListeners=Jn,i.removeEventListeners=Qn,i.defaults=ii({},hN,{preset:_S}),i}();/**
 * vis-util
 * https://github.com/visjs/vis-util
 *
 * utilitie collection for visjs
 *
 * @version 6.0.0
 * @date    2025-07-12T18:02:43.836Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */const pN=Symbol("DELETE");function Ez(i,...e){return gN({},i,...e)}function gN(...i){const e=To(...i);return mN(e),e}function To(...i){if(i.length<2)return i[0];if(i.length>2)return To(gN(i[0],i[1]),...i.slice(2));const e=i[0],t=i[1];if(e instanceof Date&&t instanceof Date)return e.setTime(t.getTime()),e;for(const r of Reflect.ownKeys(t))Object.prototype.propertyIsEnumerable.call(t,r)&&(t[r]===pN?delete e[r]:e[r]!==null&&t[r]!==null&&typeof e[r]=="object"&&typeof t[r]=="object"&&!Array.isArray(e[r])&&!Array.isArray(t[r])?e[r]=To(e[r],t[r]):e[r]=yN(t[r]));return e}function yN(i){return Array.isArray(i)?i.map(e=>yN(e)):typeof i=="object"&&i!==null?i instanceof Date?new Date(i.getTime()):To({},i):i}function mN(i){for(const e of Object.keys(i))i[e]===pN?delete i[e]:typeof i[e]=="object"&&i[e]!==null&&mN(i[e])}function Sz(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}const Oz=typeof window<"u"?window.Hammer||wz:function(){return Sz()};function Qt(i){this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const e=Oz(this._dom.overlay);e.on("tap",this._onTapOverlay.bind(this)),this._cleanupQueue.push(()=>{e.destroy()}),["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(r=>{e.on(r,n=>{n.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=r=>{Iz(r.target,i)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=r=>{("key"in r?r.key==="Escape":r.keyCode===27)&&this.deactivate()}}AL(Qt.prototype);Qt.current=null;Qt.prototype.destroy=function(){this.deactivate();for(const i of this._cleanupQueue.splice(0).reverse())i()};Qt.prototype.activate=function(){Qt.current&&Qt.current.deactivate(),Qt.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Qt.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Qt.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};function Iz(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}var Sd,IS;function $z(){if(IS)return Sd;IS=1,Ak();var i=Le();return Sd=i.Object.getOwnPropertySymbols,Sd}var Od,$S;function Tz(){if($S)return Od;$S=1;var i=$z();return Od=i,Od}var Id,TS;function Pz(){return TS||(TS=1,Id=Tz()),Id}var Rz=Pz(),PS=ae(Rz),$d={exports:{}},RS={},qS;function qz(){if(qS)return RS;qS=1;var i=ee(),e=de(),t=lr(),r=Lo().f,n=Ae(),s=!n||e(function(){r(1)});return i({target:"Object",stat:!0,forced:s,sham:!n},{getOwnPropertyDescriptor:function(a,u){return r(t(a),u)}}),RS}var CS;function Cz(){if(CS)return $d.exports;CS=1,qz();var i=Le(),e=i.Object,t=$d.exports=function(n,s){return e.getOwnPropertyDescriptor(n,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),$d.exports}var Td,xS;function xz(){if(xS)return Td;xS=1;var i=Cz();return Td=i,Td}var Pd,DS;function Dz(){return DS||(DS=1,Pd=xz()),Pd}var Mz=Dz(),bN=ae(Mz),MS={},Rd,AS;function Az(){if(AS)return Rd;AS=1;var i=yn().forEach,e=Xo(),t=e("forEach");return Rd=t?[].forEach:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)},Rd}var kS;function kz(){if(kS)return MS;kS=1;var i=ee(),e=Az();return i({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),MS}var qd,NS;function Nz(){if(NS)return qd;NS=1,kz();var i=St();return qd=i("Array","forEach"),qd}var Cd,FS;function Fz(){if(FS)return Cd;FS=1;var i=Nz();return Cd=i,Cd}var xd,BS;function Bz(){if(BS)return xd;BS=1;var i=Cr(),e=ze(),t=Je(),r=Fz(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return xd=function(o){var a=o.forEach;return o===n||t(n,o)&&a===n.forEach||e(s,i(o))?r:a},xd}var Dd,jS;function jz(){return jS||(jS=1,Dd=Bz()),Dd}var Lz=jz(),Qi=ae(Lz),LS={},Md,zS;function zz(){if(zS)return Md;zS=1;var i=vt(),e=ye(),t=Uo(),r=Vo(),n=cr(),s=e([].concat);return Md=i("Reflect","ownKeys")||function(a){var u=t.f(n(a)),l=r.f;return l?s(u,l(a)):u},Md}var WS;function Wz(){if(WS)return LS;WS=1;var i=ee(),e=Ae(),t=zz(),r=lr(),n=Lo(),s=$b();return i({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var u=r(a),l=n.f,d=t(u),c={},h=0,f,v;d.length>h;)v=l(u,f=d[h++]),v!==void 0&&s(c,f,v);return c}}),LS}var Ad,HS;function Hz(){if(HS)return Ad;HS=1,Wz();var i=Le();return Ad=i.Object.getOwnPropertyDescriptors,Ad}var kd,GS;function Gz(){if(GS)return kd;GS=1;var i=Hz();return kd=i,kd}var Nd,US;function Uz(){return US||(US=1,Nd=Gz()),Nd}var Vz=Uz(),VS=ae(Vz),Fd={exports:{}},KS={},YS;function Kz(){if(YS)return KS;YS=1;var i=ee(),e=Ae(),t=qb().f;return i({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),KS}var XS;function Yz(){if(XS)return Fd.exports;XS=1,Kz();var i=Le(),e=i.Object,t=Fd.exports=function(n,s){return e.defineProperties(n,s)};return e.defineProperties.sham&&(t.sham=!0),Fd.exports}var Bd,ZS;function Xz(){if(ZS)return Bd;ZS=1;var i=Yz();return Bd=i,Bd}var jd,JS;function Zz(){return JS||(JS=1,jd=Xz()),jd}var Jz=Zz(),Qz=ae(Jz),Ld,QS;function e4(){return QS||(QS=1,Ld=Ik()),Ld}var t4=e4(),r4=ae(t4),eO={},tO;function i4(){if(tO)return eO;tO=1;var i=ee(),e=$s();return i({target:"Array",stat:!0},{isArray:e}),eO}var zd,rO;function n4(){if(rO)return zd;rO=1,i4();var i=Le();return zd=i.Array.isArray,zd}var Wd,iO;function s4(){if(iO)return Wd;iO=1;var i=n4();return Wd=i,Wd}var Hd,nO;function o4(){return nO||(nO=1,Hd=s4()),Hd}var a4=o4(),Gr=ae(a4),sO={},oO={},Gd={exports:{}},Ud,aO;function u4(){if(aO)return Ud;aO=1;var i=de();return Ud=i(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Ud}var Vd,uO;function l4(){if(uO)return Vd;uO=1;var i=de(),e=ht(),t=ur(),r=u4(),n=Object.isExtensible,s=i(function(){});return Vd=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:n?n(a):!0}:n,Vd}var Kd,lO;function d4(){if(lO)return Kd;lO=1;var i=de();return Kd=!i(function(){return Object.isExtensible(Object.preventExtensions({}))}),Kd}var dO;function _N(){if(dO)return Gd.exports;dO=1;var i=ee(),e=ye(),t=Ts(),r=ht(),n=ze(),s=Et().f,o=Uo(),a=Ck(),u=l4(),l=jo(),d=d4(),c=!1,h=l("meta"),f=0,v=function(m){s(m,h,{value:{objectID:"O"+f++,weakData:{}}})},g=function(m,S){if(!r(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!n(m,h)){if(!u(m))return"F";if(!S)return"E";v(m)}return m[h].objectID},_=function(m,S){if(!n(m,h)){if(!u(m))return!0;if(!S)return!1;v(m)}return m[h].weakData},y=function(m){return d&&c&&u(m)&&!n(m,h)&&v(m),m},p=function(){O.enable=function(){},c=!0;var m=o.f,S=e([].splice),$={};$[h]=1,m($).length&&(o.f=function(w){for(var b=m(w),E=0,I=b.length;E<I;E++)if(b[E]===h){S(b,E,1);break}return b},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},O=Gd.exports={enable:p,fastKey:g,getWeakData:_,onFreeze:y};return t[h]=!0,Gd.exports}var Yd,cO;function c4(){if(cO)return Yd;cO=1;var i=Ke(),e=mn(),t=i("iterator"),r=Array.prototype;return Yd=function(n){return n!==void 0&&(e.Array===n||r[t]===n)},Yd}var Xd,hO;function wN(){if(hO)return Xd;hO=1;var i=Cr(),e=Sb(),t=Ss(),r=mn(),n=Ke(),s=n("iterator");return Xd=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[i(o)]},Xd}var Zd,fO;function EN(){if(fO)return Zd;fO=1;var i=ct(),e=dr(),t=cr(),r=hn(),n=wN(),s=TypeError;return Zd=function(o,a){var u=arguments.length<2?n(o):a;if(e(u))return t(i(u,o));throw new s(r(o)+" is not iterable")},Zd}var Jd,vO;function Lb(){if(vO)return Jd;vO=1;var i=ct(),e=cr(),t=Sb();return Jd=function(r,n,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(n==="throw")throw s;return s}o=i(o,r)}catch(u){a=!0,o=u}if(n==="throw")throw s;if(a)throw o;return e(o),s},Jd}var Qd,pO;function zb(){if(pO)return Qd;pO=1;var i=zo(),e=ct(),t=cr(),r=hn(),n=c4(),s=ci(),o=Je(),a=EN(),u=wN(),l=Lb(),d=TypeError,c=function(f,v){this.stopped=f,this.result=v},h=c.prototype;return Qd=function(f,v,g){var _=g&&g.that,y=!!(g&&g.AS_ENTRIES),p=!!(g&&g.IS_RECORD),O=!!(g&&g.IS_ITERATOR),m=!!(g&&g.INTERRUPTED),S=i(v,_),$,w,b,E,I,T,P,R=function(M){return $&&l($,"normal"),new c(!0,M)},C=function(M){return y?(t(M),m?S(M[0],M[1],R):S(M[0],M[1])):m?S(M,R):S(M)};if(p)$=f.iterator;else if(O)$=f;else{if(w=u(f),!w)throw new d(r(f)+" is not iterable");if(n(w)){for(b=0,E=s(f);E>b;b++)if(I=C(f[b]),I&&o(h,I))return I;return new c(!1)}$=a(f,w)}for(T=p?f.next:$.next;!(P=e(T,$)).done;){try{I=C(P.value)}catch(M){l($,"throw",M)}if(typeof I=="object"&&I&&o(h,I))return I}return new c(!1)},Qd}var ec,gO;function SN(){if(gO)return ec;gO=1;var i=Je(),e=TypeError;return ec=function(t,r){if(i(r,t))return t;throw new e("Incorrect invocation")},ec}var tc,yO;function ON(){if(yO)return tc;yO=1;var i=ee(),e=Me(),t=_N(),r=de(),n=pn(),s=zb(),o=SN(),a=je(),u=ht(),l=Ss(),d=hi(),c=Et().f,h=yn().forEach,f=Ae(),v=Cs(),g=v.set,_=v.getterFor;return tc=function(y,p,O){var m=y.indexOf("Map")!==-1,S=y.indexOf("Weak")!==-1,$=m?"set":"add",w=e[y],b=w&&w.prototype,E={},I;if(!f||!a(w)||!(S||b.forEach&&!r(function(){new w().entries().next()})))I=O.getConstructor(p,y,m,$),t.enable();else{I=p(function(R,C){g(o(R,T),{type:y,collection:new w}),l(C)||s(C,R[$],{that:R,AS_ENTRIES:m})});var T=I.prototype,P=_(y);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var C=R==="add"||R==="set";R in b&&!(S&&R==="clear")&&n(T,R,function(M,K){var j=P(this).collection;if(!C&&S&&!u(M))return R==="get"?void 0:!1;var J=j[R](M===0?0:M,K);return C?this:J})}),S||c(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d(I,y,!1,!0),E[y]=I,i({global:!0,forced:!0},E),S||O.setStrong(I,y,m),I},tc}var rc,mO;function h4(){if(mO)return rc;mO=1;var i=qs();return rc=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:i(e,n,t[n],r);return e},rc}var ic,bO;function f4(){if(bO)return ic;bO=1;var i=vt(),e=Cb(),t=Ke(),r=Ae(),n=t("species");return ic=function(s){var o=i(s);r&&o&&!o[n]&&e(o,n,{configurable:!0,get:function(){return this}})},ic}var nc,_O;function IN(){if(_O)return nc;_O=1;var i=Ps(),e=Cb(),t=h4(),r=zo(),n=SN(),s=Ss(),o=zb(),a=xb(),u=Db(),l=f4(),d=Ae(),c=_N().fastKey,h=Cs(),f=h.set,v=h.getterFor;return nc={getConstructor:function(g,_,y,p){var O=g(function(b,E){n(b,m),f(b,{type:_,index:i(null),first:null,last:null,size:0}),d||(b.size=0),s(E)||o(E,b[p],{that:b,AS_ENTRIES:y})}),m=O.prototype,S=v(_),$=function(b,E,I){var T=S(b),P=w(b,E),R,C;return P?P.value=I:(T.last=P={index:C=c(E,!0),key:E,value:I,previous:R=T.last,next:null,removed:!1},T.first||(T.first=P),R&&(R.next=P),d?T.size++:b.size++,C!=="F"&&(T.index[C]=P)),b},w=function(b,E){var I=S(b),T=c(E),P;if(T!=="F")return I.index[T];for(P=I.first;P;P=P.next)if(P.key===E)return P};return t(m,{clear:function(){for(var E=this,I=S(E),T=I.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;I.first=I.last=null,I.index=i(null),d?I.size=0:E.size=0},delete:function(b){var E=this,I=S(E),T=w(E,b);if(T){var P=T.next,R=T.previous;delete I.index[T.index],T.removed=!0,R&&(R.next=P),P&&(P.previous=R),I.first===T&&(I.first=P),I.last===T&&(I.last=R),d?I.size--:E.size--}return!!T},forEach:function(E){for(var I=S(this),T=r(E,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:I.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(E){return!!w(this,E)}}),t(m,y?{get:function(E){var I=w(this,E);return I&&I.value},set:function(E,I){return $(this,E===0?0:E,I)}}:{add:function(E){return $(this,E=E===0?0:E,E)}}),d&&e(m,"size",{configurable:!0,get:function(){return S(this).size}}),O},setStrong:function(g,_,y){var p=_+" Iterator",O=v(_),m=v(p);a(g,_,function(S,$){f(this,{type:p,target:S,state:O(S),kind:$,last:null})},function(){for(var S=m(this),$=S.kind,w=S.last;w&&w.removed;)w=w.previous;return!S.target||!(S.last=w=w?w.next:S.state.first)?(S.target=null,u(void 0,!0)):u($==="keys"?w.key:$==="values"?w.value:[w.key,w.value],!1)},y?"entries":"values",!y,!0),l(_)}},nc}var wO;function v4(){if(wO)return oO;wO=1;var i=ON(),e=IN();return i("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),oO}var EO;function p4(){return EO||(EO=1,v4()),sO}var SO={},sc,OO;function $N(){return OO||(OO=1,sc=function(i,e){return e===1?function(t,r){return t[i](r)}:function(t,r,n){return t[i](r,n)}}),sc}var oc,IO;function g4(){if(IO)return oc;IO=1;var i=vt(),e=$N(),t=i("Map");return oc={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},oc}var $O;function y4(){if($O)return SO;$O=1;var i=ee(),e=ye(),t=dr(),r=di(),n=zb(),s=g4(),o=fn(),a=de(),u=s.Map,l=s.has,d=s.get,c=s.set,h=e([].push),f=o||a(function(){return u.groupBy("ab",function(v){return v}).get("a").length!==1});return i({target:"Map",stat:!0,forced:o||f},{groupBy:function(g,_){r(g),t(_);var y=new u,p=0;return n(g,function(O){var m=_(O,p++);l(y,m)?h(d(y,m),O):c(y,m,[O])}),y}}),SO}var ac,TO;function m4(){if(TO)return ac;TO=1,Dr(),p4(),y4(),Yo();var i=Le();return ac=i.Map,ac}var uc,PO;function b4(){if(PO)return uc;PO=1;var i=m4();return Mr(),uc=i,uc}var lc,RO;function _4(){return RO||(RO=1,lc=b4()),lc}var w4=_4(),TN=ae(w4),qO={},CO;function E4(){if(CO)return qO;CO=1;var i=ee(),e=yn().some,t=Xo(),r=t("some");return i({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),qO}var dc,xO;function S4(){if(xO)return dc;xO=1,E4();var i=St();return dc=i("Array","some"),dc}var cc,DO;function O4(){if(DO)return cc;DO=1;var i=Je(),e=S4(),t=Array.prototype;return cc=function(r){var n=r.some;return r===t||i(t,r)&&n===t.some?e:n},cc}var hc,MO;function I4(){if(MO)return hc;MO=1;var i=O4();return hc=i,hc}var fc,AO;function $4(){return AO||(AO=1,fc=I4()),fc}var T4=$4(),P4=ae(T4),kO={},vc,NO;function R4(){if(NO)return vc;NO=1;var i=Ae(),e=ye(),t=ct(),r=de(),n=Ho(),s=Vo(),o=Eb(),a=Ft(),u=Bo(),l=Object.assign,d=Object.defineProperty,c=e([].concat);return vc=!l||r(function(){if(i&&l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),g="abcdefghijklmnopqrst";return h[v]=7,g.split("").forEach(function(_){f[_]=_}),l({},h)[v]!==7||n(l({},f)).join("")!==g})?function(f,v){for(var g=a(f),_=arguments.length,y=1,p=s.f,O=o.f;_>y;)for(var m=u(arguments[y++]),S=p?c(n(m),p(m)):n(m),$=S.length,w=0,b;$>w;)b=S[w++],(!i||t(O,m,b))&&(g[b]=m[b]);return g}:l,vc}var FO;function q4(){if(FO)return kO;FO=1;var i=ee(),e=R4();return i({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),kO}var pc,BO;function C4(){if(BO)return pc;BO=1,q4();var i=Le();return pc=i.Object.assign,pc}var gc,jO;function x4(){if(jO)return gc;jO=1;var i=C4();return gc=i,gc}var yc,LO;function D4(){return LO||(LO=1,yc=x4()),yc}var M4=D4(),A4=ae(M4),mc,zO;function k4(){if(zO)return mc;zO=1,Pk();var i=St();return mc=i("Array","concat"),mc}var bc,WO;function N4(){if(WO)return bc;WO=1;var i=Je(),e=k4(),t=Array.prototype;return bc=function(r){var n=r.concat;return r===t||i(t,r)&&n===t.concat?e:n},bc}var _c,HO;function F4(){if(HO)return _c;HO=1;var i=N4();return _c=i,_c}var wc,GO;function B4(){return GO||(GO=1,wc=F4()),wc}var j4=B4(),L4=ae(j4),Ec,UO;function z4(){if(UO)return Ec;UO=1,Dr();var i=St();return Ec=i("Array","keys"),Ec}var Sc,VO;function W4(){if(VO)return Sc;VO=1;var i=z4();return Sc=i,Sc}var Oc,KO;function H4(){if(KO)return Oc;KO=1,Mr();var i=Cr(),e=ze(),t=Je(),r=W4(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Oc=function(o){var a=o.keys;return o===n||t(n,o)&&a===n.keys||e(s,i(o))?r:a},Oc}var Ic,YO;function G4(){return YO||(YO=1,Ic=H4()),Ic}var U4=G4(),xi=ae(U4),XO={},ZO;function V4(){if(ZO)return XO;ZO=1;var i=ee(),e=Ft(),t=Ho(),r=de(),n=r(function(){t(1)});return i({target:"Object",stat:!0,forced:n},{keys:function(o){return t(e(o))}}),XO}var $c,JO;function K4(){if(JO)return $c;JO=1,V4();var i=Le();return $c=i.Object.keys,$c}var Tc,QO;function Y4(){if(QO)return Tc;QO=1;var i=K4();return Tc=i,Tc}var Pc,eI;function X4(){return eI||(eI=1,Pc=Y4()),Pc}var Z4=X4(),PN=ae(Z4),tI={},Rc,rI;function RN(){if(rI)return Rc;rI=1;var i=hn(),e=TypeError;return Rc=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+i(r)+" of "+i(t))},Rc}var qc,iI;function J4(){if(iI)return qc;iI=1;var i=Rs(),e=Math.floor,t=function(r,n){var s=r.length;if(s<8)for(var o=1,a,u;o<s;){for(u=o,a=r[o];u&&n(r[u-1],a)>0;)r[u]=r[--u];u!==o++&&(r[u]=a)}else for(var l=e(s/2),d=t(i(r,0,l),n),c=t(i(r,l),n),h=d.length,f=c.length,v=0,g=0;v<h||g<f;)r[v+g]=v<h&&g<f?n(d[v],c[g])<=0?d[v++]:c[g++]:v<h?d[v++]:c[g++];return r};return qc=t,qc}var Cc,nI;function Q4(){if(nI)return Cc;nI=1;var i=dn(),e=i.match(/firefox\/(\d+)/i);return Cc=!!e&&+e[1],Cc}var xc,sI;function e6(){if(sI)return xc;sI=1;var i=dn();return xc=/MSIE|Trident/.test(i),xc}var Dc,oI;function t6(){if(oI)return Dc;oI=1;var i=dn(),e=i.match(/AppleWebKit\/(\d+)\./);return Dc=!!e&&+e[1],Dc}var aI;function r6(){if(aI)return tI;aI=1;var i=ee(),e=ye(),t=dr(),r=Ft(),n=ci(),s=RN(),o=xr(),a=de(),u=J4(),l=Xo(),d=Q4(),c=e6(),h=Os(),f=t6(),v=[],g=e(v.sort),_=e(v.push),y=a(function(){v.sort(void 0)}),p=a(function(){v.sort(null)}),O=l("sort"),m=!a(function(){if(h)return h<70;if(!(d&&d>3)){if(c)return!0;if(f)return f<603;var w="",b,E,I,T;for(b=65;b<76;b++){switch(E=String.fromCharCode(b),b){case 66:case 69:case 70:case 72:I=3;break;case 68:case 71:I=4;break;default:I=2}for(T=0;T<47;T++)v.push({k:E+T,v:I})}for(v.sort(function(P,R){return R.v-P.v}),T=0;T<v.length;T++)E=v[T].k.charAt(0),w.charAt(w.length-1)!==E&&(w+=E);return w!=="DGBEFHACIJK"}}),S=y||!p||!O||!m,$=function(w){return function(b,E){return E===void 0?-1:b===void 0?1:w!==void 0?+w(b,E)||0:o(b)>o(E)?1:-1}};return i({target:"Array",proto:!0,forced:S},{sort:function(b){b!==void 0&&t(b);var E=r(this);if(m)return b===void 0?g(E):g(E,b);var I=[],T=n(E),P,R;for(R=0;R<T;R++)R in E&&_(I,E[R]);for(u(I,$(b)),P=n(I),R=0;R<P;)E[R]=I[R++];for(;R<T;)s(E,R++);return E}}),tI}var Mc,uI;function i6(){if(uI)return Mc;uI=1,r6();var i=St();return Mc=i("Array","sort"),Mc}var Ac,lI;function n6(){if(lI)return Ac;lI=1;var i=Je(),e=i6(),t=Array.prototype;return Ac=function(r){var n=r.sort;return r===t||i(t,r)&&n===t.sort?e:n},Ac}var kc,dI;function s6(){if(dI)return kc;dI=1;var i=n6();return kc=i,kc}var Nc,cI;function o6(){return cI||(cI=1,Nc=s6()),Nc}var a6=o6(),Jm=ae(a6),Fc,hI;function u6(){if(hI)return Fc;hI=1,Dr();var i=St();return Fc=i("Array","values"),Fc}var Bc,fI;function l6(){if(fI)return Bc;fI=1;var i=u6();return Bc=i,Bc}var jc,vI;function d6(){if(vI)return jc;vI=1,Mr();var i=Cr(),e=ze(),t=Je(),r=l6(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return jc=function(o){var a=o.values;return o===n||t(n,o)&&a===n.values||e(s,i(o))?r:a},jc}var Lc,pI;function c6(){return pI||(pI=1,Lc=d6()),Lc}var h6=c6(),gI=ae(h6),yI={},zc,mI;function f6(){if(mI)return zc;mI=1;var i=gn(),e=xr(),t=di(),r=RangeError;return zc=function(s){var o=e(t(this)),a="",u=i(s);if(u<0||u===1/0)throw new r("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(o+=o))u&1&&(a+=o);return a},zc}var Wc,bI;function v6(){if(bI)return Wc;bI=1;var i=ye(),e=$k(),t=xr(),r=f6(),n=di(),s=i(r),o=i("".slice),a=Math.ceil,u=function(l){return function(d,c,h){var f=t(n(d)),v=e(c),g=f.length,_=h===void 0?" ":t(h),y,p;return v<=g||_===""?f:(y=v-g,p=s(_,a(y/_.length)),p.length>y&&(p=o(p,0,y)),l?f+p:p+f)}};return Wc={start:u(!1),end:u(!0)},Wc}var Hc,_I;function p6(){if(_I)return Hc;_I=1;var i=ye(),e=de(),t=v6().start,r=RangeError,n=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,u=i(o.getTime),l=i(o.getUTCDate),d=i(o.getUTCFullYear),c=i(o.getUTCHours),h=i(o.getUTCMilliseconds),f=i(o.getUTCMinutes),v=i(o.getUTCMonth),g=i(o.getUTCSeconds);return Hc=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!n(u(this)))throw new r("Invalid time value");var y=this,p=d(y),O=h(y),m=p<0?"-":p>9999?"+":"";return m+t(s(p),m?6:4,0)+"-"+t(v(y)+1,2,0)+"-"+t(l(y),2,0)+"T"+t(c(y),2,0)+":"+t(f(y),2,0)+":"+t(g(y),2,0)+"."+t(O,3,0)+"Z"}:a,Hc}var wI;function g6(){if(wI)return yI;wI=1;var i=ee(),e=ct(),t=Ft(),r=wk(),n=p6(),s=ur(),o=de(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return i({target:"Date",proto:!0,forced:a},{toJSON:function(l){var d=t(this),c=r(d,"number");return typeof c=="number"&&!isFinite(c)?null:!("toISOString"in d)&&s(d)==="Date"?e(n,d):d.toISOString()}}),yI}var Gc,EI;function y6(){if(EI)return Gc;EI=1,g6(),Mk();var i=Le(),e=Fo();return i.JSON||(i.JSON={stringify:JSON.stringify}),Gc=function(r,n,s){return e(i.JSON.stringify,null,arguments)},Gc}var Uc,SI;function m6(){if(SI)return Uc;SI=1;var i=y6();return Uc=i,Uc}var Vc,OI;function b6(){return OI||(OI=1,Vc=m6()),Vc}var _6=b6(),w6=ae(_6),Kc,II;function E6(){return II||(II=1,Kc=Hk()),Kc}var S6=E6(),Bi=ae(S6),Yc,$I;function O6(){if($I)return Yc;$I=1,Dr();var i=St();return Yc=i("Array","entries"),Yc}var Xc,TI;function I6(){if(TI)return Xc;TI=1;var i=O6();return Xc=i,Xc}var Zc,PI;function $6(){if(PI)return Zc;PI=1,Mr();var i=Cr(),e=ze(),t=Je(),r=I6(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Zc=function(o){var a=o.entries;return o===n||t(n,o)&&a===n.entries||e(s,i(o))?r:a},Zc}var Jc,RI;function T6(){return RI||(RI=1,Jc=$6()),Jc}var P6=T6(),R6=ae(P6);const Ge=[];for(let i=0;i<256;++i)Ge.push((i+256).toString(16).slice(1));function q6(i,e=0){return(Ge[i[e+0]]+Ge[i[e+1]]+Ge[i[e+2]]+Ge[i[e+3]]+"-"+Ge[i[e+4]]+Ge[i[e+5]]+"-"+Ge[i[e+6]]+Ge[i[e+7]]+"-"+Ge[i[e+8]]+Ge[i[e+9]]+"-"+Ge[i[e+10]]+Ge[i[e+11]]+Ge[i[e+12]]+Ge[i[e+13]]+Ge[i[e+14]]+Ge[i[e+15]]).toLowerCase()}let Qc;const C6=new Uint8Array(16);function x6(){if(!Qc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Qc=crypto.getRandomValues.bind(crypto)}return Qc(C6)}const D6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var qI={randomUUID:D6};function M6(i,e,t){if(qI.randomUUID&&!i)return qI.randomUUID();i=i||{};const r=i.random??i.rng?.()??x6();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,q6(r)}function CI(i){return typeof i=="string"||typeof i=="number"}var xI={},DI={},eh,MI;function A6(){if(MI)return eh;MI=1;var i=TypeError;return eh=function(e,t){if(e<t)throw new i("Not enough arguments");return e},eh}var th,AI;function qN(){if(AI)return th;AI=1;var i=Me(),e=Fo(),t=je(),r=Gk(),n=dn(),s=Rs(),o=A6(),a=i.Function,u=/MSIE .\./.test(n)||r==="BUN"&&function(){var l=i.Bun.version.split(".");return l.length<3||l[0]==="0"&&(l[1]<3||l[1]==="3"&&l[2]==="0")}();return th=function(l,d){var c=d?2:1;return u?function(h,f){var v=o(arguments.length,1)>c,g=t(h)?h:a(h),_=v?s(arguments,c):[],y=v?function(){e(g,this,_)}:g;return d?l(y,f):l(y)}:l},th}var kI;function k6(){if(kI)return DI;kI=1;var i=ee(),e=Me(),t=qN(),r=t(e.setInterval,!0);return i({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),DI}var NI={},FI;function N6(){if(FI)return NI;FI=1;var i=ee(),e=Me(),t=qN(),r=t(e.setTimeout,!0);return i({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),NI}var BI;function F6(){return BI||(BI=1,k6(),N6()),xI}var rh,jI;function B6(){if(jI)return rh;jI=1,F6();var i=Le();return rh=i.setTimeout,rh}var ih,LI;function j6(){return LI||(LI=1,ih=B6()),ih}var L6=j6(),z6=ae(L6),zI={},nh,WI;function W6(){if(WI)return nh;WI=1;var i=Ae(),e=$s(),t=TypeError,r=Object.getOwnPropertyDescriptor,n=i&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return nh=n?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},nh}var HI;function H6(){if(HI)return zI;HI=1;var i=ee(),e=Ft(),t=Rk(),r=gn(),n=ci(),s=W6(),o=Tk(),a=Pb(),u=$b(),l=RN(),d=Wo(),c=d("splice"),h=Math.max,f=Math.min;return i({target:"Array",proto:!0,forced:!c},{splice:function(g,_){var y=e(this),p=n(y),O=t(g,p),m=arguments.length,S,$,w,b,E,I;for(m===0?S=$=0:m===1?(S=0,$=p-O):(S=m-2,$=f(h(r(_),0),p-O)),o(p+S-$),w=a(y,$),b=0;b<$;b++)E=O+b,E in y&&u(w,b,y[E]);if(w.length=$,S<$){for(b=O;b<p-$;b++)E=b+$,I=b+S,E in y?y[I]=y[E]:l(y,I);for(b=p;b>p-$+S;b--)l(y,b-1)}else if(S>$)for(b=p-$;b>O;b--)E=b+$-1,I=b+S-1,E in y?y[I]=y[E]:l(y,I);for(b=0;b<S;b++)y[b+O]=arguments[b+2];return s(y,p-$+S),w}}),zI}var sh,GI;function G6(){if(GI)return sh;GI=1,H6();var i=St();return sh=i("Array","splice"),sh}var oh,UI;function U6(){if(UI)return oh;UI=1;var i=Je(),e=G6(),t=Array.prototype;return oh=function(r){var n=r.splice;return r===t||i(t,r)&&n===t.splice?e:n},oh}var ah,VI;function V6(){if(VI)return ah;VI=1;var i=U6();return ah=i,ah}var uh,KI;function K6(){return KI||(KI=1,uh=V6()),uh}var Y6=K6(),X6=ae(Y6);class Wb{constructor(e){_r(this,"_queue",[]),_r(this,"_timeout",null),_r(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const r=new Wb(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{r.flush()};const n=[{name:"flush",original:void 0}];if(t&&t.replace)for(let s=0;s<t.replace.length;s++){const o=t.replace[s];n.push({name:o,original:e[o]}),r.replace(e,o)}return r._extended={object:e,methods:n},r}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let r=0;r<t.length;r++){const n=t[r];n.original?e[n.name]=n.original:delete e[n.name]}this._extended=null}}replace(e,t){const r=this,n=e[t];if(!n)throw new Error("Method "+t+" undefined");e[t]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];r.queue({args:o,fn:n,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=z6(()=>{this.flush()},this.delay))}flush(){var e,t;Qi(e=X6(t=this._queue).call(t,0)).call(e,r=>{r.fn.apply(r.context||r.fn,r.args||[])})}}class Po{constructor(){_r(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),_r(this,"subscribe",Po.prototype.on),_r(this,"unsubscribe",Po.prototype.off)}_trigger(e,t,r){var n;if(e==="*")throw new Error("Cannot trigger event *");Qi(n=[...this._subscribers[e],...this._subscribers["*"]]).call(n,s=>{s(e,t,r??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){var r;this._subscribers[e]=ki(r=this._subscribers[e]).call(r,n=>n!==t)}get testLeakSubscribers(){return this._subscribers}}var YI={},XI;function Z6(){if(XI)return YI;XI=1;var i=ee(),e=Ae(),t=Ps();return i({target:"Object",stat:!0,sham:!e},{create:t}),YI}var lh,ZI;function J6(){if(ZI)return lh;ZI=1,Z6();var i=Le(),e=i.Object;return lh=function(r,n){return e.create(r,n)},lh}var dh,JI;function Q6(){if(JI)return dh;JI=1;var i=J6();return dh=i,dh}var ch,QI;function e8(){return QI||(QI=1,ch=Q6()),ch}var t8=e8(),r8=ae(t8),e$={},t$={},r$;function i8(){if(r$)return t$;r$=1;var i=ON(),e=IN();return i("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),t$}var i$;function n8(){return i$||(i$=1,i8()),e$}var n$={},hh,s$;function vi(){if(s$)return hh;s$=1;var i=hn(),e=TypeError;return hh=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(i(t)+" is not a set")},hh}var fh,o$;function pi(){if(o$)return fh;o$=1;var i=vt(),e=$N(),t=i("Set"),r=t.prototype;return fh={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},fh}var vh,a$;function gi(){if(a$)return vh;a$=1;var i=ct();return vh=function(e,t,r){for(var n=r?e:e.iterator,s=e.next,o,a;!(o=i(s,n)).done;)if(a=t(o.value),a!==void 0)return a},vh}var ph,u$;function Ns(){if(u$)return ph;u$=1;var i=gi();return ph=function(e,t,r){return r?i(e.keys(),t,!0):e.forEach(t)},ph}var gh,l$;function Hb(){if(l$)return gh;l$=1;var i=pi(),e=Ns(),t=i.Set,r=i.add;return gh=function(n){var s=new t;return e(n,function(o){r(s,o)}),s},gh}var yh,d$;function Fs(){return d$||(d$=1,yh=function(i){return i.size}),yh}var mh,c$;function s8(){return c$||(c$=1,mh=function(i){return{iterator:i,next:i.next,done:!1}}),mh}var bh,h$;function yi(){if(h$)return bh;h$=1;var i=dr(),e=cr(),t=ct(),r=gn(),n=s8(),s="Invalid size",o=RangeError,a=TypeError,u=Math.max,l=function(d,c){this.set=d,this.size=u(c,0),this.has=i(d.has),this.keys=i(d.keys)};return l.prototype={getIterator:function(){return n(e(t(this.keys,this.set)))},includes:function(d){return t(this.has,this.set,d)}},bh=function(d){e(d);var c=+d.size;if(c!==c)throw new a(s);var h=r(c);if(h<0)throw new o(s);return new l(d,h)},bh}var _h,f$;function o8(){if(f$)return _h;f$=1;var i=vi(),e=pi(),t=Hb(),r=Fs(),n=yi(),s=Ns(),o=gi(),a=e.has,u=e.remove;return _h=function(d){var c=i(this),h=n(d),f=t(c);return r(c)<=h.size?s(c,function(v){h.includes(v)&&u(f,v)}):o(h.getIterator(),function(v){a(f,v)&&u(f,v)}),f},_h}var wh,v$;function mi(){return v$||(v$=1,wh=function(){return!1}),wh}var p$;function a8(){if(p$)return n$;p$=1;var i=ee(),e=o8(),t=de(),r=mi(),n=!r("difference",function(o){return o.size===0}),s=n||t(function(){var o={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var l=u++>1;return a.has(1)&&a.clear(),{done:l,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return i({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),n$}var g$={},Eh,y$;function u8(){if(y$)return Eh;y$=1;var i=vi(),e=pi(),t=Fs(),r=yi(),n=Ns(),s=gi(),o=e.Set,a=e.add,u=e.has;return Eh=function(d){var c=i(this),h=r(d),f=new o;return t(c)>h.size?s(h.getIterator(),function(v){u(c,v)&&a(f,v)}):n(c,function(v){h.includes(v)&&a(f,v)}),f},Eh}var m$;function l8(){if(m$)return g$;m$=1;var i=ee(),e=de(),t=u8(),r=mi(),n=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return i({target:"Set",proto:!0,real:!0,forced:n},{intersection:t}),g$}var b$={},Sh,_$;function d8(){if(_$)return Sh;_$=1;var i=vi(),e=pi().has,t=Fs(),r=yi(),n=Ns(),s=gi(),o=Lb();return Sh=function(u){var l=i(this),d=r(u);if(t(l)<=d.size)return n(l,function(h){if(d.includes(h))return!1},!0)!==!1;var c=d.getIterator();return s(c,function(h){if(e(l,h))return o(c,"normal",!1)})!==!1},Sh}var w$;function c8(){if(w$)return b$;w$=1;var i=ee(),e=d8(),t=mi(),r=!t("isDisjointFrom",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),b$}var E$={},Oh,S$;function h8(){if(S$)return Oh;S$=1;var i=vi(),e=Fs(),t=Ns(),r=yi();return Oh=function(s){var o=i(this),a=r(s);return e(o)>a.size?!1:t(o,function(u){if(!a.includes(u))return!1},!0)!==!1},Oh}var O$;function f8(){if(O$)return E$;O$=1;var i=ee(),e=h8(),t=mi(),r=!t("isSubsetOf",function(n){return n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),E$}var I$={},Ih,$$;function v8(){if($$)return Ih;$$=1;var i=vi(),e=pi().has,t=Fs(),r=yi(),n=gi(),s=Lb();return Ih=function(a){var u=i(this),l=r(a);if(t(u)<l.size)return!1;var d=l.getIterator();return n(d,function(c){if(!e(u,c))return s(d,"normal",!1)})!==!1},Ih}var T$;function p8(){if(T$)return I$;T$=1;var i=ee(),e=v8(),t=mi(),r=!t("isSupersetOf",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),I$}var P$={},$h,R$;function g8(){if(R$)return $h;R$=1;var i=vi(),e=pi(),t=Hb(),r=yi(),n=gi(),s=e.add,o=e.has,a=e.remove;return $h=function(l){var d=i(this),c=r(l).getIterator(),h=t(d);return n(c,function(f){o(d,f)?a(h,f):s(h,f)}),h},$h}var Th,q$;function CN(){return q$||(q$=1,Th=function(i){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[i](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),Th}var C$;function y8(){if(C$)return P$;C$=1;var i=ee(),e=g8(),t=CN(),r=mi(),n=!r("symmetricDifference")||!t("symmetricDifference");return i({target:"Set",proto:!0,real:!0,forced:n},{symmetricDifference:e}),P$}var x$={},Ph,D$;function m8(){if(D$)return Ph;D$=1;var i=vi(),e=pi().add,t=Hb(),r=yi(),n=gi();return Ph=function(o){var a=i(this),u=r(o).getIterator(),l=t(a);return n(u,function(d){e(l,d)}),l},Ph}var M$;function b8(){if(M$)return x$;M$=1;var i=ee(),e=m8(),t=CN(),r=mi(),n=!r("union")||!t("union");return i({target:"Set",proto:!0,real:!0,forced:n},{union:e}),x$}var Rh,A$;function _8(){if(A$)return Rh;A$=1,Dr(),n8(),a8(),l8(),c8(),f8(),p8(),y8(),b8(),Yo();var i=Le();return Rh=i.Set,Rh}var qh,k$;function w8(){if(k$)return qh;k$=1;var i=_8();return Mr(),qh=i,qh}var Ch,N$;function E8(){return N$||(N$=1,Ch=w8()),Ch}var S8=E8(),xh=ae(S8),Dh,F$;function O8(){if(F$)return Dh;F$=1,Dr(),Yo();var i=EN();return Dh=i,Dh}var Mh,B$;function I8(){if(B$)return Mh;B$=1;var i=O8();return Mr(),Mh=i,Mh}var Ah,j$;function $8(){if(j$)return Ah;j$=1;var i=I8();return Ah=i,Ah}var kh,L$;function T8(){if(L$)return kh;L$=1;var i=$8();return kh=i,kh}var Nh,z$;function P8(){return z$||(z$=1,Nh=T8()),Nh}var Fh,W$;function R8(){return W$||(W$=1,Fh=P8()),Fh}var q8=R8(),Bh=ae(q8);class Yr{constructor(e){this._pairs=e}*[Bi](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return jt(e=[...this._pairs]).call(e,t=>t[0])}toItemArray(){var e;return jt(e=[...this._pairs]).call(e,t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=r8(null);for(const[t,r]of this._pairs)e[t]=r;return e}toMap(){return new TN(this._pairs)}toIdSet(){return new xh(this.toIdArray())}toItemSet(){return new xh(this.toItemArray())}cache(){return new Yr([...this._pairs])}distinct(e){const t=new xh;for(const[r,n]of this._pairs)t.add(e(n,r));return t}filter(e){const t=this._pairs;return new Yr({*[Bi](){for(const[r,n]of t)e(n,r)&&(yield[r,n])}})}forEach(e){for(const[t,r]of this._pairs)e(r,t)}map(e){const t=this._pairs;return new Yr({*[Bi](){for(const[r,n]of t)yield[r,e(n,r)]}})}max(e){const t=Bh(this._pairs);let r=t.next();if(r.done)return null;let n=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,u=e(a,o);u>s&&(s=u,n=a)}return n}min(e){const t=Bh(this._pairs);let r=t.next();if(r.done)return null;let n=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,u=e(a,o);u<s&&(s=u,n=a)}return n}reduce(e,t){for(const[r,n]of this._pairs)t=e(t,n,r);return t}sort(e){return new Yr({[Bi]:()=>{var t;return Bh(Jm(t=[...this._pairs]).call(t,(r,n)=>{let[s,o]=r,[a,u]=n;return e(o,u,s,a)}))}})}}function H$(i,e){var t=PN(i);if(PS){var r=PS(i);e&&(r=ki(r).call(r,function(n){return bN(i,n).enumerable})),t.push.apply(t,r)}return t}function G$(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?Qi(t=H$(Object(n),!0)).call(t,function(s){_r(i,s,n[s])}):VS?Qz(i,VS(n)):Qi(r=H$(Object(n))).call(r,function(s){r4(i,s,bN(n,s))})}return i}function C8(i,e){return i[e]==null&&(i[e]=M6()),i}class en extends Po{get idProp(){return this._idProp}constructor(e,t){super(),_r(this,"_queue",null),e&&!Gr(e)&&(t=e,e=[]),this._options=t||{},this._data=new TN,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(t)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Wb.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,t){const r=[];let n;if(Gr(e)){const s=jt(e).call(e,o=>o[this._idProp]);if(P4(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)n=this._addItem(e[o]),r.push(n)}else if(e&&typeof e=="object")n=this._addItem(e),r.push(n);else throw new Error("Unknown dataType");return r.length&&this._trigger("add",{items:r},t),r}update(e,t){const r=[],n=[],s=[],o=[],a=this._idProp,u=l=>{const d=l[a];if(d!=null&&this._data.has(d)){const c=l,h=A4({},this._data.get(d)),f=this._updateItem(c);n.push(f),o.push(c),s.push(h)}else{const c=this._addItem(l);r.push(c)}};if(Gr(e))for(let l=0,d=e.length;l<d;l++)e[l]&&typeof e[l]=="object"?u(e[l]):console.warn("Ignoring input item, which is not an object at index "+l);else if(e&&typeof e=="object")u(e);else throw new Error("Unknown dataType");if(r.length&&this._trigger("add",{items:r},t),n.length){const l={items:n,oldData:s,data:o};this._trigger("update",l,t)}return L4(r).call(r,n)}updateOnly(e,t){var r;Gr(e)||(e=[e]);const n=jt(r=jt(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(r,s=>{let{oldData:o,update:a}=s;const u=o[this._idProp],l=Ez(o,a);return this._data.set(u,l),{id:u,oldData:o,updatedData:l}});if(n.length){const s={items:jt(n).call(n,o=>o.id),oldData:jt(n).call(n,o=>o.oldData),data:jt(n).call(n,o=>o.updatedData)};return this._trigger("update",s,t),s.items}else return[]}get(e,t){let r,n,s;CI(e)?(r=e,s=t):Gr(e)?(n=e,s=t):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&ki(s),u=[];let l,d,c;if(r!=null)l=this._data.get(r),l&&a&&!a(l)&&(l=void 0);else if(n!=null)for(let f=0,v=n.length;f<v;f++)l=this._data.get(n[f]),l!=null&&(!a||a(l))&&u.push(l);else{var h;d=[...xi(h=this._data).call(h)];for(let f=0,v=d.length;f<v;f++)c=d[f],l=this._data.get(c),l!=null&&(!a||a(l))&&u.push(l)}if(s&&s.order&&r==null&&this._sort(u,s.order),s&&s.fields){const f=s.fields;if(r!=null&&l!=null)l=this._filterFields(l,f);else for(let v=0,g=u.length;v<g;v++)u[v]=this._filterFields(u[v],f)}if(o=="Object"){const f={};for(let v=0,g=u.length;v<g;v++){const _=u[v],y=_[this._idProp];f[y]=_}return f}else return r!=null?l??null:u}getIds(e){const t=this._data,r=e&&ki(e),n=e&&e.order,s=[...xi(t).call(t)],o=[];if(r)if(n){const a=[];for(let u=0,l=s.length;u<l;u++){const d=s[u],c=this._data.get(d);c!=null&&r(c)&&a.push(c)}this._sort(a,n);for(let u=0,l=a.length;u<l;u++)o.push(a[u][this._idProp])}else for(let a=0,u=s.length;a<u;a++){const l=s[a],d=this._data.get(l);d!=null&&r(d)&&o.push(d[this._idProp])}else if(n){const a=[];for(let u=0,l=s.length;u<l;u++){const d=s[u];a.push(t.get(d))}this._sort(a,n);for(let u=0,l=a.length;u<l;u++)o.push(a[u][this._idProp])}else for(let a=0,u=s.length;a<u;a++){const l=s[a],d=t.get(l);d!=null&&o.push(d[this._idProp])}return o}getDataSet(){return this}forEach(e,t){const r=t&&ki(t),n=this._data,s=[...xi(n).call(n)];if(t&&t.order){const o=this.get(t);for(let a=0,u=o.length;a<u;a++){const l=o[a],d=l[this._idProp];e(l,d)}}else for(let o=0,a=s.length;o<a;o++){const u=s[o],l=this._data.get(u);l!=null&&(!r||r(l))&&e(l,u)}}map(e,t){const r=t&&ki(t),n=[],s=this._data,o=[...xi(s).call(s)];for(let a=0,u=o.length;a<u;a++){const l=o[a],d=this._data.get(l);d!=null&&(!r||r(d))&&n.push(e(d,l))}return t&&t.order&&this._sort(n,t.order),n}_filterFields(e,t){var r;return e&&_L(r=Gr(t)?t:PN(t)).call(r,(n,s)=>(n[s]=e[s],n),{})}_sort(e,t){if(typeof t=="string"){const r=t;Jm(e).call(e,(n,s)=>{const o=n[r],a=s[r];return o>a?1:o<a?-1:0})}else if(typeof t=="function")Jm(e).call(e,t);else throw new TypeError("Order must be a function or a string")}remove(e,t){const r=[],n=[],s=Gr(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const u=this._remove(s[o]);if(u){const l=u[this._idProp];l!=null&&(r.push(l),n.push(u))}}return r.length&&this._trigger("remove",{items:r,oldData:n},t),r}_remove(e){let t;if(CI(e)?t=e:e&&typeof e=="object"&&(t=e[this._idProp]),t!=null&&this._data.has(t)){const r=this._data.get(t)||null;return this._data.delete(t),--this.length,r}return null}clear(e){var t;const r=[...xi(t=this._data).call(t)],n=[];for(let s=0,o=r.length;s<o;s++)n.push(this._data.get(r[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:r,oldData:n},e),r}max(e){let t=null,r=null;for(const s of gI(n=this._data).call(n)){var n;const o=s[e];typeof o=="number"&&(r==null||o>r)&&(t=s,r=o)}return t||null}min(e){let t=null,r=null;for(const s of gI(n=this._data).call(n)){var n;const o=s[e];typeof o=="number"&&(r==null||o<r)&&(t=s,r=o)}return t||null}distinct(e){const t=this._data,r=[...xi(t).call(t)],n=[];let s=0;for(let o=0,a=r.length;o<a;o++){const u=r[o],d=t.get(u)[e];let c=!1;for(let h=0;h<s;h++)if(n[h]==d){c=!0;break}!c&&d!==void 0&&(n[s]=d,s++)}return n}_addItem(e){const t=C8(e,this._idProp),r=t[this._idProp];if(this._data.has(r))throw new Error("Cannot add item: item with id "+r+" already exists");return this._data.set(r,t),++this.length,r}_updateItem(e){const t=e[this._idProp];if(t==null)throw new Error("Cannot update item: item has no id (item: "+w6(e)+")");const r=this._data.get(t);if(!r)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,G$(G$({},r),e)),t}stream(e){if(e){const r=this._data;return new Yr({*[Bi](){for(const n of e){const s=r.get(n);s!=null&&(yield[n,s])}}})}else{var t;return new Yr({[Bi]:cL(t=R6(this._data)).call(t,this._data)})}}get testLeakData(){return this._data}get testLeakIdProp(){return this._idProp}get testLeakOptions(){return this._options}get testLeakQueue(){return this._queue}set testLeakQueue(e){this._queue=e}}function x8(i,e){return typeof e=="object"&&e!==null&&i===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof Qi(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof jt(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function xN(i,e){return typeof e=="object"&&e!==null&&i===e.idProp&&typeof Qi(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof jt(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&x8(i,e.getDataSet())}console.warn("You're running a development build.");/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.1
 * @date    2025-07-13T08:15:32.270Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var U$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Y(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var V$={},Un,K$;function we(){if(K$)return Un;K$=1;var i=function(e){return e&&e.Math===Math&&e};return Un=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof U$=="object"&&U$)||i(typeof Un=="object"&&Un)||function(){return this}()||Function("return this")(),Un}var jh,Y$;function se(){return Y$||(Y$=1,jh=function(i){try{return!!i()}catch{return!0}}),jh}var Lh,X$;function Bs(){if(X$)return Lh;X$=1;var i=se();return Lh=!i(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Lh}var zh,Z$;function Qo(){if(Z$)return zh;Z$=1;var i=Bs(),e=Function.prototype,t=e.apply,r=e.call;return zh=typeof Reflect=="object"&&Reflect.apply||(i?r.bind(t):function(){return r.apply(t,arguments)}),zh}var Wh,J$;function oe(){if(J$)return Wh;J$=1;var i=Bs(),e=Function.prototype,t=e.call,r=i&&e.bind.bind(t,t);return Wh=i?r:function(n){return function(){return t.apply(n,arguments)}},Wh}var Hh,Q$;function Vt(){if(Q$)return Hh;Q$=1;var i=oe(),e=i({}.toString),t=i("".slice);return Hh=function(r){return t(e(r),8,-1)},Hh}var Gh,eT;function Gb(){if(eT)return Gh;eT=1;var i=Vt(),e=oe();return Gh=function(t){if(i(t)==="Function")return e(t)},Gh}var Uh,tT;function We(){if(tT)return Uh;tT=1;var i=typeof document=="object"&&document.all;return Uh=typeof i>"u"&&i!==void 0?function(e){return typeof e=="function"||e===i}:function(e){return typeof e=="function"},Uh}var Vh={},Kh,rT;function Pe(){if(rT)return Kh;rT=1;var i=se();return Kh=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Kh}var Yh,iT;function ft(){if(iT)return Yh;iT=1;var i=Bs(),e=Function.prototype.call;return Yh=i?e.bind(e):function(){return e.apply(e,arguments)},Yh}var Xh={},nT;function ea(){if(nT)return Xh;nT=1;var i={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!i.call({1:2},1);return Xh.f=t?function(n){var s=e(this,n);return!!s&&s.enumerable}:i,Xh}var Zh,sT;function js(){return sT||(sT=1,Zh=function(i,e){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:e}}),Zh}var Jh,oT;function ta(){if(oT)return Jh;oT=1;var i=oe(),e=se(),t=Vt(),r=Object,n=i("".split);return Jh=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?n(s,""):r(s)}:r,Jh}var Qh,aT;function _n(){return aT||(aT=1,Qh=function(i){return i==null}),Qh}var ef,uT;function hr(){if(uT)return ef;uT=1;var i=_n(),e=TypeError;return ef=function(t){if(i(t))throw new e("Can't call method on "+t);return t},ef}var tf,lT;function Bt(){if(lT)return tf;lT=1;var i=ta(),e=hr();return tf=function(t){return i(e(t))},tf}var rf,dT;function He(){if(dT)return rf;dT=1;var i=We();return rf=function(e){return typeof e=="object"?e!==null:i(e)},rf}var nf,cT;function he(){return cT||(cT=1,nf={}),nf}var sf,hT;function pt(){if(hT)return sf;hT=1;var i=he(),e=we(),t=We(),r=function(n){return t(n)?n:void 0};return sf=function(n,s){return arguments.length<2?r(i[n])||r(e[n]):i[n]&&i[n][s]||e[n]&&e[n][s]},sf}var of,fT;function ke(){if(fT)return of;fT=1;var i=oe();return of=i({}.isPrototypeOf),of}var af,vT;function wn(){if(vT)return af;vT=1;var i=we(),e=i.navigator,t=e&&e.userAgent;return af=t?String(t):"",af}var uf,pT;function Ls(){if(pT)return uf;pT=1;var i=we(),e=wn(),t=i.process,r=i.Deno,n=t&&t.versions||r&&r.version,s=n&&n.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),uf=a,uf}var lf,gT;function En(){if(gT)return lf;gT=1;var i=Ls(),e=se(),t=we(),r=t.String;return lf=!!Object.getOwnPropertySymbols&&!e(function(){var n=Symbol("symbol detection");return!r(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&i&&i<41}),lf}var df,yT;function DN(){if(yT)return df;yT=1;var i=En();return df=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol",df}var cf,mT;function zs(){if(mT)return cf;mT=1;var i=pt(),e=We(),t=ke(),r=DN(),n=Object;return cf=r?function(s){return typeof s=="symbol"}:function(s){var o=i("Symbol");return e(o)&&t(o.prototype,n(s))},cf}var hf,bT;function Sn(){if(bT)return hf;bT=1;var i=String;return hf=function(e){try{return i(e)}catch{return"Object"}},hf}var ff,_T;function fr(){if(_T)return ff;_T=1;var i=We(),e=Sn(),t=TypeError;return ff=function(r){if(i(r))return r;throw new t(e(r)+" is not a function")},ff}var vf,wT;function Ub(){if(wT)return vf;wT=1;var i=fr(),e=_n();return vf=function(t,r){var n=t[r];return e(n)?void 0:i(n)},vf}var pf,ET;function D8(){if(ET)return pf;ET=1;var i=ft(),e=We(),t=He(),r=TypeError;return pf=function(n,s){var o,a;if(s==="string"&&e(o=n.toString)&&!t(a=i(o,n))||e(o=n.valueOf)&&!t(a=i(o,n))||s!=="string"&&e(o=n.toString)&&!t(a=i(o,n)))return a;throw new r("Can't convert object to primitive value")},pf}var gf={exports:{}},yf,ST;function On(){return ST||(ST=1,yf=!0),yf}var mf,OT;function M8(){if(OT)return mf;OT=1;var i=we(),e=Object.defineProperty;return mf=function(t,r){try{e(i,t,{value:r,configurable:!0,writable:!0})}catch{i[t]=r}return r},mf}var IT;function Vb(){if(IT)return gf.exports;IT=1;var i=On(),e=we(),t=M8(),r="__core-js_shared__",n=gf.exports=e[r]||t(r,{});return(n.versions||(n.versions=[])).push({version:"3.44.0",mode:i?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),gf.exports}var bf,$T;function In(){if($T)return bf;$T=1;var i=Vb();return bf=function(e,t){return i[e]||(i[e]=t||{})},bf}var _f,TT;function It(){if(TT)return _f;TT=1;var i=hr(),e=Object;return _f=function(t){return e(i(t))},_f}var wf,PT;function Ye(){if(PT)return wf;PT=1;var i=oe(),e=It(),t=i({}.hasOwnProperty);return wf=Object.hasOwn||function(n,s){return t(e(n),s)},wf}var Ef,RT;function ra(){if(RT)return Ef;RT=1;var i=oe(),e=0,t=Math.random(),r=i(1.1.toString);return Ef=function(n){return"Symbol("+(n===void 0?"":n)+")_"+r(++e+t,36)},Ef}var Sf,qT;function Ne(){if(qT)return Sf;qT=1;var i=we(),e=In(),t=Ye(),r=ra(),n=En(),s=DN(),o=i.Symbol,a=e("wks"),u=s?o.for||o:o&&o.withoutSetter||r;return Sf=function(l){return t(a,l)||(a[l]=n&&t(o,l)?o[l]:u("Symbol."+l)),a[l]},Sf}var Of,CT;function MN(){if(CT)return Of;CT=1;var i=ft(),e=He(),t=zs(),r=Ub(),n=D8(),s=Ne(),o=TypeError,a=s("toPrimitive");return Of=function(u,l){if(!e(u)||t(u))return u;var d=r(u,a),c;if(d){if(l===void 0&&(l="default"),c=i(d,u,l),!e(c)||t(c))return c;throw new o("Can't convert object to primitive value")}return l===void 0&&(l="number"),n(u,l)},Of}var If,xT;function Kb(){if(xT)return If;xT=1;var i=MN(),e=zs();return If=function(t){var r=i(t,"string");return e(r)?r:r+""},If}var $f,DT;function AN(){if(DT)return $f;DT=1;var i=we(),e=He(),t=i.document,r=e(t)&&e(t.createElement);return $f=function(n){return r?t.createElement(n):{}},$f}var Tf,MT;function kN(){if(MT)return Tf;MT=1;var i=Pe(),e=se(),t=AN();return Tf=!i&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),Tf}var AT;function ia(){if(AT)return Vh;AT=1;var i=Pe(),e=ft(),t=ea(),r=js(),n=Bt(),s=Kb(),o=Ye(),a=kN(),u=Object.getOwnPropertyDescriptor;return Vh.f=i?u:function(d,c){if(d=n(d),c=s(c),a)try{return u(d,c)}catch{}if(o(d,c))return r(!e(t.f,d,c),d[c])},Vh}var Pf,kT;function A8(){if(kT)return Pf;kT=1;var i=se(),e=We(),t=/#|\.prototype\./,r=function(u,l){var d=s[n(u)];return d===a?!0:d===o?!1:e(l)?i(l):!!l},n=r.normalize=function(u){return String(u).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return Pf=r,Pf}var Rf,NT;function na(){if(NT)return Rf;NT=1;var i=Gb(),e=fr(),t=Bs(),r=i(i.bind);return Rf=function(n,s){return e(n),s===void 0?n:t?r(n,s):function(){return n.apply(s,arguments)}},Rf}var qf={},Cf,FT;function NN(){if(FT)return Cf;FT=1;var i=Pe(),e=se();return Cf=i&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Cf}var xf,BT;function Kt(){if(BT)return xf;BT=1;var i=He(),e=String,t=TypeError;return xf=function(r){if(i(r))return r;throw new t(e(r)+" is not an object")},xf}var jT;function $t(){if(jT)return qf;jT=1;var i=Pe(),e=kN(),t=NN(),r=Kt(),n=Kb(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u="enumerable",l="configurable",d="writable";return qf.f=i?t?function(h,f,v){if(r(h),f=n(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&d in v&&!v[d]){var g=a(h,f);g&&g[d]&&(h[f]=v.value,v={configurable:l in v?v[l]:g[l],enumerable:u in v?v[u]:g[u],writable:!1})}return o(h,f,v)}:o:function(h,f,v){if(r(h),f=n(f),r(v),e)try{return o(h,f,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(h[f]=v.value),h},qf}var Df,LT;function $n(){if(LT)return Df;LT=1;var i=Pe(),e=$t(),t=js();return Df=i?function(r,n,s){return e.f(r,n,t(1,s))}:function(r,n,s){return r[n]=s,r},Df}var Mf,zT;function H(){if(zT)return Mf;zT=1;var i=we(),e=Qo(),t=Gb(),r=We(),n=ia().f,s=A8(),o=he(),a=na(),u=$n(),l=Ye(),d=function(c){var h=function(f,v,g){if(this instanceof h){switch(arguments.length){case 0:return new c;case 1:return new c(f);case 2:return new c(f,v)}return new c(f,v,g)}return e(c,this,arguments)};return h.prototype=c.prototype,h};return Mf=function(c,h){var f=c.target,v=c.global,g=c.stat,_=c.proto,y=v?i:g?i[f]:i[f]&&i[f].prototype,p=v?o:o[f]||u(o,f,{})[f],O=p.prototype,m,S,$,w,b,E,I,T,P;for(w in h)m=s(v?w:f+(g?".":"#")+w,c.forced),S=!m&&y&&l(y,w),E=p[w],S&&(c.dontCallGetSet?(P=n(y,w),I=P&&P.value):I=y[w]),b=S&&I?I:h[w],!(!m&&!_&&typeof E==typeof b)&&(c.bind&&S?T=a(b,i):c.wrap&&S?T=d(b):_&&r(b)?T=t(b):T=b,(c.sham||b&&b.sham||E&&E.sham)&&u(T,"sham",!0),u(p,w,T),_&&($=f+"Prototype",l(o,$)||u(o,$,{}),u(o[$],w,b),c.real&&O&&(m||!O[w])&&u(O,w,b)))},Mf}var Af,WT;function k8(){if(WT)return Af;WT=1;var i=Math.ceil,e=Math.floor;return Af=Math.trunc||function(r){var n=+r;return(n>0?e:i)(n)},Af}var kf,HT;function Tn(){if(HT)return kf;HT=1;var i=k8();return kf=function(e){var t=+e;return t!==t||t===0?0:i(t)},kf}var Nf,GT;function sa(){if(GT)return Nf;GT=1;var i=Tn(),e=Math.max,t=Math.min;return Nf=function(r,n){var s=i(r);return s<0?e(s+n,0):t(s,n)},Nf}var Ff,UT;function FN(){if(UT)return Ff;UT=1;var i=Tn(),e=Math.min;return Ff=function(t){var r=i(t);return r>0?e(r,9007199254740991):0},Ff}var Bf,VT;function vr(){if(VT)return Bf;VT=1;var i=FN();return Bf=function(e){return i(e.length)},Bf}var jf,KT;function Yb(){if(KT)return jf;KT=1;var i=Bt(),e=sa(),t=vr(),r=function(n){return function(s,o,a){var u=i(s),l=t(u);if(l===0)return!n&&-1;var d=e(a,l),c;if(n&&o!==o){for(;l>d;)if(c=u[d++],c!==c)return!0}else for(;l>d;d++)if((n||d in u)&&u[d]===o)return n||d||0;return!n&&-1}};return jf={includes:r(!0),indexOf:r(!1)},jf}var Lf,YT;function Ws(){return YT||(YT=1,Lf={}),Lf}var zf,XT;function BN(){if(XT)return zf;XT=1;var i=oe(),e=Ye(),t=Bt(),r=Yb().indexOf,n=Ws(),s=i([].push);return zf=function(o,a){var u=t(o),l=0,d=[],c;for(c in u)!e(n,c)&&e(u,c)&&s(d,c);for(;a.length>l;)e(u,c=a[l++])&&(~r(d,c)||s(d,c));return d},zf}var Wf,ZT;function Xb(){return ZT||(ZT=1,Wf=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Wf}var Hf,JT;function Hs(){if(JT)return Hf;JT=1;var i=BN(),e=Xb();return Hf=Object.keys||function(r){return i(r,e)},Hf}var Gf={},QT;function oa(){return QT||(QT=1,Gf.f=Object.getOwnPropertySymbols),Gf}var Uf,eP;function N8(){if(eP)return Uf;eP=1;var i=Pe(),e=oe(),t=ft(),r=se(),n=Hs(),s=oa(),o=ea(),a=It(),u=ta(),l=Object.assign,d=Object.defineProperty,c=e([].concat);return Uf=!l||r(function(){if(i&&l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),g="abcdefghijklmnopqrst";return h[v]=7,g.split("").forEach(function(_){f[_]=_}),l({},h)[v]!==7||n(l({},f)).join("")!==g})?function(f,v){for(var g=a(f),_=arguments.length,y=1,p=s.f,O=o.f;_>y;)for(var m=u(arguments[y++]),S=p?c(n(m),p(m)):n(m),$=S.length,w=0,b;$>w;)b=S[w++],(!i||t(O,m,b))&&(g[b]=m[b]);return g}:l,Uf}var tP;function F8(){if(tP)return V$;tP=1;var i=H(),e=N8();return i({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),V$}var Vf,rP;function B8(){if(rP)return Vf;rP=1,F8();var i=he();return Vf=i.Object.assign,Vf}var Kf,iP;function j8(){if(iP)return Kf;iP=1;var i=B8();return Kf=i,Kf}var Yf,nP;function L8(){return nP||(nP=1,Yf=j8()),Yf}var z8=L8(),Ve=Y(z8),sP={},Xf,oP;function Pn(){if(oP)return Xf;oP=1;var i=oe();return Xf=i([].slice),Xf}var Zf,aP;function W8(){if(aP)return Zf;aP=1;var i=oe(),e=fr(),t=He(),r=Ye(),n=Pn(),s=Bs(),o=Function,a=i([].concat),u=i([].join),l={},d=function(c,h,f){if(!r(l,h)){for(var v=[],g=0;g<h;g++)v[g]="a["+g+"]";l[h]=o("C,a","return new C("+u(v,",")+")")}return l[h](c,f)};return Zf=s?o.bind:function(h){var f=e(this),v=f.prototype,g=n(arguments,1),_=function(){var p=a(g,n(arguments));return this instanceof _?d(f,p.length,p):f.apply(h,p)};return t(v)&&(_.prototype=v),_},Zf}var uP;function H8(){if(uP)return sP;uP=1;var i=H(),e=W8();return i({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),sP}var Jf,lP;function Xe(){if(lP)return Jf;lP=1;var i=we(),e=he();return Jf=function(t,r){var n=e[t+"Prototype"],s=n&&n[r];if(s)return s;var o=i[t],a=o&&o.prototype;return a&&a[r]},Jf}var Qf,dP;function G8(){if(dP)return Qf;dP=1,H8();var i=Xe();return Qf=i("Function","bind"),Qf}var ev,cP;function U8(){if(cP)return ev;cP=1;var i=ke(),e=G8(),t=Function.prototype;return ev=function(r){var n=r.bind;return r===t||i(t,r)&&n===t.bind?e:n},ev}var tv,hP;function V8(){if(hP)return tv;hP=1;var i=U8();return tv=i,tv}var rv,fP;function K8(){return fP||(fP=1,rv=V8()),rv}var Y8=K8(),A=Y(Y8);function Zb(i,e,t,r){i.beginPath(),i.arc(e,t,r,0,2*Math.PI,!1),i.closePath()}function X8(i,e,t,r){i.beginPath(),i.rect(e-r,t-r,r*2,r*2),i.closePath()}function Z8(i,e,t,r){i.beginPath(),r*=1.15,t+=.275*r;const n=r*2,s=n/2,o=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-s*s);i.moveTo(e,t-(a-o)),i.lineTo(e+s,t+o),i.lineTo(e-s,t+o),i.lineTo(e,t-(a-o)),i.closePath()}function J8(i,e,t,r){i.beginPath(),r*=1.15,t-=.275*r;const n=r*2,s=n/2,o=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-s*s);i.moveTo(e,t+(a-o)),i.lineTo(e+s,t-o),i.lineTo(e-s,t-o),i.lineTo(e,t+(a-o)),i.closePath()}function Q8(i,e,t,r){i.beginPath(),r*=.82,t+=.1*r;for(let n=0;n<10;n++){const s=n%2===0?r*1.3:r*.5;i.lineTo(e+s*Math.sin(n*2*Math.PI/10),t-s*Math.cos(n*2*Math.PI/10))}i.closePath()}function eW(i,e,t,r){i.beginPath(),i.lineTo(e,t+r),i.lineTo(e+r,t),i.lineTo(e,t-r),i.lineTo(e-r,t),i.closePath()}function jN(i,e,t,r,n,s){const o=Math.PI/180;r-2*s<0&&(s=r/2),n-2*s<0&&(s=n/2),i.beginPath(),i.moveTo(e+s,t),i.lineTo(e+r-s,t),i.arc(e+r-s,t+s,s,o*270,o*360,!1),i.lineTo(e+r,t+n-s),i.arc(e+r-s,t+n-s,s,0,o*90,!1),i.lineTo(e+s,t+n),i.arc(e+s,t+n-s,s,o*90,o*180,!1),i.lineTo(e,t+s),i.arc(e+s,t+s,s,o*180,o*270,!1),i.closePath()}function Qm(i,e,t,r,n){const s=.5522848,o=r/2*s,a=n/2*s,u=e+r,l=t+n,d=e+r/2,c=t+n/2;i.beginPath(),i.moveTo(e,c),i.bezierCurveTo(e,c-a,d-o,t,d,t),i.bezierCurveTo(d+o,t,u,c-a,u,c),i.bezierCurveTo(u,c+a,d+o,l,d,l),i.bezierCurveTo(d-o,l,e,c+a,e,c),i.closePath()}function LN(i,e,t,r,n){const s=.3333333333333333,o=r,a=n*s,u=.5522848,l=o/2*u,d=a/2*u,c=e+o,h=t+a,f=e+o/2,v=t+a/2,g=t+(n-a/2),_=t+n;i.beginPath(),i.moveTo(c,v),i.bezierCurveTo(c,v+d,f+l,h,f,h),i.bezierCurveTo(f-l,h,e,v+d,e,v),i.bezierCurveTo(e,v-d,f-l,t,f,t),i.bezierCurveTo(f+l,t,c,v-d,c,v),i.lineTo(c,g),i.bezierCurveTo(c,g+d,f+l,_,f,_),i.bezierCurveTo(f-l,_,e,g+d,e,g),i.lineTo(e,v)}function zN(i,e,t,r,n,s){i.beginPath(),i.moveTo(e,t);const o=s.length,a=r-e,u=n-t,l=u/a;let d=Math.sqrt(a*a+u*u),c=0,h=!0,f=0,v=+s[0];for(;d>=.1;)v=+s[c++%o],v>d&&(v=d),f=Math.sqrt(v*v/(1+l*l)),f=a<0?-f:f,e+=f,t+=l*f,h===!0?i.lineTo(e,t):i.moveTo(e,t),d-=v,h=!h}function tW(i,e,t,r){i.beginPath();const n=6,s=Math.PI*2/n;i.moveTo(e+r,t);for(let o=1;o<n;o++)i.lineTo(e+r*Math.cos(s*o),t+r*Math.sin(s*o));i.closePath()}const vP={circle:Zb,dashedLine:zN,database:LN,diamond:eW,ellipse:Qm,ellipse_vis:Qm,hexagon:tW,roundRect:jN,square:X8,star:Q8,triangle:Z8,triangleDown:J8};function rW(i){return Object.prototype.hasOwnProperty.call(vP,i)?vP[i]:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];CanvasRenderingContext2D.prototype[i].call(e,r)}}var iv={exports:{}},pP;function iW(){return pP||(pP=1,function(i){i.exports=e;function e(r){if(r)return t(r)}function t(r){for(var n in e.prototype)r[n]=e.prototype[n];return r}e.prototype.on=e.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(n),this},e.prototype.once=function(r,n){function s(){this.off(r,s),n.apply(this,arguments)}return s.fn=n,this.on(r,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===n||o.fn===n){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+r],this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),s=this._callbacks["$"+r],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,n)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length}}(iv)),iv.exports}var nW=iW(),WN=Y(nW);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Nt(){return Nt=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Nt.apply(this,arguments)}function Tt(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function ho(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var eb;typeof Object.assign!="function"?eb=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])}return t}:eb=Object.assign;var oi=eb,gP=["","webkit","Moz","MS","ms","o"],sW=typeof document>"u"?{style:{}}:document.createElement("div"),oW="function",ji=Math.round,ai=Math.abs,Jb=Date.now;function aa(i,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),s=0;s<gP.length;){if(t=gP[s],r=t?t+n:e,r in i)return r;s++}}var sr;typeof window>"u"?sr={}:sr=window;var HN=aa(sW.style,"touchAction"),GN=HN!==void 0;function aW(){if(!GN)return!1;var i={},e=sr.CSS&&sr.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=e?sr.CSS.supports("touch-action",t):!0}),i}var UN="compute",VN="auto",tb="manipulation",ti="none",vs="pan-x",ps="pan-y",fo=aW(),uW=/mobile|tablet|ip(ad|hone|od)|android/i,KN="ontouchstart"in sr,lW=aa(sr,"PointerEvent")!==void 0,dW=KN&&uW.test(navigator.userAgent),Gs="touch",cW="pen",Qb="mouse",hW="kinect",fW=25,ot=1,bi=2,De=4,dt=8,Ro=1,Us=2,Vs=4,Ks=8,tn=16,Ut=Us|Vs,ri=Ks|tn,YN=Ut|ri,XN=["x","y"],qo=["clientX","clientY"];function or(i,e,t){var r;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(r=0;r<i.length;)e.call(t,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&e.call(t,i[r],r,i)}function ua(i,e){return typeof i===oW?i.apply(e&&e[0]||void 0,e):i}function Xr(i,e){return i.indexOf(e)>-1}function vW(i){if(Xr(i,ti))return ti;var e=Xr(i,vs),t=Xr(i,ps);return e&&t?ti:e||t?e?vs:ps:Xr(i,tb)?tb:VN}var ZN=function(){function i(t,r){this.manager=t,this.set(r)}var e=i.prototype;return e.set=function(r){r===UN&&(r=this.compute()),GN&&this.manager.element.style&&fo[r]&&(this.manager.element.style[HN]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return or(this.manager.recognizers,function(n){ua(n.options.enable,[n])&&(r=r.concat(n.getTouchAction()))}),vW(r.join(" "))},e.preventDefaults=function(r){var n=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var o=this.actions,a=Xr(o,ti)&&!fo[ti],u=Xr(o,ps)&&!fo[ps],l=Xr(o,vs)&&!fo[vs];if(a){var d=r.pointers.length===1,c=r.distance<2,h=r.deltaTime<250;if(d&&c&&h)return}if(!(l&&u)&&(a||u&&s&Ut||l&&s&ri))return this.preventSrc(n)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},i}();function e1(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function JN(i){var e=i.length;if(e===1)return{x:ji(i[0].clientX),y:ji(i[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=i[n].clientX,r+=i[n].clientY,n++;return{x:ji(t/e),y:ji(r/e)}}function yP(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:ji(i.pointers[t].clientX),clientY:ji(i.pointers[t].clientY)},t++;return{timeStamp:Jb(),pointers:e,center:JN(e),deltaX:i.deltaX,deltaY:i.deltaY}}function Co(i,e,t){t||(t=XN);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.sqrt(r*r+n*n)}function rb(i,e,t){t||(t=XN);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.atan2(n,r)*180/Math.PI}function QN(i,e){return i===e?Ro:ai(i)>=ai(e)?i<0?Us:Vs:e<0?Ks:tn}function pW(i,e){var t=e.center,r=i.offsetDelta||{},n=i.prevDelta||{},s=i.prevInput||{};(e.eventType===ot||s.eventType===De)&&(n=i.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=i.offsetDelta={x:t.x,y:t.y}),e.deltaX=n.x+(t.x-r.x),e.deltaY=n.y+(t.y-r.y)}function eF(i,e,t){return{x:e/i||0,y:t/i||0}}function gW(i,e){return Co(e[0],e[1],qo)/Co(i[0],i[1],qo)}function yW(i,e){return rb(e[1],e[0],qo)+rb(i[1],i[0],qo)}function mW(i,e){var t=i.lastInterval||e,r=e.timeStamp-t.timeStamp,n,s,o,a;if(e.eventType!==dt&&(r>fW||t.velocity===void 0)){var u=e.deltaX-t.deltaX,l=e.deltaY-t.deltaY,d=eF(r,u,l);s=d.x,o=d.y,n=ai(d.x)>ai(d.y)?d.x:d.y,a=QN(u,l),i.lastInterval=e}else n=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=n,e.velocityX=s,e.velocityY=o,e.direction=a}function bW(i,e){var t=i.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=yP(e)),n>1&&!t.firstMultiple?t.firstMultiple=yP(e):n===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,u=e.center=JN(r);e.timeStamp=Jb(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=rb(a,u),e.distance=Co(a,u),pW(t,e),e.offsetDirection=QN(e.deltaX,e.deltaY);var l=eF(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=ai(l.x)>ai(l.y)?l.x:l.y,e.scale=o?gW(o.pointers,r):1,e.rotation=o?yW(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,mW(t,e);var d=i.element,c=e.srcEvent,h;c.composedPath?h=c.composedPath()[0]:c.path?h=c.path[0]:h=c.target,e1(h,d)&&(d=h),e.target=d}function _W(i,e,t){var r=t.pointers.length,n=t.changedPointers.length,s=e&ot&&r-n===0,o=e&(De|dt)&&r-n===0;t.isFirst=!!s,t.isFinal=!!o,s&&(i.session={}),t.eventType=e,bW(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function gs(i){return i.trim().split(/\s+/g)}function es(i,e,t){or(gs(e),function(r){i.addEventListener(r,t,!1)})}function ts(i,e,t){or(gs(e),function(r){i.removeEventListener(r,t,!1)})}function mP(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var Rn=function(){function i(t,r){var n=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){ua(t.options.enable,[t])&&n.handler(s)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&es(this.element,this.evEl,this.domHandler),this.evTarget&&es(this.target,this.evTarget,this.domHandler),this.evWin&&es(mP(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&ts(this.element,this.evEl,this.domHandler),this.evTarget&&ts(this.target,this.evTarget,this.domHandler),this.evWin&&ts(mP(this.element),this.evWin,this.domHandler)},i}();function ui(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var r=0;r<i.length;){if(t&&i[r][t]==e||!t&&i[r]===e)return r;r++}return-1}var wW={pointerdown:ot,pointermove:bi,pointerup:De,pointercancel:dt,pointerout:dt},EW={2:Gs,3:cW,4:Qb,5:hW},tF="pointerdown",rF="pointermove pointerup pointercancel";sr.MSPointerEvent&&!sr.PointerEvent&&(tF="MSPointerDown",rF="MSPointerMove MSPointerUp MSPointerCancel");var iF=function(i){Tt(e,i);function e(){var r,n=e.prototype;return n.evEl=tF,n.evWin=rF,r=i.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(n){var s=this.store,o=!1,a=n.type.toLowerCase().replace("ms",""),u=wW[a],l=EW[n.pointerType]||n.pointerType,d=l===Gs,c=ui(s,n.pointerId,"pointerId");u&ot&&(n.button===0||d)?c<0&&(s.push(n),c=s.length-1):u&(De|dt)&&(o=!0),!(c<0)&&(s[c]=n,this.callback(this.manager,u,{pointers:s,changedPointers:[n],pointerType:l,srcEvent:n}),o&&s.splice(c,1))},e}(Rn);function ys(i){return Array.prototype.slice.call(i,0)}function t1(i,e,t){for(var r=[],n=[],s=0;s<i.length;){var o=e?i[s][e]:i[s];ui(n,o)<0&&r.push(i[s]),n[s]=o,s++}return t&&(e?r=r.sort(function(a,u){return a[e]>u[e]}):r=r.sort()),r}var SW={touchstart:ot,touchmove:bi,touchend:De,touchcancel:dt},OW="touchstart touchmove touchend touchcancel",r1=function(i){Tt(e,i);function e(){var r;return e.prototype.evTarget=OW,r=i.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(n){var s=SW[n.type],o=IW.call(this,n,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Gs,srcEvent:n})},e}(Rn);function IW(i,e){var t=ys(i.touches),r=this.targetIds;if(e&(ot|bi)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var n,s,o=ys(i.changedTouches),a=[],u=this.target;if(s=t.filter(function(l){return e1(l.target,u)}),e===ot)for(n=0;n<s.length;)r[s[n].identifier]=!0,n++;for(n=0;n<o.length;)r[o[n].identifier]&&a.push(o[n]),e&(De|dt)&&delete r[o[n].identifier],n++;if(a.length)return[t1(s.concat(a),"identifier",!0),a]}var $W={mousedown:ot,mousemove:bi,mouseup:De},TW="mousedown",PW="mousemove mouseup",i1=function(i){Tt(e,i);function e(){var r,n=e.prototype;return n.evEl=TW,n.evWin=PW,r=i.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(n){var s=$W[n.type];s&ot&&n.button===0&&(this.pressed=!0),s&bi&&n.which!==1&&(s=De),this.pressed&&(s&De&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[n],changedPointers:[n],pointerType:Qb,srcEvent:n}))},e}(Rn),RW=2500,bP=25;function _P(i){var e=i.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},n=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=n.indexOf(r);a>-1&&n.splice(a,1)};setTimeout(s,RW)}}function qW(i,e){i&ot?(this.primaryTouch=e.changedPointers[0].identifier,_P.call(this,e)):i&(De|dt)&&_P.call(this,e)}function CW(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],s=Math.abs(e-n.x),o=Math.abs(t-n.y);if(s<=bP&&o<=bP)return!0}return!1}var nF=function(){var i=function(e){Tt(t,e);function t(n,s){var o;return o=e.call(this,n,s)||this,o.handler=function(a,u,l){var d=l.pointerType===Gs,c=l.pointerType===Qb;if(!(c&&l.sourceCapabilities&&l.sourceCapabilities.firesTouchEvents)){if(d)qW.call(ho(ho(o)),u,l);else if(c&&CW.call(ho(ho(o)),l))return;o.callback(a,u,l)}},o.touch=new r1(o.manager,o.handler),o.mouse=new i1(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(Rn);return i}();function xW(i){var e,t=i.options.inputClass;return t?e=t:lW?e=iF:dW?e=r1:KN?e=nF:e=i1,new e(i,_W)}function Li(i,e,t){return Array.isArray(i)?(or(i,t[e],t),!0):!1}var mo=1,_t=2,rn=4,Er=8,ar=Er,ms=16,zt=32,DW=1;function MW(){return DW++}function vo(i,e){var t=e.manager;return t?t.get(i):i}function wP(i){return i&ms?"cancel":i&Er?"end":i&rn?"move":i&_t?"start":""}var Ys=function(){function i(t){t===void 0&&(t={}),this.options=Nt({enable:!0},t),this.id=MW(),this.manager=null,this.state=mo,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(r){return oi(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(Li(r,"recognizeWith",this))return this;var n=this.simultaneous;return r=vo(r,this),n[r.id]||(n[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return Li(r,"dropRecognizeWith",this)?this:(r=vo(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(Li(r,"requireFailure",this))return this;var n=this.requireFail;return r=vo(r,this),ui(n,r)===-1&&(n.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(Li(r,"dropRequireFailure",this))return this;r=vo(r,this);var n=ui(this.requireFail,r);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var n=this,s=this.state;function o(a){n.manager.emit(a,r)}s<Er&&o(n.options.event+wP(s)),o(n.options.event),r.additionalEvent&&o(r.additionalEvent),s>=Er&&o(n.options.event+wP(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=zt},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(zt|mo)))return!1;r++}return!0},e.recognize=function(r){var n=oi({},r);if(!ua(this.options.enable,[this,n])){this.reset(),this.state=zt;return}this.state&(ar|ms|zt)&&(this.state=mo),this.state=this.process(n),this.state&(_t|rn|Er|ms)&&this.tryEmit(n)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},i}(),ib=function(i){Tt(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Nt({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var t=e.prototype;return t.getTouchAction=function(){return[tb]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,u=n.distance<o.threshold,l=n.deltaTime<o.time;if(this.reset(),n.eventType&ot&&this.count===0)return this.failTimeout();if(u&&l&&a){if(n.eventType!==De)return this.failTimeout();var d=this.pTime?n.timeStamp-this.pTime<o.interval:!0,c=!this.pCenter||Co(this.pCenter,n.center)<o.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!c||!d?this.count=1:this.count+=1,this._input=n;var h=this.count%o.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=ar,s.tryEmit()},o.interval),_t):ar}return zt},t.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=zt},this.options.interval),zt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===ar&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Ys),nn=function(i){Tt(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Nt({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(n){var s=this.options.pointers;return s===0||n.pointers.length===s},t.process=function(n){var s=this.state,o=n.eventType,a=s&(_t|rn),u=this.attrTest(n);return a&&(o&dt||!u)?s|ms:a||u?o&De?s|Er:s&_t?s|rn:_t:zt},e}(Ys);function sF(i){return i===tn?"down":i===Ks?"up":i===Us?"left":i===Vs?"right":""}var n1=function(i){Tt(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Nt({event:"pan",threshold:10,pointers:1,direction:YN},r))||this,n.pX=null,n.pY=null,n}var t=e.prototype;return t.getTouchAction=function(){var n=this.options.direction,s=[];return n&Ut&&s.push(ps),n&ri&&s.push(vs),s},t.directionTest=function(n){var s=this.options,o=!0,a=n.distance,u=n.direction,l=n.deltaX,d=n.deltaY;return u&s.direction||(s.direction&Ut?(u=l===0?Ro:l<0?Us:Vs,o=l!==this.pX,a=Math.abs(n.deltaX)):(u=d===0?Ro:d<0?Ks:tn,o=d!==this.pY,a=Math.abs(n.deltaY))),n.direction=u,o&&a>s.threshold&&u&s.direction},t.attrTest=function(n){return nn.prototype.attrTest.call(this,n)&&(this.state&_t||!(this.state&_t)&&this.directionTest(n))},t.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var s=sF(n.direction);s&&(n.additionalEvent=this.options.event+s),i.prototype.emit.call(this,n)},e}(nn),oF=function(i){Tt(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Nt({event:"swipe",threshold:10,velocity:.3,direction:Ut|ri,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return n1.prototype.getTouchAction.call(this)},t.attrTest=function(n){var s=this.options.direction,o;return s&(Ut|ri)?o=n.overallVelocity:s&Ut?o=n.overallVelocityX:s&ri&&(o=n.overallVelocityY),i.prototype.attrTest.call(this,n)&&s&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&ai(o)>this.options.velocity&&n.eventType&De},t.emit=function(n){var s=sF(n.offsetDirection);s&&this.manager.emit(this.options.event+s,n),this.manager.emit(this.options.event,n)},e}(nn),aF=function(i){Tt(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Nt({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[ti]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&_t)},t.emit=function(n){if(n.scale!==1){var s=n.scale<1?"in":"out";n.additionalEvent=this.options.event+s}i.prototype.emit.call(this,n)},e}(nn),uF=function(i){Tt(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Nt({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[ti]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&_t)},e}(nn),lF=function(i){Tt(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Nt({event:"press",pointers:1,time:251,threshold:9},r))||this,n._timer=null,n._input=null,n}var t=e.prototype;return t.getTouchAction=function(){return[VN]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,u=n.distance<o.threshold,l=n.deltaTime>o.time;if(this._input=n,!u||!a||n.eventType&(De|dt)&&!l)this.reset();else if(n.eventType&ot)this.reset(),this._timer=setTimeout(function(){s.state=ar,s.tryEmit()},o.time);else if(n.eventType&De)return ar;return zt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(n){this.state===ar&&(n&&n.eventType&De?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=Jb(),this.manager.emit(this.options.event,this._input)))},e}(Ys),dF={domEvents:!1,touchAction:UN,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},EP=[[uF,{enable:!1}],[aF,{enable:!1},["rotate"]],[oF,{direction:Ut}],[n1,{direction:Ut},["swipe"]],[ib],[ib,{event:"doubletap",taps:2},["tap"]],[lF]],AW=1,SP=2;function OP(i,e){var t=i.element;if(t.style){var r;or(i.options.cssProps,function(n,s){r=aa(t.style,s),e?(i.oldCssProps[r]=t.style[r],t.style[r]=n):t.style[r]=i.oldCssProps[r]||""}),e||(i.oldCssProps={})}}function kW(i,e){var t=document.createEvent("Event");t.initEvent(i,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var IP=function(){function i(t,r){var n=this;this.options=oi({},dF,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=xW(this),this.touchAction=new ZN(this,this.options.touchAction),OP(this,!0),or(this.options.recognizers,function(s){var o=n.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=i.prototype;return e.set=function(r){return oi(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?SP:AW},e.recognize=function(r){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&ar)&&(n.curRecognizer=null,a=null);for(var u=0;u<o.length;)s=o[u],n.stopped!==SP&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(_t|rn|Er)&&(n.curRecognizer=s,a=s),u++}},e.get=function(r){if(r instanceof Ys)return r;for(var n=this.recognizers,s=0;s<n.length;s++)if(n[s].options.event===r)return n[s];return null},e.add=function(r){if(Li(r,"add",this))return this;var n=this.get(r.options.event);return n&&this.remove(n),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(Li(r,"remove",this))return this;var n=this.get(r);if(r){var s=this.recognizers,o=ui(s,n);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,n){if(r===void 0||n===void 0)return this;var s=this.handlers;return or(gs(r),function(o){s[o]=s[o]||[],s[o].push(n)}),this},e.off=function(r,n){if(r===void 0)return this;var s=this.handlers;return or(gs(r),function(o){n?s[o]&&s[o].splice(ui(s[o],n),1):delete s[o]}),this},e.emit=function(r,n){this.options.domEvents&&kW(r,n);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){n.type=r,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](n),o++}},e.destroy=function(){this.element&&OP(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i}(),NW={touchstart:ot,touchmove:bi,touchend:De,touchcancel:dt},FW="touchstart",BW="touchstart touchmove touchend touchcancel",jW=function(i){Tt(e,i);function e(){var r,n=e.prototype;return n.evTarget=FW,n.evWin=BW,r=i.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(n){var s=NW[n.type];if(s===ot&&(this.started=!0),!!this.started){var o=LW.call(this,n,s);s&(De|dt)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Gs,srcEvent:n})}},e}(Rn);function LW(i,e){var t=ys(i.touches),r=ys(i.changedTouches);return e&(De|dt)&&(t=t1(t.concat(r),"identifier",!0)),[t,r]}function cF(i,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),s=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),i.apply(this,arguments)}}var hF=cF(function(i,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&i[r[n]]===void 0)&&(i[r[n]]=e[r[n]]),n++;return i},"extend","Use `assign`."),zW=cF(function(i,e){return hF(i,e,!0)},"merge","Use `assign`.");function WW(i,e,t){var r=e.prototype,n;n=i.prototype=Object.create(r),n.constructor=i,n._super=r,t&&oi(n,t)}function $P(i,e){return function(){return i.apply(e,arguments)}}var fF=function(){var i=function(t,r){return r===void 0&&(r={}),new IP(t,Nt({recognizers:EP.concat()},r))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=YN,i.DIRECTION_DOWN=tn,i.DIRECTION_LEFT=Us,i.DIRECTION_RIGHT=Vs,i.DIRECTION_UP=Ks,i.DIRECTION_HORIZONTAL=Ut,i.DIRECTION_VERTICAL=ri,i.DIRECTION_NONE=Ro,i.DIRECTION_DOWN=tn,i.INPUT_START=ot,i.INPUT_MOVE=bi,i.INPUT_END=De,i.INPUT_CANCEL=dt,i.STATE_POSSIBLE=mo,i.STATE_BEGAN=_t,i.STATE_CHANGED=rn,i.STATE_ENDED=Er,i.STATE_RECOGNIZED=ar,i.STATE_CANCELLED=ms,i.STATE_FAILED=zt,i.Manager=IP,i.Input=Rn,i.TouchAction=ZN,i.TouchInput=r1,i.MouseInput=i1,i.PointerEventInput=iF,i.TouchMouseInput=nF,i.SingleTouchInput=jW,i.Recognizer=Ys,i.AttrRecognizer=nn,i.Tap=ib,i.Pan=n1,i.Swipe=oF,i.Pinch=aF,i.Rotate=uF,i.Press=lF,i.on=es,i.off=ts,i.each=or,i.merge=zW,i.extend=hF,i.bindFn=$P,i.assign=oi,i.inherit=WW,i.bindFn=$P,i.prefixed=aa,i.toArray=ys,i.inArray=ui,i.uniqueArray=t1,i.splitStr=gs,i.boolOrFn=ua,i.hasParent=e1,i.addEventListeners=es,i.removeEventListeners=ts,i.defaults=oi({},dF,{preset:EP}),i}();fF.defaults;/**
 * vis-util
 * https://github.com/visjs/vis-util
 *
 * utilitie collection for visjs
 *
 * @version 6.0.0
 * @date    2025-07-12T18:02:43.836Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function la(...i){return HW(i.length?i:[Date.now()])}function HW(i){let[e,t,r]=GW(i),n=1;const s=()=>{const o=2091639*e+n*23283064365386963e-26;return e=t,t=r,r=o-(n=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=i,s.version="0.9",s}function GW(...i){const e=UW();let t=e(" "),r=e(" "),n=e(" ");for(let s=0;s<i.length;s++)t-=e(i[s]),t<0&&(t+=1),r-=e(i[s]),r<0&&(r+=1),n-=e(i[s]),n<0&&(n+=1);return[t,r,n]}function UW(){let i=4022871197;return function(e){const t=e.toString();for(let r=0;r<t.length;r++){i+=t.charCodeAt(r);let n=.02519603282416938*i;i=n>>>0,n-=i,n*=i,i=n>>>0,n-=i,i+=n*4294967296}return(i>>>0)*23283064365386963e-26}}function VW(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}const s1=typeof window<"u"?window.Hammer||fF:function(){return VW()};function Wt(i){this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const e=s1(this._dom.overlay);e.on("tap",this._onTapOverlay.bind(this)),this._cleanupQueue.push(()=>{e.destroy()}),["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(r=>{e.on(r,n=>{n.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=r=>{KW(r.target,i)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=r=>{("key"in r?r.key==="Escape":r.keyCode===27)&&this.deactivate()}}WN(Wt.prototype);Wt.current=null;Wt.prototype.destroy=function(){this.deactivate();for(const i of this._cleanupQueue.splice(0).reverse())i()};Wt.prototype.activate=function(){Wt.current&&Wt.current.deactivate(),Wt.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Wt.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Wt.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};function KW(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}const YW=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,XW=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ZW=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,JW=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function gr(i){if(i)for(;i.hasChildNodes()===!0;){const e=i.firstChild;e&&(gr(e),i.removeChild(e))}}function zi(i){return i instanceof String||typeof i=="string"}function TP(i){return typeof i=="object"&&i!==null}function li(i,e,t,r){let n=!1;r===!0&&(n=e[t]===null&&i[t]!==void 0),n?delete i[t]:i[t]=e[t]}function vF(i,e,t=!1){for(const r in i)if(e[r]!==void 0)if(e[r]===null||typeof e[r]!="object")li(i,e,r,t);else{const n=i[r],s=e[r];TP(n)&&TP(s)&&vF(n,s,t)}}function qn(i,e,t,r=!1){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(let n=0;n<i.length;n++){const s=i[n];if(Object.prototype.hasOwnProperty.call(t,s))if(t[s]&&t[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?pe(e[s],t[s],!1,r):li(e,t,s,r);else{if(Array.isArray(t[s]))throw new TypeError("Arrays are not supported by deepExtend");li(e,t,s,r)}}return e}function xo(i,e,t,r=!1){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!i.includes(n))if(t[n]&&t[n].constructor===Object)e[n]===void 0&&(e[n]={}),e[n].constructor===Object?pe(e[n],t[n]):li(e,t,n,r);else if(Array.isArray(t[n])){e[n]=[];for(let s=0;s<t[n].length;s++)e[n].push(t[n][s])}else li(e,t,n,r);return e}function pe(i,e,t=!1,r=!1){for(const n in e)(Object.prototype.hasOwnProperty.call(e,n)||t===!0)&&(typeof e[n]=="object"&&e[n]!==null&&Object.getPrototypeOf(e[n])===Object.prototype?i[n]===void 0?i[n]=pe({},e[n],t):typeof i[n]=="object"&&i[n]!==null&&Object.getPrototypeOf(i[n])===Object.prototype?pe(i[n],e[n],t):li(i,e,n,r):Array.isArray(e[n])?i[n]=e[n].slice():li(i,e,n,r));return i}function Do(i,e){return[...i,e]}function QW(i){return i.slice()}function e9(i){return i.getBoundingClientRect().left}function t9(i){return i.getBoundingClientRect().top}function ie(i,e){if(Array.isArray(i)){const t=i.length;for(let r=0;r<t;r++)e(i[r],r,i)}else for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(i[t],t,i)}function o1(i){let e;switch(i.length){case 3:case 4:return e=XW.exec(i),e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16)}:null;case 6:case 7:return e=YW.exec(i),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null;default:return null}}function yt(i,e){if(i.includes("rgba"))return i;if(i.includes("rgb")){const t=i.substr(i.indexOf("(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{const t=o1(i);return t==null?i:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function pF(i,e,t){return"#"+((1<<24)+(i<<16)+(e<<8)+t).toString(16).slice(1)}function nb(i,e){if(zi(i)){let t=i;if(yF(t)){const r=t.substr(4).substr(0,t.length-5).split(",").map(function(n){return parseInt(n)});t=pF(r[0],r[1],r[2])}if(gF(t)===!0){const r=r9(t),n={h:r.h,s:r.s*.8,v:Math.min(1,r.v*1.02)},s={h:r.h,s:Math.min(1,r.s*1.25),v:r.v*.8},o=sb(s.h,s.s,s.v),a=sb(n.h,n.s,n.v);return{background:t,border:o,highlight:{background:a,border:o},hover:{background:a,border:o}}}else return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else return{background:i.background||void 0,border:i.border||void 0,highlight:zi(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||void 0,border:i.highlight&&i.highlight.border||void 0},hover:zi(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||void 0,background:i.hover&&i.hover.background||void 0}}}function Yn(i,e,t){i=i/255,e=e/255,t=t/255;const r=Math.min(i,Math.min(e,t)),n=Math.max(i,Math.max(e,t));if(r===n)return{h:0,s:0,v:r};const s=i===r?e-t:t===r?i-e:t-i,a=60*((i===r?3:t===r?1:5)-s/(n-r))/360,u=(n-r)/n;return{h:a,s:u,v:n}}function bo(i,e,t){let r,n,s;const o=Math.floor(i*6),a=i*6-o,u=t*(1-e),l=t*(1-a*e),d=t*(1-(1-a)*e);switch(o%6){case 0:r=t,n=d,s=u;break;case 1:r=l,n=t,s=u;break;case 2:r=u,n=t,s=d;break;case 3:r=u,n=l,s=t;break;case 4:r=d,n=u,s=t;break;case 5:r=t,n=u,s=l;break}return{r:Math.floor(r*255),g:Math.floor(n*255),b:Math.floor(s*255)}}function sb(i,e,t){const r=bo(i,e,t);return pF(r.r,r.g,r.b)}function r9(i){const e=o1(i);if(!e)throw new TypeError(`'${i}' is not a valid color.`);return Yn(e.r,e.g,e.b)}function gF(i){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(i)}function yF(i){return ZW.test(i)}function i9(i){return JW.test(i)}function Sr(i){if(i===null||typeof i!="object")return null;if(i instanceof Element)return i;const e=Object.create(i);for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&typeof i[t]=="object"&&(e[t]=Sr(i[t]));return e}function gt(i,e,t,r={}){const n=function(f){return f!=null},s=function(f){return f!==null&&typeof f=="object"},o=function(f){for(const v in f)if(Object.prototype.hasOwnProperty.call(f,v))return!1;return!0};if(!s(i))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!n(t))throw new Error("Parameter option must have a value");if(!s(r))throw new Error("Parameter globalOptions must be an object");const a=function(f,v,g){s(f[g])||(f[g]={});const _=v[g],y=f[g];for(const p in _)Object.prototype.hasOwnProperty.call(_,p)&&(y[p]=_[p])},u=e[t],d=s(r)&&!o(r)?r[t]:void 0,c=d?d.enabled:void 0;if(u===void 0)return;if(typeof u=="boolean"){s(i[t])||(i[t]={}),i[t].enabled=u;return}if(u===null&&!s(i[t]))if(n(d))i[t]=Object.create(d);else return;if(!s(u))return;let h=!0;u.enabled!==void 0?h=u.enabled:c!==void 0&&(h=d.enabled),a(i,e,t),i[t].enabled=h}const n9={linear(i){return i},easeInQuad(i){return i*i},easeOutQuad(i){return i*(2-i)},easeInOutQuad(i){return i<.5?2*i*i:-1+(4-2*i)*i},easeInCubic(i){return i*i*i},easeOutCubic(i){return--i*i*i+1},easeInOutCubic(i){return i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1},easeInQuart(i){return i*i*i*i},easeOutQuart(i){return 1- --i*i*i*i},easeInOutQuart(i){return i<.5?8*i*i*i*i:1-8*--i*i*i*i},easeInQuint(i){return i*i*i*i*i},easeOutQuint(i){return 1+--i*i*i*i*i},easeInOutQuint(i){return i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i}};function yr(i,e){let t;Array.isArray(e)||(e=[e]);for(const r of i)if(r){t=r[e[0]];for(let n=1;n<e.length;n++)t&&(t=t[e[n]]);if(typeof t<"u")break}return t}const s9={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let o9=class{constructor(e=1){this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return s9[e]}setColor(e,t=!0){if(e==="none")return;let r;const n=this._isColorString(e);if(n!==void 0&&(e=n),zi(e)===!0){if(yF(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if(i9(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(gF(e)===!0){const s=o1(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(e=!0){e===!0&&(this.previousColor=Object.assign({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e,t=!0){t===!0&&(this.initialColor=Object.assign({},e)),this.color=e;const r=Yn(e.r,e.g,e.b),n=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(n*r.h),a=this.centerCoordinates.y+s*Math.cos(n*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=Yn(this.color.r,this.color.g,this.color.b);t.v=e/100;const r=bo(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(e=this.color){const t=Yn(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const n=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,n,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),r.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new s1(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let n,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;const u=2*Math.PI/360,l=1/360,d=1/this.r;let c;for(o=0;o<360;o++)for(a=0;a<this.r;a++)n=this.centerCoordinates.x+a*Math.sin(u*o),s=this.centerCoordinates.y+a*Math.cos(u*o),c=bo(o*l,a*d,1),e.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",e.fillRect(n-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,n=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,u=n-s,l=Math.atan2(a,u),d=.98*Math.min(Math.sqrt(a*a+u*u),o),c=Math.cos(l)*d+s,h=Math.sin(l)*d+o;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";let f=l/(2*Math.PI);f=f<0?f+1:f;const v=d/this.r,g=Yn(this.color.r,this.color.g,this.color.b);g.h=f,g.s=v;const _=bo(g.h,g.s,g.v);_.a=this.color.a,this.color=_,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function ob(...i){if(i.length<1)throw new TypeError("Invalid arguments.");if(i.length===1)return document.createTextNode(i[0]);{const e=document.createElement(i[0]);return e.appendChild(ob(...i.slice(1))),e}}let a9=class{constructor(e,t,r,n=1,s=()=>!1){this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Object.assign(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new o9(n),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Array.isArray(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),e.filter!==void 0&&(this.options.filter=e.filter),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);this.options.filter===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=this.options.filter;let t=0,r=!1;for(const n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(n,[]),r=r||this._handleObject(this.configureOptions[n],[n],!0)):(e===!0||e.indexOf(n)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e,...t){if(this.allowCreation===!0){const r=document.createElement("div");return r.className="vis-configuration vis-config-item vis-config-s"+e.length,t.forEach(n=>{r.appendChild(n)}),this.domElements.push(r),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t,r=!1){const n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(ob("i","b",e))}else n.innerText=e+":";return n}_makeDropdown(e,t,r){const n=document.createElement("select");n.className="vis-configuration vis-config-select";let s=0;t!==void 0&&e.indexOf(t)!==-1&&(s=e.indexOf(t));for(let u=0;u<e.length;u++){const l=document.createElement("option");l.value=e[u],u===s&&(l.selected="selected"),l.innerText=e[u],n.appendChild(l)}const o=this;n.onchange=function(){o._update(this.value,r)};const a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,n)}_makeRange(e,t,r){const n=e[0],s=e[1],o=e[2],a=e[3],u=document.createElement("input");u.className="vis-configuration vis-config-range";try{u.type="range",u.min=s,u.max=o}catch{}u.step=a;let l="",d=0;t!==void 0?(t<0&&t*1.2<s?(u.min=Math.ceil(t*1.2),d=u.min,l="range increased"):t/1.2<s&&(u.min=Math.ceil(t/1.2),d=u.min,l="range increased"),t*1.2>o&&o!==1&&(u.max=Math.ceil(t*1.2),d=u.max,l="range increased"),u.value=t):u.value=n;const c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=u.value;const h=this;u.onchange=function(){c.value=this.value,h._update(Number(this.value),r)},u.oninput=function(){c.value=this.value};const f=this._makeLabel(r[r.length-1],r),v=this._makeItem(r,f,u,c);l!==""&&this.popupHistory[v]!==d&&(this.popupHistory[v]=d,this._setupPopup(l,v))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=e,r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){const n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,t!==void 0&&(n.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));const s=this;n.onchange=function(){s._update(this.checked,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,n)}_makeTextInput(e,t,r){const n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=t,t!==e&&this.changedOptions.push({path:r,value:t});const s=this;n.onchange=function(){s._update(this.value,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,n)}_makeColorField(e,t,r){const n=e[1],s=document.createElement("div");t=t===void 0?n:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?n:t,s.onclick=()=>{this._showColorPicker(t,s,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(n=>{const s="rgba("+n.r+","+n.g+","+n.b+","+n.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e,t=[],r=!1){let n=!1;const s=this.options.filter;let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){n=!0;const u=e[a],l=Do(t,a);if(typeof s=="function"&&(n=s(a,t),n===!1&&!Array.isArray(u)&&typeof u!="string"&&typeof u!="boolean"&&u instanceof Object&&(this.allowCreation=!1,n=this._handleObject(u,l,!0),this.allowCreation=r===!1)),n!==!1){o=!0;const d=this._getValue(l);if(Array.isArray(u))this._handleArray(u,d,l);else if(typeof u=="string")this._makeTextInput(u,d,l);else if(typeof u=="boolean")this._makeCheckbox(u,d,l);else if(u instanceof Object){if(!this.hideOption(t,a,this.moduleOptions))if(u.enabled!==void 0){const c=Do(l,"enabled"),h=this._getValue(c);if(h===!0){const f=this._makeLabel(a,l,!0);this._makeItem(l,f),o=this._handleObject(u,l)||o}else this._makeCheckbox(u,h,l)}else{const c=this._makeLabel(a,l,!0);this._makeItem(l,c),o=this._handleObject(u,l)||o}}else console.error("dont know how to handle",u,a,l)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){const r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t,r={}){let n=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(n[t[s]]===void 0&&(n[t[s]]={}),s!==t.length-1?n=n[t[s]]:n[t[s]]=e);return r}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(ob("pre","const options = "+JSON.stringify(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},u9=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=parseInt(e),this.y=parseInt(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const t=this.frame.clientHeight,r=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let u=!1,l=!0;this.y-t<this.padding&&(l=!1),this.x+r>s-this.padding&&(u=!0),u?o=this.x-r:o=this.x,l?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>n&&(a=n-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Vn=!1,PP;const ab="background: #FFeeee; color: #dd0000";let l9=class $e{static validate(e,t,r){Vn=!1,PP=t;let n=t;return r!==void 0&&(n=t[r]),$e.parse(e,n,[]),Vn}static parse(e,t,r){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&$e.check(n,e,t,r)}static check(e,t,r,n){if(r[e]===void 0&&r.__any__===void 0){$e.getSuggestion(e,r,n);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=$e.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),$e.checkFields(e,t,r,s,a,n)}static checkFields(e,t,r,n,s,o){const a=function(d){console.error("%c"+d+$e.printLocation(o,e),ab)},u=$e.getType(t[e]),l=s[u];l!==void 0?$e.getType(l)==="array"&&l.indexOf(t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+$e.print(l)+' not "'+t[e]+'". '),Vn=!0):u==="object"&&n!=="__any__"&&(o=Do(o,e),$e.parse(t[e],r[n],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+$e.print(Object.keys(s))+". Received ["+u+'] "'+t[e]+'"'),Vn=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){const n=$e.findInOptions(e,t,r,!1),s=$e.findInOptions(e,PP,[],!0),o=8,a=4;let u;n.indexMatch!==void 0?u=" in "+$e.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+`"?

`:s.distance<=a&&n.distance>s.distance?u=" in "+$e.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+$e.printLocation(s.path,s.closestMatch,""):n.distance<=o?u='. Did you mean "'+n.closestMatch+'"?'+$e.printLocation(n.path,e):u=". Did you mean one of these: "+$e.print(Object.keys(t))+$e.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+u,ab),Vn=!0}static findInOptions(e,t,r,n=!1){let s=1e9,o="",a=[];const u=e.toLowerCase();let l;for(const d in t){let c;if(t[d].__type__!==void 0&&n===!0){const h=$e.findInOptions(e,t[d],Do(r,d));s>h.distance&&(o=h.closestMatch,a=h.path,s=h.distance,l=h.indexMatch)}else d.toLowerCase().indexOf(u)!==-1&&(l=d),c=$e.levenshteinDistance(e,d),s>c&&(o=d,a=QW(r),s=c)}return{closestMatch:o,path:a,distance:s,indexMatch:l}}static printLocation(e,t,r=`Problem value found at: 
`){let n=`

`+r+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)n+="  ";n+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)n+="  ";n+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)n+="  ";n+=`}
`}return n+`

`}static print(e){return JSON.stringify(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const r=[];let n;for(n=0;n<=t.length;n++)r[n]=[n];let s;for(s=0;s<=e.length;s++)r[0][s]=s;for(n=1;n<=t.length;n++)for(s=1;s<=e.length;s++)t.charAt(n-1)==e.charAt(s-1)?r[n][s]=r[n-1][s-1]:r[n][s]=Math.min(r[n-1][s-1]+1,Math.min(r[n][s-1]+1,r[n-1][s]+1));return r[t.length][e.length]}};const d9=Wt,c9=a9,Wi=s1,h9=u9,mF=ab,f9=l9;var RP={},nv={},qP;function a1(){if(qP)return nv;qP=1;var i=Pe(),e=NN(),t=$t(),r=Kt(),n=Bt(),s=Hs();return nv.f=i&&!e?Object.defineProperties:function(a,u){r(a);for(var l=n(u),d=s(u),c=d.length,h=0,f;c>h;)t.f(a,f=d[h++],l[f]);return a},nv}var sv,CP;function v9(){if(CP)return sv;CP=1;var i=pt();return sv=i("document","documentElement"),sv}var ov,xP;function da(){if(xP)return ov;xP=1;var i=In(),e=ra(),t=i("keys");return ov=function(r){return t[r]||(t[r]=e(r))},ov}var av,DP;function Xs(){if(DP)return av;DP=1;var i=Kt(),e=a1(),t=Xb(),r=Ws(),n=v9(),s=AN(),o=da(),a=">",u="<",l="prototype",d="script",c=o("IE_PROTO"),h=function(){},f=function(p){return u+d+a+p+u+"/"+d+a},v=function(p){p.write(f("")),p.close();var O=p.parentWindow.Object;return p=null,O},g=function(){var p=s("iframe"),O="java"+d+":",m;return p.style.display="none",n.appendChild(p),p.src=String(O),m=p.contentWindow.document,m.open(),m.write(f("document.F=Object")),m.close(),m.F},_,y=function(){try{_=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&_?v(_):g():v(_);for(var p=t.length;p--;)delete y[l][t[p]];return y()};return r[c]=!0,av=Object.create||function(O,m){var S;return O!==null?(h[l]=i(O),S=new h,h[l]=null,S[c]=O):S=y(),m===void 0?S:e.f(S,m)},av}var MP;function p9(){if(MP)return RP;MP=1;var i=H(),e=Pe(),t=Xs();return i({target:"Object",stat:!0,sham:!e},{create:t}),RP}var uv,AP;function g9(){if(AP)return uv;AP=1,p9();var i=he(),e=i.Object;return uv=function(r,n){return e.create(r,n)},uv}var lv,kP;function y9(){if(kP)return lv;kP=1;var i=g9();return lv=i,lv}var dv,NP;function m9(){return NP||(NP=1,dv=y9()),dv}var b9=m9(),rs=Y(b9),FP={},cv,BP;function Cn(){if(BP)return cv;BP=1;var i=se();return cv=function(e,t){var r=[][e];return!!r&&i(function(){r.call(null,t||function(){return 1},1)})},cv}var jP;function _9(){if(jP)return FP;jP=1;var i=H(),e=Gb(),t=Yb().indexOf,r=Cn(),n=e([].indexOf),s=!!n&&1/n([1],1,-0)<0,o=s||!r("indexOf");return i({target:"Array",proto:!0,forced:o},{indexOf:function(u){var l=arguments.length>1?arguments[1]:void 0;return s?n(this,u,l)||0:t(this,u,l)}}),FP}var hv,LP;function w9(){if(LP)return hv;LP=1,_9();var i=Xe();return hv=i("Array","indexOf"),hv}var fv,zP;function E9(){if(zP)return fv;zP=1;var i=ke(),e=w9(),t=Array.prototype;return fv=function(r){var n=r.indexOf;return r===t||i(t,r)&&n===t.indexOf?e:n},fv}var vv,WP;function S9(){if(WP)return vv;WP=1;var i=E9();return vv=i,vv}var pv,HP;function O9(){return HP||(HP=1,pv=S9()),pv}var I9=O9(),Se=Y(I9),GP={},gv,UP;function u1(){return UP||(UP=1,gv=function(){}),gv}var VP;function $9(){if(VP)return GP;VP=1;var i=H(),e=Yb().includes,t=se(),r=u1(),n=t(function(){return!Array(1).includes()});return i({target:"Array",proto:!0,forced:n},{includes:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),r("includes"),GP}var yv,KP;function T9(){if(KP)return yv;KP=1,$9();var i=Xe();return yv=i("Array","includes"),yv}var YP={},mv,XP;function P9(){if(XP)return mv;XP=1;var i=He(),e=Vt(),t=Ne(),r=t("match");return mv=function(n){var s;return i(n)&&((s=n[r])!==void 0?!!s:e(n)==="RegExp")},mv}var bv,ZP;function R9(){if(ZP)return bv;ZP=1;var i=P9(),e=TypeError;return bv=function(t){if(i(t))throw new e("The method doesn't accept regular expressions");return t},bv}var _v,JP;function l1(){if(JP)return _v;JP=1;var i=Ne(),e=i("toStringTag"),t={};return t[e]="z",_v=String(t)==="[object z]",_v}var wv,QP;function xn(){if(QP)return wv;QP=1;var i=l1(),e=We(),t=Vt(),r=Ne(),n=r("toStringTag"),s=Object,o=t(function(){return arguments}())==="Arguments",a=function(u,l){try{return u[l]}catch{}};return wv=i?t:function(u){var l,d,c;return u===void 0?"Undefined":u===null?"Null":typeof(d=a(l=s(u),n))=="string"?d:o?t(l):(c=t(l))==="Object"&&e(l.callee)?"Arguments":c},wv}var Ev,eR;function Pt(){if(eR)return Ev;eR=1;var i=xn(),e=String;return Ev=function(t){if(i(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},Ev}var Sv,tR;function q9(){if(tR)return Sv;tR=1;var i=Ne(),e=i("match");return Sv=function(t){var r=/./;try{"/./"[t](r)}catch{try{return r[e]=!1,"/./"[t](r)}catch{}}return!1},Sv}var rR;function C9(){if(rR)return YP;rR=1;var i=H(),e=oe(),t=R9(),r=hr(),n=Pt(),s=q9(),o=e("".indexOf);return i({target:"String",proto:!0,forced:!s("includes")},{includes:function(u){return!!~o(n(r(this)),n(t(u)),arguments.length>1?arguments[1]:void 0)}}),YP}var Ov,iR;function x9(){if(iR)return Ov;iR=1,C9();var i=Xe();return Ov=i("String","includes"),Ov}var Iv,nR;function D9(){if(nR)return Iv;nR=1;var i=ke(),e=T9(),t=x9(),r=Array.prototype,n=String.prototype;return Iv=function(s){var o=s.includes;return s===r||i(r,s)&&o===r.includes?e:typeof s=="string"||s===n||i(n,s)&&o===n.includes?t:o},Iv}var $v,sR;function M9(){if(sR)return $v;sR=1;var i=D9();return $v=i,$v}var Tv,oR;function A9(){return oR||(oR=1,Tv=M9()),Tv}var k9=A9(),is=Y(k9),aR={},Pv,uR;function _i(){if(uR)return Pv;uR=1;var i=Vt();return Pv=Array.isArray||function(t){return i(t)==="Array"},Pv}var Rv,lR;function N9(){if(lR)return Rv;lR=1;var i=Pe(),e=_i(),t=TypeError,r=Object.getOwnPropertyDescriptor,n=i&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return Rv=n?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Rv}var qv,dR;function bF(){if(dR)return qv;dR=1;var i=TypeError,e=9007199254740991;return qv=function(t){if(t>e)throw i("Maximum allowed index exceeded");return t},qv}var Cv,cR;function F9(){if(cR)return Cv;cR=1;var i=oe(),e=We(),t=Vb(),r=i(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(n){return r(n)}),Cv=t.inspectSource,Cv}var xv,hR;function _F(){if(hR)return xv;hR=1;var i=oe(),e=se(),t=We(),r=xn(),n=pt(),s=F9(),o=function(){},a=n("Reflect","construct"),u=/^\s*(?:class|function)\b/,l=i(u.exec),d=!u.test(o),c=function(v){if(!t(v))return!1;try{return a(o,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!l(u,s(v))}catch{return!0}};return h.sham=!0,xv=!a||e(function(){var f;return c(c.call)||!c(Object)||!c(function(){f=!0})||f})?h:c,xv}var Dv,fR;function B9(){if(fR)return Dv;fR=1;var i=_i(),e=_F(),t=He(),r=Ne(),n=r("species"),s=Array;return Dv=function(o){var a;return i(o)&&(a=o.constructor,e(a)&&(a===s||i(a.prototype))?a=void 0:t(a)&&(a=a[n],a===null&&(a=void 0))),a===void 0?s:a},Dv}var Mv,vR;function d1(){if(vR)return Mv;vR=1;var i=B9();return Mv=function(e,t){return new(i(e))(t===0?0:t)},Mv}var Av,pR;function ca(){if(pR)return Av;pR=1;var i=Pe(),e=$t(),t=js();return Av=function(r,n,s){i?e.f(r,n,t(0,s)):r[n]=s},Av}var kv,gR;function wF(){if(gR)return kv;gR=1;var i=Sn(),e=TypeError;return kv=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+i(r)+" of "+i(t))},kv}var Nv,yR;function Zs(){if(yR)return Nv;yR=1;var i=se(),e=Ne(),t=Ls(),r=e("species");return Nv=function(n){return t>=51||!i(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[n](Boolean).foo!==1})},Nv}var mR;function j9(){if(mR)return aR;mR=1;var i=H(),e=It(),t=sa(),r=Tn(),n=vr(),s=N9(),o=bF(),a=d1(),u=ca(),l=wF(),d=Zs(),c=d("splice"),h=Math.max,f=Math.min;return i({target:"Array",proto:!0,forced:!c},{splice:function(g,_){var y=e(this),p=n(y),O=t(g,p),m=arguments.length,S,$,w,b,E,I;for(m===0?S=$=0:m===1?(S=0,$=p-O):(S=m-2,$=f(h(r(_),0),p-O)),o(p+S-$),w=a(y,$),b=0;b<$;b++)E=O+b,E in y&&u(w,b,y[E]);if(w.length=$,S<$){for(b=O;b<p-$;b++)E=b+$,I=b+S,E in y?y[I]=y[E]:l(y,I);for(b=p;b>p-$+S;b--)l(y,b-1)}else if(S>$)for(b=p-$;b>O;b--)E=b+$-1,I=b+S-1,E in y?y[I]=y[E]:l(y,I);for(b=0;b<S;b++)y[b+O]=arguments[b+2];return s(y,p-$+S),w}}),aR}var Fv,bR;function L9(){if(bR)return Fv;bR=1,j9();var i=Xe();return Fv=i("Array","splice"),Fv}var Bv,_R;function z9(){if(_R)return Bv;_R=1;var i=ke(),e=L9(),t=Array.prototype;return Bv=function(r){var n=r.splice;return r===t||i(t,r)&&n===t.splice?e:n},Bv}var jv,wR;function W9(){if(wR)return jv;wR=1;var i=z9();return jv=i,jv}var Lv,ER;function H9(){return ER||(ER=1,Lv=W9()),Lv}var G9=H9(),Or=Y(G9),SR={},OR;function U9(){if(OR)return SR;OR=1;var i=H(),e=_i();return i({target:"Array",stat:!0},{isArray:e}),SR}var zv,IR;function V9(){if(IR)return zv;IR=1,U9();var i=he();return zv=i.Array.isArray,zv}var Wv,$R;function K9(){if($R)return Wv;$R=1;var i=V9();return Wv=i,Wv}var Hv,TR;function Y9(){return TR||(TR=1,Hv=K9()),Hv}var X9=Y9(),Mt=Y(X9),PR={},Gv,RR;function Ar(){if(RR)return Gv;RR=1;var i=na(),e=oe(),t=ta(),r=It(),n=vr(),s=d1(),o=e([].push),a=function(u){var l=u===1,d=u===2,c=u===3,h=u===4,f=u===6,v=u===7,g=u===5||f;return function(_,y,p,O){for(var m=r(_),S=t(m),$=n(S),w=i(y,p),b=0,E=O||s,I=l?E(_,$):d||v?E(_,0):void 0,T,P;$>b;b++)if((g||b in S)&&(T=S[b],P=w(T,b,m),u))if(l)I[b]=P;else if(P)switch(u){case 3:return!0;case 5:return T;case 6:return b;case 2:o(I,T)}else switch(u){case 4:return!1;case 7:o(I,T)}return f?-1:c||h?h:I}};return Gv={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},Gv}var Uv,qR;function Z9(){if(qR)return Uv;qR=1;var i=Ar().forEach,e=Cn(),t=e("forEach");return Uv=t?[].forEach:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)},Uv}var CR;function J9(){if(CR)return PR;CR=1;var i=H(),e=Z9();return i({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),PR}var Vv,xR;function Q9(){if(xR)return Vv;xR=1,J9();var i=Xe();return Vv=i("Array","forEach"),Vv}var Kv,DR;function eH(){if(DR)return Kv;DR=1;var i=Q9();return Kv=i,Kv}var Yv,MR;function tH(){if(MR)return Yv;MR=1;var i=xn(),e=Ye(),t=ke(),r=eH(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Yv=function(o){var a=o.forEach;return o===n||t(n,o)&&a===n.forEach||e(s,i(o))?r:a},Yv}var Xv,AR;function rH(){return AR||(AR=1,Xv=tH()),Xv}var iH=rH(),be=Y(iH);function nH(i){return br=i,uH()}var EF={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},c1=rs(EF);c1.color="color.color";c1.style="dashes";var rt={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},kR={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},br="",sn=0,re="",V="",ut=rt.NULL;function sH(){sn=0,re=br.charAt(0)}function Be(){sn++,re=br.charAt(sn)}function Di(){return br.charAt(sn+1)}function NR(i){var e=i.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function $r(i,e){if(i||(i={}),e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function oH(i,e,t){for(var r=e.split("."),n=i;r.length;){var s=r.shift();r.length?(n[s]||(n[s]={}),n=n[s]):n[s]=t}}function SF(i,e){for(var t,r,n=null,s=[i],o=i;o.parent;)s.push(o.parent),o=o.parent;if(o.nodes){for(t=0,r=o.nodes.length;t<r;t++)if(e.id===o.nodes[t].id){n=o.nodes[t];break}}for(n||(n={id:e.id},i.node&&(n.attr=$r(n.attr,i.node))),t=s.length-1;t>=0;t--){var a,u=s[t];u.nodes||(u.nodes=[]),Se(a=u.nodes).call(a,n)===-1&&u.nodes.push(n)}e.attr&&(n.attr=$r(n.attr,e.attr))}function aH(i,e){if(i.edges||(i.edges=[]),i.edges.push(e),i.edge){var t=$r({},i.edge);e.attr=$r(t,e.attr)}}function OF(i,e,t,r,n){var s={from:e,to:t,type:r};return i.edge&&(s.attr=$r({},i.edge)),s.attr=$r(s.attr||{},n),n!=null&&n.hasOwnProperty("arrows")&&n.arrows!=null&&(s.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),s}function ge(){for(ut=rt.NULL,V="";re===" "||re==="	"||re===`
`||re==="\r";)Be();do{var i=!1;if(re==="#"){for(var e=sn-1;br.charAt(e)===" "||br.charAt(e)==="	";)e--;if(br.charAt(e)===`
`||br.charAt(e)===""){for(;re!=""&&re!=`
`;)Be();i=!0}}if(re==="/"&&Di()==="/"){for(;re!=""&&re!=`
`;)Be();i=!0}if(re==="/"&&Di()==="*"){for(;re!="";)if(re==="*"&&Di()==="/"){Be(),Be();break}else Be();i=!0}for(;re===" "||re==="	"||re===`
`||re==="\r";)Be()}while(i);if(re===""){ut=rt.DELIMITER;return}var t=re+Di();if(kR[t]){ut=rt.DELIMITER,V=t,Be(),Be();return}if(kR[re]){ut=rt.DELIMITER,V=re,Be();return}if(NR(re)||re==="-"){for(V+=re,Be();NR(re);)V+=re,Be();V==="false"?V=!1:V==="true"?V=!0:isNaN(Number(V))||(V=Number(V)),ut=rt.IDENTIFIER;return}if(re==='"'){for(Be();re!=""&&(re!='"'||re==='"'&&Di()==='"');)re==='"'?(V+=re,Be()):re==="\\"&&Di()==="n"?(V+=`
`,Be()):V+=re,Be();if(re!='"')throw it('End of string " expected');Be(),ut=rt.IDENTIFIER;return}for(ut=rt.UNKNOWN;re!="";)V+=re,Be();throw new SyntaxError('Syntax error in part "'+PF(V,30)+'"')}function uH(){var i={};if(sH(),ge(),V==="strict"&&(i.strict=!0,ge()),(V==="graph"||V==="digraph")&&(i.type=V,ge()),ut===rt.IDENTIFIER&&(i.id=V,ge()),V!="{")throw it("Angle bracket { expected");if(ge(),IF(i),V!="}")throw it("Angle bracket } expected");if(ge(),V!=="")throw it("End of file expected");return ge(),delete i.node,delete i.edge,delete i.graph,i}function IF(i){for(;V!==""&&V!="}";)lH(i),V===";"&&ge()}function lH(i){var e=$F(i);if(e){TF(i,e);return}var t=dH(i);if(!t){if(ut!=rt.IDENTIFIER)throw it("Identifier expected");var r=V;if(ge(),V==="="){if(ge(),ut!=rt.IDENTIFIER)throw it("Identifier expected");i[r]=V,ge()}else cH(i,r)}}function $F(i){var e=null;if(V==="subgraph"&&(e={},e.type="subgraph",ge(),ut===rt.IDENTIFIER&&(e.id=V,ge())),V==="{"){if(ge(),e||(e={}),e.parent=i,e.node=i.node,e.edge=i.edge,e.graph=i.graph,IF(e),V!="}")throw it("Angle bracket } expected");ge(),delete e.node,delete e.edge,delete e.graph,delete e.parent,i.subgraphs||(i.subgraphs=[]),i.subgraphs.push(e)}return e}function dH(i){return V==="node"?(ge(),i.node=ns(),"node"):V==="edge"?(ge(),i.edge=ns(),"edge"):V==="graph"?(ge(),i.graph=ns(),"graph"):null}function cH(i,e){var t={id:e},r=ns();r&&(t.attr=r),SF(i,t),TF(i,e)}function TF(i,e){for(;V==="->"||V==="--";){var t,r=V;ge();var n=$F(i);if(n)t=n;else{if(ut!=rt.IDENTIFIER)throw it("Identifier or subgraph expected");t=V,SF(i,{id:t}),ge()}var s=ns(),o=OF(i,e,t,r,s);aH(i,o),e=t}}function ns(){for(var i,e=null,t={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},n=new Array,s=new Array;V==="[";){for(ge(),e={};V!==""&&V!="]";){if(ut!=rt.IDENTIFIER)throw it("Attribute name expected");var o=V;if(ge(),V!="=")throw it("Equal sign = expected");if(ge(),ut!=rt.IDENTIFIER)throw it("Attribute value expected");var a=V;o==="style"&&(a=t[a]);var u;o==="arrowhead"&&(u=r[a],o="arrows",a={to:{enabled:!0,type:u}}),o==="arrowtail"&&(u=r[a],o="arrows",a={from:{enabled:!0,type:u}}),n.push({attr:e,name:o,value:a}),s.push(o),ge(),V==","&&ge()}if(V!="]")throw it("Bracket ] expected");ge()}if(is(s).call(s,"dir")){var l={};for(l.arrows={},i=0;i<n.length;i++)if(n[i].name==="arrows")if(n[i].value.to!=null)l.arrows.to=i;else if(n[i].value.from!=null)l.arrows.from=i;else throw it("Invalid value of arrows");else n[i].name==="dir"&&(l.dir=i);var d=n[l.dir].value;if(!is(s).call(s,"arrows"))if(d==="both")n.push({attr:n[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=n.length-1,n.push({attr:n[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=n.length-1;else if(d==="forward")n.push({attr:n[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=n.length-1;else if(d==="back")n.push({attr:n[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=n.length-1;else if(d==="none")n.push({attr:n[l.dir].attr,name:"arrows",value:""}),l.arrows.to=n.length-1;else throw it('Invalid dir type "'+d+'"');var c,h;if(d==="both")l.arrows.to&&l.arrows.from?(h=n[l.arrows.to].value.to.type,c=n[l.arrows.from].value.from.type,n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}},Or(n).call(n,l.arrows.from,1)):l.arrows.to?(h=n[l.arrows.to].value.to.type,c="arrow",n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="arrow",c=n[l.arrows.from].value.from.type,n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}});else if(d==="back")l.arrows.to&&l.arrows.from?(h="",c=n[l.arrows.from].value.from.type,n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.to?(h="",c="arrow",l.arrows.from=l.arrows.to,n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="",c=n[l.arrows.from].value.from.type,n[l.arrows.to]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{from:{enabled:!0,type:n[l.arrows.from].value.from.type}}};else if(d==="none"){var f;l.arrows.to?f=l.arrows.to:f=l.arrows.from,n[f]={attr:n[f].attr,name:n[f].name,value:""}}else if(d==="forward")l.arrows.to&&l.arrows.from?(h=n[l.arrows.to].value.to.type,c="",n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.to?(h=n[l.arrows.to].value.to.type,c="",n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="arrow",c="",l.arrows.to=l.arrows.from,n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:n[l.arrows.to].value.to.type}}};else throw it('Invalid dir type "'+d+'"');Or(n).call(n,l.dir,1)}var v;if(is(s).call(s,"penwidth")){var g=[];for(v=n.length,i=0;i<v;i++)n[i].name!=="width"&&(n[i].name==="penwidth"&&(n[i].name="width"),g.push(n[i]));n=g}for(v=n.length,i=0;i<v;i++)oH(n[i].attr,n[i].name,n[i].value);return e}function it(i){return new SyntaxError(i+', got "'+PF(V,30)+'" (char '+sn+")")}function PF(i,e){return i.length<=e?i:i.substr(0,27)+"..."}function hH(i,e,t){Mt(i)?be(i).call(i,function(r){Mt(e)?be(e).call(e,function(n){t(r,n)}):t(r,e)}):Mt(e)?be(e).call(e,function(r){t(i,r)}):t(i,e)}function Zv(i,e,t){for(var r=e.split("."),n=r.pop(),s=i,o=0;o<r.length;o++){var a=r[o];a in s||(s[a]={}),s=s[a]}return s[n]=t,i}function FR(i,e){var t={};for(var r in i)if(i.hasOwnProperty(r)){var n=e[r];Mt(n)?be(n).call(n,function(s){Zv(t,s,i[r])}):typeof n=="string"?Zv(t,n,i[r]):Zv(t,r,i[r])}return t}function fH(i){var e=nH(i),t={nodes:[],edges:[],options:{}};if(e.nodes){var r;be(r=e.nodes).call(r,function(o){var a={id:o.id,label:String(o.label||o.id)};$r(a,FR(o.attr,EF)),a.image&&(a.shape="image"),t.nodes.push(a)})}if(e.edges){var n,s=function(o){var a={from:o.from,to:o.to};return $r(a,FR(o.attr,c1)),a.arrows==null&&o.type==="->"&&(a.arrows="to"),a};be(n=e.edges).call(n,function(o){var a,u;if(o.from instanceof Object?a=o.from.nodes:a={id:o.from},o.to instanceof Object?u=o.to.nodes:u={id:o.to},o.from instanceof Object&&o.from.edges){var l;be(l=o.from.edges).call(l,function(c){var h=s(c);t.edges.push(h)})}if(hH(a,u,function(c,h){var f=OF(t,c.id,h.id,o.type,o.attr),v=s(f);t.edges.push(v)}),o.to instanceof Object&&o.to.edges){var d;be(d=o.to.edges).call(d,function(c){var h=s(c);t.edges.push(h)})}})}return e.attr&&(t.options=e.attr),t}var BR={},jR;function vH(){if(jR)return BR;jR=1;var i=H(),e=Ar().map,t=Zs(),r=t("map");return i({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),BR}var Jv,LR;function pH(){if(LR)return Jv;LR=1,vH();var i=Xe();return Jv=i("Array","map"),Jv}var Qv,zR;function gH(){if(zR)return Qv;zR=1;var i=ke(),e=pH(),t=Array.prototype;return Qv=function(r){var n=r.map;return r===t||i(t,r)&&n===t.map?e:n},Qv}var ep,WR;function yH(){if(WR)return ep;WR=1;var i=gH();return ep=i,ep}var tp,HR;function mH(){return HR||(HR=1,tp=yH()),tp}var bH=mH(),bs=Y(bH);function _H(i,e){var t;const r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(r.nodes.fixed=e.fixed),e.parseColor!=null&&(r.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(r.edges.inheritColor=e.inheritColor));const n=i.edges,s=bs(n).call(n,a=>{const u={from:a.source,id:a.id,to:a.target};return a.attributes!=null&&(u.attributes=a.attributes),a.label!=null&&(u.label=a.label),a.attributes!=null&&a.attributes.title!=null&&(u.title=a.attributes.title),a.type==="Directed"&&(u.arrows="to"),a.color&&r.edges.inheritColor===!1&&(u.color=a.color),u});return{nodes:bs(t=i.nodes).call(t,a=>{const u={id:a.id,fixed:r.nodes.fixed&&a.x!=null&&a.y!=null};return a.attributes!=null&&(u.attributes=a.attributes),a.label!=null&&(u.label=a.label),a.size!=null&&(u.size=a.size),a.attributes!=null&&a.attributes.title!=null&&(u.title=a.attributes.title),a.title!=null&&(u.title=a.title),a.x!=null&&(u.x=a.x),a.y!=null&&(u.y=a.y),a.color!=null&&(r.nodes.parseColor===!0?u.color=a.color:u.color={background:a.color,border:a.color,highlight:{background:a.color,border:a.color},hover:{background:a.color,border:a.color}}),u}),edges:s}}const wH={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},EH={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufÃ¼gen",addNode:"Knoten hinzufÃ¼gen",back:"ZurÃ¼ck",close:"SchlieÃen",createEdgeError:"Es ist nicht mÃ¶glich, Kanten mit Clustern zu verbinden.",del:"LÃ¶sche Auswahl",deleteClusterError:"Cluster kÃ¶nnen nicht gelÃ¶scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster kÃ¶nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},SH={addDescription:"Haga clic en un lugar vacÃ­o para colocar un nuevo nodo.",addEdge:"AÃ±adir arista",addNode:"AÃ±adir nodo",back:"AtrÃ¡s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecciÃ³n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},OH={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},IH={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},$H={addDescription:"Clique em um espaÃ§o em branco para adicionar um novo nÃ³",addEdge:"Adicionar aresta",addNode:"Adicionar nÃ³",back:"Voltar",close:"Fechar",createEdgeError:"NÃ£o foi possÃ­vel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters nÃ£o puderam ser removidos.",edgeDescription:"Clique em um nÃ³ e arraste a aresta atÃ© outro nÃ³ para conectÃ¡-los",edit:"Editar",editClusterError:"Clusters nÃ£o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nÃ³ para conectÃ¡-los",editNode:"Editar nÃ³"},TH={addDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð² ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ðµ Ð¼ÐµÑÑÐ¾, ÑÑÐ¾Ð±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÐ¹ ÑÐ·ÐµÐ».",addEdge:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ±ÑÐ¾",addNode:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ·ÐµÐ»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÑÐ²Ð°ÑÑ",createEdgeError:"ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ ÑÐµÐ±ÑÐ° Ð² ÐºÐ»Ð°ÑÑÐµÑ.",del:"Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ðµ",deleteClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½Ðµ Ð¼Ð¾Ð³ÑÑ Ð±ÑÑÑ ÑÐ´Ð°Ð»ÐµÐ½Ñ",edgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÑÐ·ÐµÐ» Ð¸ Ð¿ÑÐ¾ÑÑÐ½Ð¸ÑÐµ ÑÐµÐ±ÑÐ¾ Ðº Ð´ÑÑÐ³Ð¾Ð¼Ñ ÑÐ·Ð»Ñ, ÑÑÐ¾Ð±Ñ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ Ð¸Ñ.",edit:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ",editClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ.",editEdge:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐµÐ±ÑÐ¾",editEdgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½ÑÐµ ÑÐ¾ÑÐºÐ¸ Ð¸ Ð¿ÐµÑÐµÑÐ°ÑÐ¸ÑÐµ Ð¸Ñ Ð² ÑÐ·ÐµÐ», ÑÑÐ¾Ð±Ñ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ¸ÑÑÑÑ Ðº Ð½ÐµÐ¼Ñ.",editNode:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐ·ÐµÐ»"},PH={addDescription:"åå»ç©ºç½å¤æ¾ç½®æ°èç¹ã",addEdge:"æ·»å è¿æ¥çº¿",addNode:"æ·»å èç¹",back:"è¿å",close:"éé",createEdgeError:"æ æ³å°è¿æ¥çº¿è¿æ¥å°ç¾¤éã",del:"å é¤éå®",deleteClusterError:"æ æ³å é¤ç¾¤éã",edgeDescription:"åå»æä¸ªèç¹å¹¶å°è¯¥è¿æ¥çº¿æå¨å°å¦ä¸ä¸ªèç¹ä»¥è¿æ¥å®ä»¬ã",edit:"ç¼è¾",editClusterError:"æ æ³ç¼è¾ç¾¤éã",editEdge:"ç¼è¾è¿æ¥çº¿",editEdgeDescription:"åå»æ§å¶èç¹å¹¶å°å®ä»¬æå°èç¹ä¸è¿æ¥ã",editNode:"ç¼è¾èç¹"},RH={addDescription:"KÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ»ÑÐ½Ðµ Ð¼ÑÑÑÐµ, ÑÐ¾Ð± Ð´Ð¾Ð´Ð°ÑÐ¸ Ð½Ð¾Ð²Ð¸Ð¹ Ð²ÑÐ·Ð¾Ð».",addEdge:"ÐÐ¾Ð´Ð°ÑÐ¸ ÐºÑÐ°Ð¹",addNode:"ÐÐ¾Ð´Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÐ¸ÑÐ¸",createEdgeError:"ÐÐµ Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ Ð¾Ð±'ÑÐ´Ð½Ð°ÑÐ¸ ÐºÑÐ°Ñ Ð² Ð³ÑÑÐ¿Ñ.",del:"ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¾Ð±ÑÐ°Ð½Ðµ",deleteClusterError:"ÐÑÑÐ¿Ð¸ Ð½Ðµ Ð¼Ð¾Ð¶ÑÑÑ Ð±ÑÑÐ¸ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ñ.",edgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ·Ð¾Ð» Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÐºÑÐ°Ð¹ Ð´Ð¾ ÑÐ½ÑÐ¾Ð³Ð¾ Ð²ÑÐ·Ð»Ð°, ÑÐ¾Ð± ÑÑ Ð·'ÑÐ´Ð½Ð°ÑÐ¸.",edit:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸",editClusterError:"ÐÑÑÐ¿Ð¸ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°Ð³ÑÐ²Ð°Ð½Ð½Ñ.",editEdge:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ ÐºÑÐ°Ð¹",editEdgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½Ñ ÑÐ¾ÑÐºÐ¸ Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÑÑ Ñ Ð²ÑÐ·Ð¾Ð», ÑÐ¾Ð± Ð¿ÑÐ´ÐºÐ»ÑÑÐ¸ÑÐ¸ÑÑ Ð´Ð¾ Ð½ÑÐ¾Ð³Ð¾.",editNode:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»"},qH={addDescription:"Cliquez dans un endroit vide pour placer un nÅud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nÅud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crÃ©er un lien vers un cluster.",del:"Effacer la sÃ©lection",deleteClusterError:"Les clusters ne peuvent pas Ãªtre effacÃ©s.",edgeDescription:"Cliquez sur un nÅud et glissez le lien vers un autre nÅud pour les connecter.",edit:"Ãditer",editClusterError:"Les clusters ne peuvent pas Ãªtre Ã©ditÃ©s.",editEdge:"Ãditer le lien",editEdgeDescription:"Cliquez sur les points de contrÃ´le et glissez-les pour connecter un nÅud.",editNode:"Ãditer le nÅud"},CH={addDescription:"KluknutÃ­m do prÃ¡zdnÃ©ho prostoru mÅ¯Å¾ete pÅidat novÃ½ vrchol.",addEdge:"PÅidat hranu",addNode:"PÅidat vrchol",back:"ZpÄt",close:"ZavÅÃ­t",createEdgeError:"Nelze pÅipojit hranu ke shluku.",del:"Smazat vÃ½bÄr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"PÅetaÅ¾enÃ­m z jednoho vrcholu do druhÃ©ho mÅ¯Å¾ete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"PÅetaÅ¾enÃ­m kontrolnÃ­ho vrcholu hrany ji mÅ¯Å¾ete pÅipojit k jinÃ©mu vrcholu.",editNode:"Upravit vrchol"};var xH=Object.freeze({__proto__:null,cn:PH,cs:CH,de:EH,en:wH,es:SH,fr:qH,it:OH,nl:IH,pt:$H,ru:TH,uk:RH}),GR={},UR;function RF(){if(UR)return GR;UR=1;var i=H(),e=se(),t=_i(),r=He(),n=It(),s=vr(),o=bF(),a=ca(),u=d1(),l=Zs(),d=Ne(),c=Ls(),h=d("isConcatSpreadable"),f=c>=51||!e(function(){var _=[];return _[h]=!1,_.concat()[0]!==_}),v=function(_){if(!r(_))return!1;var y=_[h];return y!==void 0?!!y:t(_)},g=!f||!l("concat");return i({target:"Array",proto:!0,arity:1,forced:g},{concat:function(y){var p=n(this),O=u(p,0),m=0,S,$,w,b,E;for(S=-1,w=arguments.length;S<w;S++)if(E=S===-1?p:arguments[S],v(E))for(b=s(E),o(m+b),$=0;$<b;$++,m++)$ in E&&a(O,m,E[$]);else o(m+1),a(O,m++,E);return O.length=m,O}}),GR}var rp,VR;function DH(){if(VR)return rp;VR=1,RF();var i=Xe();return rp=i("Array","concat"),rp}var ip,KR;function MH(){if(KR)return ip;KR=1;var i=ke(),e=DH(),t=Array.prototype;return ip=function(r){var n=r.concat;return r===t||i(t,r)&&n===t.concat?e:n},ip}var np,YR;function AH(){if(YR)return np;YR=1;var i=MH();return np=i,np}var sp,XR;function kH(){return XR||(XR=1,sp=AH()),sp}var NH=kH(),FH=Y(NH);function BH(i,e){try{const[r,n]=e.split(/[-_ /]/,2),s=r!=null?r.toLowerCase():null,o=n!=null?n.toUpperCase():null;if(s&&o){const a=s+"-"+o;if(Object.prototype.hasOwnProperty.call(i,a))return a;var t;console.warn(FH(t="Unknown variant ".concat(o," of language ")).call(t,s,"."))}if(s){const a=s;if(Object.prototype.hasOwnProperty.call(i,a))return a;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(r){return console.error(r),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class jH{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,t=this.image.height;this.width=e,this.height=t;const r=Math.floor(t/2),n=Math.floor(t/4),s=Math.floor(t/8),o=Math.floor(t/16),a=Math.floor(e/2),u=Math.floor(e/4),l=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*u,this.canvas.height=r,this.coordinates=[[0,0,a,r],[a,0,u,n],[a,n,l,s],[5*l,n,d,o]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(let r=1;r<this.NUM_ITERATIONS;r++){const n=this.coordinates[r-1],s=this.coordinates[r];e.drawImage(this.canvas,n[0],n[1],n[2],n[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,t,r,n,s,o){if(this.initialized())if(t>2){t*=.5;let a=0;for(;t>2&&a<this.NUM_ITERATIONS;)t*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);const u=this.coordinates[a];e.drawImage(this.canvas,u[0],u[1],u[2],u[3],r,n,s,o)}else e.drawImage(this.image,r,n,s,o)}}class LH{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,t,r){if(!(e===void 0||r===void 0)){if(t===void 0){console.warn("No broken url image defined");return}r.image.onerror=()=>{console.error("Could not load brokenImage:",t)},r.image.src=t}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,t){const r=this.images[e];if(r)return r;const n=new jH;return this.images[e]=n,n.image.onload=()=>{this._fixImageCoordinates(n.image),n.init(),this._redrawWithImage(n)},n.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,t,n)},n.image.src=e,n}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var op,ZR;function Dn(){return ZR||(ZR=1,op={}),op}var ap,JR;function qF(){if(JR)return ap;JR=1;var i=we(),e=We(),t=i.WeakMap;return ap=e(t)&&/native code/.test(String(t)),ap}var up,QR;function wi(){if(QR)return up;QR=1;var i=qF(),e=we(),t=He(),r=$n(),n=Ye(),s=Vb(),o=da(),a=Ws(),u="Object already initialized",l=e.TypeError,d=e.WeakMap,c,h,f,v=function(p){return f(p)?h(p):c(p,{})},g=function(p){return function(O){var m;if(!t(O)||(m=h(O)).type!==p)throw new l("Incompatible receiver, "+p+" required");return m}};if(i||s.state){var _=s.state||(s.state=new d);_.get=_.get,_.has=_.has,_.set=_.set,c=function(p,O){if(_.has(p))throw new l(u);return O.facade=p,_.set(p,O),O},h=function(p){return _.get(p)||{}},f=function(p){return _.has(p)}}else{var y=o("state");a[y]=!0,c=function(p,O){if(n(p,y))throw new l(u);return O.facade=p,r(p,y,O),O},h=function(p){return n(p,y)?p[y]:{}},f=function(p){return n(p,y)}}return up={set:c,get:h,has:f,enforce:v,getterFor:g},up}var lp,eq;function zH(){if(eq)return lp;eq=1;var i=Pe(),e=Ye(),t=Function.prototype,r=i&&Object.getOwnPropertyDescriptor,n=e(t,"name"),s=n&&(function(){}).name==="something",o=n&&(!i||i&&r(t,"name").configurable);return lp={EXISTS:n,PROPER:s,CONFIGURABLE:o},lp}var dp,tq;function WH(){if(tq)return dp;tq=1;var i=se();return dp=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),dp}var cp,rq;function h1(){if(rq)return cp;rq=1;var i=Ye(),e=We(),t=It(),r=da(),n=WH(),s=r("IE_PROTO"),o=Object,a=o.prototype;return cp=n?o.getPrototypeOf:function(u){var l=t(u);if(i(l,s))return l[s];var d=l.constructor;return e(d)&&l instanceof d?d.prototype:l instanceof o?a:null},cp}var hp,iq;function Js(){if(iq)return hp;iq=1;var i=$n();return hp=function(e,t,r,n){return n&&n.enumerable?e[t]=r:i(e,t,r),e},hp}var fp,nq;function CF(){if(nq)return fp;nq=1;var i=se(),e=We(),t=He(),r=Xs(),n=h1(),s=Js(),o=Ne(),a=On(),u=o("iterator"),l=!1,d,c,h;[].keys&&(h=[].keys(),"next"in h?(c=n(n(h)),c!==Object.prototype&&(d=c)):l=!0);var f=!t(d)||i(function(){var v={};return d[u].call(v)!==v});return f?d={}:a&&(d=r(d)),e(d[u])||s(d,u,function(){return this}),fp={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:l},fp}var vp,sq;function HH(){if(sq)return vp;sq=1;var i=l1(),e=xn();return vp=i?{}.toString:function(){return"[object "+e(this)+"]"},vp}var pp,oq;function Ei(){if(oq)return pp;oq=1;var i=l1(),e=$t().f,t=$n(),r=Ye(),n=HH(),s=Ne(),o=s("toStringTag");return pp=function(a,u,l,d){var c=l?a:a&&a.prototype;c&&(r(c,o)||e(c,o,{configurable:!0,value:u}),d&&!i&&t(c,"toString",n))},pp}var gp,aq;function GH(){if(aq)return gp;aq=1;var i=CF().IteratorPrototype,e=Xs(),t=js(),r=Ei(),n=Dn(),s=function(){return this};return gp=function(o,a,u,l){var d=a+" Iterator";return o.prototype=e(i,{next:t(+!l,u)}),r(o,d,!1,!0),n[d]=s,o},gp}var yp,uq;function UH(){if(uq)return yp;uq=1;var i=oe(),e=fr();return yp=function(t,r,n){try{return i(e(Object.getOwnPropertyDescriptor(t,r)[n]))}catch{}},yp}var mp,lq;function VH(){if(lq)return mp;lq=1;var i=He();return mp=function(e){return i(e)||e===null},mp}var bp,dq;function KH(){if(dq)return bp;dq=1;var i=VH(),e=String,t=TypeError;return bp=function(r){if(i(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},bp}var _p,cq;function YH(){if(cq)return _p;cq=1;var i=UH(),e=He(),t=hr(),r=KH();return _p=Object.setPrototypeOf||("__proto__"in{}?function(){var n=!1,s={},o;try{o=i(Object.prototype,"__proto__","set"),o(s,[]),n=s instanceof Array}catch{}return function(u,l){return t(u),r(l),e(u)&&(n?o(u,l):u.__proto__=l),u}}():void 0),_p}var wp,hq;function f1(){if(hq)return wp;hq=1;var i=H(),e=ft(),t=On(),r=zH(),n=We(),s=GH(),o=h1(),a=YH(),u=Ei(),l=$n(),d=Js(),c=Ne(),h=Dn(),f=CF(),v=r.PROPER,g=r.CONFIGURABLE,_=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,p=c("iterator"),O="keys",m="values",S="entries",$=function(){return this};return wp=function(w,b,E,I,T,P,R){s(E,b,I);var C=function(Ee){if(Ee===T&&te)return te;if(!y&&Ee&&Ee in j)return j[Ee];switch(Ee){case O:return function(){return new E(this,Ee)};case m:return function(){return new E(this,Ee)};case S:return function(){return new E(this,Ee)}}return function(){return new E(this)}},M=b+" Iterator",K=!1,j=w.prototype,J=j[p]||j["@@iterator"]||T&&j[T],te=!y&&J||C(T),ce=b==="Array"&&j.entries||J,W,ue,fe;if(ce&&(W=o(ce.call(new w)),W!==Object.prototype&&W.next&&(!t&&o(W)!==_&&(a?a(W,_):n(W[p])||d(W,p,$)),u(W,M,!0,!0),t&&(h[M]=$))),v&&T===m&&J&&J.name!==m&&(!t&&g?l(j,"name",m):(K=!0,te=function(){return e(J,this)})),T)if(ue={values:C(m),keys:P?te:C(O),entries:C(S)},R)for(fe in ue)(y||K||!(fe in j))&&d(j,fe,ue[fe]);else i({target:b,proto:!0,forced:y||K},ue);return(!t||R)&&j[p]!==te&&d(j,p,te,{name:T}),h[b]=te,ue},wp}var Ep,fq;function v1(){return fq||(fq=1,Ep=function(i,e){return{value:i,done:e}}),Ep}var Sp,vq;function Mn(){if(vq)return Sp;vq=1;var i=Bt(),e=u1(),t=Dn(),r=wi(),n=$t().f,s=f1(),o=v1(),a=On(),u=Pe(),l="Array Iterator",d=r.set,c=r.getterFor(l);Sp=s(Array,"Array",function(f,v){d(this,{type:l,target:i(f),index:0,kind:v})},function(){var f=c(this),v=f.target,g=f.index++;if(!v||g>=v.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(g,!1);case"values":return o(v[g],!1)}return o([g,v[g]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&u&&h.name!=="values")try{n(h,"name",{value:"values"})}catch{}return Sp}var pq={},gq={},Op={exports:{}},Ip={},yq;function ha(){if(yq)return Ip;yq=1;var i=BN(),e=Xb(),t=e.concat("length","prototype");return Ip.f=Object.getOwnPropertyNames||function(n){return i(n,t)},Ip}var $p={},mq;function p1(){if(mq)return $p;mq=1;var i=Vt(),e=Bt(),t=ha().f,r=Pn(),n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(n)}};return $p.f=function(a){return n&&i(a)==="Window"?s(a):t(e(a))},$p}var Tp,bq;function XH(){if(bq)return Tp;bq=1;var i=se();return Tp=i(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Tp}var Pp,_q;function ZH(){if(_q)return Pp;_q=1;var i=se(),e=He(),t=Vt(),r=XH(),n=Object.isExtensible,s=i(function(){});return Pp=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:n?n(a):!0}:n,Pp}var Rp,wq;function xF(){if(wq)return Rp;wq=1;var i=se();return Rp=!i(function(){return Object.isExtensible(Object.preventExtensions({}))}),Rp}var Eq;function fa(){if(Eq)return Op.exports;Eq=1;var i=H(),e=oe(),t=Ws(),r=He(),n=Ye(),s=$t().f,o=ha(),a=p1(),u=ZH(),l=ra(),d=xF(),c=!1,h=l("meta"),f=0,v=function(m){s(m,h,{value:{objectID:"O"+f++,weakData:{}}})},g=function(m,S){if(!r(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!n(m,h)){if(!u(m))return"F";if(!S)return"E";v(m)}return m[h].objectID},_=function(m,S){if(!n(m,h)){if(!u(m))return!0;if(!S)return!1;v(m)}return m[h].weakData},y=function(m){return d&&c&&u(m)&&!n(m,h)&&v(m),m},p=function(){O.enable=function(){},c=!0;var m=o.f,S=e([].splice),$={};$[h]=1,m($).length&&(o.f=function(w){for(var b=m(w),E=0,I=b.length;E<I;E++)if(b[E]===h){S(b,E,1);break}return b},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},O=Op.exports={enable:p,fastKey:g,getWeakData:_,onFreeze:y};return t[h]=!0,Op.exports}var qp,Sq;function JH(){if(Sq)return qp;Sq=1;var i=Ne(),e=Dn(),t=i("iterator"),r=Array.prototype;return qp=function(n){return n!==void 0&&(e.Array===n||r[t]===n)},qp}var Cp,Oq;function DF(){if(Oq)return Cp;Oq=1;var i=xn(),e=Ub(),t=_n(),r=Dn(),n=Ne(),s=n("iterator");return Cp=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[i(o)]},Cp}var xp,Iq;function QH(){if(Iq)return xp;Iq=1;var i=ft(),e=fr(),t=Kt(),r=Sn(),n=DF(),s=TypeError;return xp=function(o,a){var u=arguments.length<2?n(o):a;if(e(u))return t(i(u,o));throw new s(r(o)+" is not iterable")},xp}var Dp,$q;function g1(){if($q)return Dp;$q=1;var i=ft(),e=Kt(),t=Ub();return Dp=function(r,n,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(n==="throw")throw s;return s}o=i(o,r)}catch(u){a=!0,o=u}if(n==="throw")throw s;if(a)throw o;return e(o),s},Dp}var Mp,Tq;function va(){if(Tq)return Mp;Tq=1;var i=na(),e=ft(),t=Kt(),r=Sn(),n=JH(),s=vr(),o=ke(),a=QH(),u=DF(),l=g1(),d=TypeError,c=function(f,v){this.stopped=f,this.result=v},h=c.prototype;return Mp=function(f,v,g){var _=g&&g.that,y=!!(g&&g.AS_ENTRIES),p=!!(g&&g.IS_RECORD),O=!!(g&&g.IS_ITERATOR),m=!!(g&&g.INTERRUPTED),S=i(v,_),$,w,b,E,I,T,P,R=function(M){return $&&l($,"normal"),new c(!0,M)},C=function(M){return y?(t(M),m?S(M[0],M[1],R):S(M[0],M[1])):m?S(M,R):S(M)};if(p)$=f.iterator;else if(O)$=f;else{if(w=u(f),!w)throw new d(r(f)+" is not iterable");if(n(w)){for(b=0,E=s(f);E>b;b++)if(I=C(f[b]),I&&o(h,I))return I;return new c(!1)}$=a(f,w)}for(T=p?f.next:$.next;!(P=e(T,$)).done;){try{I=C(P.value)}catch(M){l($,"throw",M)}if(typeof I=="object"&&I&&o(h,I))return I}return new c(!1)},Mp}var Ap,Pq;function y1(){if(Pq)return Ap;Pq=1;var i=ke(),e=TypeError;return Ap=function(t,r){if(i(r,t))return t;throw new e("Incorrect invocation")},Ap}var kp,Rq;function m1(){if(Rq)return kp;Rq=1;var i=H(),e=we(),t=fa(),r=se(),n=$n(),s=va(),o=y1(),a=We(),u=He(),l=_n(),d=Ei(),c=$t().f,h=Ar().forEach,f=Pe(),v=wi(),g=v.set,_=v.getterFor;return kp=function(y,p,O){var m=y.indexOf("Map")!==-1,S=y.indexOf("Weak")!==-1,$=m?"set":"add",w=e[y],b=w&&w.prototype,E={},I;if(!f||!a(w)||!(S||b.forEach&&!r(function(){new w().entries().next()})))I=O.getConstructor(p,y,m,$),t.enable();else{I=p(function(R,C){g(o(R,T),{type:y,collection:new w}),l(C)||s(C,R[$],{that:R,AS_ENTRIES:m})});var T=I.prototype,P=_(y);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var C=R==="add"||R==="set";R in b&&!(S&&R==="clear")&&n(T,R,function(M,K){var j=P(this).collection;if(!C&&S&&!u(M))return R==="get"?void 0:!1;var J=j[R](M===0?0:M,K);return C?this:J})}),S||c(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d(I,y,!1,!0),E[y]=I,i({global:!0,forced:!0},E),S||O.setStrong(I,y,m),I},kp}var Np,qq;function b1(){if(qq)return Np;qq=1;var i=$t();return Np=function(e,t,r){return i.f(e,t,r)},Np}var Fp,Cq;function _1(){if(Cq)return Fp;Cq=1;var i=Js();return Fp=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:i(e,n,t[n],r);return e},Fp}var Bp,xq;function e7(){if(xq)return Bp;xq=1;var i=pt(),e=b1(),t=Ne(),r=Pe(),n=t("species");return Bp=function(s){var o=i(s);r&&o&&!o[n]&&e(o,n,{configurable:!0,get:function(){return this}})},Bp}var jp,Dq;function MF(){if(Dq)return jp;Dq=1;var i=Xs(),e=b1(),t=_1(),r=na(),n=y1(),s=_n(),o=va(),a=f1(),u=v1(),l=e7(),d=Pe(),c=fa().fastKey,h=wi(),f=h.set,v=h.getterFor;return jp={getConstructor:function(g,_,y,p){var O=g(function(b,E){n(b,m),f(b,{type:_,index:i(null),first:null,last:null,size:0}),d||(b.size=0),s(E)||o(E,b[p],{that:b,AS_ENTRIES:y})}),m=O.prototype,S=v(_),$=function(b,E,I){var T=S(b),P=w(b,E),R,C;return P?P.value=I:(T.last=P={index:C=c(E,!0),key:E,value:I,previous:R=T.last,next:null,removed:!1},T.first||(T.first=P),R&&(R.next=P),d?T.size++:b.size++,C!=="F"&&(T.index[C]=P)),b},w=function(b,E){var I=S(b),T=c(E),P;if(T!=="F")return I.index[T];for(P=I.first;P;P=P.next)if(P.key===E)return P};return t(m,{clear:function(){for(var E=this,I=S(E),T=I.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;I.first=I.last=null,I.index=i(null),d?I.size=0:E.size=0},delete:function(b){var E=this,I=S(E),T=w(E,b);if(T){var P=T.next,R=T.previous;delete I.index[T.index],T.removed=!0,R&&(R.next=P),P&&(P.previous=R),I.first===T&&(I.first=P),I.last===T&&(I.last=R),d?I.size--:E.size--}return!!T},forEach:function(E){for(var I=S(this),T=r(E,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:I.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(E){return!!w(this,E)}}),t(m,y?{get:function(E){var I=w(this,E);return I&&I.value},set:function(E,I){return $(this,E===0?0:E,I)}}:{add:function(E){return $(this,E=E===0?0:E,E)}}),d&&e(m,"size",{configurable:!0,get:function(){return S(this).size}}),O},setStrong:function(g,_,y){var p=_+" Iterator",O=v(_),m=v(p);a(g,_,function(S,$){f(this,{type:p,target:S,state:O(S),kind:$,last:null})},function(){for(var S=m(this),$=S.kind,w=S.last;w&&w.removed;)w=w.previous;return!S.target||!(S.last=w=w?w.next:S.state.first)?(S.target=null,u(void 0,!0)):u($==="keys"?w.key:$==="values"?w.value:[w.key,w.value],!1)},y?"entries":"values",!y,!0),l(_)}},jp}var Mq;function t7(){if(Mq)return gq;Mq=1;var i=m1(),e=MF();return i("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),gq}var Aq;function r7(){return Aq||(Aq=1,t7()),pq}var kq={},Lp,Nq;function AF(){return Nq||(Nq=1,Lp=function(i,e){return e===1?function(t,r){return t[i](r)}:function(t,r,n){return t[i](r,n)}}),Lp}var zp,Fq;function i7(){if(Fq)return zp;Fq=1;var i=pt(),e=AF(),t=i("Map");return zp={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},zp}var Bq;function n7(){if(Bq)return kq;Bq=1;var i=H(),e=oe(),t=fr(),r=hr(),n=va(),s=i7(),o=On(),a=se(),u=s.Map,l=s.has,d=s.get,c=s.set,h=e([].push),f=o||a(function(){return u.groupBy("ab",function(v){return v}).get("a").length!==1});return i({target:"Map",stat:!0,forced:o||f},{groupBy:function(g,_){r(g),t(_);var y=new u,p=0;return n(g,function(O){var m=_(O,p++);l(y,m)?h(d(y,m),O):c(y,m,[O])}),y}}),kq}var jq={},Wp,Lq;function s7(){if(Lq)return Wp;Lq=1;var i=oe(),e=Tn(),t=Pt(),r=hr(),n=i("".charAt),s=i("".charCodeAt),o=i("".slice),a=function(u){return function(l,d){var c=t(r(l)),h=e(d),f=c.length,v,g;return h<0||h>=f?u?"":void 0:(v=s(c,h),v<55296||v>56319||h+1===f||(g=s(c,h+1))<56320||g>57343?u?n(c,h):v:u?o(c,h,h+2):(v-55296<<10)+(g-56320)+65536)}};return Wp={codeAt:a(!1),charAt:a(!0)},Wp}var zq;function w1(){if(zq)return jq;zq=1;var i=s7().charAt,e=Pt(),t=wi(),r=f1(),n=v1(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(u){o(this,{type:s,string:e(u),index:0})},function(){var l=a(this),d=l.string,c=l.index,h;return c>=d.length?n(void 0,!0):(h=i(d,c),l.index+=h.length,n(h,!1))}),jq}var Hp,Wq;function o7(){if(Wq)return Hp;Wq=1,Mn(),r7(),n7(),w1();var i=he();return Hp=i.Map,Hp}var Hq={},Gp,Gq;function a7(){return Gq||(Gq=1,Gp={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Gp}var Uq;function An(){if(Uq)return Hq;Uq=1,Mn();var i=a7(),e=we(),t=Ei(),r=Dn();for(var n in i)t(e[n],n),r[n]=r.Array;return Hq}var Up,Vq;function u7(){if(Vq)return Up;Vq=1;var i=o7();return An(),Up=i,Up}var Vp,Kq;function l7(){return Kq||(Kq=1,Vp=u7()),Vp}var d7=l7(),E1=Y(d7);class c7{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Ve(this.options,this.defaultOptions)}setOptions(e){const t=["useDefaultGroups"];if(e!==void 0){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Se(t).call(t,r)===-1){const n=e[r];this.add(r,n)}}}clear(){this._groups=new E1,this._groupNames=[]}get(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this._groups.get(e);if(r===void 0&&t)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const n=this._groupIndex%this._groupNames.length;++this._groupIndex,r={},r.color=this._groups.get(this._groupNames[n]),this._groups.set(e,r)}else{const n=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,r={},r.color=this._defaultGroups[n],this._groups.set(e,r)}return r}add(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}var Yq={},Xq;function h7(){if(Xq)return Yq;Xq=1;var i=H();return i({target:"Number",stat:!0},{isNaN:function(t){return t!==t}}),Yq}var Kp,Zq;function f7(){if(Zq)return Kp;Zq=1,h7();var i=he();return Kp=i.Number.isNaN,Kp}var Yp,Jq;function v7(){if(Jq)return Yp;Jq=1;var i=f7();return Yp=i,Yp}var Xp,Qq;function p7(){return Qq||(Qq=1,Xp=v7()),Xp}var g7=p7(),ub=Y(g7),eC={},Zp,tC;function y7(){if(tC)return Zp;tC=1;var i=we(),e=i.isFinite;return Zp=Number.isFinite||function(r){return typeof r=="number"&&e(r)},Zp}var rC;function m7(){if(rC)return eC;rC=1;var i=H(),e=y7();return i({target:"Number",stat:!0},{isFinite:e}),eC}var Jp,iC;function b7(){if(iC)return Jp;iC=1,m7();var i=he();return Jp=i.Number.isFinite,Jp}var Qp,nC;function _7(){if(nC)return Qp;nC=1;var i=b7();return Qp=i,Qp}var eg,sC;function w7(){return sC||(sC=1,eg=_7()),eg}var E7=w7(),Zr=Y(E7),oC={},aC;function S7(){if(aC)return oC;aC=1;var i=H(),e=It(),t=Hs(),r=se(),n=r(function(){t(1)});return i({target:"Object",stat:!0,forced:n},{keys:function(o){return t(e(o))}}),oC}var tg,uC;function O7(){if(uC)return tg;uC=1,S7();var i=he();return tg=i.Object.keys,tg}var rg,lC;function I7(){if(lC)return rg;lC=1;var i=O7();return rg=i,rg}var ig,dC;function $7(){return dC||(dC=1,ig=I7()),ig}var T7=$7(),Ce=Y(T7),cC={},hC;function P7(){if(hC)return cC;hC=1;var i=H(),e=Ar().some,t=Cn(),r=t("some");return i({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),cC}var ng,fC;function R7(){if(fC)return ng;fC=1,P7();var i=Xe();return ng=i("Array","some"),ng}var sg,vC;function q7(){if(vC)return sg;vC=1;var i=ke(),e=R7(),t=Array.prototype;return sg=function(r){var n=r.some;return r===t||i(t,r)&&n===t.some?e:n},sg}var og,pC;function C7(){if(pC)return og;pC=1;var i=q7();return og=i,og}var ag,gC;function x7(){return gC||(gC=1,ag=C7()),ag}var D7=x7(),M7=Y(D7),yC={},mC={},ug,bC;function kF(){if(bC)return ug;bC=1;var i=we(),e=wn(),t=Vt(),r=function(n){return e.slice(0,n.length)===n};return ug=function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":i.Bun&&typeof Bun.version=="string"?"BUN":i.Deno&&typeof Deno.version=="object"?"DENO":t(i.process)==="process"?"NODE":i.window&&i.document?"BROWSER":"REST"}(),ug}var lg,_C;function A7(){if(_C)return lg;_C=1;var i=TypeError;return lg=function(e,t){if(e<t)throw new i("Not enough arguments");return e},lg}var dg,wC;function NF(){if(wC)return dg;wC=1;var i=we(),e=Qo(),t=We(),r=kF(),n=wn(),s=Pn(),o=A7(),a=i.Function,u=/MSIE .\./.test(n)||r==="BUN"&&function(){var l=i.Bun.version.split(".");return l.length<3||l[0]==="0"&&(l[1]<3||l[1]==="3"&&l[2]==="0")}();return dg=function(l,d){var c=d?2:1;return u?function(h,f){var v=o(arguments.length,1)>c,g=t(h)?h:a(h),_=v?s(arguments,c):[],y=v?function(){e(g,this,_)}:g;return d?l(y,f):l(y)}:l},dg}var EC;function k7(){if(EC)return mC;EC=1;var i=H(),e=we(),t=NF(),r=t(e.setInterval,!0);return i({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),mC}var SC={},OC;function N7(){if(OC)return SC;OC=1;var i=H(),e=we(),t=NF(),r=t(e.setTimeout,!0);return i({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),SC}var IC;function FF(){return IC||(IC=1,k7(),N7()),yC}var cg,$C;function F7(){if($C)return cg;$C=1,FF();var i=he();return cg=i.setTimeout,cg}var hg,TC;function B7(){return TC||(TC=1,hg=F7()),hg}var j7=B7(),Hi=Y(j7),fg={exports:{}},PC={},RC;function L7(){if(RC)return PC;RC=1;var i=H(),e=Pe(),t=$t().f;return i({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),PC}var qC;function z7(){if(qC)return fg.exports;qC=1,L7();var i=he(),e=i.Object,t=fg.exports=function(n,s,o){return e.defineProperty(n,s,o)};return e.defineProperty.sham&&(t.sham=!0),fg.exports}var vg,CC;function BF(){if(CC)return vg;CC=1;var i=z7();return vg=i,vg}var pg,xC;function W7(){if(xC)return pg;xC=1;var i=BF();return pg=i,pg}var gg,DC;function H7(){if(DC)return gg;DC=1;var i=W7();return gg=i,gg}var yg,MC;function G7(){return MC||(MC=1,yg=H7()),yg}var U7=G7(),V7=Y(U7),AC={},kC={},mg={},NC;function pa(){if(NC)return mg;NC=1;var i=Ne();return mg.f=i,mg}var bg,FC;function Ie(){if(FC)return bg;FC=1;var i=he(),e=Ye(),t=pa(),r=$t().f;return bg=function(n){var s=i.Symbol||(i.Symbol={});e(s,n)||r(s,n,{value:t.f(n)})},bg}var _g,BC;function jF(){if(BC)return _g;BC=1;var i=ft(),e=pt(),t=Ne(),r=Js();return _g=function(){var n=e("Symbol"),s=n&&n.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(u){return i(o,this)},{arity:1})},_g}var jC;function K7(){if(jC)return kC;jC=1;var i=H(),e=we(),t=ft(),r=oe(),n=On(),s=Pe(),o=En(),a=se(),u=Ye(),l=ke(),d=Kt(),c=Bt(),h=Kb(),f=Pt(),v=js(),g=Xs(),_=Hs(),y=ha(),p=p1(),O=oa(),m=ia(),S=$t(),$=a1(),w=ea(),b=Js(),E=b1(),I=In(),T=da(),P=Ws(),R=ra(),C=Ne(),M=pa(),K=Ie(),j=jF(),J=Ei(),te=wi(),ce=Ar().forEach,W=T("hidden"),ue="Symbol",fe="prototype",Ee=te.set,Rt=te.getterFor(ue),me=Object[fe],Qe=e.Symbol,qt=Qe&&Qe[fe],ba=e.RangeError,_a=e.TypeError,Fr=e.QObject,kn=m.f,et=S.f,Nn=p.f,wa=w.f,Fn=r([].push),Fe=I("symbols"),Ct=I("op-symbols"),Ea=I("wks"),Br=!Fr||!Fr[fe]||!Fr[fe].findChild,Bn=function(G,N,F){var B=kn(me,N);B&&delete me[N],et(G,N,F),B&&G!==me&&et(me,N,B)},jr=s&&a(function(){return g(et({},"a",{get:function(){return et(this,"a",{value:7}).a}})).a!==7})?Bn:et,Lr=function(G,N){var F=Fe[G]=g(qt);return Ee(F,{type:ue,tag:G,description:N}),s||(F.description=N),F},Yt=function(N,F,B){N===me&&Yt(Ct,F,B),d(N);var U=h(F);return d(B),u(Fe,U)?(B.enumerable?(u(N,W)&&N[W][U]&&(N[W][U]=!1),B=g(B,{enumerable:v(0,!1)})):(u(N,W)||et(N,W,v(1,g(null))),N[W][U]=!0),jr(N,U,B)):et(N,U,B)},zr=function(N,F){d(N);var B=c(F),U=_(B).concat(zn(B));return ce(U,function(le){(!s||t(Wr,B,le))&&Yt(N,le,B[le])}),N},Sa=function(N,F){return F===void 0?g(N):zr(g(N),F)},Wr=function(N){var F=h(N),B=t(wa,this,F);return this===me&&u(Fe,F)&&!u(Ct,F)?!1:B||!u(this,F)||!u(Fe,F)||u(this,W)&&this[W][F]?B:!0},jn=function(N,F){var B=c(N),U=h(F);if(!(B===me&&u(Fe,U)&&!u(Ct,U))){var le=kn(B,U);return le&&u(Fe,U)&&!(u(B,W)&&B[W][U])&&(le.enumerable=!0),le}},Ln=function(N){var F=Nn(c(N)),B=[];return ce(F,function(U){!u(Fe,U)&&!u(P,U)&&Fn(B,U)}),B},zn=function(G){var N=G===me,F=Nn(N?Ct:c(G)),B=[];return ce(F,function(U){u(Fe,U)&&(!N||u(me,U))&&Fn(B,Fe[U])}),B};return o||(Qe=function(){if(l(qt,this))throw new _a("Symbol is not a constructor");var N=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),F=R(N),B=function(U){var le=this===void 0?e:this;le===me&&t(B,Ct,U),u(le,W)&&u(le[W],F)&&(le[W][F]=!1);var Wn=v(1,U);try{jr(le,F,Wn)}catch(Hn){if(!(Hn instanceof ba))throw Hn;Bn(le,F,Wn)}};return s&&Br&&jr(me,F,{configurable:!0,set:B}),Lr(F,N)},qt=Qe[fe],b(qt,"toString",function(){return Rt(this).tag}),b(Qe,"withoutSetter",function(G){return Lr(R(G),G)}),w.f=Wr,S.f=Yt,$.f=zr,m.f=jn,y.f=p.f=Ln,O.f=zn,M.f=function(G){return Lr(C(G),G)},s&&(E(qt,"description",{configurable:!0,get:function(){return Rt(this).description}}),n||b(me,"propertyIsEnumerable",Wr,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:Qe}),ce(_(Ea),function(G){K(G)}),i({target:ue,stat:!0,forced:!o},{useSetter:function(){Br=!0},useSimple:function(){Br=!1}}),i({target:"Object",stat:!0,forced:!o,sham:!s},{create:Sa,defineProperty:Yt,defineProperties:zr,getOwnPropertyDescriptor:jn}),i({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:Ln}),j(),J(Qe,ue),P[W]=!0,kC}var LC={},wg,zC;function LF(){if(zC)return wg;zC=1;var i=En();return wg=i&&!!Symbol.for&&!!Symbol.keyFor,wg}var WC;function Y7(){if(WC)return LC;WC=1;var i=H(),e=pt(),t=Ye(),r=Pt(),n=In(),s=LF(),o=n("string-to-symbol-registry"),a=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{for:function(u){var l=r(u);if(t(o,l))return o[l];var d=e("Symbol")(l);return o[l]=d,a[d]=l,d}}),LC}var HC={},GC;function X7(){if(GC)return HC;GC=1;var i=H(),e=Ye(),t=zs(),r=Sn(),n=In(),s=LF(),o=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!t(u))throw new TypeError(r(u)+" is not a symbol");if(e(o,u))return o[u]}}),HC}var UC={},Eg,VC;function Z7(){if(VC)return Eg;VC=1;var i=oe(),e=_i(),t=We(),r=Vt(),n=Pt(),s=i([].push);return Eg=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,u=[],l=0;l<a;l++){var d=o[l];typeof d=="string"?s(u,d):(typeof d=="number"||r(d)==="Number"||r(d)==="String")&&s(u,n(d))}var c=u.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var g=0;g<c;g++)if(u[g]===f)return v}}},Eg}var KC;function zF(){if(KC)return UC;KC=1;var i=H(),e=pt(),t=Qo(),r=ft(),n=oe(),s=se(),o=We(),a=zs(),u=Pn(),l=Z7(),d=En(),c=String,h=e("JSON","stringify"),f=n(/./.exec),v=n("".charAt),g=n("".charCodeAt),_=n("".replace),y=n(1.1.toString),p=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,S=!d||s(function(){var E=e("Symbol")("stringify detection");return h([E])!=="[null]"||h({a:E})!=="{}"||h(Object(E))!=="{}"}),$=s(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),w=function(E,I){var T=u(arguments),P=l(I);if(!(!o(P)&&(E===void 0||a(E))))return T[1]=function(R,C){if(o(P)&&(C=r(P,this,c(R),C)),!a(C))return C},t(h,null,T)},b=function(E,I,T){var P=v(T,I-1),R=v(T,I+1);return f(O,E)&&!f(m,R)||f(m,E)&&!f(O,P)?"\\u"+y(g(E,0),16):E};return h&&i({target:"JSON",stat:!0,arity:3,forced:S||$},{stringify:function(I,T,P){var R=u(arguments),C=t(S?w:h,null,R);return $&&typeof C=="string"?_(C,p,b):C}}),UC}var YC={},XC;function J7(){if(XC)return YC;XC=1;var i=H(),e=En(),t=se(),r=oa(),n=It(),s=!e||t(function(){r.f(1)});return i({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var u=r.f;return u?u(n(a)):[]}}),YC}var ZC;function WF(){return ZC||(ZC=1,K7(),Y7(),X7(),zF(),J7()),AC}var JC={},QC;function HF(){if(QC)return JC;QC=1;var i=Ie();return i("asyncDispose"),JC}var ex={},tx;function Q7(){if(tx)return ex;tx=1;var i=Ie();return i("asyncIterator"),ex}var rx={},ix;function GF(){if(ix)return rx;ix=1;var i=Ie();return i("dispose"),rx}var nx={},sx;function eG(){if(sx)return nx;sx=1;var i=Ie();return i("hasInstance"),nx}var ox={},ax;function tG(){if(ax)return ox;ax=1;var i=Ie();return i("isConcatSpreadable"),ox}var ux={},lx;function UF(){if(lx)return ux;lx=1;var i=Ie();return i("iterator"),ux}var dx={},cx;function rG(){if(cx)return dx;cx=1;var i=Ie();return i("match"),dx}var hx={},fx;function iG(){if(fx)return hx;fx=1;var i=Ie();return i("matchAll"),hx}var vx={},px;function nG(){if(px)return vx;px=1;var i=Ie();return i("replace"),vx}var gx={},yx;function sG(){if(yx)return gx;yx=1;var i=Ie();return i("search"),gx}var mx={},bx;function oG(){if(bx)return mx;bx=1;var i=Ie();return i("species"),mx}var _x={},wx;function aG(){if(wx)return _x;wx=1;var i=Ie();return i("split"),_x}var Ex={},Sx;function VF(){if(Sx)return Ex;Sx=1;var i=Ie(),e=jF();return i("toPrimitive"),e(),Ex}var Ox={},Ix;function uG(){if(Ix)return Ox;Ix=1;var i=pt(),e=Ie(),t=Ei();return e("toStringTag"),t(i("Symbol"),"Symbol"),Ox}var $x={},Tx;function lG(){if(Tx)return $x;Tx=1;var i=Ie();return i("unscopables"),$x}var Px={},Rx;function dG(){if(Rx)return Px;Rx=1;var i=we(),e=Ei();return e(i.JSON,"JSON",!0),Px}var Sg,qx;function cG(){if(qx)return Sg;qx=1,RF(),WF(),HF(),Q7(),GF(),eG(),tG(),UF(),rG(),iG(),nG(),sG(),oG(),aG(),VF(),uG(),lG(),dG();var i=he();return Sg=i.Symbol,Sg}var Og,Cx;function hG(){if(Cx)return Og;Cx=1;var i=cG();return An(),Og=i,Og}var xx={},Dx;function fG(){if(Dx)return xx;Dx=1;var i=Ne(),e=$t().f,t=i("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),xx}var Mx={},Ax;function vG(){return Ax||(Ax=1,HF()),Mx}var kx={},Nx;function pG(){return Nx||(Nx=1,GF()),kx}var Fx={},Bx;function gG(){if(Bx)return Fx;Bx=1;var i=Ie();return i("metadata"),Fx}var Ig,jx;function yG(){if(jx)return Ig;jx=1;var i=hG();return fG(),vG(),pG(),gG(),Ig=i,Ig}var Lx={},$g,zx;function KF(){if(zx)return $g;zx=1;var i=pt(),e=oe(),t=i("Symbol"),r=t.keyFor,n=e(t.prototype.valueOf);return $g=t.isRegisteredSymbol||function(o){try{return r(n(o))!==void 0}catch{return!1}},$g}var Wx;function mG(){if(Wx)return Lx;Wx=1;var i=H(),e=KF();return i({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Lx}var Hx={},Tg,Gx;function YF(){if(Gx)return Tg;Gx=1;for(var i=In(),e=pt(),t=oe(),r=zs(),n=Ne(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),u=t(s.prototype.valueOf),l=i("wks"),d=0,c=a(s),h=c.length;d<h;d++)try{var f=c[d];r(s[f])&&n(f)}catch{}return Tg=function(g){if(o&&o(g))return!0;try{for(var _=u(g),y=0,p=a(l),O=p.length;y<O;y++)if(l[p[y]]==_)return!0}catch{}return!1},Tg}var Ux;function bG(){if(Ux)return Hx;Ux=1;var i=H(),e=YF();return i({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Hx}var Vx={},Kx;function _G(){if(Kx)return Vx;Kx=1;var i=Ie();return i("customMatcher"),Vx}var Yx={},Xx;function wG(){if(Xx)return Yx;Xx=1;var i=Ie();return i("observable"),Yx}var Zx={},Jx;function EG(){if(Jx)return Zx;Jx=1;var i=H(),e=KF();return i({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Zx}var Qx={},e2;function SG(){if(e2)return Qx;e2=1;var i=H(),e=YF();return i({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Qx}var t2={},r2;function OG(){if(r2)return t2;r2=1;var i=Ie();return i("matcher"),t2}var i2={},n2;function IG(){if(n2)return i2;n2=1;var i=Ie();return i("metadataKey"),i2}var s2={},o2;function $G(){if(o2)return s2;o2=1;var i=Ie();return i("patternMatch"),s2}var a2={},u2;function TG(){if(u2)return a2;u2=1;var i=Ie();return i("replaceAll"),a2}var Pg,l2;function PG(){if(l2)return Pg;l2=1;var i=yG();return mG(),bG(),_G(),wG(),EG(),SG(),OG(),IG(),$G(),TG(),Pg=i,Pg}var Rg,d2;function RG(){return d2||(d2=1,Rg=PG()),Rg}var qG=RG(),po=Y(qG),qg,c2;function CG(){if(c2)return qg;c2=1,Mn(),w1(),UF();var i=pa();return qg=i.f("iterator"),qg}var Cg,h2;function xG(){if(h2)return Cg;h2=1;var i=CG();return An(),Cg=i,Cg}var xg,f2;function DG(){if(f2)return xg;f2=1;var i=xG();return xg=i,xg}var Dg,v2;function MG(){if(v2)return Dg;v2=1;var i=DG();return Dg=i,Dg}var Mg,p2;function AG(){return p2||(p2=1,Mg=MG()),Mg}var kG=AG(),NG=Y(kG);function _s(i){"@babel/helpers - typeof";return _s=typeof po=="function"&&typeof NG=="symbol"?function(e){return typeof e}:function(e){return e&&typeof po=="function"&&e.constructor===po&&e!==po.prototype?"symbol":typeof e},_s(i)}var Ag,g2;function FG(){if(g2)return Ag;g2=1,VF();var i=pa();return Ag=i.f("toPrimitive"),Ag}var kg,y2;function BG(){if(y2)return kg;y2=1;var i=FG();return kg=i,kg}var Ng,m2;function jG(){if(m2)return Ng;m2=1;var i=BG();return Ng=i,Ng}var Fg,b2;function LG(){if(b2)return Fg;b2=1;var i=jG();return Fg=i,Fg}var Bg,_2;function zG(){return _2||(_2=1,Bg=LG()),Bg}var WG=zG(),HG=Y(WG);function GG(i,e){if(_s(i)!="object"||!i)return i;var t=i[HG];if(t!==void 0){var r=t.call(i,e);if(_s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function UG(i){var e=GG(i,"string");return _s(e)=="symbol"?e:e+""}function er(i,e,t){return(e=UG(e))in i?V7(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var w2={},jg,E2;function S1(){return E2||(E2=1,jg=`	
\v\f\r Â áââââââââââââ¯âã\u2028\u2029\uFEFF`),jg}var Lg,S2;function XF(){if(S2)return Lg;S2=1;var i=oe(),e=hr(),t=Pt(),r=S1(),n=i("".replace),s=RegExp("^["+r+"]+"),o=RegExp("(^|[^"+r+"])["+r+"]+$"),a=function(u){return function(l){var d=t(e(l));return u&1&&(d=n(d,s,"")),u&2&&(d=n(d,o,"$1")),d}};return Lg={start:a(1),end:a(2),trim:a(3)},Lg}var zg,O2;function VG(){if(O2)return zg;O2=1;var i=we(),e=se(),t=oe(),r=Pt(),n=XF().trim,s=S1(),o=i.parseInt,a=i.Symbol,u=a&&a.iterator,l=/^[+-]?0x/i,d=t(l.exec),c=o(s+"08")!==8||o(s+"0x16")!==22||u&&!e(function(){o(Object(u))});return zg=c?function(f,v){var g=n(r(f));return o(g,v>>>0||(d(l,g)?16:10))}:o,zg}var I2;function KG(){if(I2)return w2;I2=1;var i=H(),e=VG();return i({global:!0,forced:parseInt!==e},{parseInt:e}),w2}var Wg,$2;function YG(){if($2)return Wg;$2=1,KG();var i=he();return Wg=i.parseInt,Wg}var Hg,T2;function XG(){if(T2)return Hg;T2=1;var i=YG();return Hg=i,Hg}var Gg,P2;function ZG(){return P2||(P2=1,Gg=XG()),Gg}var JG=ZG(),R2=Y(JG),q2={},Ug,C2;function QG(){if(C2)return Ug;C2=1;var i=we(),e=se(),t=oe(),r=Pt(),n=XF().trim,s=S1(),o=t("".charAt),a=i.parseFloat,u=i.Symbol,l=u&&u.iterator,d=1/a(s+"-0")!==-1/0||l&&!e(function(){a(Object(l))});return Ug=d?function(h){var f=n(r(h)),v=a(f);return v===0&&o(f,0)==="-"?-0:v}:a,Ug}var x2;function eU(){if(x2)return q2;x2=1;var i=H(),e=QG();return i({global:!0,forced:parseFloat!==e},{parseFloat:e}),q2}var Vg,D2;function tU(){if(D2)return Vg;D2=1,eU();var i=he();return Vg=i.parseFloat,Vg}var Kg,M2;function rU(){if(M2)return Kg;M2=1;var i=tU();return Kg=i,Kg}var Yg,A2;function iU(){return A2||(A2=1,Yg=rU()),Yg}var nU=iU(),ZF=Y(nU),k2={},N2;function sU(){if(N2)return k2;N2=1;var i=H(),e=Ar().filter,t=Zs(),r=t("filter");return i({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),k2}var Xg,F2;function oU(){if(F2)return Xg;F2=1,sU();var i=Xe();return Xg=i("Array","filter"),Xg}var Zg,B2;function aU(){if(B2)return Zg;B2=1;var i=ke(),e=oU(),t=Array.prototype;return Zg=function(r){var n=r.filter;return r===t||i(t,r)&&n===t.filter?e:n},Zg}var Jg,j2;function uU(){if(j2)return Jg;j2=1;var i=aU();return Jg=i,Jg}var Qg,L2;function lU(){return L2||(L2=1,Qg=uU()),Qg}var dU=lU(),pr=Y(dU),z2={},W2;function cU(){if(W2)return z2;W2=1;var i=H(),e=se(),t=p1().f,r=e(function(){return!Object.getOwnPropertyNames(1)});return i({target:"Object",stat:!0,forced:r},{getOwnPropertyNames:t}),z2}var ey,H2;function hU(){if(H2)return ey;H2=1,cU();var i=he(),e=i.Object;return ey=function(r){return e.getOwnPropertyNames(r)},ey}var ty,G2;function fU(){if(G2)return ty;G2=1;var i=hU();return ty=i,ty}var ry,U2;function vU(){return U2||(U2=1,ry=fU()),ry}var pU=vU(),gU=Y(pU),iy,V2;function yU(){if(V2)return iy;V2=1,WF();var i=he();return iy=i.Object.getOwnPropertySymbols,iy}var ny,K2;function mU(){if(K2)return ny;K2=1;var i=yU();return ny=i,ny}var sy,Y2;function bU(){return Y2||(Y2=1,sy=mU()),sy}var _U=bU(),Tr=Y(_U),oy={exports:{}},X2={},Z2;function wU(){if(Z2)return X2;Z2=1;var i=H(),e=se(),t=Bt(),r=ia().f,n=Pe(),s=!n||e(function(){r(1)});return i({target:"Object",stat:!0,forced:s,sham:!n},{getOwnPropertyDescriptor:function(a,u){return r(t(a),u)}}),X2}var J2;function EU(){if(J2)return oy.exports;J2=1,wU();var i=he(),e=i.Object,t=oy.exports=function(n,s){return e.getOwnPropertyDescriptor(n,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),oy.exports}var ay,Q2;function SU(){if(Q2)return ay;Q2=1;var i=EU();return ay=i,ay}var uy,eD;function OU(){return eD||(eD=1,uy=SU()),uy}var IU=OU(),kr=Y(IU),tD={},ly,rD;function $U(){if(rD)return ly;rD=1;var i=pt(),e=oe(),t=ha(),r=oa(),n=Kt(),s=e([].concat);return ly=i("Reflect","ownKeys")||function(a){var u=t.f(n(a)),l=r.f;return l?s(u,l(a)):u},ly}var iD;function TU(){if(iD)return tD;iD=1;var i=H(),e=Pe(),t=$U(),r=Bt(),n=ia(),s=ca();return i({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var u=r(a),l=n.f,d=t(u),c={},h=0,f,v;d.length>h;)v=l(u,f=d[h++]),v!==void 0&&s(c,f,v);return c}}),tD}var dy,nD;function PU(){if(nD)return dy;nD=1,TU();var i=he();return dy=i.Object.getOwnPropertyDescriptors,dy}var cy,sD;function RU(){if(sD)return cy;sD=1;var i=PU();return cy=i,cy}var hy,oD;function qU(){return oD||(oD=1,hy=RU()),hy}var CU=qU(),Pr=Y(CU),fy={exports:{}},aD={},uD;function xU(){if(uD)return aD;uD=1;var i=H(),e=Pe(),t=a1().f;return i({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),aD}var lD;function DU(){if(lD)return fy.exports;lD=1,xU();var i=he(),e=i.Object,t=fy.exports=function(n,s){return e.defineProperties(n,s)};return e.defineProperties.sham&&(t.sham=!0),fy.exports}var vy,dD;function MU(){if(dD)return vy;dD=1;var i=DU();return vy=i,vy}var py,cD;function AU(){return cD||(cD=1,py=MU()),py}var kU=AU(),ga=Y(kU),gy,hD;function NU(){return hD||(hD=1,gy=BF()),gy}var FU=NU(),ya=Y(FU);function O1(i,e){const t=["node","edge","label"];let r=!0;const n=yr(e,"chosen");if(typeof n=="boolean")r=n;else if(typeof n=="object"){if(Se(t).call(t,i)===-1)throw new Error("choosify: subOption '"+i+"' should be one of '"+t.join("', '")+"'");const s=yr(e,["chosen",i]);(typeof s=="boolean"||typeof s=="function")&&(r=s)}return r}function lb(i,e,t){if(i.width<=0||i.height<=0)return!1;if(t!==void 0){const s={x:e.x-t.x,y:e.y-t.y};if(t.angle!==0){const o=-t.angle;e={x:Math.cos(o)*s.x-Math.sin(o)*s.y,y:Math.sin(o)*s.x+Math.cos(o)*s.y}}else e=s}const r=i.x+i.width,n=i.y+i.width;return i.left<e.x&&r>e.x&&i.top<e.y&&n>e.y}function Mo(i){return typeof i=="string"&&i!==""}function JF(i,e,t,r){let n=r.x,s=r.y;if(typeof r.distanceToBorder=="function"){const o=r.distanceToBorder(i,e),a=Math.sin(e)*o,u=Math.cos(e)*o;u===o?(n+=o,s=r.y):a===o?(n=r.x,s-=o):(n+=u,s-=a)}else r.shape.width>r.shape.height?(n=r.x+r.shape.width*.5,s=r.y-t):(n=r.x+t,s=r.y-r.shape.height*.5);return{x:n,y:s}}var fD={},vD;function BU(){if(vD)return fD;vD=1;var i=H(),e=_i(),t=_F(),r=He(),n=sa(),s=vr(),o=Bt(),a=ca(),u=Ne(),l=Zs(),d=Pn(),c=l("slice"),h=u("species"),f=Array,v=Math.max;return i({target:"Array",proto:!0,forced:!c},{slice:function(_,y){var p=o(this),O=s(p),m=n(_,O),S=n(y===void 0?O:y,O),$,w,b;if(e(p)&&($=p.constructor,t($)&&($===f||e($.prototype))?$=void 0:r($)&&($=$[h],$===null&&($=void 0)),$===f||$===void 0))return d(p,m,S);for(w=new($===void 0?f:$)(v(S-m,0)),b=0;m<S;m++,b++)m in p&&a(w,b,p[m]);return w.length=b,w}}),fD}var yy,pD;function jU(){if(pD)return yy;pD=1,BU();var i=Xe();return yy=i("Array","slice"),yy}var my,gD;function LU(){if(gD)return my;gD=1;var i=ke(),e=jU(),t=Array.prototype;return my=function(r){var n=r.slice;return r===t||i(t,r)&&n===t.slice?e:n},my}var by,yD;function zU(){if(yD)return by;yD=1;var i=LU();return by=i,by}var _y,mD;function WU(){return mD||(mD=1,_y=zU()),_y}var HU=WU(),Ai=Y(HU),wy,bD;function GU(){if(bD)return wy;bD=1,Mn();var i=Xe();return wy=i("Array","values"),wy}var Ey,_D;function UU(){if(_D)return Ey;_D=1;var i=GU();return Ey=i,Ey}var Sy,wD;function VU(){if(wD)return Sy;wD=1,An();var i=xn(),e=Ye(),t=ke(),r=UU(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Sy=function(o){var a=o.values;return o===n||t(n,o)&&a===n.values||e(s,i(o))?r:a},Sy}var Oy,ED;function KU(){return ED||(ED=1,Oy=VU()),Oy}var YU=KU(),QF=Y(YU);class XU{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let n=t;(t===void 0||t==="")&&(n=" ");const s=this.measureText(n,r),o=Ve({},QF(s));o.text=t,o.width=s.width,o.mod=r,(t===void 0||t==="")&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t)}newLine(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const t=this.lines[e];let r=0;if(t.blocks!==void 0)for(let n=0;n<t.blocks.length;n++){const s=t.blocks[n];r<s.height&&(r=s.height)}t.height=r}}determineLabelSize(){let e=0,t=0;for(let r=0;r<this.lines.length;r++){const n=this.lines[r];n.width>e&&(e=n.width),t+=n.height}this.width=e,this.height=t}removeEmptyBlocks(){const e=[];for(let t=0;t<this.lines.length;t++){const r=this.lines[t];if(r.blocks.length===0||t===this.lines.length-1&&r.width===0)continue;const n={};Ve(n,r),n.blocks=[];let s;const o=[];for(let a=0;a<r.blocks.length;a++){const u=r.blocks[a];u.width!==0?o.push(u):s===void 0&&(s=u)}o.length===0&&s!==void 0&&o.push(s),n.blocks=o,e.push(n)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const ZU={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class SD{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,t){return!this.mono&&!this[e]&&this.match(t)?(this.setTag(e),!0):!1}match(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[r,n]=this.prepareRegExp(e),s=r.test(this.text.substr(this.position,n));return s&&t&&(this.position+=n-1),s}parseEndTag(e,t,r){let n=this.mod()===e;return e==="mono"?n=n&&this.mono:n=n&&!this.mono,n&&this.match(t)?(r!==void 0?(this.position===this.text.length-1||this.match(r,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,t){return this.match(e)?(this.add(t),this.position+=length-1,!0):!1}prepareRegExp(e){let t,r;if(e instanceof RegExp)r=e,t=1;else{const n=ZU[e];n!==void 0?r=n:r=new RegExp(e),t=e.length}return[r,t]}}class JU{constructor(e,t,r,n){this.ctx=e,this.parent=t,this.selected=r,this.hover=n;const s=(o,a)=>{if(o===void 0)return 0;const u=this.parent.getFormattingValues(e,r,n,a);let l=0;return o!==""&&(l=this.ctx.measureText(o).width),{width:l,values:u}};this.lines=new XU(s)}process(e){if(!Mo(e))return this.lines.finalize();const t=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const r=String(e).split(`
`),n=r.length;if(t.multi)for(let s=0;s<n;s++){const o=this.splitBlocks(r[s],t.multi);if(o!==void 0){if(o.length===0){this.lines.newLine("");continue}if(t.maxWdt>0)for(let a=0;a<o.length;a++){const u=o[a].mod,l=o[a].text;this.splitStringIntoLines(l,u,!0)}else for(let a=0;a<o.length;a++){const u=o[a].mod,l=o[a].text;this.lines.append(l,u)}this.lines.newLine()}}else if(t.maxWdt>0)for(let s=0;s<n;s++)this.splitStringIntoLines(r[s]);else for(let s=0;s<n;s++)this.lines.newLine(r[s]);return this.lines.finalize()}decodeMarkupSystem(e){let t="none";return e==="markdown"||e==="md"?t="markdown":(e===!0||e==="html")&&(t="html"),t}splitHtmlBlocks(e){const t=new SD(e),r=n=>/&/.test(n)?(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0):!1;for(;t.position<t.text.length;){const n=t.text.charAt(t.position);t.parseWS(n)||/</.test(n)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||r(n)||t.add(n),t.position++}return t.emitBlock(),t.blocks}splitMarkdownBlocks(e){const t=new SD(e);let r=!0;const n=s=>/\\/.test(s)?(t.position<this.text.length+1&&(t.position++,s=this.text.charAt(t.position),/ \t/.test(s)?t.spacing=!0:(t.add(s),r=!1)),!0):!1;for(;t.position<t.text.length;){const s=t.text.charAt(t.position);t.parseWS(s)||n(s)||(r||t.spacing)&&(t.parseStartTag("bold","*")||t.parseStartTag("ital","_")||t.parseStartTag("mono","`"))||t.parseEndTag("bold","*","afterBold")||t.parseEndTag("ital","_","afterItal")||t.parseEndTag("mono","`","afterMono")||(t.add(s),r=!1),t.position++}return t.emitBlock(),t.blocks}splitBlocks(e,t){const r=this.decodeMarkupSystem(t);if(r==="none")return[{text:e,mod:"normal"}];if(r==="markdown")return this.splitMarkdownBlocks(e);if(r==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}getLongestFit(e){let t="",r=0;for(;r<e.length;){const s=t+(t===""?"":" ")+e[r];if(this.overMaxWidth(s))break;t=s,r++}return r}getLongestFitWord(e){let t=0;for(;t<e.length&&!this.overMaxWidth(Ai(e).call(e,0,t));)t++;return t}splitStringIntoLines(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let n=e.split("\r");for(;n.length>0;){let s=this.getLongestFit(n);if(s===0){const o=n[0],a=this.getLongestFitWord(o);this.lines.newLine(Ai(o).call(o,0,a),t),n[0]=Ai(o).call(o,a)}else{let o=s;n[s-1]===" "?s--:n[o]===" "&&o++;const a=Ai(n).call(n,0,s).join("");s==n.length&&r?this.lines.append(a,t):this.lines.newLine(a,t),n=Ai(n).call(n,o)}}}}const Kn=["bold","ital","boldital","mono"];class Gi{constructor(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Mo(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const t=e.font.size;t!==void 0&&(this.baseSize=t)}}}initFontOptions(e){if(ie(Kn,t=>{this.fontOptions[t]={}}),Gi.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}ie(e,(t,r)=>{t!=null&&typeof t!="object"&&(this.fontOptions[r]=t)})}static parseFontString(e,t){if(!t||typeof t!="string")return!1;const r=t.split(" ");return e.size=+r[0].replace("px",""),e.face=r[1],e.color=r[2],!0}constrain(e){const t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},r=yr(e,"widthConstraint");if(typeof r=="number")t.maxWdt=Number(r),t.minWdt=Number(r);else if(typeof r=="object"){const s=yr(e,["widthConstraint","maximum"]);typeof s=="number"&&(t.maxWdt=Number(s));const o=yr(e,["widthConstraint","minimum"]);typeof o=="number"&&(t.minWdt=Number(o))}const n=yr(e,"heightConstraint");if(typeof n=="number")t.minHgt=Number(n);else if(typeof n=="object"){const s=yr(e,["heightConstraint","minimum"]);typeof s=="number"&&(t.minHgt=Number(s));const o=yr(e,["heightConstraint","valign"]);typeof o=="string"&&(o==="top"||o==="bottom")&&(t.valign=o)}return t}update(e,t){this.setOptions(e,!0),this.propagateFonts(t),pe(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=O1("label",t)}adjustSizes(e){const t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);const r=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=r)}addFontOptionsToPile(e,t){for(let r=0;r<t.length;++r)this.addFontToPile(e,t[r])}addFontToPile(e,t){if(t===void 0||t.font===void 0||t.font===null)return;const r=t.font;e.push(r)}getBasicOptions(e){const t={};for(let r=0;r<e.length;++r){let n=e[r];const s={};Gi.parseFontString(s,n)&&(n=s),ie(n,(o,a)=>{o!==void 0&&(Object.prototype.hasOwnProperty.call(t,a)||(Se(Kn).call(Kn,a)!==-1?t[a]={}:t[a]=o))})}return t}getFontOption(e,t,r){let n;for(let s=0;s<e.length;++s){const o=e[s];if(Object.prototype.hasOwnProperty.call(o,t)){if(n=o[t],n==null)continue;const a={};if(Gi.parseFontString(a,n)&&(n=a),Object.prototype.hasOwnProperty.call(n,r))return n[r]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,r))return this.fontOptions[r];throw new Error("Did not find value for multi-font for property: '"+r+"'")}getFontOptions(e,t){const r={},n=["color","size","face","mod","vadjust"];for(let s=0;s<n.length;++s){const o=n[s];r[o]=this.getFontOption(e,t,o)}return r}propagateFonts(e){const t=[];this.addFontOptionsToPile(t,e),this.fontOptions=this.getBasicOptions(t);for(let r=0;r<Kn.length;++r){const n=Kn[r],s=this.fontOptions[n],o=this.getFontOptions(t,n);ie(o,(a,u)=>{s[u]=a}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,t,r,n,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,n,s,t,r,o),this._drawBackground(e),this._drawText(e,t,this.size.yLine,o,a))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}_drawText(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[t,r]=this._setAlignment(e,t,r,n),e.textAlign="left",t=t-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(r-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(r+=(this.size.height-this.size.labelHeight)/2));for(let o=0;o<this.lineCount;o++){const a=this.lines[o];if(a&&a.blocks){let u=0;this.isEdgeLabel||this.fontOptions.align==="center"?u+=(this.size.width-a.width)/2:this.fontOptions.align==="right"&&(u+=this.size.width-a.width);for(let l=0;l<a.blocks.length;l++){const d=a.blocks[l];e.font=d.font;const[c,h]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=h,e.lineJoin="round"),e.fillStyle=c,d.strokeWidth>0&&e.strokeText(d.text,t+u,r+d.vadjust),e.fillText(d.text,t+u,r+d.vadjust),u+=d.width}r+=a.height}}}_setAlignment(e,t,r,n){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){t=0,r=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",r-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",r+=2*s):e.textBaseline="middle"}else e.textBaseline=n;return[t,r]}_getColor(e,t,r){let n=e||"#000000",s=r||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){const o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));n=yt(n,o),s=yt(s,o)}return[n,s]}getTextSize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,t,r),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let t=this.size.left,r=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":t=s,r=-this.size.height*.5;break;case"top":t=s,r=-(this.size.height+2);break;case"bottom":t=s,r=2;break}}return{left:t,top:r,width:this.size.width,height:this.size.height}}calculateLabelSize(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,t,r),this.size.left=n-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,o==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,t,r,n){const s=function(u,l,d){return l==="normal"?d==="mod"?"":u[d]:u[l][d]!==void 0?u[l][d]:u[d]},o={color:s(this.fontOptions,n,"color"),size:s(this.fontOptions,n,"size"),face:s(this.fontOptions,n,"face"),mod:s(this.fontOptions,n,"mod"),vadjust:s(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||r)&&(n==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?o.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(o,this.elementOptions.id,t,r));let a="";return o.mod!==void 0&&o.mod!==""&&(a+=o.mod+" "),a+=o.size+"px "+o.face,e.font=a.replace(/"/g,""),o.font=e.font,o.height=o.size,o}differentState(e,t){return e!==this.selectedState||t!==this.hoverState}_processLabelText(e,t,r,n){return new JU(e,this,t,r).process(n)}_processLabel(e,t,r){if(this.labelDirty===!1&&!this.differentState(t,r))return;const n=this._processLabelText(e,t,r,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=t,this.hoverState=r,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}var OD={},Iy,ID;function QU(){if(ID)return Iy;ID=1;var i=It(),e=sa(),t=vr();return Iy=function(n){for(var s=i(this),o=t(s),a=arguments.length,u=e(a>1?arguments[1]:void 0,o),l=a>2?arguments[2]:void 0,d=l===void 0?o:e(l,o);d>u;)s[u++]=n;return s},Iy}var $D;function eV(){if($D)return OD;$D=1;var i=H(),e=QU(),t=u1();return i({target:"Array",proto:!0},{fill:e}),t("fill"),OD}var $y,TD;function tV(){if(TD)return $y;TD=1,eV();var i=Xe();return $y=i("Array","fill"),$y}var Ty,PD;function rV(){if(PD)return Ty;PD=1;var i=ke(),e=tV(),t=Array.prototype;return Ty=function(r){var n=r.fill;return r===t||i(t,r)&&n===t.fill?e:n},Ty}var Py,RD;function iV(){if(RD)return Py;RD=1;var i=rV();return Py=i,Py}var Ry,qD;function nV(){return qD||(qD=1,Ry=iV()),Ry}var sV=nV(),ma=Y(sV);class Si{constructor(e,t,r){this.body=t,this.labelModule=r,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,t){const r=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}enableShadow(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,t){if(t.borderDashes!==!1)if(e.setLineDash!==void 0){let r=t.borderDashes;r===!0&&(r=[5,15]),e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}disableBorderDashes(e,t){t.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}needsRefresh(e,t){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,t)}initContextForDraw(e,t){const r=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,r),e.strokeStyle=t.borderColor,e.fillStyle=t.color}performStroke(e,t){const r=t.borderWidth/this.body.view.scale;e.save(),r>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}performFill(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),ma(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,t,r,n,s){r!==void 0&&this.resize(r,n,s),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,t,r,n,s){this._updateBoundingBox(e,t,r,n,s)}getDimensionsFromLabel(e,t,r){this.textSize=this.labelModule.getTextSize(e,t,r);let n=this.textSize.width,s=this.textSize.height;const o=14;return n===0&&(n=o,s=o),{width:n,height:s}}}let oV=class extends Si{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const n=this.getDimensionsFromLabel(e,t,r);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,o),jN(e,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(t,r,e,n,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,s)}updateBoundingBox(e,t,r,n,s){this._updateBoundingBox(e,t,r,n,s);const o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}distanceToBorder(e,t){e&&this.resize(e);const r=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}};class I1 extends Si{constructor(e,t,r){super(e,t,r),this.labelOffset=0,this.selected=!1}setOptions(e,t,r){this.options=e,t===void 0&&r===void 0||this.setImages(t,r)}setImages(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}switchImages(e){const t=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&t){const r=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=r}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const t=this.options.imagePadding;typeof t=="object"?(e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left):(e.top=t,e.right=t,e.bottom=t,e.left=t)}return e}_resizeImage(){let e,t;if(this.options.shapeProperties.useImageSize===!1){let r=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?r=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),e=this.options.size*2*r,t=this.options.size*2*n}else{const r=this._getImagePadding();e=this.imageObj.width+r.left+r.right,t=this.imageObj.height+r.top+r.bottom}this.width=e,this.height=t,this.radius=.5*this.width}_drawRawCircle(e,t,r,n){this.initContextForDraw(e,n),Zb(e,t,r,n.size),this.performFill(e,n)}_drawImageAtPosition(e,t){if(this.imageObj.width!=0){e.globalAlpha=t.opacity!==void 0?t.opacity:1,this.enableShadow(e,t);let r=1;this.options.shapeProperties.interpolation===!0&&(r=this.imageObj.width/this.width/this.body.view.scale);const n=this._getImagePadding(),s=this.left+n.left,o=this.top+n.top,a=this.width-n.left-n.right,u=this.height-n.top-n.bottom;this.imageObj.drawImageAtPosition(e,r,s,o,a,u),this.disableShadow(e,t)}}_drawImageLabel(e,t,r,n,s){let o=0;if(this.height!==void 0){o=this.height*.5;const u=this.labelModule.getTextSize(e,n,s);u.lineCount>=1&&(o+=u.height/2)}const a=r+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(e,t,a,n,s,"hanging")}}let aV=class extends I1{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const n=this.getDimensionsFromLabel(e,t,r),s=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this._drawRawCircle(e,t,r,o),this.updateBoundingBox(t,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,r,n,s)}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class uV extends I1{constructor(e,t,r,n,s){super(e,t,r),this.setImages(n,s)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,n,s,o){this.switchImages(n),this.resize();let a=t,u=r;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,u+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this._drawRawCircle(e,a,u,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,a,u,n,s),this.updateBoundingBox(t,r)}updateBoundingBox(e,t){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=t,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=t+this.options.size*2):(this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class Nr extends Si{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,r)){var s,o;this.labelModule.getTextSize(e,t,r);const a=2*n.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:a,this.height=(o=this.customSizeHeight)!==null&&o!==void 0?o:a,this.radius=.5*this.width}}_drawShape(e,t,r,n,s,o,a,u){return this.resize(e,o,a,u),this.left=n-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,u),rW(t)(e,n,s,u.size),this.performFill(e,u),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,n,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,o,a,n,s,"hanging");const l=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,n,l,o,a,"hanging")}this.updateBoundingBox(n,s)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function CD(i,e){var t=Ce(i);if(Tr){var r=Tr(i);e&&(r=pr(r).call(r,function(n){return kr(i,n).enumerable})),t.push.apply(t,r)}return t}function lV(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?be(t=CD(Object(n),!0)).call(t,function(s){er(i,s,n[s])}):Pr?ga(i,Pr(n)):be(r=CD(Object(n))).call(r,function(s){ya(i,s,kr(n,s))})}return i}class dV extends Nr{constructor(e,t,r,n){super(e,t,r,n),this.ctxRenderer=n}draw(e,t,r,n,s,o){this.resize(e,n,s,o),this.left=t-this.width/2,this.top=r-this.height/2,e.save();const a=this.ctxRenderer({ctx:e,id:this.options.id,x:t,y:r,state:{selected:n,hover:s},style:lV({},o),label:this.options.label});if(a.drawNode!=null&&a.drawNode(),e.restore(),a.drawExternalLabel){const u=a.drawExternalLabel;a.drawExternalLabel=()=>{e.save(),u(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class cV extends Si{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){if(this.needsRefresh(t,r)){const s=this.getDimensionsFromLabel(e,t,r).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,o),LN(e,t-this.width/2,r-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,r,e,n,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let hV=class extends Nr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"diamond",4,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class fV extends Nr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"circle",2,t,r,n,s,o)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class xD extends Si{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const n=this.getDimensionsFromLabel(e,t,r);this.height=n.height*2,this.width=n.width+n.height,this.radius=.5*this.width}}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width*.5,this.top=r-this.height*.5,this.initContextForDraw(e,o),Qm(e,this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,r,e,n,s),this.labelModule.draw(e,t,r,n,s)}distanceToBorder(e,t){e&&this.resize(e);const r=this.width*.5,n=this.height*.5,s=Math.sin(t)*r,o=Math.cos(t)*n;return r*n/Math.sqrt(s*s+o*o)}}class vV extends Si{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,n,s,o){return this.resize(e,n,s),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=r-this.height/2,this._icon(e,t,r,n,s,o),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,r+this.height/2+5,n),this.updateBoundingBox(t,r)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=t+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,t,r,n,s,o){const a=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:n?"bold":"",(this.options.icon.weight!=null&&n?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,t,r),this.disableShadow(e,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let pV=class extends I1{constructor(e,t,r,n,s){super(e,t,r),this.setImages(n,s)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,n,s,o){e.save(),this.switchImages(n),this.resize();let a=t,u=r;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,u+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const l=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,c=(n?d:l)/this.body.view.scale;e.lineWidth=Math.min(this.width,c),e.beginPath();let h=n?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,f=n?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;o.opacity!==void 0&&(h=yt(h,o.opacity),f=yt(f,o.opacity)),e.strokeStyle=h,e.fillStyle=f,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),ma(e).call(e),this.performStroke(e,o),e.closePath()}this._drawImageAtPosition(e,o),this._drawImageLabel(e,a,u,n,s),this.updateBoundingBox(t,r),e.restore()}updateBoundingBox(e,t){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=t):(this.left=e-this.width/2,this.top=t-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class gV extends Nr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"square",2,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class yV extends Nr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"hexagon",4,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class mV extends Nr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"star",4,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class bV extends Si{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.textSize=this.labelModule.getTextSize(e,t,r),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,s),this.disableShadow(e,o),this.updateBoundingBox(t,r,e,n,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let _V=class extends Nr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"triangle",3,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class wV extends Nr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"triangleDown",3,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}function DD(i,e){var t=Ce(i);if(Tr){var r=Tr(i);e&&(r=pr(r).call(r,function(n){return kr(i,n).enumerable})),t.push.apply(t,r)}return t}function MD(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?be(t=DD(Object(n),!0)).call(t,function(s){er(i,s,n[s])}):Pr?ga(i,Pr(n)):be(r=DD(Object(n))).call(r,function(s){ya(i,s,kr(n,s))})}return i}class _e{constructor(e,t,r,n,s,o){this.options=Sr(s),this.globalOptions=s,this.defaultOptions=o,this.body=t,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Gi(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var t;Se(t=this.edges).call(t,e)===-1&&this.edges.push(e)}detachEdge(e){var t;const r=Se(t=this.edges).call(t,e);if(r!=-1){var n;Or(n=this.edges).call(n,r,1)}}setOptions(e){const t=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");_e.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=R2(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=R2(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=ZF(e.value)),_e.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const r=[e,this.options,this.defaultOptions];return this.chooser=O1("node",r),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&_e.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,t,r){var n;if(r===void 0)return;const s=e.group;if(t!==void 0&&t.group!==void 0&&s!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const a=r.get(s);a.opacity!==void 0&&t.opacity===void 0&&(_e.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));const u=pr(n=gU(t)).call(n,l=>t[l]!=null);u.push("font"),xo(u,e,a),e.color=nb(e.color)}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(xo(["color","fixed","shadow"],e,t,r),_e.checkMass(t),e.opacity!==void 0&&(_e.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),t.opacity!==void 0&&(_e.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!_e.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),gt(e,t,"shadow",n),t.color!==void 0&&t.color!==null){const a=nb(t.color);vF(e.color,a)}else r===!0&&t.color===null&&(e.color=Sr(n.color));t.fixed!==void 0&&t.fixed!==null&&(typeof t.fixed=="boolean"?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(t.fixed.x!==void 0&&typeof t.fixed.x=="boolean"&&(e.fixed.x=t.fixed.x),t.fixed.y!==void 0&&typeof t.fixed.y=="boolean"&&(e.fixed.y=t.fixed.y))),r===!0&&t.font===null&&(e.font=Sr(n.font)),_e.updateGroupOptions(e,t,s),t.scaling!==void 0&&gt(e.scaling,t.scaling,"label",n.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const t=this.options.opacity;e.borderColor=yt(e.borderColor,t),e.color=yt(e.color,t),e.shadowColor=yt(e.shadowColor,t)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),_e.updateGroupOptions(this.options,MD(MD({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const t=this.grouplist.get(this.options.group,!1),r=[e,this.options,t,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new oV(this.options,this.body,this.labelModule);break;case"circle":this.shape=new aV(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new uV(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new dV(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new cV(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new hV(this.options,this.body,this.labelModule);break;case"dot":this.shape=new fV(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new xD(this.options,this.body,this.labelModule);break;case"icon":this.shape=new vV(this.options,this.body,this.labelModule);break;case"image":this.shape=new pV(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new gV(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new yV(this.options,this.body,this.labelModule);break;case"star":this.shape=new mV(this.options,this.body,this.labelModule);break;case"text":this.shape=new bV(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new _V(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new wV(this.options,this.body,this.labelModule);break;default:this.shape=new xD(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,t){return this.shape.distanceToBorder(e,t)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,t,r){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*o}this.options.size=this.options.scaling.min+n*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}getItemsOnPoint(e){const t=[];return this.labelModule.visible()&&lb(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),lb(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,t){if(e.mass!==void 0&&e.mass<=0){let r="";t!==void 0&&(r=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+r+", setting mass to 1.",mF),e.mass=1}}}class EV{constructor(e,t,r,n){var s;if(this.body=e,this.images=t,this.groups=r,this.layoutEngine=n,this.body.functions.createNode=A(s=this.create).call(s,this),this.nodesListeners={add:(o,a)=>{this.add(a.items)},update:(o,a)=>{this.update(a.items,a.data,a.oldData)},remove:(o,a)=>{this.remove(a.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,a,u,l){if(a===o)return .5;{const d=1/(a-o);return Math.max(0,(l-o)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Sr(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,t;this.body.emitter.on("refreshNodes",A(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",A(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",()=>{ie(this.nodesListeners,(r,n)=>{this.body.data.nodes&&this.body.data.nodes.off(n,r)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(_e.parseOptions(this.options,e),e.opacity!==void 0&&(ub(e.opacity)||!Zr(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const t of Ce(this.body.nodes))this.body.nodes[t].updateLabelModule(),this.body.nodes[t].needsRefresh();if(e.size!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.nodes;if(xN("id",e))this.body.data.nodes=e;else if(Mt(e))this.body.data.nodes=new en,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new en;else throw new TypeError("Array or DataSet expected");if(r&&ie(this.nodesListeners,function(n,s){r.off(s,n)}),this.body.nodes={},this.body.data.nodes){const n=this;ie(this.nodesListeners,function(o,a){n.body.data.nodes.on(a,o)});const s=this.body.data.nodes.getIds();this.add(s,!0)}t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;const n=[];for(let s=0;s<e.length;s++){r=e[s];const o=this.body.data.nodes.get(r),a=this.create(o);n.push(a),this.body.nodes[r]=a}this.layoutEngine.positionInitially(n),t===!1&&this.body.emitter.emit("_dataChanged")}update(e,t,r){const n=this.body.nodes;let s=!1;for(let o=0;o<e.length;o++){const a=e[o];let u=n[a];const l=t[o];u!==void 0?u.setOptions(l)&&(s=!0):(s=!0,u=this.create(l),n[a]=u)}!s&&r!==void 0&&(s=M7(t).call(t,function(o,a){const u=r[a];return u&&u.level!==o.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const t=this.body.nodes;for(let r=0;r<e.length;r++){const n=e[r];delete t[n]}this.body.emitter.emit("_dataChanged")}create(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_e;return new t(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ie(this.body.nodes,(t,r)=>{const n=this.body.data.nodes.get(r);n!==void 0&&(e===!0&&t.setOptions({x:null,y:null}),t.setOptions({fixed:!1}),t.setOptions(n))})}getPositions(e){const t={};if(e!==void 0){if(Mt(e)===!0){for(let r=0;r<e.length;r++)if(this.body.nodes[e[r]]!==void 0){const n=this.body.nodes[e[r]];t[e[r]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];t[e]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(let r=0;r<this.body.nodeIndices.length;r++){const n=this.body.nodes[this.body.nodeIndices[r]];t[this.body.nodeIndices[r]]={x:Math.round(n.x),y:Math.round(n.y)}}return t}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],t=this.body.data.nodes.getDataSet();for(const r of t.get()){const n=r.id,s=this.body.nodes[n],o=Math.round(s.x),a=Math.round(s.y);(r.x!==o||r.y!==a)&&e.push({id:n,x:o,y:a})}t.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,t){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e],s={};for(let o=0;o<n.edges.length;o++){const a=n.edges[o];t!=="to"&&a.toId==n.id?s[a.fromId]===void 0&&(r.push(a.fromId),s[a.fromId]=!0):t!=="from"&&a.fromId==n.id&&s[a.toId]===void 0&&(r.push(a.toId),s[a.toId]=!0)}}return r}getConnectedEdges(e){const t=[];if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];for(let n=0;n<r.edges.length;n++)t.push(r.edges[n].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}moveNode(e,t,r){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(r),Hi(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var AD={},qy,kD;function SV(){if(kD)return qy;kD=1;var i=Tn(),e=Pt(),t=hr(),r=RangeError;return qy=function(s){var o=e(t(this)),a="",u=i(s);if(u<0||u===1/0)throw new r("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(o+=o))u&1&&(a+=o);return a},qy}var Cy,ND;function OV(){if(ND)return Cy;ND=1;var i=oe(),e=FN(),t=Pt(),r=SV(),n=hr(),s=i(r),o=i("".slice),a=Math.ceil,u=function(l){return function(d,c,h){var f=t(n(d)),v=e(c),g=f.length,_=h===void 0?" ":t(h),y,p;return v<=g||_===""?f:(y=v-g,p=s(_,a(y/_.length)),p.length>y&&(p=o(p,0,y)),l?f+p:p+f)}};return Cy={start:u(!1),end:u(!0)},Cy}var xy,FD;function IV(){if(FD)return xy;FD=1;var i=oe(),e=se(),t=OV().start,r=RangeError,n=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,u=i(o.getTime),l=i(o.getUTCDate),d=i(o.getUTCFullYear),c=i(o.getUTCHours),h=i(o.getUTCMilliseconds),f=i(o.getUTCMinutes),v=i(o.getUTCMonth),g=i(o.getUTCSeconds);return xy=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!n(u(this)))throw new r("Invalid time value");var y=this,p=d(y),O=h(y),m=p<0?"-":p>9999?"+":"";return m+t(s(p),m?6:4,0)+"-"+t(v(y)+1,2,0)+"-"+t(l(y),2,0)+"T"+t(c(y),2,0)+":"+t(f(y),2,0)+":"+t(g(y),2,0)+"."+t(O,3,0)+"Z"}:a,xy}var BD;function $V(){if(BD)return AD;BD=1;var i=H(),e=ft(),t=It(),r=MN(),n=IV(),s=Vt(),o=se(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return i({target:"Date",proto:!0,forced:a},{toJSON:function(l){var d=t(this),c=r(d,"number");return typeof c=="number"&&!isFinite(c)?null:!("toISOString"in d)&&s(d)==="Date"?e(n,d):d.toISOString()}}),AD}var Dy,jD;function TV(){if(jD)return Dy;jD=1,$V(),zF();var i=he(),e=Qo();return i.JSON||(i.JSON={stringify:JSON.stringify}),Dy=function(r,n,s){return e(i.JSON.stringify,null,arguments)},Dy}var My,LD;function PV(){if(LD)return My;LD=1;var i=TV();return My=i,My}var Ay,zD;function RV(){return zD||(zD=1,Ay=PV()),Ay}var qV=RV(),e5=Y(qV),WD={},HD;function CV(){if(HD)return WD;HD=1;var i=H(),e=Math.hypot,t=Math.abs,r=Math.sqrt,n=!!e&&e(1/0,NaN)!==1/0;return i({target:"Math",stat:!0,arity:2,forced:n},{hypot:function(o,a){for(var u=0,l=0,d=arguments.length,c=0,h,f;l<d;)h=t(arguments[l++]),c<h?(f=c/h,u=u*f*f+1,c=h):h>0?(f=h/c,u+=f*f):u+=h;return c===1/0?1/0:c*r(u)}}),WD}var ky,GD;function xV(){if(GD)return ky;GD=1,CV();var i=he();return ky=i.Math.hypot,ky}var Ny,UD;function DV(){if(UD)return Ny;UD=1;var i=xV();return Ny=i,Ny}var Fy,VD;function MV(){return VD||(VD=1,Fy=DV()),Fy}var AV=MV(),kV=Y(AV);class Te{static transform(e,t){Mt(e)||(e=[e]);const r=t.point.x,n=t.point.y,s=t.angle,o=t.length;for(let a=0;a<e.length;++a){const u=e[a],l=u.x*Math.cos(s)-u.y*Math.sin(s),d=u.x*Math.sin(s)+u.y*Math.cos(s);u.x=r+o*l,u.y=n+o*d}}static drawPath(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length;++r)e.lineTo(t[r].x,t[r].y);e.closePath()}}let NV=class extends Te{static draw(e,t){if(t.image){e.save(),e.translate(t.point.x,t.point.y),e.rotate(Math.PI/2+t.angle);const r=t.imageWidth!=null?t.imageWidth:t.image.width,n=t.imageHeight!=null?t.imageHeight:t.image.height;t.image.drawImageAtPosition(e,1,-r/2,0,r,n),e.restore()}return!1}};class FV extends Te{static draw(e,t){const r=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Te.transform(r,t),Te.drawPath(e,r),!0}}class BV{static draw(e,t){const r=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Te.transform(r,t),Te.drawPath(e,r),!0}}class jV{static draw(e,t){const r={x:-.4,y:0};Te.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,s=t.angle-n/2,o=t.angle+n/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,s,o,!1),e.stroke(),!0}}class LV{static draw(e,t){const r={x:-.3,y:0};Te.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,s=t.angle+n/2,o=t.angle+3*n/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,s,o,!1),e.stroke(),!0}}class zV{static draw(e,t){const r=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Te.transform(r,t),Te.drawPath(e,r),!0}}class WV{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Te.transform(r,t),Te.drawPath(e,r),!0}}class HV{static draw(e,t){const r={x:-.4,y:0};return Te.transform(r,t),Zb(e,r.x,r.y,t.length*.4),!0}}class GV{static draw(e,t){const r=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Te.transform(r,t),Te.drawPath(e,r),!0}}class UV{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Te.transform(r,t),Te.drawPath(e,r),!0}}class VV{static draw(e,t){const r=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Te.transform(r,t),Te.drawPath(e,r),!0}}class KV{static draw(e,t){const r=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Te.transform(r,t),Te.drawPath(e,r),!0}}class t5{static draw(e,t){let r;switch(t.type&&(r=t.type.toLowerCase()),r){case"image":return NV.draw(e,t);case"circle":return HV.draw(e,t);case"box":return UV.draw(e,t);case"crow":return BV.draw(e,t);case"curve":return jV.draw(e,t);case"diamond":return VV.draw(e,t);case"inv_curve":return LV.draw(e,t);case"triangle":return zV.draw(e,t);case"inv_triangle":return WV.draw(e,t);case"bar":return GV.draw(e,t);case"vee":return KV.draw(e,t);case"arrow":default:return FV.draw(e,t)}}}function KD(i,e){var t=Ce(i);if(Tr){var r=Tr(i);e&&(r=pr(r).call(r,function(n){return kr(i,n).enumerable})),t.push.apply(t,r)}return t}function YD(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?be(t=KD(Object(n),!0)).call(t,function(s){er(i,s,n[s])}):Pr?ga(i,Pr(n)):be(r=KD(Object(n))).call(r,function(s){ya(i,s,kr(n,s))})}return i}class r5{constructor(e,t,r){er(this,"color",{}),er(this,"colorDirty",!0),er(this,"hoverWidth",1.5),er(this,"selectionWidth",2),this._body=t,this._labelModule=r,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,t,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,t.dashes!==!1?this._drawDashedLine(e,t,s):this._drawLine(e,t,s)}_drawLine(e,t,r,n,s){if(this.from!=this.to)this._line(e,t,r,n,s);else{const[o,a,u]=this._getCircleData(e);this._circle(e,t,o,a,u)}}_drawDashedLine(e,t,r,n,s){e.lineCap="round";const o=Mt(t.dashes)?t.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,r);else{const[a,u,l]=this._getCircleData(e);this._circle(e,t,a,u,l)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)zN(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{const[a,u,l]=this._getCircleData(e);this._circle(e,t,a,u,l)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}findBorderPosition(e,t,r){return this.from!=this.to?this._findBorderPosition(e,t,r):this._findBorderPositionCircle(e,t,r)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var t;const[r,n]=Ai(t=this._getCircleData(e)).call(t,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:.6,high:.8,direction:1})}}}_getCircleData(e){const t=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const r=JF(e,this.options.selfReference.angle,t,this.from);return[r.x,r.y,t]}_pointOnCircle(e,t,r,n){const s=n*2*Math.PI;return{x:e+r*Math.cos(s),y:t-r*Math.sin(s)}}_findBorderPositionCircle(e,t,r){const n=r.x,s=r.y;let o=r.low,a=r.high;const u=r.direction,l=10,d=this.options.selfReference.size,c=.05;let h,f=(o+a)*.5,v=0;this.options.arrowStrikethrough===!0&&(u===-1?v=this.options.endPointOffset.from:u===1&&(v=this.options.endPointOffset.to));let g=0;do{f=(o+a)*.5,h=this._pointOnCircle(n,s,d,f);const _=Math.atan2(e.y-h.y,e.x-h.x),y=e.distanceToBorder(t,_)+v,p=Math.sqrt(Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2)),O=y-p;if(Math.abs(O)<c)break;O>0?u>0?o=f:a=f:u>0?a=f:o=f,++g}while(o<=a&&g<l);return YD(YD({},h),{},{t:f})}getLineWidth(e,t){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):t===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,t){if(t.inheritsColor!==!1){if(t.inheritsColor==="both"&&this.from.id!==this.to.id){const r=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let n=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(n=yt(this.from.options.color.border,t.opacity),s=yt(this.to.options.color.border,t.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(n=this.from.options.color.border),r.addColorStop(0,n),r.addColorStop(1,s),r}return t.inheritsColor==="to"?yt(this.to.options.color.border,t.opacity):yt(this.from.options.color.border,t.opacity)}else return yt(t.color,t.opacity)}_circle(e,t,r,n,s){this.enableShadow(e,t);let o=0,a=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const u=this.options.selfReference.angle,l=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:u,high:l,direction:-1}),c=this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:u,high:l,direction:1});o=Math.atan2(d.y-n,d.x-r),a=Math.atan2(c.y-n,c.x-r)}e.beginPath(),e.arc(r,n,s,o,a,!1),e.stroke(),this.disableShadow(e,t)}getDistanceToEdge(e,t,r,n,s,o){if(this.from!=this.to)return this._getDistanceToEdge(e,t,r,n,s,o);{const[a,u,l]=this._getCircleData(void 0),d=a-s,c=u-o;return Math.abs(Math.sqrt(d*d+c*c)-l)}}_getDistanceToLine(e,t,r,n,s,o){const a=r-e,u=n-t,l=a*a+u*u;let d=((s-e)*a+(o-t)*u)/l;d>1?d=1:d<0&&(d=0);const c=e+d*a,h=t+d*u,f=c-s,v=h-o;return Math.sqrt(f*f+v*v)}getArrowData(e,t,r,n,s,o){let a,u,l,d,c,h,f;const v=o.width;t==="from"?(l=this.from,d=this.to,c=o.fromArrowScale<0,h=Math.abs(o.fromArrowScale),f=o.fromArrowType):t==="to"?(l=this.to,d=this.from,c=o.toArrowScale<0,h=Math.abs(o.toArrowScale),f=o.toArrowType):(l=this.to,d=this.from,c=o.middleArrowScale<0,h=Math.abs(o.middleArrowScale),f=o.middleArrowType);const g=15*h+3*v;if(l!=d){const O=kV(l.x-d.x,l.y-d.y),m=g/O;if(t!=="middle")if(this.options.smooth.enabled===!0){const S=this._findBorderPosition(l,e,{via:r}),$=this.getPoint(S.t+m*(t==="from"?1:-1),r);a=Math.atan2(S.y-$.y,S.x-$.x),u=S}else a=Math.atan2(l.y-d.y,l.x-d.x),u=this._findBorderPosition(l,e);else{const S=(c?-m:m)/2,$=this.getPoint(.5+S,r),w=this.getPoint(.5-S,r);a=Math.atan2($.y-w.y,$.x-w.x),u=this.getPoint(.5,r)}}else{const[O,m,S]=this._getCircleData(e);if(t==="from"){const $=this.options.selfReference.angle,w=this.options.selfReference.angle+Math.PI,b=this._findBorderPositionCircle(this.from,e,{x:O,y:m,low:$,high:w,direction:-1});a=b.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,u=b}else if(t==="to"){const $=this.options.selfReference.angle,w=this.options.selfReference.angle+Math.PI,b=this._findBorderPositionCircle(this.from,e,{x:O,y:m,low:$,high:w,direction:1});a=b.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,u=b}else{const $=this.options.selfReference.angle/(2*Math.PI);u=this._pointOnCircle(O,m,S,$),a=$*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const _=u.x-g*.9*Math.cos(a),y=u.y-g*.9*Math.sin(a);return{point:u,core:{x:_,y},angle:a,length:g,type:f}}drawArrowHead(e,t,r,n,s){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,t5.draw(e,s)&&(this.enableShadow(e,t),ma(e).call(e),this.disableShadow(e,t))}enableShadow(e,t){t.shadow===!0&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,t){if(t.background!==!1){const r={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=r.strokeStyle,e.lineWidth=r.lineWidth,e.dashes=r.dashes,this.setStrokeDashed(e,t.dashes)}}setStrokeDashed(e,t){if(t!==!1)if(e.setLineDash!==void 0){const r=Mt(t)?t:[5,5];e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function XD(i,e){var t=Ce(i);if(Tr){var r=Tr(i);e&&(r=pr(r).call(r,function(n){return kr(i,n).enumerable})),t.push.apply(t,r)}return t}function ZD(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?be(t=XD(Object(n),!0)).call(t,function(s){er(i,s,n[s])}):Pr?ga(i,Pr(n)):be(r=XD(Object(n))).call(r,function(s){ya(i,s,kr(n,s))})}return i}class $1 extends r5{constructor(e,t,r){super(e,t,r)}_findBorderPositionBezier(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const n=10,s=.2;let o=!1,a=1,u=0,l=this.to,d,c,h=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(l=this.from,o=!0,h=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(h=0);let f=0;do{c=(u+a)*.5,d=this.getPoint(c,r);const v=Math.atan2(l.y-d.y,l.x-d.x),g=l.distanceToBorder(t,v)+h,_=Math.sqrt(Math.pow(d.x-l.x,2)+Math.pow(d.y-l.y,2)),y=g-_;if(Math.abs(y)<s)break;y<0?o===!1?u=c:a=c:o===!1?a=c:u=c,++f}while(u<=a&&f<n);return ZD(ZD({},d),{},{t:c})}_getDistanceToBezierEdge(e,t,r,n,s,o,a){let u=1e9,l,d,c,h,f,v=e,g=t;for(d=1;d<10;d++)c=.1*d,h=Math.pow(1-c,2)*e+2*c*(1-c)*a.x+Math.pow(c,2)*r,f=Math.pow(1-c,2)*t+2*c*(1-c)*a.y+Math.pow(c,2)*n,d>0&&(l=this._getDistanceToLine(v,g,h,f,s,o),u=l<u?l:u),v=h,g=f;return u}_bezierCurve(e,t,r,n){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),r!=null&&r.x!=null?n!=null&&n.x!=null?e.bezierCurveTo(r.x,r.y,n.x,n.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(r.x,r.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,t),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){return this._getViaCoordinates()}}class JD extends $1{constructor(e,t,r){super(e,t,r),er(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),t===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,t=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,t,r){this._bezierCurve(e,t,r)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[r,n,s]=this._getCircleData(),o=2*Math.PI*(1-e);return{x:r+s*Math.sin(o),y:n+s-s*(1-Math.cos(o))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*t.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*t.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t,this.via)}_getDistanceToEdge(e,t,r,n,s,o){return this._getDistanceToBezierEdge(e,t,r,n,s,o,this.via)}}class QD extends $1{constructor(e,t,r){super(e,t,r)}_line(e,t,r){this._bezierCurve(e,t,r)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,t=this.options.smooth.type;let r=Math.abs(this.from.x-this.to.x),n=Math.abs(this.from.y-this.to.y);if(t==="discrete"||t==="diagonalCross"){let s,o;r<=n?s=o=e*n:s=o=e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,u=this.from.y+o;return t==="discrete"&&(r<=n?a=r<e*n?this.from.x:a:u=n<e*r?this.from.y:u),{x:a,y:u}}else if(t==="straightCross"){let s=(1-e)*r,o=(1-e)*n;return r<=n?(s=0,this.from.y<this.to.y&&(o=-o)):(this.from.x<this.to.x&&(s=-s),o=0),{x:this.to.x+s,y:this.to.y+o}}else if(t==="horizontal"){let s=(1-e)*r;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(t==="vertical"){let s=(1-e)*n;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(t==="curvedCW"){r=this.to.x-this.from.x,n=this.from.y-this.to.y;const s=Math.sqrt(r*r+n*n),o=Math.PI,u=(Math.atan2(n,r)+(e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else if(t==="curvedCCW"){r=this.to.x-this.from.x,n=this.from.y-this.to.y;const s=Math.sqrt(r*r+n*n),o=Math.PI,u=(Math.atan2(n,r)+(-e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else{let s,o;r<=n?s=o=e*n:s=o=e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,u=this.from.y+o;return r<=n?this.from.x<=this.to.x?a=this.to.x<a?this.to.x:a:a=this.to.x>a?this.to.x:a:this.from.y>=this.to.y?u=this.to.y>u?this.to.y:u:u=this.to.y<u?this.to.y:u,{x:a,y:u}}}_findBorderPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,t,r.via)}_getDistanceToEdge(e,t,r,n,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,r,n,s,o,a)}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const r=e,n=Math.pow(1-r,2)*this.fromPoint.x+2*r*(1-r)*t.x+Math.pow(r,2)*this.toPoint.x,s=Math.pow(1-r,2)*this.fromPoint.y+2*r*(1-r)*t.y+Math.pow(r,2)*this.toPoint.y;return{x:n,y:s}}}class YV extends $1{constructor(e,t,r){super(e,t,r)}_getDistanceToBezierEdge2(e,t,r,n,s,o,a,u){let l=1e9,d=e,c=t;const h=[0,0,0,0];for(let f=1;f<10;f++){const v=.1*f;h[0]=Math.pow(1-v,3),h[1]=3*v*Math.pow(1-v,2),h[2]=3*Math.pow(v,2)*(1-v),h[3]=Math.pow(v,3);const g=h[0]*e+h[1]*a.x+h[2]*u.x+h[3]*r,_=h[0]*t+h[1]*a.y+h[2]*u.y+h[3]*n;if(f>0){const y=this._getDistanceToLine(d,c,g,_,s,o);l=y<l?y:l}d=g,c=_}return l}}class eM extends YV{constructor(e,t,r){super(e,t,r)}_line(e,t,r){const n=r[0],s=r[1];this._bezierCurve(e,t,n,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,t=this.from.y-this.to.y;let r,n,s,o;const a=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(t)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(n=this.from.y,o=this.to.y,r=this.from.x-a*e,s=this.to.x+a*e):(n=this.from.y-a*t,o=this.to.y+a*t,r=this.from.x,s=this.to.x),[{x:r,y:n},{x:s,y:o}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t)}_getDistanceToEdge(e,t,r,n,s,o){let[a,u]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,t,r,n,s,o,a,u)}getPoint(e){let[t,r]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,s=[Math.pow(1-n,3),3*n*Math.pow(1-n,2),3*Math.pow(n,2)*(1-n),Math.pow(n,3)],o=s[0]*this.fromPoint.x+s[1]*t.x+s[2]*r.x+s[3]*this.toPoint.x,a=s[0]*this.fromPoint.y+s[1]*t.y+s[2]*r.y+s[3]*this.toPoint.y;return{x:o,y:a}}}class tM extends r5{constructor(e,t,r){super(e,t,r)}_line(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,t){let r=this.to,n=this.from;e.id===this.from.id&&(r=this.from,n=this.to);const s=Math.atan2(r.y-n.y,r.x-n.x),o=r.x-n.x,a=r.y-n.y,u=Math.sqrt(o*o+a*a),l=e.distanceToBorder(t,s),d=(u-l)/u;return{x:(1-d)*n.x+d*r.x,y:(1-d)*n.y+d*r.y,t:0}}_getDistanceToEdge(e,t,r,n,s,o){return this._getDistanceToLine(e,t,r,n,s,o)}}class Ir{constructor(e,t,r,n,s){if(t===void 0)throw new Error("No body provided");this.options=Sr(n),this.globalOptions=n,this.defaultOptions=s,this.body=t,this.imagelist=r,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Gi(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let t=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;Ir.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=ZF(e.value));const r=[e,this.options,this.defaultOptions];return this.chooser=O1("edge",r),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(qn(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,r),t.endPointOffset!==void 0&&t.endPointOffset.from!==void 0&&(Zr(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=n.endPointOffset.from!==void 0?n.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),t.endPointOffset!==void 0&&t.endPointOffset.to!==void 0&&(Zr(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=n.endPointOffset.to!==void 0?n.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Mo(t.label)?e.label=t.label:Mo(e.label)||(e.label=void 0),gt(e,t,"smooth",n),gt(e,t,"shadow",n),gt(e,t,"background",n),t.dashes!==void 0&&t.dashes!==null?e.dashes=t.dashes:r===!0&&t.dashes===null&&(e.dashes=rs(n.dashes)),t.scaling!==void 0&&t.scaling!==null?(t.scaling.min!==void 0&&(e.scaling.min=t.scaling.min),t.scaling.max!==void 0&&(e.scaling.max=t.scaling.max),gt(e.scaling,t.scaling,"label",n.scaling)):r===!0&&t.scaling===null&&(e.scaling=rs(n.scaling)),t.arrows!==void 0&&t.arrows!==null)if(typeof t.arrows=="string"){const a=t.arrows.toLowerCase();e.arrows.to.enabled=Se(a).call(a,"to")!=-1,e.arrows.middle.enabled=Se(a).call(a,"middle")!=-1,e.arrows.from.enabled=Se(a).call(a,"from")!=-1}else if(typeof t.arrows=="object")gt(e.arrows,t.arrows,"to",n.arrows),gt(e.arrows,t.arrows,"middle",n.arrows),gt(e.arrows,t.arrows,"from",n.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+e5(t.arrows));else r===!0&&t.arrows===null&&(e.arrows=rs(n.arrows));if(t.color!==void 0&&t.color!==null){const a=zi(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,u=e.color;if(s)pe(u,n.color,!1,r);else for(const l in u)Object.prototype.hasOwnProperty.call(u,l)&&delete u[l];if(zi(u))u.color=u,u.highlight=u,u.hover=u,u.inherit=!1,a.opacity===void 0&&(u.opacity=1);else{let l=!1;a.color!==void 0&&(u.color=a.color,l=!0),a.highlight!==void 0&&(u.highlight=a.highlight,l=!0),a.hover!==void 0&&(u.hover=a.hover,l=!0),a.inherit!==void 0&&(u.inherit=a.inherit),a.opacity!==void 0&&(u.opacity=Math.min(1,Math.max(0,a.opacity))),l===!0?u.inherit=!1:u.inherit===void 0&&(u.inherit="from")}}else r===!0&&t.color===null&&(e.color=Sr(n.color));r===!0&&t.font===null&&(e.font=Sr(n.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,t=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,r=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,n=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:r,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const o=this.options.selectionWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const o=this.options.hoverWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let t=!1,r=!0;return this.edgeType!==void 0&&((this.edgeType instanceof JD&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof eM&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof QD&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof tM&&e.type.enabled===!1)&&(r=!1),r===!0&&(t=this.cleanup())),r===!0?e.enabled===!0?e.type==="dynamic"?(t=!0,this.edgeType=new JD(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new eM(this.options,this.body,this.labelModule):this.edgeType=new QD(this.options,this.body,this.labelModule):this.edgeType=new tM(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,t,r){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*o}this.options.width=this.options.scaling.min+n*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,r),this.drawLabel(e,r)}drawArrows(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(n.from=this.edgeType.getArrowData(e,"from",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.fromPoint=n.from.core),t.fromArrowSrc&&(n.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(n.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(n.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(n.to=this.edgeType.getArrowData(e,"to",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.toPoint=n.to.core),t.toArrowSrc&&(n.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(n.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(n.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(n.middle=this.edgeType.getArrowData(e,"middle",r,this.selected,this.hover,t),t.middleArrowSrc&&(n.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(n.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(n.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.to)}drawLabel(e,t){if(this.options.label!==void 0){const r=this.from,n=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(r.id!=n.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,t),e.save();const o=this._getRotation(e);o.angle!=0&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const o=JF(e,this.options.selfReference.angle,this.options.selfReference.size,r);s=this._pointOnCircle(o.x,o.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const t=[];if(this.labelModule.visible()){const n=this._getRotation();lb(this.labelModule.getSize(),e,n)&&t.push({edgeId:this.id,labelId:0})}const r={left:e.x,top:e.y};return this.isOverlappingWith(r)&&t.push({edgeId:this.id}),t}isOverlappingWith(e){if(this.connected){const r=this.from.x,n=this.from.y,s=this.to.x,o=this.to.y,a=e.left,u=e.top;return this.edgeType.getDistanceToEdge(r,n,s,o,a,u)<10}else return!1}_getRotation(e){const t=this.edgeType.getViaNode(),r=this.edgeType.getPoint(.5,t);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,r.x,r.y);const n={x:r.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return n;const s=this.from.y-this.to.y,o=this.from.x-this.to.x;let a=Math.atan2(s,o);return(a<-1&&o<0||a>0&&o<0)&&(a+=Math.PI),n.angle=a,n}_pointOnCircle(e,t,r,n){return{x:e+r*Math.cos(n),y:t-r*Math.sin(n)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class XV{constructor(e,t,r){var n;this.body=e,this.images=t,this.groups=r,this.body.functions.createEdge=A(n=this.create).call(n,this),this.edgesListeners={add:(s,o)=>{this.add(o.items)},update:(s,o)=>{this.update(o.items)},remove:(s,o)=>{this.remove(o.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,o,a,u){if(o===s)return .5;{const l=1/(o-s);return Math.max(0,(u-s)*l)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},pe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,t,r;this.body.emitter.on("_forceDisableDynamicCurves",function(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n==="dynamic"&&(n="continuous");let o=!1;for(const a in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,a)){const u=e.body.edges[a],l=e.body.data.edges.get(a);if(l!=null){const d=l.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(n===void 0?u.setOptions({smooth:!1}):u.setOptions({smooth:{type:n}}),o=!0)}}s===!0&&o===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",A(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",A(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{ie(this.edgesListeners,(n,s)=>{this.body.data.edges&&this.body.data.edges.off(s,n)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){Ir.parseOptions(this.options,e,!0,this.defaultOptions,!0);let t=!1;if(e.smooth!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&(t=this.body.edges[r].updateEdgeType()||t);if(e.font!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&this.body.edges[r].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||t===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.edges;if(xN("id",e))this.body.data.edges=e;else if(Mt(e))this.body.data.edges=new en,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new en;else throw new TypeError("Array or DataSet expected");if(r&&ie(this.edgesListeners,(n,s)=>{r.off(s,n)}),this.body.edges={},this.body.data.edges){ie(this.edgesListeners,(s,o)=>{this.body.data.edges.on(o,s)});const n=this.body.data.edges.getIds();this.add(n,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.edges,n=this.body.data.edges;for(let s=0;s<e.length;s++){const o=e[s],a=r[o];a&&a.disconnect();const u=n.get(o,{showInternalIds:!0});r[o]=this.create(u)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}update(e){const t=this.body.edges,r=this.body.data.edges;let n=!1;for(let s=0;s<e.length;s++){const o=e[s],a=r.get(o),u=t[o];u!==void 0?(u.disconnect(),n=u.setOptions(a)||n,u.connect()):(this.body.edges[o]=this.create(a),n=!0)}n===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const r=this.body.edges;ie(e,n=>{const s=r[n];s!==void 0&&s.remove()}),t&&this.body.emitter.emit("_dataChanged")}refresh(){ie(this.body.edges,(e,t)=>{const r=this.body.data.edges.get(t);r!==void 0&&e.setOptions(r)})}create(e){return new Ir(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const t=this.body.nodes,r=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const n=r[e];n.from=null,n.to=null,n.connect()}}getConnectedNodes(e){const t=[];if(this.body.edges[e]!==void 0){const r=this.body.edges[e];r.fromId!==void 0&&t.push(r.fromId),r.toId!==void 0&&t.push(r.toId)}return t}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];ie(this.body.edges,(t,r)=>{const n=this.body.nodes[t.toId],s=this.body.nodes[t.fromId];n!==void 0&&n.isCluster===!0||s!==void 0&&s.isCluster===!0||(n===void 0||s===void 0)&&e.push(r)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const t=this.body.edges,r=[];be(e).call(e,(n,s)=>{t[s]===void 0&&r.push(s)}),this.add(r,!0)}}var rM={},iM;function ZV(){if(iM)return rM;iM=1;var i=H(),e=oe(),t=Date,r=e(t.prototype.getTime);return i({target:"Date",stat:!0},{now:function(){return r(new t)}}),rM}var By,nM;function JV(){if(nM)return By;nM=1,ZV();var i=he();return By=i.Date.now,By}var jy,sM;function QV(){if(sM)return jy;sM=1;var i=JV();return jy=i,jy}var Ly,oM;function eK(){return oM||(oM=1,Ly=QV()),Ly}var tK=eK(),db=Y(tK);class i5{constructor(e,t,r){this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(r),this._rng=la("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const t=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=r.length,s=this._formBarnesHutTree(t,r);this.barnesHutTree=s;for(let o=0;o<n;o++)e=t[r[o]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}_getForceContribution(e,t){if(e.childrenCount>0){const r=e.centerOfMass.x-t.x,n=e.centerOfMass.y-t.y,s=Math.sqrt(r*r+n*n);s*e.calcSize>this.thetaInversed?this._calculateForces(s,r,n,t,e):e.childrenCount===4?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(s,r,n,t,e)}}_calculateForces(e,t,r,n,s){e===0&&(e=.1,t=e),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const o=this.options.gravitationalConstant*s.mass*n.options.mass/Math.pow(e,3),a=t*o,u=r*o;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=u}_formBarnesHutTree(e,t){let r;const n=t.length;let s=e[t[0]].x,o=e[t[0]].y,a=e[t[0]].x,u=e[t[0]].y;for(let _=1;_<n;_++){const y=e[t[_]],p=y.x,O=y.y;y.options.mass>0&&(p<s&&(s=p),p>a&&(a=p),O<o&&(o=O),O>u&&(u=O))}const l=Math.abs(a-s)-Math.abs(u-o);l>0?(o-=.5*l,u+=.5*l):(s+=.5*l,a-=.5*l);const c=Math.max(1e-5,Math.abs(a-s)),h=.5*c,f=.5*(s+a),v=.5*(o+u),g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-h,maxX:f+h,minY:v-h,maxY:v+h},size:c,calcSize:1/c,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(let _=0;_<n;_++)r=e[t[_]],r.options.mass>0&&this._placeInTree(g.root,r);return g}_updateBranchMass(e,t){const r=e.centerOfMass,n=e.mass+t.options.mass,s=1/n;r.x=r.x*e.mass+t.x*t.options.mass,r.x*=s,r.y=r.y*e.mass+t.y*t.options.mass,r.y*=s,e.mass=n;const o=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}_placeInTree(e,t,r){(r!=!0||r===void 0)&&this._updateBranchMass(e,t);const n=e.children.NW.range;let s;n.maxX>t.x?n.maxY>t.y?s="NW":s="SW":n.maxY>t.y?s="NE":s="SE",this._placeInRegion(e,t,s)}_placeInRegion(e,t,r){const n=e.children[r];switch(n.childrenCount){case 0:n.children.data=t,n.childrenCount=1,this._updateBranchMass(n,t);break;case 1:n.children.data.x===t.x&&n.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,t));break;case 4:this._placeInTree(n,t);break}}_splitBranch(e){let t=null;e.childrenCount===1&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),t!=null&&this._placeInTree(e,t)}_insertRegion(e,t){let r,n,s,o;const a=.5*e.size;switch(t){case"NW":r=e.range.minX,n=e.range.minX+a,s=e.range.minY,o=e.range.minY+a;break;case"NE":r=e.range.minX+a,n=e.range.maxX,s=e.range.minY,o=e.range.minY+a;break;case"SW":r=e.range.minX,n=e.range.minX+a,s=e.range.minY+a,o=e.range.maxY;break;case"SE":r=e.range.minX+a,n=e.range.maxX,s=e.range.minY+a,o=e.range.maxY;break}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:r,maxX:n,minY:s,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,t){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}_drawBranch(e,t,r){r===void 0&&(r="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=r,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}class rK{constructor(e,t,r){this._rng=la("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n,s,o,a,u;const l=this.body.nodes,d=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,h=this.options.nodeDistance,f=-2/3/h,v=4/3;for(let g=0;g<d.length-1;g++){a=l[d[g]];for(let _=g+1;_<d.length;_++)u=l[d[_]],e=u.x-a.x,t=u.y-a.y,r=Math.sqrt(e*e+t*t),r===0&&(r=.1*this._rng(),e=r),r<2*h&&(r<.5*h?o=1:o=f*r+v,o=o/r,n=e*o,s=t*o,c[a.id].x-=n,c[a.id].y-=s,c[u.id].x+=n,c[u.id].y+=s)}}}class iK{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,n=this.options.nodeDistance;for(let s=0;s<t.length-1;s++){const o=e[t[s]];for(let a=s+1;a<t.length;a++){const u=e[t[a]];if(o.level===u.level){const l=n+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(u.shape.radius||0)/2),d=u.x-o.x,c=u.y-o.y,h=Math.sqrt(d*d+c*c),f=.05;let v;h<l?v=-Math.pow(f*h,2)+Math.pow(f*l,2):v=0,h!==0&&(v=v/h);const g=d*v,_=c*v;r[o.id].x-=g,r[o.id].y-=_,r[u.id].x+=g,r[u.id].y+=_}}}}}class zy{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t;const r=this.physicsBody.physicsEdgeIndices,n=this.body.edges;let s,o,a;for(let u=0;u<r.length;u++)t=n[r[u]],t.connected===!0&&t.toId!==t.fromId&&this.body.nodes[t.toId]!==void 0&&this.body.nodes[t.fromId]!==void 0&&(t.edgeType.via!==void 0?(e=t.options.length===void 0?this.options.springLength:t.options.length,s=t.to,o=t.edgeType.via,a=t.from,this._calculateSpringForce(s,o,.5*e),this._calculateSpringForce(o,a,.5*e)):(e=t.options.length===void 0?this.options.springLength*1.5:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}_calculateSpringForce(e,t,r){const n=e.x-t.x,s=e.y-t.y,o=Math.max(Math.sqrt(n*n+s*s),.01),a=this.options.springConstant*(r-o)/o,u=n*a,l=s*a;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=u,this.physicsBody.forces[e.id].y+=l),this.physicsBody.forces[t.id]!==void 0&&(this.physicsBody.forces[t.id].x-=u,this.physicsBody.forces[t.id].y-=l)}}class nK{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n,s,o,a,u;const l=this.body.edges,d=.5,c=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces;for(let m=0;m<h.length;m++){const S=h[m];f[S].springFx=0,f[S].springFy=0}for(let m=0;m<c.length;m++)t=l[c[m]],t.connected===!0&&(e=t.options.length===void 0?this.options.springLength:t.options.length,r=t.from.x-t.to.x,n=t.from.y-t.to.y,u=Math.sqrt(r*r+n*n),u=u===0?.01:u,a=this.options.springConstant*(e-u)/u,s=r*a,o=n*a,t.to.level!=t.from.level?(f[t.toId]!==void 0&&(f[t.toId].springFx-=s,f[t.toId].springFy-=o),f[t.fromId]!==void 0&&(f[t.fromId].springFx+=s,f[t.fromId].springFy+=o)):(f[t.toId]!==void 0&&(f[t.toId].x-=d*s,f[t.toId].y-=d*o),f[t.fromId]!==void 0&&(f[t.fromId].x+=d*s,f[t.fromId].y+=d*o)));a=1;let v,g;for(let m=0;m<h.length;m++){const S=h[m];v=Math.min(a,Math.max(-a,f[S].springFx)),g=Math.min(a,Math.max(-a,f[S].springFy)),f[S].x+=v,f[S].y+=g}let _=0,y=0;for(let m=0;m<h.length;m++){const S=h[m];_+=f[S].x,y+=f[S].y}const p=_/h.length,O=y/h.length;for(let m=0;m<h.length;m++){const S=h[m];f[S].x-=p,f[S].y-=O}}}class _o{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n;const s=this.body.nodes,o=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces;for(let u=0;u<o.length;u++){const l=o[u];n=s[l],e=-n.x,t=-n.y,r=Math.sqrt(e*e+t*t),this._calculateForces(r,e,t,a,n)}}_calculateForces(e,t,r,n,s){const o=e===0?0:this.options.centralGravity/e;n[s.id].x=t*o,n[s.id].y=r*o}}class sK extends i5{constructor(e,t,r){super(e,t,r),this._rng=la("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,t,r,n,s){e===0&&(e=.1*this._rng(),t=e),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const o=n.edges.length+1,a=this.options.gravitationalConstant*s.mass*n.options.mass*o/Math.pow(e,2),u=t*a,l=r*a;this.physicsBody.forces[n.id].x+=u,this.physicsBody.forces[n.id].y+=l}}class oK extends _o{constructor(e,t,r){super(e,t,r)}_calculateForces(e,t,r,n,s){if(e>0){const o=s.edges.length+1,a=this.options.centralGravity*o*s.options.mass;n[s.id].x=t*a,n[s.id].y=r*a}}}class aK{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Ve(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,xo(["stabilization"],this.options,e),gt(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const t=this.options.wind;t&&((typeof t.x!="number"||ub(t.x))&&(t.x=0),(typeof t.y!="number"||ub(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new sK(this.body,this.physicsBody,e),this.edgesSolver=new zy(this.body,this.physicsBody,e),this.gravitySolver=new oK(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new rK(this.body,this.physicsBody,e),this.edgesSolver=new zy(this.body,this.physicsBody,e),this.gravitySolver=new _o(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new iK(this.body,this.physicsBody,e),this.edgesSolver=new nK(this.body,this.physicsBody,e),this.gravitySolver=new _o(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new i5(this.body,this.physicsBody,e),this.edgesSolver=new zy(this.body,this.physicsBody,e),this.gravitySolver=new _o(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=A(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=db();this.physicsTick(),(db()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Hi(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,t=this.body.edges;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[r].id);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&t[r].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(t[r].id);for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[n]={x:0,y:0},this.physicsBody.velocities[n]===void 0&&(this.physicsBody.velocities[n]={x:0,y:0})}for(const r in this.physicsBody.velocities)e[r]===void 0&&delete this.physicsBody.velocities[r]}revert(){const e=Ce(this.previousStates),t=this.body.nodes,r=this.physicsBody.velocities;this.referenceState={};for(let n=0;n<e.length;n++){const s=e[n];t[s]!==void 0?t[s].options.physics===!0&&(this.referenceState[s]={positions:{x:t[s].x,y:t[s].y}},r[s].x=this.previousStates[s].vx,r[s].y=this.previousStates[s].vy,t[s].x=this.previousStates[s].x,t[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,t,r;const n=this.body.nodes,s=this.referenceState,o=.3;for(const a in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,a)&&n[a]!==void 0&&(e=n[a].x-s[a].positions.x,t=n[a].y-s[a].positions.y,r=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),r>o))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let t=0,r=0;const n=5;for(let s=0;s<e.length;s++){const o=e[s],a=this._performStep(o);t=Math.max(t,a),r+=a}this.adaptiveTimestepEnabled=r/e.length<n,this.stabilized=t<this.options.minVelocity}calculateComponentVelocity(e,t,r){const n=this.modelOptions.damping*e,s=(t-n)/r;e+=s*this.timestep;const o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}_performStep(e){const t=this.body.nodes[e],r=this.physicsBody.forces[e];this.options.wind&&(r.x+=this.options.wind.x,r.y+=this.options.wind.y);const n=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:n.x,vy:n.y},t.options.fixed.x===!1?(n.x=this.calculateComponentVelocity(n.x,r.x,t.options.mass),t.x+=n.x*this.timestep):(r.x=0,n.x=0),t.options.fixed.y===!1?(n.y=this.calculateComponentVelocity(n.y,r.y,t.options.mass),t.y+=n.y*this.timestep):(r.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}_freezeNodes(){const e=this.body.nodes;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){const r=e[t].options.fixed;this.freezeCache[t]={x:r.x,y:r.y},r.x=!0,r.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.freezeCache[t]!==void 0&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Hi(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,t=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&t();let r=0;for(;e()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;if(t(),e()){var n;Hi(A(n=this._stabilizationBatch).call(n,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let t=0;t<this.physicsBody.physicsNodeIndices.length;t++){const r=this.physicsBody.physicsNodeIndices[t],n=this.body.nodes[r],s=this.physicsBody.forces[r],o=20,a=.03,u=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),l=Math.min(Math.max(5,u),15),d=3*l,c=sb((180-Math.min(1,Math.max(0,a*u))*180)/360,1,1),h={x:n.x+o*s.x,y:n.y+o*s.y};e.lineWidth=l,e.strokeStyle=c,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(h.x,h.y),e.stroke();const f=Math.atan2(s.y,s.x);e.fillStyle=c,t5.draw(e,{type:"arrow",point:h,angle:f,length:d}),ma(e).call(e)}}}var aM={},uM;function uK(){if(uM)return aM;uM=1;var i=H(),e=oe(),t=_i(),r=e([].reverse),n=[1,2];return i({target:"Array",proto:!0,forced:String(n)===String(n.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),aM}var Wy,lM;function lK(){if(lM)return Wy;lM=1,uK();var i=Xe();return Wy=i("Array","reverse"),Wy}var Hy,dM;function dK(){if(dM)return Hy;dM=1;var i=ke(),e=lK(),t=Array.prototype;return Hy=function(r){var n=r.reverse;return r===t||i(t,r)&&n===t.reverse?e:n},Hy}var Gy,cM;function cK(){if(cM)return Gy;cM=1;var i=dK();return Gy=i,Gy}var Uy,hM;function hK(){return hM||(hM=1,Uy=cK()),Uy}var fK=hK(),Ui=Y(fK);const Ue=[];for(let i=0;i<256;++i)Ue.push((i+256).toString(16).slice(1));function vK(i,e=0){return(Ue[i[e+0]]+Ue[i[e+1]]+Ue[i[e+2]]+Ue[i[e+3]]+"-"+Ue[i[e+4]]+Ue[i[e+5]]+"-"+Ue[i[e+6]]+Ue[i[e+7]]+"-"+Ue[i[e+8]]+Ue[i[e+9]]+"-"+Ue[i[e+10]]+Ue[i[e+11]]+Ue[i[e+12]]+Ue[i[e+13]]+Ue[i[e+14]]+Ue[i[e+15]]).toLowerCase()}let Vy;const pK=new Uint8Array(16);function gK(){if(!Vy){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Vy=crypto.getRandomValues.bind(crypto)}return Vy(pK)}const yK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var fM={randomUUID:yK};function ss(i,e,t){if(fM.randomUUID&&!i)return fM.randomUUID();i=i||{};const r=i.random??i.rng?.()??gK();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,vK(r)}class nt{constructor(){}static getRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,n=-1e9,s=1e9,o=-1e9,a;if(t.length>0)for(let u=0;u<t.length;u++)a=e[t[u]],s>a.shape.boundingBox.left&&(s=a.shape.boundingBox.left),o<a.shape.boundingBox.right&&(o=a.shape.boundingBox.right),r>a.shape.boundingBox.top&&(r=a.shape.boundingBox.top),n<a.shape.boundingBox.bottom&&(n=a.shape.boundingBox.bottom);return s===1e9&&o===-1e9&&r===1e9&&n===-1e9&&(r=0,n=0,s=0,o=0),{minX:s,maxX:o,minY:r,maxY:n}}static getRangeCore(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,n=-1e9,s=1e9,o=-1e9,a;if(t.length>0)for(let u=0;u<t.length;u++)a=e[t[u]],s>a.x&&(s=a.x),o<a.x&&(o=a.x),r>a.y&&(r=a.y),n<a.y&&(n=a.y);return s===1e9&&o===-1e9&&r===1e9&&n===-1e9&&(r=0,n=0,s=0,o=0),{minX:s,maxX:o,minY:r,maxY:n}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,t){const r={};return t===void 0||t==="node"?(pe(r,e.options,!0),r.x=e.x,r.y=e.y,r.amountOfConnections=e.edges.length):pe(r,e.options,!0),r}}class mK extends _e{constructor(e,t,r,n,s,o){super(e,t,r,n,s,o),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const t=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!t.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],ie(t.edges,r=>{delete this.containedEdges[r.id]}),ie(t.containedNodes,(r,n)=>{this.containedNodes[n]=r}),t.containedNodes={},ie(t.containedEdges,(r,n)=>{this.containedEdges[n]=r}),t.containedEdges={},ie(t.edges,r=>{ie(this.edges,n=>{var s,o;const a=Se(s=n.clusteringEdgeReplacingIds).call(s,r.id);a!==-1&&(ie(r.clusteringEdgeReplacingIds,u=>{n.clusteringEdgeReplacingIds.push(u),this.body.edges[u].edgeReplacedById=n.id}),Or(o=n.clusteringEdgeReplacingIds).call(o,a,1))})}),t.edges=[]}}class bK{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Ve(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,t){e===void 0?e=this._getHubSize():typeof e=="object"&&(t=this._checkOptions(e),e=this._getHubSize());const r=[];for(let n=0;n<this.body.nodeIndices.length;n++){const s=this.body.nodes[this.body.nodeIndices[n]];s.edges.length>=e&&r.push(s.id)}for(let n=0;n<r.length;n++)this.clusterByConnection(r[n],t,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const r={},n={};ie(this.body.nodes,(s,o)=>{s.options&&e.joinCondition(s.options)===!0&&(r[o]=s,ie(s.edges,a=>{this.clusteredEdges[a.id]===void 0&&(n[a.id]=a)}))}),this._cluster(r,n,e,t)}clusterByEdgeCount(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;t=this._checkOptions(t);const n=[],s={};let o,a,u;for(let l=0;l<this.body.nodeIndices.length;l++){const d={},c={},h=this.body.nodeIndices[l],f=this.body.nodes[h];if(s[h]===void 0){u=0,a=[];for(let v=0;v<f.edges.length;v++)o=f.edges[v],this.clusteredEdges[o.id]===void 0&&(o.toId!==o.fromId&&u++,a.push(o));if(u===e){const v=function(_){if(t.joinCondition===void 0||t.joinCondition===null)return!0;const y=nt.cloneOptions(_);return t.joinCondition(y)};let g=!0;for(let _=0;_<a.length;_++){o=a[_];const y=this._getConnectedId(o,h);if(v(f))c[o.id]=o,d[h]=f,d[y]=this.body.nodes[y],s[h]=!0;else{g=!1;break}}if(Ce(d).length>0&&Ce(c).length>0&&g===!0){const y=function(){for(let p=0;p<n.length;++p)for(const O in d)if(n[p].nodes[O]!==void 0)return n[p]}();if(y!==void 0){for(const p in d)y.nodes[p]===void 0&&(y.nodes[p]=d[p]);for(const p in c)y.edges[p]===void 0&&(y.edges[p]=c[p])}else n.push({nodes:d,edges:c})}}}}for(let l=0;l<n.length;l++)this._cluster(n[l].nodes,n[l].edges,t,!1);r===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,t)}clusterBridges(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,t)}clusterByConnection(e,t){var r;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];t=this._checkOptions(t,s),t.clusterNodeProperties.x===void 0&&(t.clusterNodeProperties.x=s.x),t.clusterNodeProperties.y===void 0&&(t.clusterNodeProperties.y=s.y),t.clusterNodeProperties.fixed===void 0&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=s.options.fixed.x,t.clusterNodeProperties.fixed.y=s.options.fixed.y);const o={},a={},u=s.id,l=nt.cloneOptions(s);o[u]=s;for(let c=0;c<s.edges.length;c++){const h=s.edges[c];if(this.clusteredEdges[h.id]===void 0){const f=this._getConnectedId(h,u);if(this.clusteredNodes[f]===void 0)if(f!==u)if(t.joinCondition===void 0)a[h.id]=h,o[f]=this.body.nodes[f];else{const v=nt.cloneOptions(this.body.nodes[f]);t.joinCondition(l,v)===!0&&(a[h.id]=h,o[f]=this.body.nodes[f])}else a[h.id]=h}}const d=bs(r=Ce(o)).call(r,function(c){return o[c].id});for(const c in o){if(!Object.prototype.hasOwnProperty.call(o,c))continue;const h=o[c];for(let f=0;f<h.edges.length;f++){const v=h.edges[f];Se(d).call(d,this._getConnectedId(v,h.id))>-1&&(a[v.id]=v)}}this._cluster(o,a,t,n)}_createClusterEdges(e,t,r,n){let s,o,a,u,l,d;const c=Ce(e),h=[];for(let g=0;g<c.length;g++){o=c[g],a=e[o];for(let _=0;_<a.edges.length;_++)s=a.edges[_],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?t[s.id]=s:s.toId==o?(u=r.id,l=s.fromId,d=l):(u=s.toId,l=r.id,d=u),e[d]===void 0&&h.push({edge:s,fromId:l,toId:u}))}const f=[],v=function(g){for(let _=0;_<f.length;_++){const y=f[_],p=g.fromId===y.fromId&&g.toId===y.toId,O=g.fromId===y.toId&&g.toId===y.fromId;if(p||O)return y}return null};for(let g=0;g<h.length;g++){const _=h[g],y=_.edge;let p=v(_);p===null?(p=this._createClusteredEdge(_.fromId,_.toId,y,n),f.push(p)):p.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=p.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(Ce(e).length==0||Ce(e).length==1&&r.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let o=pe({},r.clusterNodeProperties);if(r.processProperties!==void 0){const d=[];for(const h in e)if(Object.prototype.hasOwnProperty.call(e,h)){const f=nt.cloneOptions(e[h]);d.push(f)}const c=[];for(const h in t)if(Object.prototype.hasOwnProperty.call(t,h)&&h.substr(0,12)!=="clusterEdge:"){const f=nt.cloneOptions(t[h],"edge");c.push(f)}if(o=r.processProperties(o,d,c),!o)throw new Error("The processProperties function does not return properties!")}o.id===void 0&&(o.id="cluster:"+ss());const a=o.id;o.label===void 0&&(o.label="cluster");let u;o.x===void 0&&(u=this._getClusterPosition(e),o.x=u.x),o.y===void 0&&(u===void 0&&(u=this._getClusterPosition(e)),o.y=u.y),o.id=a;const l=this.body.functions.createNode(o,mK);l.containedNodes=e,l.containedEdges=t,l.clusterEdgeProperties=r.clusterEdgeProperties,this.body.nodes[o.id]=l,this._clusterEdges(e,t,o,r.clusterEdgeProperties),o.id=void 0,n===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const t=this.clusteredEdges[e.id];t!==void 0&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const t=Ce(e);let r=e[t[0]].x,n=e[t[0]].x,s=e[t[0]].y,o=e[t[0]].y,a;for(let u=1;u<t.length;u++)a=e[t[u]],r=a.x<r?a.x:r,n=a.x>n?a.x:n,s=a.y<s?a.y:s,o=a.y>o?a.y:o;return{x:.5*(r+n),y:.5*(s+o)}}openCluster(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const n=this.body.nodes[e];if(n===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(n.isCluster!==!0||n.containedNodes===void 0||n.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),o=Se(s).call(s,e)-1;if(o>=0){const d=s[o];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged");return}const a=n.containedNodes,u=n.containedEdges;if(t!==void 0&&t.releaseFunction!==void 0&&typeof t.releaseFunction=="function"){const d={},c={x:n.x,y:n.y};for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];d[f]={x:v.x,y:v.y}}const h=t.releaseFunction(c,d);for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];h[f]!==void 0&&(v.x=h[f].x===void 0?n.x:h[f].x,v.y=h[f].y===void 0?n.y:h[f].y)}}else ie(a,function(d){d.options.fixed.x===!1&&(d.x=n.x),d.options.fixed.y===!1&&(d.y=n.y)});for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)){const c=this.body.nodes[d];c.vx=n.vx,c.vy=n.vy,c.setOptions({physics:!0}),delete this.clusteredNodes[d]}const l=[];for(let d=0;d<n.edges.length;d++)l.push(n.edges[d]);for(let d=0;d<l.length;d++){const c=l[d],h=this._getConnectedId(c,e),f=this.clusteredNodes[h];for(let v=0;v<c.clusteringEdgeReplacingIds.length;v++){const g=c.clusteringEdgeReplacingIds[v],_=this.body.edges[g];if(_!==void 0)if(f!==void 0){const y=this.body.nodes[f.clusterId];y.containedEdges[_.id]=_,delete u[_.id];let p=_.fromId,O=_.toId;_.toId==h?O=f.clusterId:p=f.clusterId,this._createClusteredEdge(p,O,_,y.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(_)}c.remove()}for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&this._restoreEdge(u[d]);delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const t=[];if(this.isCluster(e)===!0){const r=this.body.nodes[e].containedNodes;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.push(this.body.nodes[n].id)}return t}findNode(e){const t=[];let n=0,s;for(;this.clusteredNodes[e]!==void 0&&n<100;){if(s=this.body.nodes[e],s===void 0)return[];t.push(s.id),e=this.clusteredNodes[e].clusterId,n++}return s=this.body.nodes[e],s===void 0?[]:(t.push(s.id),Ui(t).call(t),t)}updateClusteredNode(e,t){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(t===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}updateEdge(e,t){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(t===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const r=this.getClusteredEdges(e);for(let n=0;n<r.length;n++)this.body.edges[r[n]].setOptions(t);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const t=[];let n=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&n<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,n++;return Ui(t).call(t),t}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const t=[e],r=[],n=[],s=100;let o=0;for(;t.length>0&&o<s;){const a=t.pop();if(a===void 0)continue;const u=this.body.edges[a];if(u===void 0)continue;o++;const l=u.clusteringEdgeReplacingIds;if(l===void 0)n.push(a);else for(let d=0;d<l.length;++d){const c=l[d];Se(t).call(t,l)!==-1||Se(r).call(r,l)!==-1||t.push(c)}r.push(a)}return n}_getConnectedId(e,t){return e.toId!=t?e.toId:(e.fromId!=t,e.fromId)}_getHubSize(){let e=0,t=0,r=0,n=0;for(let u=0;u<this.body.nodeIndices.length;u++){const l=this.body.nodes[this.body.nodeIndices[u]];l.edges.length>n&&(n=l.edges.length),e+=l.edges.length,t+=Math.pow(l.edges.length,2),r+=1}e=e/r,t=t/r;const s=t-Math.pow(e,2),o=Math.sqrt(s);let a=Math.floor(e+2*o);return a>n&&(a=n),a}_createClusteredEdge(e,t,r,n,s){const o=nt.cloneOptions(r,"edge");pe(o,n),o.from=e,o.to=t,o.id="clusterEdge:"+ss(),s!==void 0&&pe(o,s);const a=this.body.functions.createEdge(o);return a.clusteringEdgeReplacingIds=[r.id],a.connect(),this.body.edges[a.id]=a,a}_clusterEdges(e,t,r,n){if(t instanceof Ir){const s=t,o={};o[s.id]=s,t=o}if(e instanceof _e){const s=e,o={};o[s.id]=s,e=o}if(r==null)throw new Error("_clusterEdges: parameter clusterNode required");n===void 0&&(n=r.clusterEdgeProperties),this._createClusterEdges(e,t,r,n);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&this.body.edges[s]!==void 0){const o=this.body.edges[s];this._backupEdgeOptions(o),o.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:r.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const t=this.clusteredNodes[e];if(t===void 0)return;const r=t.clusterId;if(r!==void 0)return this.body.nodes[r]}_filter(e,t){const r=[];return ie(e,n=>{t(n)&&r.push(n)}),r}_updateState(){let e;const t=[],r={},n=u=>{ie(this.body.nodes,l=>{l.isCluster===!0&&u(l)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&t.push(e)}n(function(u){for(let l=0;l<t.length;l++)delete u.containedNodes[t[l]]});for(let u=0;u<t.length;u++)delete this.clusteredNodes[t[u]];ie(this.clusteredEdges,u=>{const l=this.body.edges[u];(l===void 0||!l.endPointsValid())&&(r[u]=u)}),n(function(u){ie(u.containedEdges,(l,d)=>{!l.endPointsValid()&&!r[d]&&(r[d]=d)})}),ie(this.body.edges,(u,l)=>{let d=!0;const c=u.clusteringEdgeReplacingIds;if(c!==void 0){let h=0;ie(c,f=>{const v=this.body.edges[f];v!==void 0&&v.endPointsValid()&&(h+=1)}),d=h>0}(!u.endPointsValid()||!d)&&(r[l]=l)}),n(u=>{ie(r,l=>{delete u.containedEdges[l],ie(u.edges,(d,c)=>{if(d.id===l){u.edges[c]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(h){return!r[h]})}),u.edges=this._filter(u.edges,function(d){return d!==null})})}),ie(r,u=>{delete this.clusteredEdges[u]}),ie(r,u=>{delete this.body.edges[u]});const s=Ce(this.body.edges);ie(s,u=>{const l=this.body.edges[u],d=this._isClusteredNode(l.fromId)||this._isClusteredNode(l.toId);if(d!==this._isClusteredEdge(l.id))if(d){const c=this._getClusterNodeForNode(l.fromId);c!==void 0&&this._clusterEdges(this.body.nodes[l.fromId],l,c);const h=this._getClusterNodeForNode(l.toId);h!==void 0&&this._clusterEdges(this.body.nodes[l.toId],l,h)}else delete this._clusterEdges[u],this._restoreEdge(l)});let o=!1,a=!0;for(;a;){const u=[];n(function(l){const d=Ce(l.containedNodes).length,c=l.options.allowSingleNodeCluster===!0;(c&&d<1||!c&&d<2)&&u.push(l.id)});for(let l=0;l<u.length;++l)this.openCluster(u[l],{},!1);a=u.length>0,o=o||a}o&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class _K{constructor(e,t){this.body=e,this.canvas=t,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Ve(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Hi(()=>{var t;this.zooming=!1,A(t=this._requestRedraw).call(t,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",A(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&qn(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(A(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const t={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const r=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(r.clearRect(0,0,n,s),this.canvas.frame.clientWidth===0)return;if(r.save(),r.translate(this.body.view.translation.x,this.body.view.translation.y),r.scale(this.body.view.scale,this.body.view.scale),r.beginPath(),this.body.emitter.emit("beforeDrawing",r),r.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(r),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:o}=this._drawNodes(r,e);t.drawExternalLabels=o}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(r),t.drawExternalLabels!=null&&t.drawExternalLabels(),e===!1&&this._drawSelectionBox(r),r.beginPath(),this.body.emitter.emit("afterDrawing",r),r.closePath(),r.restore(),e===!0&&r.clearRect(0,0,n,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const t=this.body.nodes;let r;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r=t[n],r.resize(e),r.updateBoundingBox(e,r.selected));e.restore()}_drawNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.nodes,n=this.body.nodeIndices;let s;const o=[],a=[],u=20,l=this.canvas.DOMtoCanvas({x:-u,y:-u}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),c={top:l.y,left:l.x,bottom:d.y,right:d.x},h=[];for(let _=0;_<n.length;_++)if(s=r[n[_]],s.hover)a.push(n[_]);else if(s.isSelected())o.push(n[_]);else if(t===!0){const y=s.draw(e);y.drawExternalLabel!=null&&h.push(y.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(c)===!0){const y=s.draw(e);y.drawExternalLabel!=null&&h.push(y.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let f;const v=o.length,g=a.length;for(f=0;f<v;f++){s=r[o[f]];const _=s.draw(e);_.drawExternalLabel!=null&&h.push(_.drawExternalLabel)}for(f=0;f<g;f++){s=r[a[f]];const _=s.draw(e);_.drawExternalLabel!=null&&h.push(_.drawExternalLabel)}return{drawExternalLabels:()=>{for(const _ of h)_()}}}_drawEdges(e){const t=this.body.edges,r=this.body.edgeIndices;for(let n=0;n<r.length;n++){const s=t[r[n]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const t=this.body.edges,r=this.body.edgeIndices;for(let n=0;n<r.length;n++){const s=t[r[n]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,r=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var Ky,vM;function wK(){if(vM)return Ky;vM=1,FF();var i=he();return Ky=i.setInterval,Ky}var Yy,pM;function EK(){return pM||(pM=1,Yy=wK()),Yy}var SK=EK(),OK=Y(SK);function Ao(i,e){e.inputHandler=function(t){t.isFirst&&e(t)},i.on("hammer.input",e.inputHandler)}function n5(i,e){return e.inputHandler=function(t){t.isFinal&&e(t)},i.on("hammer.input",e.inputHandler)}class IK{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Ve(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",t=>{t.width!==0&&(this.body.view.translation.x=t.width*.5),t.height!==0&&(this.body.view.translation.y=t.height*.5)}),this.body.emitter.on("setSize",A(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&qn(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var t;if(window.ResizeObserver){const n=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;n.observe(s),this._cleanupCallbacks.push(()=>{n.unobserve(s)})}else{const n=OK(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(n)})}const r=A(t=this._onResize).call(t,this);window.addEventListener("resize",r),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",r)})}}_cleanUp(){var e,t,r;be(e=Ui(t=Or(r=this._cleanupCallbacks).call(r,0)).call(t)).call(e,n=>{try{n()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let r=this.cameraState.scale;e!=1&&t!=1?r=this.cameraState.scale*.5*(e+t):e!=1?r=this.cameraState.scale*e:t!=1&&(r=this.cameraState.scale*t),this.body.view.scale=r;const n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Se(e).call(e,"%")!==-1||Se(e).call(e,"px")!==-1)return e;if(Se(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Wi(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Wi.DIRECTION_ALL}),Ao(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new Wi(this.frame),n5(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);let r=!1;const n=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},r=!0;else{const a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),u=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==u)&&this._getCameraState(o),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,r=!0),this.frame.canvas.height!==u&&(this.frame.canvas.height=u,r=!0)}return r===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,r}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let t=1;typeof window<"u"&&(t=window.devicePixelRatio||1);const r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function $K(i,e){const t=Ve({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},i??{});if(!Mt(t.nodes))throw new TypeError("Nodes has to be an array of ids.");if(t.nodes.length===0&&(t.nodes=e),!(typeof t.minZoomLevel=="number"&&t.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof t.maxZoomLevel=="number"&&t.minZoomLevel<=t.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return t}class TK{constructor(e,t){var r,n;this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",A(r=this.fit).call(r,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",A(n=this.releaseNode).call(n,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=$K(e,this.body.nodeIndices);const r=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;let s,o;if(r===0||n===0)o=1,s=nt.getRange(this.body.nodes,e.nodes);else if(t===!0){let l=0;for(const h in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,h)&&this.body.nodes[h].predefinedPosition===!0&&(l+=1);if(l>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=nt.getRange(this.body.nodes,e.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const c=Math.min(r/600,n/600);o*=c}else{this.body.emitter.emit("_resizeNodes"),s=nt.getRange(this.body.nodes,e.nodes);const l=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,c=r/l,h=n/d;o=c<=h?c:h}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);const u={position:nt.findCenter(s),scale:o,animation:e.animation};this.moveTo(u)}focus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const r={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=r,t.lockedOnNode=e,this.moveTo(t)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Zr(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Zr(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Zr(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Zr(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.position.x,y:t.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+r.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+r.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var n;this.viewFunction=A(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=A(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.x,y:t.y-e.y},n=this.body.view.translation,s={x:n.x+r.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+r.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const t=n9[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var r;this.viewFunction=A(r=this._lockedRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function gM(i){var e=i&&i.preventDefault||!1,t=i&&i.container||window,r={},n={keydown:{},keyup:{}},s={},o;for(o=97;o<=122;o++)s[String.fromCharCode(o)]={code:65+(o-97),shift:!1};for(o=65;o<=90;o++)s[String.fromCharCode(o)]={code:o,shift:!0};for(o=0;o<=9;o++)s[""+o]={code:48+o,shift:!1};for(o=1;o<=12;o++)s["F"+o]={code:111+o,shift:!1};for(o=0;o<=9;o++)s["num"+o]={code:96+o,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(d){l(d,"keydown")},u=function(d){l(d,"keyup")},l=function(d,c){if(n[c][d.keyCode]!==void 0){for(var h=n[c][d.keyCode],f=0;f<h.length;f++)(h[f].shift===void 0||h[f].shift==!0&&d.shiftKey==!0||h[f].shift==!1&&d.shiftKey==!1)&&h[f].fn(d);e==!0&&d.preventDefault()}};return r.bind=function(d,c,h){if(h===void 0&&(h="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);n[h][s[d].code]===void 0&&(n[h][s[d].code]=[]),n[h][s[d].code].push({fn:c,shift:s[d].shift})},r.bindAll=function(d,c){c===void 0&&(c="keydown");for(var h in s)s.hasOwnProperty(h)&&r.bind(h,d,c)},r.getKey=function(d){for(var c in s)if(s.hasOwnProperty(c)){if(d.shiftKey==!0&&s[c].shift==!0&&d.keyCode==s[c].code)return c;if(d.shiftKey==!1&&s[c].shift==!1&&d.keyCode==s[c].code)return c;if(d.keyCode==s[c].code&&c=="shift")return c}return"unknown key, currently not supported"},r.unbind=function(d,c,h){if(h===void 0&&(h="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(c!==void 0){var f=[],v=n[h][s[d].code];if(v!==void 0)for(var g=0;g<v.length;g++)v[g].fn==c&&v[g].shift==s[d].shift||f.push(n[h][s[d].code][g]);n[h][s[d].code]=f}else n[h][s[d].code]=[]},r.reset=function(){n={keydown:{},keyup:{}}},r.destroy=function(){n={keydown:{},keyup:{}},t.removeEventListener("keydown",a,!0),t.removeEventListener("keyup",u,!0)},t.addEventListener("keydown",a,!0),t.addEventListener("keyup",u,!0),r}class PK{constructor(e,t){this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],t=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);const a=new Wi(this.navigationDOM[e[o]]);if(t[o]==="_fit"){var r;Ao(a,A(r=this._fit).call(r,this))}else{var n;Ao(a,A(n=this.bindToRedraw).call(n,this,t[o]))}this.navigationHammers.push(a)}const s=new Wi(this.canvas.frame);n5(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var t;this.boundFunctions[e]=A(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,n=t/e,s=(1-n)*this.canvas.canvasViewCenter.x+r.x*n,o=(1-n)*this.canvas.canvasViewCenter.y+r.y*n;this.body.view.scale=t,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,n=t/e,s=(1-n)*this.canvas.canvasViewCenter.x+r.x*n,o=(1-n)*this.canvas.canvasViewCenter.y+r.y*n;this.body.view.scale=t,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=gM({container:window,preventDefault:!0}):this.keycharm=gM({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,t,r,n,s,o,a,u,l,d,c,h,f,v,g,_,y,p,O,m,S,$,w,b;A(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),A(t=this.keycharm).call(t,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),A(r=this.keycharm).call(r,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),A(n=this.keycharm).call(n,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),A(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),A(o=this.keycharm).call(o,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),A(a=this.keycharm).call(a,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),A(u=this.keycharm).call(u,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),A(l=this.keycharm).call(l,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),A(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),A(c=this.keycharm).call(c,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),A(h=this.keycharm).call(h,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),A(f=this.keycharm).call(f,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),A(v=this.keycharm).call(v,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),A(g=this.keycharm).call(g,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),A(_=this.keycharm).call(_,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),A(y=this.keycharm).call(y,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),A(p=this.keycharm).call(p,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),A(O=this.keycharm).call(O,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),A(m=this.keycharm).call(m,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),A(S=this.keycharm).call(S,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),A($=this.keycharm).call($,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),A(w=this.keycharm).call(w,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),A(b=this.keycharm).call(b,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class RK{constructor(e,t,r){var n,s,o,a,u,l,d,c,h,f,v,g,_;this.body=e,this.canvas=t,this.selectionHandler=r,this.navigationHandler=new PK(e,t),this.body.eventListeners.onTap=A(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=A(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=A(o=this.onDoubleTap).call(o,this),this.body.eventListeners.onHold=A(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=A(u=this.onDragStart).call(u,this),this.body.eventListeners.onDrag=A(l=this.onDrag).call(l,this),this.body.eventListeners.onDragEnd=A(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=A(c=this.onMouseWheel).call(c,this),this.body.eventListeners.onPinch=A(h=this.onPinch).call(h,this),this.body.eventListeners.onMouseMove=A(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=A(v=this.onRelease).call(v,this),this.body.eventListeners.onContext=A(g=this.onContext).call(g,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=A(_=this.getPointer).call(_,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Ve(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(xo(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),gt(this.options,e,"keyboard"),e.tooltip&&(Ve(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=nb(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-e9(this.canvas.frame.canvas),y:e.y-t9(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}onDoubleTap(e){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}onHold(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=new Date().valueOf()}}onContext(e){const t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,t){const r=function(n,s){const o=[];for(let a=0;a<n.length;a++){const u=n[a];Se(s).call(s,u)===-1&&o.push(u)}return o};return{nodes:r(e.nodes,t.nodes),edges:r(e.edges,t.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Ve({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const r=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)}}else if(t!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=t.id,t.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const r of this.selectionHandler.getSelectedNodes()){const n={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(n)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const t=this.getPointer(e.center),r=this.drag.selection;if(r&&r.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,t);const n=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;be(r).call(r,o=>{const a=o.node;o.xFixed===!1&&(a.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(o.x)+n)),o.yFixed===!1&&(a.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(o.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(t.x),y:this.canvas._YconvertDOMtoCanvas(t.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const n=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+n,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var t;this.body.selectionBox.show=!1;const r=this.body.selectionBox.position,n={minX:Math.min(r.start.x,r.end.x),minY:Math.min(r.start.y,r.end.y),maxX:Math.max(r.start.x,r.end.x),maxY:Math.max(r.start.y,r.end.y)},s=pr(t=this.body.nodeIndices).call(t,a=>{const u=this.body.nodes[a];return u.x>=n.minX&&u.x<=n.maxX&&u.y>=n.minY&&u.y<=n.maxY});be(s).call(s,a=>this.selectionHandler.selectObject(this.body.nodes[a]));const o=this.getPointer(e.center);this.selectionHandler.commitAndEmit(o,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const r=this.drag.selection;r&&r.length?(be(r).call(r,function(n){n.node.options.fixed.x=n.xFixed,n.node.options.fixed.y=n.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const t=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const r=this.pinch.scale*e.scale;this.zoom(r,t)}zoom(e,t){if(this.options.zoomView===!0){const r=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let n;this.drag!==void 0&&this.drag.dragging===!0&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,o=e/r,a=(1-o)*t.x+s.x*o,u=(1-o)*t.y+s.y*o;if(this.body.view.scale=e,this.body.view.translation={x:a,y:u},n!=null){const l=this.canvas.canvasToDOM(n);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),r<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let t=this.body.view.scale;t*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const r=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,r)}e.preventDefault()}}onMouseMove(e){const t=this.getPointer({x:e.clientX,y:e.clientY});let r=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(t),this.popup.hidden===!1&&(r=!0,this.popup.setPosition(t.x+3,t.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),r===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Hi(()=>this._checkShowPopup(t),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,t)}_checkShowPopup(e){const t=this.canvas._XconvertDOMtoCanvas(e.x),r=this.canvas._YconvertDOMtoCanvas(e.y),n={left:t,top:r,right:t,bottom:r},s=this.popupObj===void 0?void 0:this.popupObj.id;let o=!1,a="node";if(this.popupObj===void 0){const u=this.body.nodeIndices,l=this.body.nodes;let d;const c=[];for(let h=0;h<u.length;h++)d=l[u[h]],d.isOverlappingWith(n)===!0&&(o=!0,d.getTitle()!==void 0&&c.push(u[h]));c.length>0&&(this.popupObj=l[c[c.length-1]],o=!0)}if(this.popupObj===void 0&&o===!1){const u=this.body.edgeIndices,l=this.body.edges;let d;const c=[];for(let h=0;h<u.length;h++)d=l[u[h]],d.isOverlappingWith(n)===!0&&d.connected===!0&&d.getTitle()!==void 0&&c.push(u[h]);c.length>0&&(this.popupObj=l[c[c.length-1]],a="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new h9(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const t=this.selectionHandler._pointerToPositionObject(e);let r=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(r=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t),r===!0)){const n=this.selectionHandler.getNodeAt(e);r=n===void 0?!1:n.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(r=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));r===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var yM={},mM={},bM;function qK(){if(bM)return mM;bM=1;var i=m1(),e=MF();return i("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),mM}var _M;function CK(){return _M||(_M=1,qK()),yM}var wM={},Xy,EM;function Oi(){if(EM)return Xy;EM=1;var i=Sn(),e=TypeError;return Xy=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(i(t)+" is not a set")},Xy}var Zy,SM;function Ii(){if(SM)return Zy;SM=1;var i=pt(),e=AF(),t=i("Set"),r=t.prototype;return Zy={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},Zy}var Jy,OM;function $i(){if(OM)return Jy;OM=1;var i=ft();return Jy=function(e,t,r){for(var n=r?e:e.iterator,s=e.next,o,a;!(o=i(s,n)).done;)if(a=t(o.value),a!==void 0)return a},Jy}var Qy,IM;function Qs(){if(IM)return Qy;IM=1;var i=$i();return Qy=function(e,t,r){return r?i(e.keys(),t,!0):e.forEach(t)},Qy}var em,$M;function T1(){if($M)return em;$M=1;var i=Ii(),e=Qs(),t=i.Set,r=i.add;return em=function(n){var s=new t;return e(n,function(o){r(s,o)}),s},em}var tm,TM;function eo(){return TM||(TM=1,tm=function(i){return i.size}),tm}var rm,PM;function xK(){return PM||(PM=1,rm=function(i){return{iterator:i,next:i.next,done:!1}}),rm}var im,RM;function Ti(){if(RM)return im;RM=1;var i=fr(),e=Kt(),t=ft(),r=Tn(),n=xK(),s="Invalid size",o=RangeError,a=TypeError,u=Math.max,l=function(d,c){this.set=d,this.size=u(c,0),this.has=i(d.has),this.keys=i(d.keys)};return l.prototype={getIterator:function(){return n(e(t(this.keys,this.set)))},includes:function(d){return t(this.has,this.set,d)}},im=function(d){e(d);var c=+d.size;if(c!==c)throw new a(s);var h=r(c);if(h<0)throw new o(s);return new l(d,h)},im}var nm,qM;function DK(){if(qM)return nm;qM=1;var i=Oi(),e=Ii(),t=T1(),r=eo(),n=Ti(),s=Qs(),o=$i(),a=e.has,u=e.remove;return nm=function(d){var c=i(this),h=n(d),f=t(c);return r(c)<=h.size?s(c,function(v){h.includes(v)&&u(f,v)}):o(h.getIterator(),function(v){a(f,v)&&u(f,v)}),f},nm}var sm,CM;function Pi(){return CM||(CM=1,sm=function(){return!1}),sm}var xM;function MK(){if(xM)return wM;xM=1;var i=H(),e=DK(),t=se(),r=Pi(),n=!r("difference",function(o){return o.size===0}),s=n||t(function(){var o={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var l=u++>1;return a.has(1)&&a.clear(),{done:l,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return i({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),wM}var DM={},om,MM;function AK(){if(MM)return om;MM=1;var i=Oi(),e=Ii(),t=eo(),r=Ti(),n=Qs(),s=$i(),o=e.Set,a=e.add,u=e.has;return om=function(d){var c=i(this),h=r(d),f=new o;return t(c)>h.size?s(h.getIterator(),function(v){u(c,v)&&a(f,v)}):n(c,function(v){h.includes(v)&&a(f,v)}),f},om}var AM;function kK(){if(AM)return DM;AM=1;var i=H(),e=se(),t=AK(),r=Pi(),n=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return i({target:"Set",proto:!0,real:!0,forced:n},{intersection:t}),DM}var kM={},am,NM;function NK(){if(NM)return am;NM=1;var i=Oi(),e=Ii().has,t=eo(),r=Ti(),n=Qs(),s=$i(),o=g1();return am=function(u){var l=i(this),d=r(u);if(t(l)<=d.size)return n(l,function(h){if(d.includes(h))return!1},!0)!==!1;var c=d.getIterator();return s(c,function(h){if(e(l,h))return o(c,"normal",!1)})!==!1},am}var FM;function FK(){if(FM)return kM;FM=1;var i=H(),e=NK(),t=Pi(),r=!t("isDisjointFrom",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),kM}var BM={},um,jM;function BK(){if(jM)return um;jM=1;var i=Oi(),e=eo(),t=Qs(),r=Ti();return um=function(s){var o=i(this),a=r(s);return e(o)>a.size?!1:t(o,function(u){if(!a.includes(u))return!1},!0)!==!1},um}var LM;function jK(){if(LM)return BM;LM=1;var i=H(),e=BK(),t=Pi(),r=!t("isSubsetOf",function(n){return n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),BM}var zM={},lm,WM;function LK(){if(WM)return lm;WM=1;var i=Oi(),e=Ii().has,t=eo(),r=Ti(),n=$i(),s=g1();return lm=function(a){var u=i(this),l=r(a);if(t(u)<l.size)return!1;var d=l.getIterator();return n(d,function(c){if(!e(u,c))return s(d,"normal",!1)})!==!1},lm}var HM;function zK(){if(HM)return zM;HM=1;var i=H(),e=LK(),t=Pi(),r=!t("isSupersetOf",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),zM}var GM={},dm,UM;function WK(){if(UM)return dm;UM=1;var i=Oi(),e=Ii(),t=T1(),r=Ti(),n=$i(),s=e.add,o=e.has,a=e.remove;return dm=function(l){var d=i(this),c=r(l).getIterator(),h=t(d);return n(c,function(f){o(d,f)?a(h,f):s(h,f)}),h},dm}var cm,VM;function s5(){return VM||(VM=1,cm=function(i){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[i](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),cm}var KM;function HK(){if(KM)return GM;KM=1;var i=H(),e=WK(),t=s5(),r=Pi(),n=!r("symmetricDifference")||!t("symmetricDifference");return i({target:"Set",proto:!0,real:!0,forced:n},{symmetricDifference:e}),GM}var YM={},hm,XM;function GK(){if(XM)return hm;XM=1;var i=Oi(),e=Ii().add,t=T1(),r=Ti(),n=$i();return hm=function(o){var a=i(this),u=r(o).getIterator(),l=t(a);return n(u,function(d){e(l,d)}),l},hm}var ZM;function UK(){if(ZM)return YM;ZM=1;var i=H(),e=GK(),t=s5(),r=Pi(),n=!r("union")||!t("union");return i({target:"Set",proto:!0,real:!0,forced:n},{union:e}),YM}var fm,JM;function VK(){if(JM)return fm;JM=1,Mn(),CK(),MK(),kK(),FK(),jK(),zK(),HK(),UK(),w1();var i=he();return fm=i.Set,fm}var vm,QM;function KK(){if(QM)return vm;QM=1;var i=VK();return An(),vm=i,vm}var pm,eA;function YK(){return eA||(eA=1,pm=KK()),pm}var XK=YK(),mr=Y(XK),tA={},rA={},gm,iA;function ZK(){if(iA)return gm;iA=1;var i=oe(),e=_1(),t=fa().getWeakData,r=y1(),n=Kt(),s=_n(),o=He(),a=va(),u=Ar(),l=Ye(),d=wi(),c=d.set,h=d.getterFor,f=u.find,v=u.findIndex,g=i([].splice),_=0,y=function(m){return m.frozen||(m.frozen=new p)},p=function(){this.entries=[]},O=function(m,S){return f(m.entries,function($){return $[0]===S})};return p.prototype={get:function(m){var S=O(this,m);if(S)return S[1]},has:function(m){return!!O(this,m)},set:function(m,S){var $=O(this,m);$?$[1]=S:this.entries.push([m,S])},delete:function(m){var S=v(this.entries,function($){return $[0]===m});return~S&&g(this.entries,S,1),!!~S}},gm={getConstructor:function(m,S,$,w){var b=m(function(P,R){r(P,E),c(P,{type:S,id:_++,frozen:null}),s(R)||a(R,P[w],{that:P,AS_ENTRIES:$})}),E=b.prototype,I=h(S),T=function(P,R,C){var M=I(P),K=t(n(R),!0);return K===!0?y(M).set(R,C):K[M.id]=C,P};return e(E,{delete:function(P){var R=I(this);if(!o(P))return!1;var C=t(P);return C===!0?y(R).delete(P):C&&l(C,R.id)&&delete C[R.id]},has:function(R){var C=I(this);if(!o(R))return!1;var M=t(R);return M===!0?y(C).has(R):M&&l(M,C.id)}}),e(E,$?{get:function(R){var C=I(this);if(o(R)){var M=t(R);if(M===!0)return y(C).get(R);if(M)return M[C.id]}},set:function(R,C){return T(this,R,C)}}:{add:function(R){return T(this,R,!0)}}),b}},gm}var nA;function JK(){if(nA)return rA;nA=1;var i=xF(),e=we(),t=oe(),r=_1(),n=fa(),s=m1(),o=ZK(),a=He(),u=wi().enforce,l=se(),d=qF(),c=Object,h=Array.isArray,f=c.isExtensible,v=c.isFrozen,g=c.isSealed,_=c.freeze,y=c.seal,p=!e.ActiveXObject&&"ActiveXObject"in e,O,m=function(P){return function(){return P(this,arguments.length?arguments[0]:void 0)}},S=s("WeakMap",m,o),$=S.prototype,w=t($.set),b=function(){return i&&l(function(){var P=_([]);return w(new S,P,1),!v(P)})};if(d)if(p){O=o.getConstructor(m,"WeakMap",!0),n.enable();var E=t($.delete),I=t($.has),T=t($.get);r($,{delete:function(P){if(a(P)&&!f(P)){var R=u(this);return R.frozen||(R.frozen=new O),E(this,P)||R.frozen.delete(P)}return E(this,P)},has:function(R){if(a(R)&&!f(R)){var C=u(this);return C.frozen||(C.frozen=new O),I(this,R)||C.frozen.has(R)}return I(this,R)},get:function(R){if(a(R)&&!f(R)){var C=u(this);return C.frozen||(C.frozen=new O),I(this,R)?T(this,R):C.frozen.get(R)}return T(this,R)},set:function(R,C){if(a(R)&&!f(R)){var M=u(this);M.frozen||(M.frozen=new O),I(this,R)?w(this,R,C):M.frozen.set(R,C)}else w(this,R,C);return this}})}else b()&&r($,{set:function(R,C){var M;return h(R)&&(v(R)?M=_:g(R)&&(M=y)),w(this,R,C),M&&M(R),this}});return rA}var sA;function QK(){return sA||(sA=1,JK()),tA}var ym,oA;function eY(){if(oA)return ym;oA=1,Mn(),QK();var i=he();return ym=i.WeakMap,ym}var mm,aA;function tY(){if(aA)return mm;aA=1;var i=eY();return An(),mm=i,mm}var bm,uA;function rY(){return uA||(uA=1,bm=tY()),bm}var iY=rY(),to=Y(iY);function os(i,e,t){nY(i,e),e.set(i,t)}function nY(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function cb(i,e,t){return i.set(o5(i,e),t),t}function ve(i,e){return i.get(o5(i,e))}function o5(i,e,t){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function lA(i,e){const t=new mr;for(const r of e)i.has(r)||t.add(r);return t}var Mi=new to,xt=new to;class dA{constructor(){os(this,Mi,new mr),os(this,xt,new mr)}get size(){return ve(xt,this).size}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const n of t)ve(xt,this).add(n)}delete(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const n of t)ve(xt,this).delete(n)}clear(){ve(xt,this).clear()}getSelection(){return[...ve(xt,this)]}getChanges(){return{added:[...lA(ve(Mi,this),ve(xt,this))],deleted:[...lA(ve(xt,this),ve(Mi,this))],previous:[...new mr(ve(Mi,this))],current:[...new mr(ve(xt,this))]}}commit(){const e=this.getChanges();cb(Mi,this,ve(xt,this)),cb(xt,this,new mr(ve(Mi,this)));for(const t of e.added)t.select();for(const t of e.deleted)t.unselect();return e}}var Ur=new to,Vr=new to,_m=new to;class sY{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};os(this,Ur,new dA),os(this,Vr,new dA),os(this,_m,void 0),cb(_m,this,e)}get sizeNodes(){return ve(Ur,this).size}get sizeEdges(){return ve(Vr,this).size}getNodes(){return ve(Ur,this).getSelection()}getEdges(){return ve(Vr,this).getSelection()}addNodes(){ve(Ur,this).add(...arguments)}addEdges(){ve(Vr,this).add(...arguments)}deleteNodes(e){ve(Ur,this).delete(e)}deleteEdges(e){ve(Vr,this).delete(e)}clear(){ve(Ur,this).clear(),ve(Vr,this).clear()}commit(){const e={nodes:ve(Ur,this).commit(),edges:ve(Vr,this).commit()};for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ve(_m,this).call(this,e,...r),e}}class oY{constructor(e,t){this.body=e,this.canvas=t,this._selectionAccumulator=new sY,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Ve(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&qn(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),r!==void 0&&(t=this.selectObject(r)),this.body.emitter.emit("_requestRedraw")}return t}selectAdditionalOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);r!==void 0&&(t=!0,r.isSelected()===!0?this.deselectObject(r):this.selectObject(r),this.body.emitter.emit("_requestRedraw"))}return t}_initBaseEvent(e,t){const r={};return r.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},r.event=e,r}generateClickEvent(e,t,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const o=this._initBaseEvent(t,r);if(s===!0)o.nodes=[],o.edges=[];else{const a=this.getSelection();o.nodes=a.nodes,o.edges=a.edges}n!==void 0&&(o.previousSelection=n),e=="click"&&(o.items=this.getClickedItems(r)),t.controlEdge!==void 0&&(o.controlEdge=t.controlEdge),this.body.emitter.emit(e,o)}selectObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof _e?(t===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const t=[],r=this.body.nodes;for(let n=0;n<this.body.nodeIndices.length;n++){const s=this.body.nodeIndices[n];r[s].isOverlappingWith(e)&&t.push(s)}return t}_pointerToPositionObject(e){const t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}getNodeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this._pointerToPositionObject(e),n=this._getAllNodesOverlappingWith(r);if(n.length>0)return t===!0?this.body.nodes[n[n.length-1]]:n[n.length-1]}_getEdgesOverlappingWith(e,t){const r=this.body.edges;for(let n=0;n<this.body.edgeIndices.length;n++){const s=this.body.edgeIndices[n];r[s].isOverlappingWith(e)&&t.push(s)}}_getAllEdgesOverlappingWith(e){const t=[];return this._getEdgesOverlappingWith(e,t),t}getEdgeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this.canvas.DOMtoCanvas(e);let n=10,s=null;const o=this.body.edges;for(let a=0;a<this.body.edgeIndices.length;a++){const u=this.body.edgeIndices[a],l=o[u];if(l.connected){const d=l.from.x,c=l.from.y,h=l.to.x,f=l.to.y,v=l.edgeType.getDistanceToEdge(d,c,h,f,r.x,r.y);v<n&&(s=u,n=v)}}if(s!==null)return t===!0?this.body.edges[s]:s}_addToHover(e){e instanceof _e?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof _e?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let t=0;t<e.edges.length;t++){const r=e.edges[t];r.hover=!0,this._addToHover(r)}}emitBlurEvent(e,t,r){const n=this._initBaseEvent(e,t);r.hover===!0&&(r.hover=!1,r instanceof _e?(n.node=r.id,this.body.emitter.emit("blurNode",n)):(n.edge=r.id,this.body.emitter.emit("blurEdge",n)))}emitHoverEvent(e,t,r){const n=this._initBaseEvent(e,t);let s=!1;return r.hover===!1&&(r.hover=!0,this._addToHover(r),s=!0,r instanceof _e?(n.node=r.id,this.body.emitter.emit("hoverNode",n)):(n.edge=r.id,this.body.emitter.emit("hoverEdge",n))),s}hoverObject(e,t){let r=this.getNodeAt(t);r===void 0&&(r=this.getEdgeAt(t));let n=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(r===void 0||r instanceof _e&&r.id!=s||r instanceof Ir)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],n=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(n===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(r===void 0||r instanceof Ir&&r.id!=s||r instanceof _e&&!r.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],n=!0));if(r!==void 0){const s=Ce(this.hoverObj.edges).length,o=Ce(this.hoverObj.nodes).length,a=r instanceof Ir&&s===0&&o===0,u=r instanceof _e&&s===0&&o===0;(n||a||u)&&(n=this.emitHoverEvent(e,t,r)),r instanceof _e&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(r)}n===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,t){let r=!1;const n=this._selectionAccumulator.commit(),s={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,s),r=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,s),r=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),r=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),r=!0),r===!0&&this.generateClickEvent("select",t,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return bs(e=this._selectionAccumulator.getNodes()).call(e,t=>t.id)}getSelectedEdgeIds(){var e;return bs(e=this._selectionAccumulator.getEdges()).call(e,t=>t.id)}setSelection(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||t.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const r of e.nodes){const n=this.body.nodes[r];if(!n)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(n,t.highlightEdges)}if(e.edges)for(const r of e.edges){const n=this.body.edges[r];if(!n)throw new RangeError('Edge with id "'+r+'" not found');this.selectObject(n)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const t=this.canvas.DOMtoCanvas(e),r=[],n=this.body.nodeIndices,s=this.body.nodes;for(let u=n.length-1;u>=0;u--){const d=s[n[u]].getItemsOnPoint(t);r.push.apply(r,d)}const o=this.body.edgeIndices,a=this.body.edges;for(let u=o.length-1;u>=0;u--){const d=a[o[u]].getItemsOnPoint(t);r.push.apply(r,d)}return r}}var cA={},wm,hA;function aY(){if(hA)return wm;hA=1;var i=Pn(),e=Math.floor,t=function(r,n){var s=r.length;if(s<8)for(var o=1,a,u;o<s;){for(u=o,a=r[o];u&&n(r[u-1],a)>0;)r[u]=r[--u];u!==o++&&(r[u]=a)}else for(var l=e(s/2),d=t(i(r,0,l),n),c=t(i(r,l),n),h=d.length,f=c.length,v=0,g=0;v<h||g<f;)r[v+g]=v<h&&g<f?n(d[v],c[g])<=0?d[v++]:c[g++]:v<h?d[v++]:c[g++];return r};return wm=t,wm}var Em,fA;function uY(){if(fA)return Em;fA=1;var i=wn(),e=i.match(/firefox\/(\d+)/i);return Em=!!e&&+e[1],Em}var Sm,vA;function lY(){if(vA)return Sm;vA=1;var i=wn();return Sm=/MSIE|Trident/.test(i),Sm}var Om,pA;function dY(){if(pA)return Om;pA=1;var i=wn(),e=i.match(/AppleWebKit\/(\d+)\./);return Om=!!e&&+e[1],Om}var gA;function cY(){if(gA)return cA;gA=1;var i=H(),e=oe(),t=fr(),r=It(),n=vr(),s=wF(),o=Pt(),a=se(),u=aY(),l=Cn(),d=uY(),c=lY(),h=Ls(),f=dY(),v=[],g=e(v.sort),_=e(v.push),y=a(function(){v.sort(void 0)}),p=a(function(){v.sort(null)}),O=l("sort"),m=!a(function(){if(h)return h<70;if(!(d&&d>3)){if(c)return!0;if(f)return f<603;var w="",b,E,I,T;for(b=65;b<76;b++){switch(E=String.fromCharCode(b),b){case 66:case 69:case 70:case 72:I=3;break;case 68:case 71:I=4;break;default:I=2}for(T=0;T<47;T++)v.push({k:E+T,v:I})}for(v.sort(function(P,R){return R.v-P.v}),T=0;T<v.length;T++)E=v[T].k.charAt(0),w.charAt(w.length-1)!==E&&(w+=E);return w!=="DGBEFHACIJK"}}),S=y||!p||!O||!m,$=function(w){return function(b,E){return E===void 0?-1:b===void 0?1:w!==void 0?+w(b,E)||0:o(b)>o(E)?1:-1}};return i({target:"Array",proto:!0,forced:S},{sort:function(b){b!==void 0&&t(b);var E=r(this);if(m)return b===void 0?g(E):g(E,b);var I=[],T=n(E),P,R;for(R=0;R<T;R++)R in E&&_(I,E[R]);for(u(I,$(b)),P=n(I),R=0;R<P;)E[R]=I[R++];for(;R<T;)s(E,R++);return E}}),cA}var Im,yA;function hY(){if(yA)return Im;yA=1,cY();var i=Xe();return Im=i("Array","sort"),Im}var $m,mA;function fY(){if(mA)return $m;mA=1;var i=ke(),e=hY(),t=Array.prototype;return $m=function(r){var n=r.sort;return r===t||i(t,r)&&n===t.sort?e:n},$m}var Tm,bA;function vY(){if(bA)return Tm;bA=1;var i=fY();return Tm=i,Tm}var Pm,_A;function pY(){return _A||(_A=1,Pm=vY()),Pm}var gY=pY(),Vi=Y(gY),wA={},Rm,EA;function yY(){if(EA)return Rm;EA=1;var i=Pe(),e=se(),t=oe(),r=h1(),n=Hs(),s=Bt(),o=ea().f,a=t(o),u=t([].push),l=i&&e(function(){var c=Object.create(null);return c[2]=2,!a(c,2)}),d=function(c){return function(h){for(var f=s(h),v=n(f),g=l&&r(f)===null,_=v.length,y=0,p=[],O;_>y;)O=v[y++],(!i||(g?O in f:a(f,O)))&&u(p,c?[O,f[O]]:f[O]);return p}};return Rm={entries:d(!0),values:d(!1)},Rm}var SA;function mY(){if(SA)return wA;SA=1;var i=H(),e=yY().values;return i({target:"Object",stat:!0},{values:function(r){return e(r)}}),wA}var qm,OA;function bY(){if(OA)return qm;OA=1,mY();var i=he();return qm=i.Object.values,qm}var Cm,IA;function _Y(){if(IA)return Cm;IA=1;var i=bY();return Cm=i,Cm}var xm,$A;function wY(){return $A||($A=1,xm=_Y()),xm}var EY=wY(),SY=Y(EY),TA={},Dm,PA;function OY(){if(PA)return Dm;PA=1;var i=fr(),e=It(),t=ta(),r=vr(),n=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(u,l,d,c){var h=e(u),f=t(h),v=r(h);if(i(l),v===0&&d<2)throw new n(s);var g=a?v-1:0,_=a?-1:1;if(d<2)for(;;){if(g in f){c=f[g],g+=_;break}if(g+=_,a?g<0:v<=g)throw new n(s)}for(;a?g>=0:v>g;g+=_)g in f&&(c=l(c,f[g],g,h));return c}};return Dm={left:o(!1),right:o(!0)},Dm}var Mm,RA;function IY(){if(RA)return Mm;RA=1;var i=kF();return Mm=i==="NODE",Mm}var qA;function $Y(){if(qA)return TA;qA=1;var i=H(),e=OY().left,t=Cn(),r=Ls(),n=IY(),s=!n&&r>79&&r<83,o=s||!t("reduce");return i({target:"Array",proto:!0,forced:o},{reduce:function(u){var l=arguments.length;return e(this,u,l,l>1?arguments[1]:void 0)}}),TA}var Am,CA;function TY(){if(CA)return Am;CA=1,$Y();var i=Xe();return Am=i("Array","reduce"),Am}var km,xA;function PY(){if(xA)return km;xA=1;var i=ke(),e=TY(),t=Array.prototype;return km=function(r){var n=r.reduce;return r===t||i(t,r)&&n===t.reduce?e:n},km}var Nm,DA;function RY(){if(DA)return Nm;DA=1;var i=PY();return Nm=i,Nm}var Fm,MA;function qY(){return MA||(MA=1,Fm=RY()),Fm}var CY=qY(),a5=Y(CY);class u5{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,t,r),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,t){this.fake_use(e,t),this.abstract()}shift(e,t){this.fake_use(e,t),this.abstract()}}class xY extends u5{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.x=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}sort(e){Vi(e).call(e,function(t,r){return t.x-r.x})}fix(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}shift(e,t){this.layout.body.nodes[e].x+=t}}class DY extends u5{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.y=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}sort(e){Vi(e).call(e,function(t,r){return t.y-r.y})}fix(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}shift(e,t){this.layout.body.nodes[e].y+=t}}var AA={},kA;function MY(){if(kA)return AA;kA=1;var i=H(),e=Ar().every,t=Cn(),r=t("every");return i({target:"Array",proto:!0,forced:!r},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),AA}var Bm,NA;function AY(){if(NA)return Bm;NA=1,MY();var i=Xe();return Bm=i("Array","every"),Bm}var jm,FA;function kY(){if(FA)return jm;FA=1;var i=ke(),e=AY(),t=Array.prototype;return jm=function(r){var n=r.every;return r===t||i(t,r)&&n===t.every?e:n},jm}var Lm,BA;function NY(){if(BA)return Lm;BA=1;var i=kY();return Lm=i,Lm}var zm,jA;function FY(){return jA||(jA=1,zm=NY()),zm}var BY=FY(),l5=Y(BY);function jY(i,e){const t=new mr;return be(i).call(i,r=>{var n;be(n=r.edges).call(n,s=>{s.connected&&t.add(s)})}),be(t).call(t,r=>{const n=r.from.id,s=r.to.id;e[n]==null&&(e[n]=0),(e[s]==null||e[n]>=e[s])&&(e[s]=e[n]+1)}),e}function LY(i){return d5(e=>{var t,r;return l5(t=pr(r=e.edges).call(r,n=>i.has(n.toId))).call(t,n=>n.to===e)},(e,t)=>t>e,"from",i)}function zY(i){return d5(e=>{var t,r;return l5(t=pr(r=e.edges).call(r,n=>i.has(n.toId))).call(t,n=>n.from===e)},(e,t)=>t<e,"to",i)}function d5(i,e,t,r){var n;const s=rs(null),o=a5(n=[...QF(r).call(r)]).call(n,(c,h)=>c+1+h.edges.length,0),a=t+"Id",u=t==="to"?1:-1;for(const[c,h]of r){if(!r.has(c)||!i(h))continue;s[c]=0;const f=[h];let v=0,g;for(;g=f.pop();){var l,d;if(!r.has(c))continue;const _=s[g.id]+u;if(be(l=pr(d=g.edges).call(d,y=>y.connected&&y.to!==y.from&&y[t]!==g&&r.has(y.toId)&&r.has(y.fromId))).call(l,y=>{const p=y[a],O=s[p];(O==null||e(_,O))&&(s[p]=_,f.push(y[t]))}),v>o)return jY(r,s);++v}}return s}class WY{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,t){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),this.parentReference[t]===void 0&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,t){t!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const t={},r=n=>{if(t[n]!==void 0)return t[n];let s=this.levels[n];if(this.childrenReference[n]){const o=this.childrenReference[n];if(o.length>0)for(let a=0;a<o.length;a++)s=Math.max(s,r(o[a]))}return t[n]=s,s};return r(e)}levelDownstream(e,t){this.levels[t.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const t=new E1;let r=0;const n=Vi(e=[...new mr(SY(this.levels))]).call(e,(s,o)=>s-o);for(const s of n)t.set(s,r++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=t.get(this.levels[s]))}getTreeSize(e,t){let r=1e9,n=-1e9,s=1e9,o=-1e9;for(const a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===t){const u=e[a];r=Math.min(u.x,r),n=Math.max(u.x,n),s=Math.min(u.y,s),o=Math.max(u.y,o)}return{min_x:r,max_x:n,min_y:s,max_y:o}}hasSameParent(e,t){const r=this.parentReference[e.id],n=this.parentReference[t.id];if(r===void 0||n===void 0)return!1;for(let s=0;s<r.length;s++)for(let o=0;o<n.length;o++)if(r[s]==n[o])return!0;return!1}inSameSubNetwork(e,t){return this.trees[e.id]===this.trees[t.id]}getLevels(){return Ce(this.distributionOrdering)}addToOrdering(e,t){this.distributionOrdering[t]===void 0&&(this.distributionOrdering[t]=[]);let r=!1;const n=this.distributionOrdering[t];for(const s in n)if(n[s]===e){r=!0;break}r||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}class HY{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+db()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Ve(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,t){if(e!==void 0){const r=this.options.hierarchical,n=r.enabled;if(qn(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),gt(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),r.enabled===!0)return n===!0&&this.body.emitter.emit("refresh",!0),r.direction==="RL"||r.direction==="DU"?r.levelSeparation>0&&(r.levelSeparation*=-1):r.levelSeparation<0&&(r.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(n===!0)return this.body.emitter.emit("refresh"),pe(t,this.optionsBackup)}return t}_resetRNG(e){this.initialRandomSeed=e,this._rng=la(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const t=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:t.enabled===void 0?!0:t.enabled,solver:"hierarchicalRepulsion"},t.enabled=t.enabled===void 0?!0:t.enabled,t.solver=t.solver||"barnesHut"):typeof e.physics=="object"?(t.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let r=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:r};else{const n=e.edges.smooth;n.type!==void 0&&n.type!=="dynamic"&&(r=n.type),this.optionsBackup.edges={smooth:{enabled:n.enabled===void 0?!0:n.enabled,type:n.type===void 0?"dynamic":n.type,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection===void 0?!1:n.forceDirection}},e.edges.smooth={enabled:n.enabled===void 0?!0:n.enabled,type:r,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection===void 0?!1:n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",r)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const t=e.length+50;for(let r=0;r<e.length;r++){const n=e[r],s=2*Math.PI*this._rng();n.x===void 0&&(n.x=t*Math.cos(s)),n.y===void 0&&(n.y=t*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let t=0;for(let r=0;r<e.length;r++)this.body.nodes[e[r]].predefinedPosition===!0&&(t+=1);if(t<.5*e.length){let n=0;const s=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const u=e.length;for(;e.length>s&&n<=10;){n+=1;const l=e.length;n%3===0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o);const d=e.length;if(l==d&&n%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*u)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const a=70;for(let u=0;u<e.length;u++){const l=this.body.nodes[e[u]];l.predefinedPosition===!1&&(l.x+=(.5-this._rng())*a,l.y+=(.5-this._rng())*a)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=nt.getRangeCore(this.body.nodes,this.body.nodeIndices),t=nt.findCenter(e);for(let r=0;r<this.body.nodeIndices.length;r++){const n=this.body.nodes[this.body.nodeIndices[r]];n.x-=t.x,n.y-=t.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let t=0;t<this.body.nodeIndices.length;t++)this.body.nodes[this.body.nodeIndices[t]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,t,r=!1,n=!1;this.lastNodeOnLevel={},this.hierarchical=new WY;for(t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&(e=this.body.nodes[t],e.options.level!==void 0?(r=!0,this.hierarchical.levels[t]=e.options.level):n=!0);if(n===!0&&r===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(n===!0){const o=this.options.hierarchical.sortMethod;o==="hubsize"?this._determineLevelsByHubsize():o==="directed"?this._determineLevelsDirected():o==="custom"&&this._determineLevelsCustomCallback()}for(const o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let t=!1;const r={},n=()=>{const y=o();let p=0;for(let O=0;O<y.length-1;O++){const m=y[O].max-y[O+1].min;p+=m+this.options.hierarchical.treeSpacing,s(O+1,p)}},s=(y,p)=>{const O=this.hierarchical.trees;for(const m in O)Object.prototype.hasOwnProperty.call(O,m)&&O[m]===y&&this.direction.shift(m,p)},o=()=>{const y=[];for(let p=0;p<this.hierarchical.numTrees();p++)y.push(this.direction.getTreeSize(p));return y},a=(y,p)=>{if(!p[y.id]&&(p[y.id]=!0,this.hierarchical.childrenReference[y.id])){const O=this.hierarchical.childrenReference[y.id];if(O.length>0)for(let m=0;m<O.length;m++)a(this.body.nodes[O[m]],p)}},u=function(y){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,O=1e9,m=1e9,S=1e9,$=-1e9;for(const w in y)if(Object.prototype.hasOwnProperty.call(y,w)){const b=e.body.nodes[w],E=e.hierarchical.levels[b.id],I=e.direction.getPosition(b),[T,P]=e._getSpaceAroundNode(b,y);O=Math.min(T,O),m=Math.min(P,m),E<=p&&(S=Math.min(I,S),$=Math.max(I,$))}return[S,$,O,m]},l=(y,p)=>{const O=this.hierarchical.getMaxLevel(y.id),m=this.hierarchical.getMaxLevel(p.id);return Math.min(O,m)},d=(y,p,O)=>{const m=this.hierarchical;for(let S=0;S<p.length;S++){const $=p[S],w=m.distributionOrdering[$];if(w.length>1)for(let b=0;b<w.length-1;b++){const E=w[b],I=w[b+1];m.hasSameParent(E,I)&&m.inSameSubNetwork(E,I)&&y(E,I,O)}}},c=function(y,p){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const m=e.direction.getPosition(y),S=e.direction.getPosition(p),$=Math.abs(S-m),w=e.options.hierarchical.nodeSpacing;if($>w){const b={},E={};a(y,b),a(p,E);const I=l(y,p),T=u(b,I),P=u(E,I),R=T[1],C=P[0],M=P[2];if(Math.abs(R-C)>w){let j=R-C+w;j<-M+w&&(j=-M+w),j<0&&(e._shiftBlock(p.id,j),t=!0,O===!0&&e._centerParent(p))}}},h=(y,p)=>{const O=p.id,m=p.edges,S=this.hierarchical.levels[p.id],$=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,w={},b=[];for(let M=0;M<m.length;M++){const K=m[M];if(K.toId!=K.fromId){const j=K.toId==O?K.from:K.to;w[m[M].id]=j,this.hierarchical.levels[j.id]<S&&b.push(K)}}const E=(M,K)=>{let j=0;for(let J=0;J<K.length;J++)if(w[K[J].id]!==void 0){const te=this.direction.getPosition(w[K[J].id])-M;j+=te/Math.sqrt(te*te+$)}return j},I=(M,K)=>{let j=0;for(let J=0;J<K.length;J++)if(w[K[J].id]!==void 0){const te=this.direction.getPosition(w[K[J].id])-M;j-=$*Math.pow(te*te+$,-1.5)}return j},T=(M,K)=>{let j=this.direction.getPosition(p);const J={};for(let te=0;te<M;te++){const ce=E(j,K),W=I(j,K),ue=40,fe=Math.max(-ue,Math.min(ue,Math.round(ce/W)));if(j=j-fe,J[j]!==void 0)break;J[j]=te}return j},P=M=>{const K=this.direction.getPosition(p);if(r[p.id]===void 0){const ue={};a(p,ue),r[p.id]=ue}const j=u(r[p.id]),J=j[2],te=j[3],ce=M-K;let W=0;ce>0?W=Math.min(ce,te-this.options.hierarchical.nodeSpacing):ce<0&&(W=-Math.min(-ce,J-this.options.hierarchical.nodeSpacing)),W!=0&&(this._shiftBlock(p.id,W),t=!0)},R=M=>{const K=this.direction.getPosition(p),[j,J]=this._getSpaceAroundNode(p),te=M-K;let ce=K;te>0?ce=Math.min(K+(J-this.options.hierarchical.nodeSpacing),M):te<0&&(ce=Math.max(K-(j-this.options.hierarchical.nodeSpacing),M)),ce!==K&&(this.direction.setPosition(p,ce),t=!0)};let C=T(y,b);P(C),C=T(y,m),R(C)},f=y=>{let p=this.hierarchical.getLevels();p=Ui(p).call(p);for(let O=0;O<y;O++){t=!1;for(let m=0;m<p.length;m++){const S=p[m],$=this.hierarchical.distributionOrdering[S];for(let w=0;w<$.length;w++)h(1e3,$[w])}if(t!==!0)break}},v=y=>{let p=this.hierarchical.getLevels();p=Ui(p).call(p);for(let O=0;O<y&&(t=!1,d(c,p,!0),t===!0);O++);},g=()=>{for(const y in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,y)&&this._centerParent(this.body.nodes[y])},_=()=>{let y=this.hierarchical.getLevels();y=Ui(y).call(y);for(let p=0;p<y.length;p++){const O=y[p],m=this.hierarchical.distributionOrdering[O];for(let S=0;S<m.length;S++)this._centerParent(m[S])}};this.options.hierarchical.blockShifting===!0&&(v(5),g()),this.options.hierarchical.edgeMinimization===!0&&f(20),this.options.hierarchical.parentCentralization===!0&&_(),n()}_getSpaceAroundNode(e,t){let r=!0;t===void 0&&(r=!1);const n=this.hierarchical.levels[e.id];if(n!==void 0){const s=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[n];let u=1e9,l=1e9;if(s!==0){const d=a[s-1];if(r===!0&&t[d.id]===void 0||r===!1){const c=this.direction.getPosition(d);u=o-c}}if(s!=a.length-1){const d=a[s+1];if(r===!0&&t[d.id]===void 0||r===!1){const c=this.direction.getPosition(d);l=Math.min(l,c-o)}}return[u,l]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const t=this.hierarchical.parentReference[e.id];for(let r=0;r<t.length;r++){const n=t[r],s=this.body.nodes[n],o=this.hierarchical.childrenReference[n];if(o!==void 0){const a=this._getCenterPosition(o),u=this.direction.getPosition(s),[l,d]=this._getSpaceAroundNode(s),c=u-a;(c<0&&Math.abs(c)<d-this.options.hierarchical.nodeSpacing||c>0&&Math.abs(c)<l-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,a)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var t;let n=Ce(e[r]);n=this._indexArrayToNodes(n),Vi(t=this.direction).call(t,n);let s=0;for(let o=0;o<n.length;o++){const a=n[o];if(this.positionedNodes[a.id]===void 0){const u=this.options.hierarchical.nodeSpacing;let l=u*s;s>0&&(l=this.direction.getPosition(n[o-1])+u),this.direction.setPosition(a,l,r),this._validatePositionAndContinue(a,r,l),s++}}}}_placeBranchNodes(e,t){var r;const n=this.hierarchical.childrenReference[e];if(n===void 0)return;const s=[];for(let a=0;a<n.length;a++)s.push(this.body.nodes[n[a]]);Vi(r=this.direction).call(r,s);for(let a=0;a<s.length;a++){const u=s[a],l=this.hierarchical.levels[u.id];if(l>t&&this.positionedNodes[u.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let c;a===0?c=this.direction.getPosition(this.body.nodes[e]):c=this.direction.getPosition(s[a-1])+d,this.direction.setPosition(u,c,l),this._validatePositionAndContinue(u,l,c)}else return}const o=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],o,t)}_validatePositionAndContinue(e,t,r){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[t]!==void 0){const n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(r-n<this.options.hierarchical.nodeSpacing){const s=n+this.options.hierarchical.nodeSpacing-r,o=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(o.withChild,s)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}_indexArrayToNodes(e){const t=[];for(let r=0;r<e.length;r++)t.push(this.body.nodes[e[r]]);return t}_getDistribution(){const e={};let t,r;for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){r=this.body.nodes[t];const n=this.hierarchical.levels[t]===void 0?0:this.hierarchical.levels[t];this.direction.fix(r,n),e[n]===void 0&&(e[n]={}),e[n][t]=r}return e}_getActiveEdges(e){const t=[];return ie(e.edges,r=>{var n;Se(n=this.body.edgeIndices).call(n,r.id)!==-1&&t.push(r)}),t}_getHubSizes(){const e={},t=this.body.nodeIndices;ie(t,n=>{const s=this.body.nodes[n],o=this._getActiveEdges(s).length;e[o]=!0});const r=[];return ie(e,n=>{r.push(Number(n))}),Vi(r).call(r,function(n,s){return s-n}),r}_determineLevelsByHubsize(){const e=(r,n)=>{this.hierarchical.levelDownstream(r,n)},t=this._getHubSizes();for(let r=0;r<t.length;++r){const n=t[r];if(n===0)break;ie(this.body.nodeIndices,s=>{const o=this.body.nodes[s];n===this._getActiveEdges(o).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const t=function(n,s,o){},r=(n,s,o)=>{let a=this.hierarchical.levels[n.id];a===void 0&&(a=this.hierarchical.levels[n.id]=1e5);const u=t(nt.cloneOptions(n,"node"),nt.cloneOptions(s,"node"),nt.cloneOptions(o,"edge"));this.hierarchical.levels[s.id]=a+u};this._crawlNetwork(r),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const t=a5(e=this.body.nodeIndices).call(e,(r,n)=>(r.set(n,this.body.nodes[n]),r),new E1);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=zY(t):this.hierarchical.levels=LY(t),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(t,r)=>{this.hierarchical.levels[r.id]>this.hierarchical.levels[t.id]&&this.hierarchical.addRelation(t.id,r.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0;const r={},n=(s,o)=>{if(r[s.id]===void 0){this.hierarchical.setTreeIndex(s,o),r[s.id]=!0;let a;const u=this._getActiveEdges(s);for(let l=0;l<u.length;l++){const d=u[l];d.connected===!0&&(d.toId==s.id?a=d.from:a=d.to,s.id!=a.id&&(e(s,a,d),n(a,o)))}}};if(t===void 0){let s=0;for(let o=0;o<this.body.nodeIndices.length;o++){const a=this.body.nodeIndices[o];if(r[a]===void 0){const u=this.body.nodes[a];n(u,s),s+=1}}}else{const s=this.body.nodes[t];if(s===void 0){console.error("Node not found:",t);return}n(s)}}_shiftBlock(e,t){const r={},n=s=>{if(r[s])return;r[s]=!0,this.direction.shift(s,t);const o=this.hierarchical.childrenReference[s];if(o!==void 0)for(let a=0;a<o.length;a++)n(o[a])};n(e)}_findCommonParent(e,t){const r={},n=(o,a)=>{const u=this.hierarchical.parentReference[a];if(u!==void 0)for(let l=0;l<u.length;l++){const d=u[l];o[d]=!0,n(o,d)}},s=(o,a)=>{const u=this.hierarchical.parentReference[a];if(u!==void 0)for(let l=0;l<u.length;l++){const d=u[l];if(o[d]!==void 0)return{foundParent:d,withChild:a};const c=s(o,d);if(c.foundParent!==null)return c}return{foundParent:null,withChild:a}};return n(r,e),s(r,t)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new xY(this):this.direction=new DY(this)}_getCenterPosition(e){let t=1e9,r=-1e9;for(let n=0;n<e.length;n++){let s;if(e[n].id!==void 0)s=e[n];else{const a=e[n];s=this.body.nodes[a]}const o=this.direction.getPosition(s);t=Math.min(t,o),r=Math.max(r,o)}return .5*(t+r)}}class GY{constructor(e,t,r,n){var s,o;this.body=e,this.canvas=t,this.selectionHandler=r,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Ve(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",A(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",A(o=this._restore).call(o,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,t,r){t!==void 0&&(t.locale!==void 0?this.options.locale=t.locale:this.options.locale=r.locale,t.locales!==void 0?this.options.locales=t.locales:this.options.locales=r.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,pe(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const r=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),s=r+n,o=this.options.locales[this.options.locale];let a=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),a=!0),this.options.addEdge!==!1&&(a===!0?this._createSeperator(1):a=!0,this._createAddEdgeButton(o)),r===1&&typeof this.options.editNode=="function"?(a===!0?this._createSeperator(2):a=!0,this._createEditNodeButton(o)):n===1&&r===0&&this.options.editEdge!==!1&&(a===!0?this._createSeperator(3):a=!0,this._createEditEdgeButton(o)),s!==0&&(r>0&&this.options.deleteNode!==!1?(a===!0&&this._createSeperator(4),this._createDeleteButton(o)):r===0&&this.options.deleteEdge!==!1&&(a===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindElementEvents(this.closeDiv,A(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",A(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t;const r=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(r),this._createSeperator(),this._createDescription(r.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,A(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",A(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const t=pe({},e.options,!1);if(t.x=e.x,t.y=e.y,this.options.editNode.length===2)this.options.editNode(t,r=>{r!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(r),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,t,r,n,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var o;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,A(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",A(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",A(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",A(r=this._dragControlNode).call(r,this)),this._temporaryBindUI("onRelease",A(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",A(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const o=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(o.from.id,o.to.id);return}if(this.guiEnabled===!0){var e;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,A(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var t,r,n,s;const o=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(o.from.x,o.from.y),u=this._getNewTargetNode(o.to.x,o.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(u.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[u.id]=u,this.body.nodeIndices.push(u.id),this._temporaryBindUI("onTouch",A(t=this._controlNodeTouch).call(t,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",A(r=this._controlNodeDragStart).call(r,this)),this._temporaryBindUI("onDrag",A(n=this._controlNodeDrag).call(n,this)),this._temporaryBindUI("onDragEnd",A(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",l=>{const d=o.edgeType.findBorderPositions(l);a.selected===!1&&(a.x=d.from.x,a.y=d.from.y),u.selected===!1&&(u.x=d.to.x,u.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),t=this.selectionHandler.getSelectedEdgeIds();let r;if(e.length>0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(r=this.options.deleteNode)}else t.length>0&&typeof this.options.deleteEdge=="function"&&(r=this.options.deleteEdge);if(typeof r=="function"){const n={nodes:e,edges:t};if(r.length===2)r(n,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(t),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,t;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(t=this.options.locales[this.options.locale])===null||t===void 0?void 0:t.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,t){const r=pe({},this.options.controlNodeStyle);r.id="targetNode"+ss(),r.hidden=!1,r.physics=!1,r.x=e,r.y=t;const n=this.body.functions.createNode(r);return n.shape.boundingBox={left:e,right:e,top:t,bottom:t},n}_createEditButton(){var e;this._clean(),this.manipulationDOM={},gr(this.editModeDiv);const t=this.options.locales[this.options.locale],r=this._createButton("editMode","vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(r),this._bindElementEvents(r,A(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(gr(this.editModeDiv),gr(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const t of Or(e=this._domEventListenerCleanupQueue).call(e,0)){var e;t()}}_removeManipulationDOM(){this._clean(),gr(this.manipulationDiv),gr(this.editModeDiv),gr(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var t;const r=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,A(t=this.addNodeMode).call(t,this))}_createAddEdgeButton(e){var t;const r=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,A(t=this.addEdgeMode).call(t,this))}_createEditNodeButton(e){var t;const r=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,A(t=this.editNode).call(t,this))}_createEditEdgeButton(e){var t;const r=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,A(t=this.editEdgeMode).call(t,this))}_createDeleteButton(e){var t;let r;this.options.rtl?r="vis-delete-rtl":r="vis-delete";const n=this._createButton("delete",r,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,A(t=this.deleteSelected).call(t,this))}_createBackButton(e){var t;const r=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,A(t=this.showManipulatorToolbar).call(t,this))}_createButton(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=n,this.manipulationDOM[e+"Label"].innerText=r,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}_temporaryBindUI(e,t){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+e5(Ce(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const t=this.temporaryEventFunctions[e].event,r=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,r)}this.temporaryEventFunctions=[]}_bindElementEvents(e,t){const r=new Wi(e,{});Ao(r,t),this._domEventListenerCleanupQueue.push(()=>{r.destroy()});const n=s=>{let{keyCode:o,key:a}=s;(a==="Enter"||a===" "||o===13||o===32)&&t()};e.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",n,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const o=Se(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(o!==-1){var t;Or(t=this.body.edgeIndices).call(t,o,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var r;delete this.body.nodes[this.temporaryIds.nodes[s]];const o=Se(r=this.body.nodeIndices).call(r,this.temporaryIds.nodes[s]);if(o!==-1){var n;Or(n=this.body.nodeIndices).call(n,o,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ve({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),r=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const o=r.isOverlappingWith(t),a=n.isOverlappingWith(t);o===!0?(this.selectedControlNode=r,s.edgeType.from=r):a===!0&&(this.selectedControlNode=n,s.edgeType.to=n),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const t=this.body.functions.getPointer(e.center),r=this.canvas.DOMtoCanvas(t);this.selectedControlNode!==void 0?(this.selectedControlNode.x=r.x,this.selectedControlNode.y=r.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),n=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let a=s.length-1;a>=0;a--)if(s[a]!==this.selectedControlNode.id){o=this.body.nodes[s[a]];break}if(o!==void 0&&this.selectedControlNode!==void 0)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,n.to.id):this._performEditEdge(n.from.id,o.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ve({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const t=this.lastTouch,r=this.selectionHandler.getNodeAt(t);if(r!==void 0)if(r.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const n=this._getNewTargetNode(r.x,r.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);const s=this.body.functions.createEdge({id:"connectionEdge"+ss(),from:r.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let u=s.length-1;u>=0;u--){var a;if(Se(a=this.temporaryIds.nodes).call(a,s[u])===-1){o=this.body.nodes[s[u]];break}}if(e.controlEdge={from:n,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),this.temporaryIds.nodes[0]!==void 0){const u=this.body.nodes[this.temporaryIds.nodes[0]];u.x=this.canvas._XconvertDOMtoCanvas(t.x),u.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let u=s.length-1;u>=0;u--){var a;if(Se(a=this.temporaryIds.nodes).call(a,s[u])===-1){o=this.body.nodes[s[u]];break}}this._cleanupTemporaryNodesAndEdges(),o!==void 0&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[n]!==void 0&&this.body.nodes[o.id]!==void 0&&this._performAddEdge(n,o.id)),e.controlEdge={from:n,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const t=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,t,void 0,!0)}_performAddNode(e){const t={id:ss(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(t,r=>{r!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(t),this.showManipulatorToolbar()}_performAddEdge(e,t){const r={from:e,to:t};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(r,n=>{n!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,t){const r={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let n=this.options.editEdge;if(typeof n=="object"&&(n=n.editWithoutDrag),typeof n=="function")if(n.length===2)n(r,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[r.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const k="string",D="boolean",q="number",Xn="array",z="object",c5="dom",UY="any",Wm=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Hm={borderWidth:{number:q},borderWidthSelected:{number:q,undefined:"undefined"},brokenImage:{string:k,undefined:"undefined"},chosen:{label:{boolean:D,function:"function"},node:{boolean:D,function:"function"},__type__:{object:z,boolean:D}},color:{border:{string:k},background:{string:k},highlight:{border:{string:k},background:{string:k},__type__:{object:z,string:k}},hover:{border:{string:k},background:{string:k},__type__:{object:z,string:k}},__type__:{object:z,string:k}},opacity:{number:q,undefined:"undefined"},fixed:{x:{boolean:D},y:{boolean:D},__type__:{object:z,boolean:D}},font:{align:{string:k},color:{string:k},size:{number:q},face:{string:k},background:{string:k},strokeWidth:{number:q},strokeColor:{string:k},vadjust:{number:q},multi:{boolean:D,string:k},bold:{color:{string:k},size:{number:q},face:{string:k},mod:{string:k},vadjust:{number:q},__type__:{object:z,string:k}},boldital:{color:{string:k},size:{number:q},face:{string:k},mod:{string:k},vadjust:{number:q},__type__:{object:z,string:k}},ital:{color:{string:k},size:{number:q},face:{string:k},mod:{string:k},vadjust:{number:q},__type__:{object:z,string:k}},mono:{color:{string:k},size:{number:q},face:{string:k},mod:{string:k},vadjust:{number:q},__type__:{object:z,string:k}},__type__:{object:z,string:k}},group:{string:k,number:q,undefined:"undefined"},heightConstraint:{minimum:{number:q},valign:{string:k},__type__:{object:z,boolean:D,number:q}},hidden:{boolean:D},icon:{face:{string:k},code:{string:k},size:{number:q},color:{string:k},weight:{string:k,number:q},__type__:{object:z}},id:{string:k,number:q},image:{selected:{string:k,undefined:"undefined"},unselected:{string:k,undefined:"undefined"},__type__:{object:z,string:k}},imagePadding:{top:{number:q},right:{number:q},bottom:{number:q},left:{number:q},__type__:{object:z,number:q}},label:{string:k,undefined:"undefined"},labelHighlightBold:{boolean:D},level:{number:q,undefined:"undefined"},margin:{top:{number:q},right:{number:q},bottom:{number:q},left:{number:q},__type__:{object:z,number:q}},mass:{number:q},physics:{boolean:D},scaling:{min:{number:q},max:{number:q},label:{enabled:{boolean:D},min:{number:q},max:{number:q},maxVisible:{number:q},drawThreshold:{number:q},__type__:{object:z,boolean:D}},customScalingFunction:{function:"function"},__type__:{object:z}},shadow:{enabled:{boolean:D},color:{string:k},size:{number:q},x:{number:q},y:{number:q},__type__:{object:z,boolean:D}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:D,array:Xn},borderRadius:{number:q},interpolation:{boolean:D},useImageSize:{boolean:D},useBorderWithImage:{boolean:D},coordinateOrigin:{string:["center","top-left"]},__type__:{object:z}},size:{number:q},title:{string:k,dom:c5,undefined:"undefined"},value:{number:q,undefined:"undefined"},widthConstraint:{minimum:{number:q},maximum:{number:q},__type__:{object:z,boolean:D,number:q}},x:{number:q},y:{number:q},__type__:{object:z}},VY={configure:{enabled:{boolean:D},filter:{boolean:D,string:k,array:Xn,function:"function"},container:{dom:c5},showButton:{boolean:D},__type__:{object:z,boolean:D,string:k,array:Xn,function:"function"}},edges:{arrows:{to:{enabled:{boolean:D},scaleFactor:{number:q},type:{string:Wm},imageHeight:{number:q},imageWidth:{number:q},src:{string:k},__type__:{object:z,boolean:D}},middle:{enabled:{boolean:D},scaleFactor:{number:q},type:{string:Wm},imageWidth:{number:q},imageHeight:{number:q},src:{string:k},__type__:{object:z,boolean:D}},from:{enabled:{boolean:D},scaleFactor:{number:q},type:{string:Wm},imageWidth:{number:q},imageHeight:{number:q},src:{string:k},__type__:{object:z,boolean:D}},__type__:{string:["from","to","middle"],object:z}},endPointOffset:{from:{number:q},to:{number:q},__type__:{object:z,number:q}},arrowStrikethrough:{boolean:D},background:{enabled:{boolean:D},color:{string:k},size:{number:q},dashes:{boolean:D,array:Xn},__type__:{object:z,boolean:D}},chosen:{label:{boolean:D,function:"function"},edge:{boolean:D,function:"function"},__type__:{object:z,boolean:D}},color:{color:{string:k},highlight:{string:k},hover:{string:k},inherit:{string:["from","to","both"],boolean:D},opacity:{number:q},__type__:{object:z,string:k}},dashes:{boolean:D,array:Xn},font:{color:{string:k},size:{number:q},face:{string:k},background:{string:k},strokeWidth:{number:q},strokeColor:{string:k},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:q},multi:{boolean:D,string:k},bold:{color:{string:k},size:{number:q},face:{string:k},mod:{string:k},vadjust:{number:q},__type__:{object:z,string:k}},boldital:{color:{string:k},size:{number:q},face:{string:k},mod:{string:k},vadjust:{number:q},__type__:{object:z,string:k}},ital:{color:{string:k},size:{number:q},face:{string:k},mod:{string:k},vadjust:{number:q},__type__:{object:z,string:k}},mono:{color:{string:k},size:{number:q},face:{string:k},mod:{string:k},vadjust:{number:q},__type__:{object:z,string:k}},__type__:{object:z,string:k}},hidden:{boolean:D},hoverWidth:{function:"function",number:q},label:{string:k,undefined:"undefined"},labelHighlightBold:{boolean:D},length:{number:q,undefined:"undefined"},physics:{boolean:D},scaling:{min:{number:q},max:{number:q},label:{enabled:{boolean:D},min:{number:q},max:{number:q},maxVisible:{number:q},drawThreshold:{number:q},__type__:{object:z,boolean:D}},customScalingFunction:{function:"function"},__type__:{object:z}},selectionWidth:{function:"function",number:q},selfReferenceSize:{number:q},selfReference:{size:{number:q},angle:{number:q},renderBehindTheNode:{boolean:D},__type__:{object:z}},shadow:{enabled:{boolean:D},color:{string:k},size:{number:q},x:{number:q},y:{number:q},__type__:{object:z,boolean:D}},smooth:{enabled:{boolean:D},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:q},forceDirection:{string:["horizontal","vertical","none"],boolean:D},__type__:{object:z,boolean:D}},title:{string:k,undefined:"undefined"},width:{number:q},widthConstraint:{maximum:{number:q},__type__:{object:z,boolean:D,number:q}},value:{number:q,undefined:"undefined"},__type__:{object:z}},groups:{useDefaultGroups:{boolean:D},__any__:Hm,__type__:{object:z}},interaction:{dragNodes:{boolean:D},dragView:{boolean:D},hideEdgesOnDrag:{boolean:D},hideEdgesOnZoom:{boolean:D},hideNodesOnDrag:{boolean:D},hover:{boolean:D},keyboard:{enabled:{boolean:D},speed:{x:{number:q},y:{number:q},zoom:{number:q},__type__:{object:z}},bindToWindow:{boolean:D},autoFocus:{boolean:D},__type__:{object:z,boolean:D}},multiselect:{boolean:D},navigationButtons:{boolean:D},selectable:{boolean:D},selectConnectedEdges:{boolean:D},hoverConnectedEdges:{boolean:D},tooltipDelay:{number:q},zoomView:{boolean:D},zoomSpeed:{number:q},__type__:{object:z}},layout:{randomSeed:{undefined:"undefined",number:q,string:k},improvedLayout:{boolean:D},clusterThreshold:{number:q},hierarchical:{enabled:{boolean:D},levelSeparation:{number:q},nodeSpacing:{number:q},treeSpacing:{number:q},blockShifting:{boolean:D},edgeMinimization:{boolean:D},parentCentralization:{boolean:D},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:z,boolean:D}},__type__:{object:z}},manipulation:{enabled:{boolean:D},initiallyActive:{boolean:D},addNode:{boolean:D,function:"function"},addEdge:{boolean:D,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:z,boolean:D,function:"function"}},deleteNode:{boolean:D,function:"function"},deleteEdge:{boolean:D,function:"function"},controlNodeStyle:Hm,__type__:{object:z,boolean:D}},nodes:Hm,physics:{enabled:{boolean:D},barnesHut:{theta:{number:q},gravitationalConstant:{number:q},centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:z}},forceAtlas2Based:{theta:{number:q},gravitationalConstant:{number:q},centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:z}},repulsion:{centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},nodeDistance:{number:q},damping:{number:q},__type__:{object:z}},hierarchicalRepulsion:{centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},nodeDistance:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:z}},maxVelocity:{number:q},minVelocity:{number:q},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:D},iterations:{number:q},updateInterval:{number:q},onlyDynamicEdges:{boolean:D},fit:{boolean:D},__type__:{object:z,boolean:D}},timestep:{number:q},adaptiveTimestep:{boolean:D},wind:{x:{number:q},y:{number:q},__type__:{object:z}},__type__:{object:z,boolean:D}},autoResize:{boolean:D},clickToUse:{boolean:D},locale:{string:k},locales:{__any__:{any:UY},__type__:{object:z}},height:{string:k},width:{string:k},__type__:{object:z}},h5={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},KY=(i,e,t)=>{var r;return!!(is(i).call(i,"physics")&&is(r=h5.physics.solver).call(r,e)&&t.physics.solver!==e&&e!=="wind")};class YY{constructor(){}getDistances(e,t,r){const n={},s=e.edges;for(let a=0;a<t.length;a++){const u=t[a],l={};n[u]=l;for(let d=0;d<t.length;d++)l[t[d]]=a==d?0:1e9}for(let a=0;a<r.length;a++){const u=s[r[a]];u.connected===!0&&n[u.fromId]!==void 0&&n[u.toId]!==void 0&&(n[u.fromId][u.toId]=1,n[u.toId][u.fromId]=1)}const o=t.length;for(let a=0;a<o;a++){const u=t[a],l=n[u];for(let d=0;d<o-1;d++){const c=t[d],h=n[c];for(let f=d+1;f<o;f++){const v=t[f],g=n[v],_=Math.min(h[v],h[u]+l[v]);h[v]=_,g[c]=_}}}return n}}class XY{constructor(e,t,r){this.body=e,this.springLength=t,this.springConstant=r,this.distanceSolver=new YY}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const n=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();const s=.01,o=1;let a=0;const u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),l=5;let d=1e9,c=0,h=0,f=0,v=0,g=0;for(;d>s&&a<u;)for(a+=1,[c,d,h,f]=this._getHighestEnergyNode(r),v=d,g=0;v>o&&g<l;)g+=1,this._moveNode(c,h,f),[v,h,f]=this._getEnergy(c)}_getHighestEnergyNode(e){const t=this.body.nodeIndices,r=this.body.nodes;let n=0,s=t[0],o=0,a=0;for(let u=0;u<t.length;u++){const l=t[u];if(r[l].predefinedPosition!==!0||r[l].isCluster===!0&&e===!0||r[l].options.fixed.x!==!0||r[l].options.fixed.y!==!0){const[d,c,h]=this._getEnergy(l);n<d&&(n=d,s=l,o=c,a=h)}}return[s,n,o,a]}_getEnergy(e){const[t,r]=this.E_sums[e];return[Math.sqrt(t**2+r**2),t,r]}_moveNode(e,t,r){const n=this.body.nodeIndices,s=this.body.nodes;let o=0,a=0,u=0;const l=s[e].x,d=s[e].y,c=this.K_matrix[e],h=this.L_matrix[e];for(let m=0;m<n.length;m++){const S=n[m];if(S!==e){const $=s[S].x,w=s[S].y,b=c[S],E=h[S],I=1/((l-$)**2+(d-w)**2)**1.5;o+=b*(1-E*(d-w)**2*I),a+=b*(E*(l-$)*(d-w)*I),u+=b*(1-E*(l-$)**2*I)}}const f=o,v=a,g=t,_=u,y=r,p=(g/f+y/v)/(v/f-_/v),O=-(v*p+g)/f;s[e].x+=O,s[e].y+=p,this._updateE_matrix(e)}_createL_matrix(e){const t=this.body.nodeIndices,r=this.springLength;this.L_matrix=[];for(let n=0;n<t.length;n++){this.L_matrix[t[n]]={};for(let s=0;s<t.length;s++)this.L_matrix[t[n]][t[s]]=r*e[t[n]][t[s]]}}_createK_matrix(e){const t=this.body.nodeIndices,r=this.springConstant;this.K_matrix=[];for(let n=0;n<t.length;n++){this.K_matrix[t[n]]={};for(let s=0;s<t.length;s++)this.K_matrix[t[n]][t[s]]=r*e[t[n]][t[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(let r=0;r<e.length;r++)this.E_matrix[e[r]]=[];for(let r=0;r<e.length;r++){const n=e[r],s=t[n].x,o=t[n].y;let a=0,u=0;for(let l=r;l<e.length;l++){const d=e[l];if(d!==n){const c=t[d].x,h=t[d].y,f=1/Math.sqrt((s-c)**2+(o-h)**2);this.E_matrix[n][l]=[this.K_matrix[n][d]*(s-c-this.L_matrix[n][d]*(s-c)*f),this.K_matrix[n][d]*(o-h-this.L_matrix[n][d]*(o-h)*f)],this.E_matrix[d][r]=this.E_matrix[n][l],a+=this.E_matrix[n][l][0],u+=this.E_matrix[n][l][1]}}this.E_sums[n]=[a,u]}}_updateE_matrix(e){const t=this.body.nodeIndices,r=this.body.nodes,n=this.E_matrix[e],s=this.K_matrix[e],o=this.L_matrix[e],a=r[e].x,u=r[e].y;let l=0,d=0;for(let c=0;c<t.length;c++){const h=t[c];if(h!==e){const f=n[c],v=f[0],g=f[1],_=r[h].x,y=r[h].y,p=1/Math.sqrt((a-_)**2+(u-y)**2),O=s[h]*(a-_-o[h]*(a-_)*p),m=s[h]*(u-y-o[h]*(u-y)*p);n[c]=[O,m],l+=O,d+=m;const S=this.E_sums[h];S[0]+=O-v,S[1]+=m-g}}this.E_sums[e]=[l,d]}}function L(i,e,t){var r,n,s,o;if(!(this instanceof L))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:xH,clickToUse:!1},Ve(this.options,this.defaultOptions),this.body={container:i,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:A(r=this.on).call(r,this),off:A(n=this.off).call(n,this),emit:A(s=this.emit).call(s,this),once:A(o=this.once).call(o,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new LH(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new c7,this.canvas=new IK(this.body),this.selectionHandler=new oY(this.body,this.canvas),this.interactionHandler=new RK(this.body,this.canvas,this.selectionHandler),this.view=new TK(this.body,this.canvas),this.renderer=new _K(this.body,this.canvas),this.physics=new aK(this.body),this.layoutEngine=new HY(this.body),this.clustering=new bK(this.body),this.manipulation=new GY(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new EV(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new XV(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new XY(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}WN(L.prototype);L.prototype.setOptions=function(i){if(i===null&&(i=void 0),i!==void 0){if(f9.validate(i,VY)===!0&&console.error("%cErrors have been found in the supplied options object.",mF),qn(["locale","locales","clickToUse"],this.options,i),i.locale!==void 0&&(i.locale=BH(i.locales||this.options.locales,i.locale)),i=this.layoutEngine.setOptions(i.layout,i),this.canvas.setOptions(i),this.groups.setOptions(i.groups),this.nodesHandler.setOptions(i.nodes),this.edgesHandler.setOptions(i.edges),this.physics.setOptions(i.physics),this.manipulation.setOptions(i.manipulation,i,this.options),this.interactionHandler.setOptions(i.interaction),this.renderer.setOptions(i.interaction),this.selectionHandler.setOptions(i.interaction),i.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in i&&(this.configurator||(this.configurator=new c9(this,this.body.container,h5,this.canvas.pixelRatio,KY)),this.configurator.setOptions(i.configure)),this.configurator&&this.configurator.options.enabled===!0){const r={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};pe(r.nodes,this.nodesHandler.options),pe(r.edges,this.edgesHandler.options),pe(r.layout,this.layoutEngine.options),pe(r.interaction,this.selectionHandler.options),pe(r.interaction,this.renderer.options),pe(r.interaction,this.interactionHandler.options),pe(r.manipulation,this.manipulation.options),pe(r.physics,this.physics.options),pe(r.global,this.canvas.options),pe(r.global,this.options),this.configurator.setModuleOptions(r)}i.clickToUse!==void 0?i.clickToUse===!0?this.activator===void 0&&(this.activator=new d9(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};L.prototype._updateVisibleIndices=function(){const i=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&!this.clustering._isClusteredNode(t)&&i[t].options.hidden===!1&&this.body.nodeIndices.push(i[t].id);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t],n=i[r.fromId],s=i[r.toId],o=n!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(t)&&r.options.hidden===!1&&o&&n.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(r.id)}};L.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};L.prototype.setData=function(i){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),i&&i.dot&&(i.nodes||i.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(i&&i.options),i&&i.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=fH(i.dot);this.setData(e);return}else if(i&&i.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=_H(i.gephi);this.setData(e);return}else this.nodesHandler.setData(i&&i.nodes,!0),this.edgesHandler.setData(i&&i.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};L.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const i in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,i)&&delete this.body.nodes[i];for(const i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&delete this.body.edges[i];gr(this.body.container)};L.prototype._updateValueRange=function(i){let e,t,r,n=0;for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){const s=i[e].getValue();s!==void 0&&(t=t===void 0?s:Math.min(s,t),r=r===void 0?s:Math.max(s,r),n+=s)}if(t!==void 0&&r!==void 0)for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&i[e].setValueRange(t,r,n)};L.prototype.isActive=function(){return!this.activator||this.activator.active};L.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};L.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};L.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};L.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};L.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};L.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};L.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};L.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};L.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};L.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};L.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};L.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};L.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};L.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};L.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};L.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};L.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};L.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};L.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};L.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};L.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};L.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};L.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};L.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};L.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};L.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};L.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};L.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};L.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};L.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};L.prototype.getConnectedNodes=function(i){return this.body.nodes[i]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};L.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};L.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};L.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};L.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};L.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};L.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};L.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};L.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};L.prototype.getNodeAt=function(){const i=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i};L.prototype.getEdgeAt=function(){const i=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i};L.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};L.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};L.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};L.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};L.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};L.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};L.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};L.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};L.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};L.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};L.prototype.getOptionsFromConfigurator=function(){let i={};return this.configurator&&(i=this.configurator.getOptions.apply(this.configurator)),i};const ZY="dataflow",JY={icon:{x:-363,y:4},"client-bundle":{x:-218,y:-53},"ssr-payload":{x:-218,y:57},"server-endpoint":{x:36,y:7},"server-bundle":{x:33,y:87},iconify:{x:294,y:9},cache:{x:-111,y:8}},QY={x:.35838123136591093,y:-6.656909090361324},eX=1,tX={id:ZY,pos:JY,view:QY,scale:eX},rX=f5({dataflow:tX}),iX=LA({__name:"SlidevGraph",props:{id:{},items:{},editable:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},focusScale:{default:1.5},clicks:{type:[Number,Boolean],default:!1},backgroundColor:{}},setup(i,{expose:e}){const t=i,{isDark:r}=P5(),{$clicks:n,$scale:s}=hb(),o=P1(),a=P1(!1),u=Hr(()=>rX[t.id]||{}),l=Hr(()=>t.backgroundColor||(r.value?"#050505":"#ffff")),d=Hr(()=>r.value?.7:.6);function c(p,O=!1){const m=Q(p.color||"#888"),[S,$,w]=m.oklch(),b=(E=1)=>Q.oklch(d.value,$,w).mix(l.value,1-E).hex();return{id:p.name,label:p.display||p.name,...p,...p.dashed?{shapeProperties:{borderDashes:[2,2]}}:{},font:{color:b(p.faded?.75:1)},color:{border:b(p.faded?.05:p.dashed?.2:.5),background:b(p.faded?.02:(p.dashed,.05)),highlight:{border:b(p.dashed||p.faded?.2:.5),background:b(.1)},hover:{border:b(p.dashed||p.faded?.2:.5),background:b(.07)}},borderWidth:O?4:1,borderWidthSelected:O?4:2}}function h(p){const O=Q(p.color||"#333"),[m,S,$]=O.oklch();return[...(p.from||[]).map(w=>({id:`${p.name}|from|${w}`,from:w,to:p.name,color:Q.oklch(d.value,S,$).mix(l.value,.8).hex(),arrows:{to:{enabled:!0,type:"arrow"}}})),...(p.to||[]).map(w=>({id:`${p.name}|to|${w}`,from:p.name,to:w,color:Q.oklch(d.value,S,$).mix(l.value,.8).hex(),arrows:{to:{enabled:!0,type:"arrow"}}})),...(p.related||[]).map(w=>({id:`${p.name}|related|${w}`,from:w,to:p.name,color:Q.oklch(d.value,S,$).mix(l.value,.95).hex(),dashes:[3,3],physics:!1}))]}const f=Hr(()=>t.clicks===!1?9999999:Math.max(0,n.value-t.clicks)),v=Hr(()=>t.items.filter(p=>p.clicks!==!1));e({count:Hr(()=>t.items.length),stops:Hr(()=>v.value.length)});function g(){if(t.clicks===!1)return t.items;const p=[];let O=0;for(const m of t.items)m.clicks===!1?p.push(m):m.clicks==null?(O+=1,O<=f.value&&p.push(m)):(O=Math.max(O,m.clicks),m.clicks<=f.value&&p.push(m));return p}function _(){t.editable}v5(o,()=>{a.value=!1});function y(){t.items.forEach(E=>{u.value.pos?.[E.name]&&Object.assign(E,u.value.pos[E.name])});const p=g(),O=new en(p.map(E=>c(E))),m=new en(p.flatMap(E=>h(E))),S=new L(o.value,{nodes:O,edges:m},{nodes:{labelHighlightBold:!1,shape:"box",margin:{top:10,right:10,bottom:8,left:10}},edges:{smooth:{enabled:!0,type:"discrete",roundness:.5},width:1,hoverWidth:0},physics:{enabled:!1},interaction:{dragNodes:!!a.value,dragView:!!a.value,zoomView:!!a.value,hover:!0}});S.interactionHandler.getPointer=function(E){const I=this.canvas.frame.canvas.getBoundingClientRect();return{x:(E.x-I.left)/s.value,y:(E.y-I.top)/s.value}};function $(){a.value}S.on("stabilized",()=>$()),S.on("dragEnd",()=>$()),S.on("click",E=>{if(!a.value&&E.nodes.length===1){const I=t.items.find(T=>T.name===E.nodes[0]);I?.link&&window.open(I.link,"_blank")}}),S.on("hoverNode",()=>{o.value&&(o.value.style.cursor="pointer")}),S.on("blurNode",()=>{o.value&&(o.value.style.cursor="default")}),R1(()=>{S.setOptions({interaction:{dragNodes:a.value,dragView:a.value,zoomView:a.value,hover:!0}})});function w(){S.redraw(),u.value.view&&S.moveTo({animation:!1,position:u.value.view,scale:u.value.scale})}w(),I5(()=>{w(),setTimeout(()=>{w()},100)});let b=0;R1(()=>{const E=g();if(O.update(E.map((I,T)=>c(I,t.clicks!==!1&&T===E.length-1))),m.update(E.flatMap(I=>h(I))),O.remove(O.getIds().filter(I=>!E.some(T=>T.name===I))),m.remove(m.getIds().filter(I=>!E.some(T=>I.startsWith(`${T.name}|`)))),!!t.focus){if(E.length>=g().length||t.clicks===!1)S.moveTo({position:S.getViewPosition(),scale:S.getScale()}),S.fit({animation:b?{duration:1500,easingFunction:"easeInOutQuad"}:void 0});else{const I=E[E.length-1];if(I){const T=S.getViewPosition(),P=Math.sqrt((T.x-I.x)**2+(T.y-I.y)**2);(P>200||!b||+f.value==1)&&(S.moveTo({position:S.getViewPosition(),scale:S.getScale()}),S.focus(I.name,{scale:t.focusScale,animation:b?{duration:600+P*2,easingFunction:"easeInOutQuad"}:!1}))}}b+=1}})}return p5(()=>{y()}),(p,O)=>(Zn(),go("div",{ref_key:"container",ref:o,class:g5(["slidev-graph",a.value?"editing":""]),onDblclick:_},null,34))}}),nX={relative:""},sX={absolute:"","w-1px":"","h-full":"","top-0":"","bottom-0":"","left-80":"",border:"r dashed gray/30"},oX={absolute:"","w-1px":"","h-full":"","top-0":"","bottom-0":"","left-152":"",border:"r dashed gray/30"},aX={absolute:"","top-2":"","left-86":"","text-center":""},uX={absolute:"","top-2":"","left-158":"","text-center":""},lX=LA({__name:"DataflowGraph",setup(i){hb();const e=[{name:"icon",display:"<Icon>",color:"#893842",shape:"circle",to:["client-bundle","ssr-payload","cache"]},{name:"ssr-payload",display:"SSR Payload",color:"#138442"},{name:"client-bundle",display:"Client Bundle",color:"#498424"},{name:"server-endpoint",display:"Server Endpoint",to:["server-bundle","iconify"],color:"#080752"},{name:"server-bundle",display:"Server Bundle",color:"#401408"},{name:"cache",display:"Cache",to:["server-endpoint"],related:["ssr-payload"]},{name:"iconify",display:"Iconify API",color:"#108598"}];return(t,r)=>{const n=iX,s=y5("click");return Zn(),go("div",nX,[ro(at("div",sX,null,512),[[s,4]]),ro(at("div",oX,null,512),[[s,7]]),r[2]||(r[2]=at("div",{absolute:"","top-2":"","left-10":"","text-center":""},[at("div",{flex:"~ gap-1 items-center justify-center"},[at("div",{"i-ph-globe-duotone":"","text-lg":""}),Oa(" Client ")]),at("div",{op50:"","text-sm":""}," Instant rendering with minimal bundle ")],-1)),ro((Zn(),go("div",aX,r[0]||(r[0]=[at("div",{flex:"~ gap-1 items-center justify-center"},[at("div",{"i-ph-dresser-duotone":"","text-lg":""}),Oa(" Server ")],-1),at("div",{op50:"","text-sm":""}," Dynamic icons with larger collections ",-1)]))),[[s,4]]),ro((Zn(),go("div",uX,r[1]||(r[1]=[at("div",{flex:"~ gap-1 items-center justify-center"},[at("div",{"i-ph-network-duotone":"","text-lg":""}),Oa(" Remote ")],-1),at("div",{op50:"","text-sm":""}," Serve as many icons as possible ",-1)]))),[[s,7]]),zA(n,{id:"dataflow","h-70":"",clicks:0,items:e})])}}}),SX={__name:"slides.md__slidev_18",setup(i){const{$clicksContext:e,$frontmatter:t}=hb();return e.setup(),(r,n)=>{const s=lX;return Zn(),m5(T5,_5(w5(q1($5)(q1(t),17))),{default:b5(()=>[n[0]||(n[0]=at("h1",null,"Data Flow",-1)),n[1]||(n[1]=at("p",null,"Load icons efficiently while supporting dynamic icons",-1)),zA(s,{"mt-15":""})]),_:1,__:[0,1]},16)}}};export{SX as default};
