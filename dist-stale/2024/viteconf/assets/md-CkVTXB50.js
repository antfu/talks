import{ai as L,al as D,am as P}from"./index-B1BguL1s.js";import{d as z,L as E,O as F,b as I,o as f,F as G,aJ as V,h as p,e as S,aL as b,aM as O,ah as d,w as C,g as e,f as v,ad as i,n as _,T as x,v as R,x as j}from"./modules/vue-DXH9I1ED.js";import{u as M,f as J}from"./slidev/context-C0fwlwvz.js";import{I as U}from"./slidev/default-CN7xJX4b.js";import"./modules/shiki-DvV3-yGf.js";const q=z({__name:"VClickGap",props:{size:{type:[String,Number],default:1}},setup(y){const u=y,{$clicksContext:a}=M(),n=L();let m=+u.size;return Number.isNaN(m)&&(console.warn(`[slidev] Invalid size for VClickGap: ${u.size}`),m=1),E(()=>{const t=a.currentOffset+m-1;a.register(n,{max:t,delta:m})}),F(()=>{a.unregister(n)}),(t,c)=>(f(),I(G))}}),$=["ul","ol"],H=z({props:{depth:{type:[Number,String],default:1},every:{type:[Number,String],default:1},at:{type:[Number,String],default:"+1"},hide:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},handleSpecialElements:{type:Boolean,default:!0}},render(){const y=+this.every,u=D(this.at),a=typeof u=="string";let n=this.$slots.default?.();if(u==null||!n)return n;const m=V("click"),t=(r,s)=>d(r,[[m,s,"",{hide:this.hide,fade:this.fade}]]),c=r=>r.flatMap(s=>b(s)&&typeof s.type=="symbol"&&Array.isArray(s.children)?c(s.children):[s]);n=c(P(n));const o=(r,s=1)=>c(r).map(l=>{if(!b(l))return l;if($.includes(l.type)&&Array.isArray(l.children)){const h=g(l.children,s+1);return p(l,{},h)}return p(l)});let B=1,k=0;const g=(r,s=1)=>c(r).map(l=>{if(!b(l)||l.type===O)return l;const h=+u+Math.ceil(B++/y)-1;let w;s<+this.depth&&Array.isArray(l.children)?w=p(l,{},o(l.children,s)):w=p(l);const A=h-k;return k=h,t(w,a?A>=0?`+${A}`:`${A}`:h)}),N=()=>S(q,{size:+u+Math.ceil((B-1)/y)-1-k});if(this.handleSpecialElements){if(n.length===1&&$.includes(n[0].type)&&Array.isArray(n[0].children))return p(n[0],{},[...g(n[0].children),N()]);if(n.length===1&&n[0].type==="table"){const r=n[0];if(Array.isArray(r.children))return p(r,{},r.children.map(s=>b(s)?s.type==="tbody"&&Array.isArray(s.children)?p(s,{},[...g(s.children),N()]):p(s):s))}}return[...g(n),N()]}}),K="/2024/viteconf/breaking-changes-floors.png",Q="/2024/viteconf/breaking-changes-stairs-right.png",W="/2024/viteconf/breaking-changes-stairs-left.png",X={"font-hand":"",absolute:"","left-23":"","top-12":"","text-2xl":"","text-yellow":""},Y={"font-hand":"",absolute:"","right-0":"","top--6":"","text-2xl":"","text-orange":""},Z={src:Q,absolute:"","inset-0":""},tt={src:W,absolute:"","inset-0":""},et={flex:"~ gap-2 items-center","text-yellow3":"","mt-8":"",mb2:"","text-xl":""},st={flex:"~ gap-2 items-center","text-blue":"","mt-8":"",mb2:"","text-xl":""},it={__name:"slides.md__slidev_19",setup(y){const{$clicksContext:u,$clicks:a,$frontmatter:n}=M();return u.setup(),(m,t)=>{const c=H,o=V("click");return f(),I(U,R(j(x(J)(x(n),18))),{default:C(()=>[t[9]||(t[9]=e("h1",null,"Progressive on Breaking Changes",-1)),d((f(),v("p",null,t[0]||(t[0]=[i("Two ways of make breaking changes easier",-1)]))),[[o,3]]),d((f(),v("div",{absolute:"","left-29":"","top-35":"","w-80":"",transition:"","duration-800":"",class:_(x(a)<=3?"translate-x-50 translate-y-10 scale-150":"")},[t[3]||(t[3]=e("img",{src:K,absolute:"","inset-0":"",op75:""},null,-1)),t[4]||(t[4]=e("div",{"font-hand":"",absolute:"","left-0":"","top-39":"","text-2xl":""},"v1.0",-1)),d((f(),v("div",X,t[1]||(t[1]=[i("v1.x",-1)]))),[[o,7]]),e("div",{"font-hand":"",absolute:"","right-0":"","top--6":"","text-2xl":"",transition:"","duration-800":"",class:_(x(a)>=10?"translate-x--22 translate-y-25 text-blue":"")},"v2.0",2),d((f(),v("div",Y,t[2]||(t[2]=[i("v3.0",-1)]))),[[o,10]]),d(e("img",Z,null,512),[[o,3]]),d(e("img",tt,null,512),[[o,2]])],2)),[[o,1]]),e("div",{absolute:"","left-15":"","bottom-10":"",transition:"","duration-800":"",class:_(x(a)<=3?"translate-x-20 translate-y--13  scale-120":"")},[d((f(),v("div",et,t[5]||(t[5]=[e("div",{"i-ph-escalator-down-duotone":"","text-2xl":"","scale-x--100":""},null,-1),e("span",null,"Forward Compatibility",-1)]))),[[o,2]]),S(c,{at:"5"},{default:C(()=>t[6]||(t[6]=[e("ul",null,[e("li",null,[i("Compatible with the "),e("span",{class:"text-yellow font-bold"},"future"),i(" versions")]),e("li",null,[i("Introduce the "),e("code",null,"experimental"),i(" or "),e("code",null,"future"),i(" flags")]),e("li",null,"Make future behavior opt-in today")],-1)])),_:1,__:[6]})],2),e("div",{absolute:"","left-120":"","top-30":"",transition:"","duration-800":"",class:_(x(a)<=3?"translate-x-35 translate-y-35 scale-120":"")},[d((f(),v("div",st,t[7]||(t[7]=[e("div",{"i-ph-escalator-up-duotone":"","text-2xl":""},null,-1),e("span",null,"Backward Compatibility",-1)]))),[[o,3]]),S(c,{at:"9"},{default:C(()=>t[8]||(t[8]=[e("ul",null,[e("li",null,[i("Compatible with the "),e("span",{class:"text-blue font-bold"},"previous"),i(" versions")]),e("li",null,"Deprecate first, print warnings, remove later")],-1)])),_:1,__:[8]})],2)]),_:1,__:[9]},16)}}};export{it as default};
