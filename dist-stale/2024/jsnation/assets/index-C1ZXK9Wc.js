const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/md-DXfQJMmQ.js","assets/modules/vue-ReWj9XgL.js","assets/slidev/center-CHOhUlI1.js","assets/slidev/context-CqS_QOO3.js","assets/monaco/bundled-types-0KcpNAMS.js","assets/modules/file-saver-DnRyLYBS.js","assets/monaco/bundled-types-DRtF_Vm3.css","assets/modules/shiki-rsGswgUT.js","assets/modules/shiki-CozCpemh.css","assets/md-BTXCv1S4.js","assets/slidev/intro-C5iol-6y.js","assets/md-DiyHjPHG.js","assets/md-ws7oQfmc.js","assets/md-D4l5mr1y.js","assets/slidev/quote-DU1d8VqE.js","assets/md-DuO7cjT0.js","assets/md-CXFebNac.js","assets/slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-3HFhlQOz.js","assets/modules/unplugin-icons-CsqaSTKY.js","assets/slidev/VClicks-QHL6nQmc.js","assets/slidev/default-B6r7F7U_.js","assets/md-BwAgbBIo.js","assets/md-Dzg4iQTN.css","assets/md-CHzNHGuk.js","assets/md-BIrybajJ.js","assets/slidev/fact-ClGBFJhp.js","assets/md-ajKbAlZY.js","assets/slidev/VClick-D4HY1L7K.js","assets/md-COspDR16.css","assets/md-Cty3WRy8.js","assets/Repo-Bqt1Qhub.js","assets/md-JxZK8tki.js","assets/md-BIb0Zbun.js","assets/md-aXZBeqiy.js","assets/md-BSpLmxtN.js","assets/md-zEgDHhOF.js","assets/md-C5oRMI0T.js","assets/md-Dz73MOzk.js","assets/md-j1XcocyH.js","assets/md-DdWVSEFE.js","assets/md-1uu27KMT.js","assets/md-DJ5ClqTP.js","assets/slidev/entry-_iP3jf0A.js","assets/entry-DKBEYRvL.css","assets/slidev/overview-D9AzSgUq.js","assets/slidev/NoteDisplay.vue_vue_type_style_index_0_lang-DkqtcL1G.js","assets/NoteDisplay-DlY48q_E.css","assets/SlideWrapper-L6YzL3fl.js","assets/SlideWrapper-DOHuTB8o.css","assets/slidev/IconButton.vue_vue_type_script_setup_true_lang-Cn_VQJp8.js","assets/slidev/notes-CoOkIjyq.js","assets/slidev/presenter-C9H4ISSR.js","assets/slidev/shortcuts-FJ7C80xY.js","assets/shortcuts-CojLsgTv.css","assets/slidev/DrawingControls.vue_vue_type_style_index_0_lang-Bdy-HwcS.js","assets/DrawingControls-Cxk9a9ub.css","assets/presenter-BSm347B1.css","assets/slidev/play-DcW2xZAH.js","assets/play-D_7yfuao.css","assets/slidev/404-B5RRgsMd.js","assets/404-_5Gr6e_7.css"])))=>i.map(i=>d[i]);
import{H as sn,I as mo,J as yo,K as Ts,r as O,G as Ke,L as vo,M as ko,N as wo,O as $s,D as se,z as b,P as Cs,Q as $,R as bo,S as _o,f as on,o as Lt,t as So,d as As,i as Mo,F as Oo,g as Hn,T,U as bn,V as Lo,W as Rt,p as Eo,X as To,Y as $o,Z as Co,_ as Ao,$ as Po,A as q,a0 as Io,E as xo,C as _n,a1 as jo,a2 as Ps,a3 as Ro,a4 as Do,a5 as Is,b as No,a as Ho,a6 as Fo,a7 as Vo,a8 as zo,a9 as Wo,aa as qo,ab as Bo,ac as Jo,c as Uo}from"./modules/vue-ReWj9XgL.js";import{s as Ko,c as rn,_ as E,r as Fn,u as Go,a as B,b as Qo,d as Yo,e as Zo,f as Bt,g as Xo}from"./monaco/bundled-types-0KcpNAMS.js";import{T as ei}from"./modules/shiki-rsGswgUT.js";import"./modules/file-saver-DnRyLYBS.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();const ti=[],ni=new Set(["link","style","script","noscript"]),si=new Set(["title","titleTemplate","script","style","noscript"]),Vn=new Set(["base","meta","link","style","script","noscript"]),oi=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),ii=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),ri=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),ai=new Set(["templateParams","htmlAttrs","bodyAttrs"]),li=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);function an(n,e={},t){for(const s in n){const o=n[s],i=t?`${t}:${s}`:s;typeof o=="object"&&o!==null?an(o,e,i):typeof o=="function"&&(e[i]=o)}return e}const ci={run:n=>n()},ui=()=>ci,xs=typeof console.createTask<"u"?console.createTask:ui;function fi(n,e){const t=e.shift(),s=xs(t);return n.reduce((o,i)=>o.then(()=>s.run(()=>i(...e))),Promise.resolve())}function di(n,e){const t=e.shift(),s=xs(t);return Promise.all(n.map(o=>s.run(()=>o(...e))))}function Jt(n,e){for(const t of[...n])t(e)}class hi{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,s={}){if(!e||typeof t!="function")return()=>{};const o=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!s.allowDeprecated){let r=i.message;r||(r=`${o} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(r)||(console.warn(r),this._deprecatedMessages.add(r))}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let s,o=(...i)=>(typeof s=="function"&&s(),s=void 0,o=void 0,t(...i));return s=this.hook(e,o),s}removeHook(e,t){if(this._hooks[e]){const s=this._hooks[e].indexOf(t);s!==-1&&this._hooks[e].splice(s,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,t){this._deprecatedHooks[e]=typeof t=="string"?{to:t}:t;const s=this._hooks[e]||[];delete this._hooks[e];for(const o of s)this.hook(e,o)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=an(e),s=Object.keys(t).map(o=>this.hook(o,t[o]));return()=>{for(const o of s.splice(0,s.length))o()}}removeHooks(e){const t=an(e);for(const s in t)this.removeHook(s,t[s])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...t){return t.unshift(e),this.callHookWith(fi,e,...t)}callHookParallel(e,...t){return t.unshift(e),this.callHookWith(di,e,...t)}callHookWith(e,t,...s){const o=this._before||this._after?{name:t,args:s,context:{}}:void 0;this._before&&Jt(this._before,o);const i=e(t in this._hooks?[...this._hooks[t]]:[],s);return i instanceof Promise?i.finally(()=>{this._after&&o&&Jt(this._after,o)}):(this._after&&o&&Jt(this._after,o),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const t=this._before.indexOf(e);t!==-1&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const t=this._after.indexOf(e);t!==-1&&this._after.splice(t,1)}}}}function pi(){return new hi}const gi=["name","property","http-equiv"],mi=new Set(["viewport","description","keywords","robots"]);function js(n){const e=n.split(":");return e.length?li.has(e[1]):!1}function ln(n){const{props:e,tag:t}=n;if(ii.has(t))return t;if(t==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(n.tag==="meta"){for(const s of gi)if(e[s]!==void 0){const o=e[s],i=o.includes(":"),r=mi.has(o),l=!(i||r)&&n.key?`:key:${n.key}`:"";return`${t}:${o}${l}`}}if(n.key)return`${t}:key:${n.key}`;if(e.id)return`${t}:id:${e.id}`;if(si.has(t)){const s=n.textContent||n.innerHTML;if(s)return`${t}:content:${s}`}}function zn(n){const e=n._h||n._d;if(e)return e;const t=n.textContent||n.innerHTML;return t||`${n.tag}:${Object.entries(n.props).map(([s,o])=>`${s}:${String(o)}`).join(",")}`}function Et(n,e,t){typeof n==="function"&&(!t||t!=="titleTemplate"&&!(t[0]==="o"&&t[1]==="n"))&&(n=n());let o;if(e&&(o=e(t,n)),Array.isArray(o))return o.map(i=>Et(i,e));if(o?.constructor===Object){const i={};for(const r of Object.keys(o))i[r]=Et(o[r],e,r);return i}return o}function yi(n,e){const t=n==="style"?new Map:new Set;function s(o){const i=o.trim();if(i)if(n==="style"){const[r,...a]=i.split(":").map(l=>l.trim());r&&a.length&&t.set(r,a.join(":"))}else i.split(" ").filter(Boolean).forEach(r=>t.add(r))}return typeof e=="string"?n==="style"?e.split(";").forEach(s):s(e):Array.isArray(e)?e.forEach(o=>s(o)):e&&typeof e=="object"&&Object.entries(e).forEach(([o,i])=>{i&&i!=="false"&&(n==="style"?t.set(o.trim(),i):s(o))}),t}function Rs(n,e){return n.props=n.props||{},e&&Object.entries(e).forEach(([t,s])=>{if(s===null){n.props[t]=null;return}if(t==="class"||t==="style"){n.props[t]=yi(t,s);return}if(ri.has(t)){if(["textContent","innerHTML"].includes(t)&&typeof s=="object"){let r=e.type;if(e.type||(r="application/json"),!r?.endsWith("json")&&r!=="speculationrules")return;e.type=r,n.props.type=r,n[t]=JSON.stringify(s)}else n[t]=s;return}const o=String(s),i=t.startsWith("data-");o==="true"||o===""?n.props[t]=i?o:!0:!s&&i&&o==="false"?n.props[t]="false":s!==void 0&&(n.props[t]=s)}),n}function vi(n,e){const t=typeof e=="object"&&typeof e!="function"?e:{[n==="script"||n==="noscript"||n==="style"?"innerHTML":"textContent"]:e},s=Rs({tag:n,props:{}},t);return s.key&&ni.has(s.tag)&&(s.props["data-hid"]=s._h=s.key),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(o=>({...s,props:{...s.props,content:o}})):s}function ki(n,e){if(!n)return[];typeof n=="function"&&(n=n());const t=(o,i)=>{for(let r=0;r<e.length;r++)i=e[r](o,i);return i};n=t(void 0,n);const s=[];return n=Et(n,t),Object.entries(n||{}).forEach(([o,i])=>{if(i!==void 0)for(const r of Array.isArray(i)?i:[i])s.push(vi(o,r))}),s.flat()}const Wn=(n,e)=>n._w===e._w?n._p-e._p:n._w-e._w,qn={base:-10,title:10},wi={critical:-8,high:-1,low:2},Bn={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},bi=/@import/,Ze=n=>n===""||n===!0;function _i(n,e){if(typeof e.tagPriority=="number")return e.tagPriority;let t=100;const s=wi[e.tagPriority]||0,o=n.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Bn;if(e.tag in qn)t=qn[e.tag];else if(e.tag==="meta"){const i=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;i&&(t=Bn.meta[i])}else e.tag==="link"&&e.props.rel?t=o.link[e.props.rel]:e.tag==="script"?Ze(e.props.async)?t=o.script.async:e.props.src&&!Ze(e.props.defer)&&!Ze(e.props.async)&&e.props.type!=="module"&&!e.props.type?.endsWith("json")?t=o.script.sync:Ze(e.props.defer)&&e.props.src&&!Ze(e.props.async)&&(t=o.script.defer):e.tag==="style"&&(t=e.innerHTML&&bi.test(e.innerHTML)?o.style.imported:o.style.sync);return(t||100)+s}function Jn(n,e){const t=typeof e=="function"?e(n):e,s=t.key||String(n.plugins.size+1);n.plugins.get(s)||(n.plugins.set(s,t),n.hooks.addHooks(t.hooks||{}))}function Si(n={}){const e=pi();e.addHooks(n.hooks||{});const t=!n.document,s=new Map,o=new Map,i=new Set,r={_entryCount:1,plugins:o,dirty:!1,resolvedOptions:n,hooks:e,ssr:t,entries:s,headEntries(){return[...s.values()]},use:a=>Jn(r,a),push(a,l){const c={...l||{}};delete c.head;const f=c._index??r._entryCount++,h={_i:f,input:a,options:c},d={_poll(u=!1){r.dirty=!0,!u&&i.add(f),e.callHook("entries:updated",r)},dispose(){s.delete(f)&&r.invalidate()},patch(u){(!c.mode||c.mode==="server"&&t||c.mode==="client"&&!t)&&(h.input=u,s.set(f,h),d._poll())}};return d.patch(a),d},async resolveTags(){const a={tagMap:new Map,tags:[],entries:[...r.entries.values()]};for(await e.callHook("entries:resolve",a);i.size;){const d=i.values().next().value;i.delete(d);const u=s.get(d);if(u){const g={tags:ki(u.input,n.propResolvers||[]).map(p=>Object.assign(p,u.options)),entry:u};await e.callHook("entries:normalize",g),u._tags=g.tags.map((p,m)=>(p._w=_i(r,p),p._p=(u._i<<10)+m,p._d=ln(p),p))}}let l=!1;a.entries.flatMap(d=>(d._tags||[]).map(u=>({...u,props:{...u.props}}))).sort(Wn).reduce((d,u)=>{const g=String(u._d||u._p);if(!d.has(g))return d.set(g,u);const p=d.get(g);if((u?.tagDuplicateStrategy||(ai.has(u.tag)?"merge":null)||(u.key&&u.key===p.key?"merge":null))==="merge"){const y={...p.props};Object.entries(u.props).forEach(([v,k])=>y[v]=v==="style"?new Map([...p.props.style||new Map,...k]):v==="class"?new Set([...p.props.class||new Set,...k]):k),d.set(g,{...u,props:y})}else u._p>>10===p._p>>10&&u.tag==="meta"&&js(g)?(d.set(g,Object.assign([...Array.isArray(p)?p:[p],u],u)),l=!0):(u._w===p._w?u._p>p._p:u?._w<p?._w)&&d.set(g,u);return d},a.tagMap);const c=a.tagMap.get("title"),f=a.tagMap.get("titleTemplate");if(r._title=c?.textContent,f){const d=f?.textContent;if(r._titleTemplate=d,d){let u=typeof d=="function"?d(c?.textContent):d;typeof u=="string"&&!r.plugins.has("template-params")&&(u=u.replace("%s",c?.textContent||"")),c?u===null?a.tagMap.delete("title"):a.tagMap.set("title",{...c,textContent:u}):(f.tag="title",f.textContent=u)}}a.tags=Array.from(a.tagMap.values()),l&&(a.tags=a.tags.flat().sort(Wn)),await e.callHook("tags:beforeResolve",a),await e.callHook("tags:resolve",a),await e.callHook("tags:afterResolve",a);const h=[];for(const d of a.tags){const{innerHTML:u,tag:g,props:p}=d;if(oi.has(g)&&!(Object.keys(p).length===0&&!d.innerHTML&&!d.textContent)&&!(g==="meta"&&!p.content&&!p["http-equiv"]&&!p.charset)){if(g==="script"&&u){if(p.type?.endsWith("json")){const m=typeof u=="string"?u:JSON.stringify(u);d.innerHTML=m.replace(/</g,"\\u003C")}else typeof u=="string"&&(d.innerHTML=u.replace(new RegExp(`</${g}`,"g"),`<\\/${g}`));d._d=ln(d)}h.push(d)}}return h},invalidate(){for(const a of s.values())i.add(a._i);r.dirty=!0,e.callHook("entries:updated",r)}};return(n?.plugins||[]).forEach(a=>Jn(r,a)),r.hooks.callHook("init",r),n.init?.forEach(a=>a&&r.push(a)),r}const Mi=(n,e)=>mo(e)?sn(e):e,Ds="usehead";function Oi(n){return{install(t){t.config.globalProperties.$unhead=n,t.config.globalProperties.$head=n,t.provide(Ds,n)}}.install}function Li(){if(yo()){const n=Ts(Ds);if(!n)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return n}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function Ei(n,e={}){const t=e.head||Li();return t.ssr?t.push(n||{},e):Ti(t,n,e)}function Ti(n,e,t={}){const s=O(!1);let o;return Ke(()=>{const r=s.value?{}:Et(e,Mi);o?o.patch(r):o=n.push(r,t)}),$s()&&(vo(()=>{o.dispose()}),ko(()=>{s.value=!0}),wo(()=>{s.value=!1})),o}function cn(n){if(n===!1||n==="false")return null;if(n==null||n===!0||n==="true")return"+1";if(typeof n=="string"&&"+-".includes(n[0]))return n;const e=+n;return Number.isNaN(e)?(console.error(`Invalid "at" prop value: ${n}`),null):e<=0?(console.warn(`[Slidev] "at" prop value must be greater than 0, but got ${n}, has been set to 1`),1):e}function $i(n){return Array.isArray(n)?[cn(n[0]),cn(n[1])]:null}function Ns(n,e=0,t){const s=O(!1);let o=new Map,i=new Map;const r={get current(){return rn(+n.value,e,r.total)},set current(a){n.value=s.value?rn(a,e,r.total):a},clicksStart:e,get relativeSizeMap(){return o},get maxMap(){return i},get isMounted(){return s.value},setup(){Cs(()=>{s.value=!0,i=$(i),bo(n)||(r.current=n.value)}),_o(()=>{s.value=!1,o=new Map,i=new Map})},calculateSince(a,l=1){const c=cn(a);if(c==null)return null;let f,h,d;if(typeof c=="string"){const u=r.currentOffset,g=+c;f=u+g,h=u+g+l-1,d=g+l-1}else f=c,h=c+l-1,d=0;return{start:f,end:+Number.POSITIVE_INFINITY,max:h,delta:d,currentOffset:b(()=>r.current-f),isCurrent:b(()=>r.current===f),isActive:b(()=>r.current>=f)}},calculateRange(a){const l=$i(a);if(l==null)return null;const[c,f]=l;let h,d,u;return typeof c=="string"?(h=r.currentOffset+ +c,u=+c):(h=c,u=0),typeof f=="string"?(d=h+ +f,u+=+f):d=f,{start:h,end:d,max:d,delta:u,currentOffset:b(()=>r.current-h),isCurrent:b(()=>r.current===h),isActive:b(()=>h<=r.current&&r.current<d)}},calculate(a){return Array.isArray(a)?r.calculateRange(a):r.calculateSince(a)},register(a,l){if(!l)return;const{delta:c,max:f}=l;o.set(a,c),i.set(a,f)},unregister(a){o.delete(a),i.delete(a)},get currentOffset(){return Ko(...o.values())},get total(){return t??(s.value?Math.max(0,...i.values()):0)}};return r}function Ci(n,e=0){const t=n?.meta.slide?.frontmatter.clicksStart??0,s=O(Math.max(sn(e),t));return se(()=>sn(e),o=>{s.value=Math.max(o,t)}),Ns(s,t,n?.meta?.clicks)}const Ai=(n,e)=>{const t=n.__vccOpts||n;for(const[s,o]of e)t[s]=o;return t},Pi={},Ii={class:"px-4 py-10 text-center text-red-700 dark:text-red-500 font-bold font-mono"};function xi(n,e){return Lt(),on("div",Ii,So("Failed to fetch this slide. Please check your network connection."))}const C=Ai(Pi,[["render",xi]]),ji={class:"h-full w-full flex items-center justify-center gap-2 slidev-slide-loading"},Ri=As({__name:"SlideLoading",setup(n){const e=O(!1);return Cs(()=>{setTimeout(()=>{e.value=!0},200)}),(t,s)=>(Lt(),on("div",ji,[e.value?(Lt(),on(Oo,{key:0},[s[0]||(s[0]=Hn("div",{class:"i-svg-spinners-90-ring-with-bg text-xl"},null,-1)),s[1]||(s[1]=Hn("div",null,"Loading slide...",-1))],64)):Mo("v-if",!0)]))}}),Di={highlighter:"shiki",css:"unocss",colorSchema:"dark",transition:"fade-out",mdc:!0,layout:"center",glowSeed:4,title:"ESLint One for All Made Easy",monacoTypesIgnorePackages:["@antfu/install-pkg","@clack/prompts","@typescript-eslint/*","eslint-plugin-*","*-eslint-parser","find-up","parse-*","globals","pkg-types","mlly","local-pkg","yargs","fast-glob","debug","globby","estraverse","pathe","acorn","acorn-*","pico*","eslint-visitor-keys"]},de=T(Di),Ni=$({get layout(){return de.layout},get transition(){return de.transition},get class(){return de.class},get clicks(){return de.clicks},get name(){return de.name},get preload(){return de.preload},slide:{content:"",revision:"ozetos",frontmatterRaw:`highlighter: shiki
css: unocss
colorSchema: dark
transition: fade-out
mdc: true
layout: center
glowSeed: 4
title: ESLint One for All Made Easy
monacoTypesIgnorePackages:
  - '@antfu/install-pkg'
  - '@clack/prompts'
  - '@typescript-eslint/*'
  - 'eslint-plugin-*'
  - '*-eslint-parser'
  - 'find-up'
  - 'parse-*'
  - 'globals'
  - 'pkg-types'
  - 'mlly'
  - 'local-pkg'
  - 'yargs'
  - 'fast-glob'
  - 'debug'
  - 'globby'
  - 'estraverse'
  - 'pathe'
  - 'acorn'
  - 'acorn-*'
  - 'pico*'
  - 'eslint-visitor-keys'
`,note:"",title:"ESLint One for All Made Easy",index:0,noteHTML:`<p>Hello everyone, so glad to be here today at JSNation.</p>
`,raw:"",frontmatter:de,filepath:"",start:0,id:0,no:1},__clicksContext:null,__preloaded:!1}),Hi={layout:"intro",glowSeed:15,glowOpacity:.3,class:"pl-25"},he=T(Hi),Fi=$({get layout(){return he.layout},get transition(){return he.transition},get class(){return he.class},get clicks(){return he.clicks},get name(){return he.name},get preload(){return he.preload},slide:{content:"",revision:"-moagfb",frontmatterRaw:`layout: intro
glowSeed: 15
glowOpacity: 0.3
class: pl-25
`,note:"",title:"Anthony Fu",level:1,index:1,noteHTML:`<p>So, let me introduce myself a bit, my...</p>
<p>As you can see, I am pretty enthusiastic about open source which driven me to work on many projects. I love building tools, and figuring out solutions to the problems I encounter. For example, the slides you are looking at are powered by Slidev, a markdown-based presentation tool that is built on top of Web technologies. It was born when I found the existing tools were not flexible enough for me to present my code.</p>
<p>Similarly, when I looked into ESLint and its ecosystem a few months ago, I found many things are interesting with a lot potential by not yet fully explored. So today, I'd like to share with you some of my findings and practices during my recent exploration around it.</p>
`,raw:"",frontmatter:he,filepath:"",start:39,id:1,no:2},__clicksContext:null,__preloaded:!1}),Vi={layout:"cover"},pe=T(Vi),zi=$({get layout(){return pe.layout},get transition(){return pe.transition},get class(){return pe.class},get clicks(){return pe.clicks},get name(){return pe.name},get preload(){return pe.preload},slide:{content:"",revision:"let32s",frontmatterRaw:`layout: cover
`,note:"",index:2,noteHTML:`<p>11 years since ESLint came out, at this moment, it's easily one of the most popular tools in the JavaScript ecosystem that almost every project uses. Despite it has been around for such a long time, it's a tool that is still constantly improving and evolving.</p>
<p>Today, I'd like to give it a very broad and ambitious topic, &quot;ESLint, <span class="slidev-note-click-mark" data-clicks="1"></span>One for All, <span class="slidev-note-click-mark" data-clicks="2"></span>Made Easy&quot;. To share with you some of the new perspectives and patterns of using ESLint with the latest features they just rolled out.</p>
`,raw:"",frontmatter:pe,filepath:"",start:82,id:2,no:3},__clicksContext:null,__preloaded:!1}),Wi={layout:"center",glow:"bottom"},ge=T(Wi),qi=$({get layout(){return ge.layout},get transition(){return ge.transition},get class(){return ge.class},get clicks(){return ge.clicks},get name(){return ge.name},get preload(){return ge.preload},slide:{content:"",revision:"-16c52q",frontmatterRaw:`layout: center
glow: bottom
`,note:"",index:3,noteHTML:`<p>So, you probably have heard ESLint version 9.0 was released <span class="slidev-note-click-mark" data-clicks="1"></span> roughly two months ago. <span class="slidev-note-click-mark" data-clicks="2"></span>The main highlight of this major version is the rolling out of a new configuration system for ESLint called the Flat Config.</p>
`,raw:"",frontmatter:ge,filepath:"",start:108,id:3,no:4},__clicksContext:null,__preloaded:!1}),Bi={layout:"quote"},me=T(Bi),Ji=$({get layout(){return me.layout},get transition(){return me.transition},get class(){return me.class},get clicks(){return me.clicks},get name(){return me.name},get preload(){return me.preload},slide:{content:"",revision:"8jy3cj",frontmatterRaw:`layout: quote
`,note:"",title:'🙋 Heard about the new ESLint <span text-hex-8080f2 font-bold><span v-mark="0">Flat Config</span></span>?',level:1,index:4,noteHTML:`<p>Before we start, I'd like to do a quick survey here. If you have heard about the new ESLint Flat Config, could you please raise your hand for me?</p>
`,raw:"",frontmatter:me,filepath:"",start:136,id:4,no:5},__clicksContext:null,__preloaded:!1}),Ui={layout:"quote"},ye=T(Ui),Ki=$({get layout(){return ye.layout},get transition(){return ye.transition},get class(){return ye.class},get clicks(){return ye.clicks},get name(){return ye.name},get preload(){return ye.preload},slide:{content:"",revision:"-9ixtp9",frontmatterRaw:`layout: quote
`,note:"",title:"🙋 Using <span text-hex-8080f2 font-bold>Flat Config</span> already?",level:1,index:5,noteHTML:`<p>OK, And how many of you are already using or migrated to the flat config?</p>
<p>Alright, that's more than I was expected. It's pretty cool. Thank you!</p>
<p>For those who haven't on the Flat config yet, in today's talk, I am here to tell you why you should :)</p>
`,raw:"",frontmatter:ye,filepath:"",start:146,id:5,no:6},__clicksContext:null,__preloaded:!1}),Gi={},ve=T(Gi),Qi=$({get layout(){return ve.layout},get transition(){return ve.transition},get class(){return ve.class},get clicks(){return ve.clicks},get name(){return ve.name},get preload(){return ve.preload},slide:{content:"",revision:"-gbjpj8",note:"",title:"Legacy Config <sup text-base op50 translate-y--2 inline-block>eslintrc config</sup>",level:2,index:6,noteHTML:`<p>In case you have never heard about it or haven't dig into the docs yet. Here, let me make a quick comparison between the legacy eslintrc config <span class="slidev-note-click-mark" data-clicks="1"></span> and the new flat config for you. <span class="slidev-note-click-mark" data-clicks="2"></span></p>
<p>To differentiate between those two configuration formats is rather straightforward. <span class="slidev-note-click-mark" data-clicks="3"></span> The legacy config is named with <code>.eslintrc</code> that supports various extensions which might also read from your <code>package.json</code>. The flat config, on the other hand, would only be loaded from <code>eslint.config.js</code>, a JavaScript config file as the single source of truth.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> When it comes to reusing the shared config, the legacy config format implicitly uses the conventional-based <code>extends</code> property to load that config from your local <code>node_modules</code>. You would need to learn the convention a little bit to know how it resolves. While in the flat config we use the native import, where it's more explicit, and gives a lot more controls to you.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> For plugins, it used to take an array of strings, which is again, convention-based and coupled with the plugins' package name. Now in the flat config, it takes a named object for plugins. This means you can now rename plugins easily, or switch to a fork without being forced to change every rule in your config.</p>
<p><span class="slidev-note-click-mark" data-clicks="6"></span> Also, the inheritance nature of <code>extends</code> might result in a very complex tree structure as the shared configs can also have nested <code>extends</code> inside. In the flat config, it gets simplified a lot, where you explicitly import the shared configs as multiple objects or arrays, and compose them into a single flat one.</p>
`,raw:"",frontmatter:ve,filepath:"",start:161,id:6,no:7},__clicksContext:null,__preloaded:!1}),Yi={},ke=T(Yi),Zi=$({get layout(){return ke.layout},get transition(){return ke.transition},get class(){return ke.class},get clicks(){return ke.clicks},get name(){return ke.name},get preload(){return ke.preload},slide:{content:"",revision:"-7qci7y",note:"",title:"Flat Config",level:2,index:7,noteHTML:`<p><span class="slidev-note-click-mark" data-clicks="1"></span> For a little bit more context, Here is a graph I drew to demonstrate the timeline. While the flat config might sound new to some of you, it has actually been planned for 5 years already. <span class="slidev-note-click-mark" data-clicks="2"></span> The RFC was created in January 2019, <span class="slidev-note-click-mark" data-clicks="3"></span> first implementation available in v8.21.0 as experimental, which was two years ago.  <span class="slidev-note-click-mark" data-clicks="4"></span> It became stable in v8.45.0, <span class="slidev-note-click-mark" data-clicks="5"></span> and then became the default recently in v9.0.0. In between, the ESLint team has published multiple blog posts to explain the reasons why they want to introduce the new format, and shared the roadmap of rolling out. That's a lot of effort spent across this 5 years plan - huge respect to the ESLint team.</p>
<p>So, as we mentioned in the previous slide, <span class="slidev-note-click-mark" data-clicks="6"></span> the biggest benefit of flat config, is that now it's in JS where you have full control. <span class="slidev-note-click-mark" data-clicks="7"></span> It uses native import to resolve the plugins and configs, making the inheritance and overriding a lot simplified. <span class="slidev-note-click-mark" data-clicks="8"></span> Because it's fully in JavaScript, shared configs can be factory functions that take users' options; and users can have a lot more capability to do the customizations towards their specific needs.</p>
`,raw:"",frontmatter:ke,filepath:"",start:261,id:7,no:8},__clicksContext:null,__preloaded:!1}),Xi={},we=T(Xi),er=$({get layout(){return we.layout},get transition(){return we.transition},get class(){return we.class},get clicks(){return we.clicks},get name(){return we.name},get preload(){return we.preload},slide:{content:"",revision:"-h32crg",note:"",title:"Migration [`@eslint/migrate-config`](https://www.npmjs.com/package/@eslint/migrate-config)",level:1,index:8,noteHTML:`<p>Before we talk about the new exciting stuff, let me first quickly go through the tools for migrating your legacy config to the new flat config, in case you might need them.</p>
<p>We have a CLI <code>@eslint/migrate-config</code> that automatically convert your legacy config file to flat config. <span class="slidev-note-click-mark" data-clicks="1"></span> Some runtime utilities for compatibility will be introduced automatically along the way as well.</p>
<p>I would recommend you check the ESLint docs and migration guide for more detailed instructions.</p>
`,raw:"",frontmatter:we,filepath:"",start:285,id:8,no:9},__clicksContext:null,__preloaded:!1}),tr={layout:"fact"},be=T(tr),nr=$({get layout(){return be.layout},get transition(){return be.transition},get class(){return be.class},get clicks(){return be.clicks},get name(){return be.name},get preload(){return be.preload},slide:{content:"",revision:"la07b4",frontmatterRaw:`layout: fact
`,note:"",title:"Toolings{.important-text-3em}",level:1,index:9,noteHTML:`<p>And now, let's talk about the interesting new tools and possibilities that are enabled by this new format.</p>
`,raw:"",frontmatter:be,filepath:"",start:385,id:9,no:10},__clicksContext:null,__preloaded:!1}),sr={glow:"left"},_e=T(sr),or=$({get layout(){return _e.layout},get transition(){return _e.transition},get class(){return _e.class},get clicks(){return _e.clicks},get name(){return _e.name},get preload(){return _e.preload},slide:{content:"",revision:"kygtf2",frontmatterRaw:`glow: left
`,note:"",title:"Config Inspector <sup text-purple bg-purple:15 px1.5 rounded text-sm>Official</sup>",level:2,index:10,noteHTML:`<p>The first one is the ESLint Config Inspector - a visualized DevTools, that allows you to inspect and play with your final resolved configs.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> You can try it by running <code>eslint --inspect-config</code> in your CLI under the project root where you have the flat config file, and it will open a browser page with UI, like the one you see on the right.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> So, the first thing it does is to render each config item you have. You can see all configs listed here, because it's flat. Here I have a rather complex config setup with many config items. But with the name provided by each config, you can easily see and understand the purpose for each of them.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> You can also expand each item to see how it contributes to the final config, like how many rules enabled, or what's their target file types, etc.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> In each rule, you can also see their options, a short description, and also, a link to their documentation page.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> Since in ESLint, you can have different rule sets that apply to different file types or are more granular to their exact file path. In the config inspector, you can also enter the file path to test how rules are enabled for that file.</p>
<p>In another tab, you can also browse each rule available, given the plugins you have installed. You can filter them and see which rules you are using, which rules you don't, which are recommended ones, and which are deprecated.</p>
<p><span class="slidev-note-click-mark" data-clicks="6"></span> Here I have my config file as an example. The config is a factory function that takes some rather high-level options. With the config inspector, we could see how it was resolved based on the options we provided. We could also try to change the options and see how it affects the result. For example, I could also provide it the path of my tsconfig, which will enable the type-aware rules for me automatically.</p>
`,raw:"",frontmatter:_e,filepath:"",start:396,id:10,no:11},__clicksContext:null,__preloaded:!1}),ir={},Se=T(ir),rr=$({get layout(){return Se.layout},get transition(){return Se.transition},get class(){return Se.class},get clicks(){return Se.clicks},get name(){return Se.name},get preload(){return Se.preload},slide:{content:"",revision:"sbe15p",note:"",title:"Flat Config Utils <sup text-teal bg-teal:15 px1.5 rounded text-sm>Community</sup>",level:2,index:11,noteHTML:`<p>To make config customization easier, I also made a small library called <code>eslint-flat-config-utils</code>.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> For example, here is a flat config we might have. Depending on how each shared config is constructed, some might be a plain config object, some might be an array, and some might be a constructor that returns an object, an array or even a Promise. When you use them together, it's usually your responsibility to join them together as a single array.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> With the config utils, <span class="slidev-note-click-mark" data-clicks="3"></span> I made a utility function called <code>compose</code>, <span class="slidev-note-click-mark" data-clicks="4"></span> which will automatically resolve the different types of configs, resolve the promise and merge them together.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> It also provides some chainable actions where you could insert extra configs anywhere you want, or override some config without the need to handle the merge manually.</p>
`,raw:"",frontmatter:Se,filepath:"",start:460,id:11,no:12},__clicksContext:null,__preloaded:!1}),ar={},Me=T(ar),lr=$({get layout(){return Me.layout},get transition(){return Me.transition},get class(){return Me.class},get clicks(){return Me.clicks},get name(){return Me.name},get preload(){return Me.preload},slide:{content:"",revision:"3m1a1m",note:"",title:"ESLint Typegen <sup text-teal bg-teal:15 px1.5 rounded text-sm>Community</sup>",level:2,index:12,noteHTML:`<p>And then, thanks to the flexibility and also the full context available in the flat config, it also make the type generation possible. <span class="slidev-note-click-mark" data-clicks="1"></span></p>
<p>Simply wrap the entire config array you exported with the typegen function, it will generate a local .d.ts file based on all the plugins you have installed. This provides you with autocomplete and typechecks for all the rules are you using.</p>
`,raw:"",frontmatter:Me,filepath:"",start:533,id:12,no:13},__clicksContext:null,__preloaded:!1}),cr={layout:"fact"},Oe=T(cr),ur=$({get layout(){return Oe.layout},get transition(){return Oe.transition},get class(){return Oe.class},get clicks(){return Oe.clicks},get name(){return Oe.name},get preload(){return Oe.preload},slide:{content:"",revision:"-gtpvj9",frontmatterRaw:`layout: fact
`,note:"",title:"One for All{.important-text-3em}",level:1,index:13,noteHTML:`<p>So here, I'd like to bring back the title - One for All.</p>
<p>With the maximized flexibility and customizability - it's now possible to have a single shared config that covers all different types of projects.</p>
`,raw:"",frontmatter:Oe,filepath:"",start:550,id:13,no:14},__clicksContext:null,__preloaded:!1}),fr={},Le=T(fr),dr=$({get layout(){return Le.layout},get transition(){return Le.transition},get class(){return Le.class},get clicks(){return Le.clicks},get name(){return Le.name},get preload(){return Le.preload},slide:{content:"",revision:"ykf5ew",note:"",title:"Legacy Config",level:3,index:14,noteHTML:`<p>Here we can do a quick comparison to show what I mean.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> In the new flat config, a shared config can be a factory function that takes user options, which we couldn't do in the legacy config. Imagine if I want my config to work in both TypeScript and non-TypeScript projects, Vue and non-Vue projects, I will need to do a monorepo to publish configs for different combinations. As you can see, it doesn't scale well, we are doubling the amount of combinations for each option.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> The flat config allows you to provide semantic options to toggle each feature dynamically. Making one single config able to adapt to different projects.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> Because of that, we could also have high-level abstraction to absorb the underlying complexity, and provide a minimal configuration interface like Prettier, where end users don't even need to worry about the underlying details, <span class="slidev-note-click-mark" data-clicks="4"></span> but still have all the control to do so when they really want to.</p>
`,raw:"",frontmatter:Le,filepath:"",start:564,id:14,no:15},__clicksContext:null,__preloaded:!1}),hr={},Ee=T(hr),pr=$({get layout(){return Ee.layout},get transition(){return Ee.transition},get class(){return Ee.class},get clicks(){return Ee.clicks},get name(){return Ee.name},get preload(){return Ee.preload},slide:{content:"",revision:"tjgm4y",note:"",title:"Project-aware Configs",level:1,index:15,noteHTML:`<p>Flat config also makes it possible for meta-frameworks to provide project-aware configs.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> For example, in Nuxt, we have file-based routing, auto-imported components, server API directories, etc. Files under different folders or different names might have different purposes and different constraints.</p>
<p>So in Nuxt we had the Nuxt ESLint module <span class="slidev-note-click-mark" data-clicks="2"></span> that generates a sub ESLint config file based on the user's project setup. Where users can extend from and keep adding their custom rules.</p>
<p>This is just one direction of the possibilities with flat config we are currently exploring, but we believe there would be many more interesting approaches coming from the community.</p>
`,raw:"",frontmatter:Ee,filepath:"",start:650,id:15,no:16},__clicksContext:null,__preloaded:!1}),gr={layout:"fact"},Te=T(gr),mr=$({get layout(){return Te.layout},get transition(){return Te.transition},get class(){return Te.class},get clicks(){return Te.clicks},get name(){return Te.name},get preload(){return Te.preload},slide:{content:"",revision:"-7ojjc3",frontmatterRaw:`layout: fact
`,note:"",title:"ESLint is More than a Linter{.important-text-3em}",level:1,index:16,noteHTML:`<p>Another topic I'd like to bring up today, is the fact that ESLint is much more than a Linter.</p>
<p>To me, I see ESLint as a mature and powerful AST Toolkit that has a large ecosystem on its back.</p>
`,raw:"",frontmatter:Te,filepath:"",start:692,id:16,no:17},__clicksContext:null,__preloaded:!1}),yr={},$e=T(yr),vr=$({get layout(){return $e.layout},get transition(){return $e.transition},get class(){return $e.class},get clicks(){return $e.clicks},get name(){return $e.name},get preload(){return $e.preload},slide:{content:"",revision:"7z6762",note:"",title:"<span op50>ESLint can be a...</span> <b v-click font-800>Formatter</b>",level:1,index:17,noteHTML:`<p>The is that ESLint can be a <span class="slidev-note-click-mark" data-clicks="1"></span> Formatter.</p>
<p>This is certainly not new, as many projects have been using ESLint that way since the very beginning.</p>
<p>While this topic is actually a bit controversial, which you might hear people saying you should use a dedicated formatter like Prettier or dprint. To me, I see this all down to that those stylistic rules for ESLint take a lot of maintenance effort. Last year, ESLint and the TypeScript ESLint teams decided to deprecate those stylistic rules from the core. <span class="slidev-note-click-mark" data-clicks="2"></span> And then, I initiated the ESLint Stylistic project, gathering all those stylistic rules for JS, TS, and JSX into this organization and making a community keep maintaining them. I keep using ESLint as formatter as I see it much more flexible and customizable than Prettier due to ESLint's nature.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> If you are using VS Code, you can see <code>editor.codeActionOnSave</code> to auto-fix eslint errors on save. And use <code>eslint.rules.customizations</code> to silent stylistic rules in your IDE so they work more like a formatter. For other code editors, I believe there are similar configs for doing the same.</p>
`,raw:"",frontmatter:$e,filepath:"",start:706,id:17,no:18},__clicksContext:null,__preloaded:!1}),kr={},Ce=T(kr),wr=$({get layout(){return Ce.layout},get transition(){return Ce.transition},get class(){return Ce.class},get clicks(){return Ce.clicks},get name(){return Ce.name},get preload(){return Ce.preload},slide:{content:"",revision:"9l052s",note:"",title:"<span op50>ESLint can be a...</span> <b v-click font-800>Codemod</b>",level:1,index:18,noteHTML:`<p>One ESLint rule is essential a function that takes the code and AST, reporting errors with optional fix information.</p>
<p>This means that ESLint can also be a nice tool for <span class="slidev-note-click-mark" data-clicks="1"></span> codemod.</p>
<p>For example, <span class="slidev-note-click-mark" data-clicks="2"></span> I made <code>eslint-plugin-command</code> to do on-demand micro-codemod.</p>
<p>As you can see in the video, we could put a magic comment saying <code>to-function</code> right above an arrow function. Upon saving, the arrow function will be automatically converted into the function declaration, without you to manually move things around.</p>
<p>Similarly, you can also convert it back with <code>to-arrow</code>, sort an object or array with <code>keep-sorted</code>, make sure an array is unique with <code>keep-unique</code>... etc.</p>
<p>If you learn a little bit about AST, it shouldn't be hard to write your one-off codemod rules to migrate your codebase as well.</p>
`,raw:"",frontmatter:Ce,filepath:"",start:755,id:18,no:19},__clicksContext:null,__preloaded:!1}),br={},Ae=T(br),_r=$({get layout(){return Ae.layout},get transition(){return Ae.transition},get class(){return Ae.class},get clicks(){return Ae.clicks},get name(){return Ae.name},get preload(){return Ae.preload},slide:{content:"",revision:"aa6d4k",note:"",title:"<span op50>ESLint can be a...</span> <b v-click font-800>Linter for other Languages</b>",level:1,index:19,noteHTML:`<p>And finally, I'd like to mention that ESLint can also <span class="slidev-note-click-mark" data-clicks="1"></span> lint for many other languages other than JavaScript.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> For example, we know we have <code>@typescript-eslint</code> to make ESLint understand TypeScript.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> We have <code>eslint-plugin-vue</code> for Vue Single file component, <span class="slidev-note-click-mark" data-clicks="4"></span> <code>eslint-plugin-svelte</code> for Svelte component <span class="slidev-note-click-mark" data-clicks="5"></span> and <code>eslint-plugin-astro</code> for Astro.</p>
<p><span class="slidev-note-click-mark" data-clicks="6"></span> We could also have <code>eslint-plugin-jsonc</code> to lint JSON files. Which could be very handle to be used to sort certain field in certain JSON files. For example, I use it to keep my dependencies list in my <code>package.json</code> always sorted.</p>
<p><span class="slidev-note-click-mark" data-clicks="7"></span> Similarly, we have the support for YAML and <span class="slidev-note-click-mark" data-clicks="8"></span> TOML files. As you can see, many of those plugins are maintained by Ota Meshi - he is truly amazing!</p>
<p><span class="slidev-note-click-mark" data-clicks="9"></span> Then we have <code>graphql-eslint</code> for GraphQL by Dima, <span class="slidev-note-click-mark" data-clicks="10"></span> <code>html-eslint</code> for HTML by Yeon Juan <span class="slidev-note-click-mark" data-clicks="11"></span>, and <code>eslint-mdx</code> by Joun Qin.</p>
<p><span class="slidev-note-click-mark" data-clicks="12"></span> I also made a <code>eslint-plugin-format</code> to use Prettier or dprint to format files like CSS that are not yet have an ESLint integration.</p>
<p>That's only a few I could list here. <span class="slidev-note-click-mark" data-clicks="13"></span> You can also check the ESLint's RFC #99, where they are trying to make ESLint more language agnostic to support the linting for more languages easier.</p>
`,raw:"",frontmatter:Ae,filepath:"",start:781,id:19,no:20},__clicksContext:null,__preloaded:!1}),Sr={layout:"fact"},Pe=T(Sr),Mr=$({get layout(){return Pe.layout},get transition(){return Pe.transition},get class(){return Pe.class},get clicks(){return Pe.clicks},get name(){return Pe.name},get preload(){return Pe.preload},slide:{content:"",revision:"-oylppn",frontmatterRaw:`layout: fact
`,note:"",title:"One for All{.important-text-3em}",level:1,index:20,noteHTML:`<p>To summarize today's topic, I'd like to say that ESLint makes it possible to be One for All in two aspects. That you can have one config for all projects, and then one tool for everything related to code checking and modifications.</p>
`,raw:"",frontmatter:Pe,filepath:"",start:833,id:20,no:21},__clicksContext:null,__preloaded:!1}),Or={class:"grid grid-cols-[1fr_1fr] p0 h-full",clicks:1,glow:"left"},Ie=T(Or),Lr=$({get layout(){return Ie.layout},get transition(){return Ie.transition},get class(){return Ie.class},get clicks(){return Ie.clicks},get name(){return Ie.name},get preload(){return Ie.preload},slide:{content:"",revision:"-tljl35",frontmatterRaw:`class: grid grid-cols-[1fr_1fr] p0 h-full
clicks: 1
glow: left
`,note:"",title:"@antfu/eslint-config",level:1,index:21,noteHTML:`<p>If you want to learn more, you can check my personal ESLint config, where I used all the tricks I mentioned today.</p>
<p>I am honestly a bit flattered to see that even tho I didn't intend to have this config used by the others, it ends up being quite popular to have 3 thousand stars and over 30 thousand projects using it on GitHub.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> I wasn't trying to make you use my config, but hopefully, it can be a good reference for you to build your own shared config that is both powerful and flexible.</p>
`,raw:"",frontmatter:Ie,filepath:"",start:846,id:21,no:22},__clicksContext:null,__preloaded:!1}),Er={layout:"intro",class:"text-center pb-5",glowX:50,glowY:120},xe=T(Er),Tr=$({get layout(){return xe.layout},get transition(){return xe.transition},get class(){return xe.class},get clicks(){return xe.clicks},get name(){return xe.name},get preload(){return xe.preload},slide:{content:"",revision:"59nc7b",frontmatterRaw:`layout: intro
class: text-center pb-5
glowX: 50
glowY: 120
`,note:"",title:"Thank you!",level:1,index:22,noteHTML:`<p>That's all for my talk today. You can find the slides on my website antfu.me. Thank you so much!</p>
`,raw:"",frontmatter:xe,filepath:"",start:913,id:22,no:23},__clicksContext:null,__preloaded:!1}),I=new Array(23),P=(n,e)=>Lo({loader:e,delay:300,loadingComponent:Ri,errorComponent:C,onError:t=>console.error("Failed to load slide "+(n+1),t)}),Un=async()=>{try{return I[0]??=await E(()=>import("./md-DXfQJMmQ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))}catch(n){return console.error("slide failed to load",n),C}},Kn=async()=>{try{return I[1]??=await E(()=>import("./md-BTXCv1S4.js"),__vite__mapDeps([9,1,10,3,4,5,6,7,8]))}catch(n){return console.error("slide failed to load",n),C}},Gn=async()=>{try{return I[2]??=await E(()=>import("./md-DiyHjPHG.js"),__vite__mapDeps([11,1,3,4,5,6,7,8]))}catch(n){return console.error("slide failed to load",n),C}},Qn=async()=>{try{return I[3]??=await E(()=>import("./md-ws7oQfmc.js"),__vite__mapDeps([12,1,3,2,4,5,6,7,8]))}catch(n){return console.error("slide failed to load",n),C}},Yn=async()=>{try{return I[4]??=await E(()=>import("./md-D4l5mr1y.js"),__vite__mapDeps([13,1,14,3,4,5,6,7,8]))}catch(n){return console.error("slide failed to load",n),C}},Zn=async()=>{try{return I[5]??=await E(()=>import("./md-DuO7cjT0.js"),__vite__mapDeps([15,1,14,3,4,5,6,7,8]))}catch(n){return console.error("slide failed to load",n),C}},Xn=async()=>{try{return I[6]??=await E(()=>import("./md-CXFebNac.js"),__vite__mapDeps([16,17,18,1,3,4,5,6,19,20,7,8]))}catch(n){return console.error("slide failed to load",n),C}},es=async()=>{try{return I[7]??=await E(()=>import("./md-BwAgbBIo.js"),__vite__mapDeps([21,19,4,5,1,6,3,20,7,8,22]))}catch(n){return console.error("slide failed to load",n),C}},ts=async()=>{try{return I[8]??=await E(()=>import("./md-CHzNHGuk.js"),__vite__mapDeps([23,17,18,1,3,4,5,6,20,7,8]))}catch(n){return console.error("slide failed to load",n),C}},ns=async()=>{try{return I[9]??=await E(()=>import("./md-BIrybajJ.js"),__vite__mapDeps([24,1,25,3,4,5,6,7,8]))}catch(n){return console.error("slide failed to load",n),C}},ss=async()=>{try{return I[10]??=await E(()=>import("./md-ajKbAlZY.js"),__vite__mapDeps([26,1,3,4,5,6,19,27,17,18,20,7,8,28]))}catch(n){return console.error("slide failed to load",n),C}},os=async()=>{try{return I[11]??=await E(()=>import("./md-Cty3WRy8.js"),__vite__mapDeps([29,17,18,1,3,4,5,6,30,20,7,8]))}catch(n){return console.error("slide failed to load",n),C}},is=async()=>{try{return I[12]??=await E(()=>import("./md-JxZK8tki.js"),__vite__mapDeps([31,19,4,5,1,6,3,30,18,20,7,8]))}catch(n){return console.error("slide failed to load",n),C}},rs=async()=>{try{return I[13]??=await E(()=>import("./md-BIb0Zbun.js"),__vite__mapDeps([32,1,25,3,4,5,6,7,8]))}catch(n){return console.error("slide failed to load",n),C}},as=async()=>{try{return I[14]??=await E(()=>import("./md-aXZBeqiy.js"),__vite__mapDeps([33,17,18,1,3,4,5,6,20,7,8]))}catch(n){return console.error("slide failed to load",n),C}},ls=async()=>{try{return I[15]??=await E(()=>import("./md-BSpLmxtN.js"),__vite__mapDeps([34,17,18,1,3,4,5,6,20,7,8]))}catch(n){return console.error("slide failed to load",n),C}},cs=async()=>{try{return I[16]??=await E(()=>import("./md-zEgDHhOF.js"),__vite__mapDeps([35,1,25,3,4,5,6,7,8]))}catch(n){return console.error("slide failed to load",n),C}},us=async()=>{try{return I[17]??=await E(()=>import("./md-C5oRMI0T.js"),__vite__mapDeps([36,17,18,1,3,4,5,6,20,7,8]))}catch(n){return console.error("slide failed to load",n),C}},fs=async()=>{try{return I[18]??=await E(()=>import("./md-Dz73MOzk.js"),__vite__mapDeps([37,30,18,1,3,20,4,5,6,7,8]))}catch(n){return console.error("slide failed to load",n),C}},ds=async()=>{try{return I[19]??=await E(()=>import("./md-j1XcocyH.js"),__vite__mapDeps([38,27,1,19,4,5,6,3,20,7,8]))}catch(n){return console.error("slide failed to load",n),C}},hs=async()=>{try{return I[20]??=await E(()=>import("./md-DdWVSEFE.js"),__vite__mapDeps([39,1,25,3,4,5,6,7,8]))}catch(n){return console.error("slide failed to load",n),C}},ps=async()=>{try{return I[21]??=await E(()=>import("./md-1uu27KMT.js"),__vite__mapDeps([40,17,18,1,3,4,5,6,30,20,7,8]))}catch(n){return console.error("slide failed to load",n),C}},gs=async()=>{try{return I[22]??=await E(()=>import("./md-DJ5ClqTP.js"),__vite__mapDeps([41,1,10,3,4,5,6,7,8]))}catch(n){return console.error("slide failed to load",n),C}},$r=[{no:1,meta:Ni,load:Un,component:P(0,Un)},{no:2,meta:Fi,load:Kn,component:P(1,Kn)},{no:3,meta:zi,load:Gn,component:P(2,Gn)},{no:4,meta:qi,load:Qn,component:P(3,Qn)},{no:5,meta:Ji,load:Yn,component:P(4,Yn)},{no:6,meta:Ki,load:Zn,component:P(5,Zn)},{no:7,meta:Qi,load:Xn,component:P(6,Xn)},{no:8,meta:Zi,load:es,component:P(7,es)},{no:9,meta:er,load:ts,component:P(8,ts)},{no:10,meta:nr,load:ns,component:P(9,ns)},{no:11,meta:or,load:ss,component:P(10,ss)},{no:12,meta:rr,load:os,component:P(11,os)},{no:13,meta:lr,load:is,component:P(12,is)},{no:14,meta:ur,load:rs,component:P(13,rs)},{no:15,meta:dr,load:as,component:P(14,as)},{no:16,meta:pr,load:ls,component:P(15,ls)},{no:17,meta:mr,load:cs,component:P(16,cs)},{no:18,meta:vr,load:us,component:P(17,us)},{no:19,meta:wr,load:fs,component:P(18,fs)},{no:20,meta:_r,load:ds,component:P(19,ds)},{no:21,meta:Mr,load:hs,component:P(20,hs)},{no:22,meta:Lr,load:ps,component:P(21,ps)},{no:23,meta:Tr,load:gs,component:P(22,gs)}],ne=bn($r);function Hs(n,e){if(!e||e==="all"||e==="*")return Fn(1,n+1);if(e==="none")return[];const t=[];for(const s of e.split(/[,;]/g))if(!s.includes("-"))t.push(+s);else{const[o,i]=s.split("-",2);t.push(...Fn(+o,i?+i+1:n+1))}return Go(t).filter(s=>s<=n).sort((s,o)=>s-o)}const Dt="$$slidev-clicks-context",Sn="$$slidev-page",Fs="$$slidev-slide-element",Cr="$$slidev-slide-scale",Ar="$$slidev-context",xl="$$slidev-route",Mn="$$slidev-render-context",Pr="$$slidev-fontmatter",Ir="$$slidev-slide-zoom",kt="slidev-vclick-target",Xe="slidev-vclick-hidden",et="slidev-vclick-fade",Ut="slidev-vclick-hidden-explicitly",Kt="slidev-vclick-current",Gt="slidev-vclick-prior",wt=999999,xr=["localhost","127.0.0.1"],jr=["clicks","clicksStart","disabled","hide","hideInToc","layout","level","preload","routeAlias","src","title","transition","zoom","dragPos","lang"],jl=[...jr,"theme","titleTemplate","info","author","keywords","presenter","browserExporter","download","exportFilename","export","highlighter","lineNumbers","monaco","monacoTypesSource","monacoTypesAdditionalPackages","monacoRunAdditionalDeps","remoteAssets","selectable","record","colorSchema","routerMode","aspectRatio","canvasWidth","themeConfig","favicon","plantUmlServer","fonts","defaults","drawings","htmlAttrs","mdc","contextMenu","wakeLock","seoMeta"];function Rr(n,e,{mode:t="replace"}={}){const s=Rt();return b({get(){const o=s.currentRoute.value.query[n];return o==null?e:Array.isArray(o)?o.filter(Boolean):o},set(o){Eo(()=>{(s.currentRoute.value.query[n]??e?.toString())!==o.toString()&&s[To(t)]({query:{...s.currentRoute.value.query,[n]:`${o}`===e?void 0:o}})})}})}function Nt(n){return ne.value.find(e=>e.no===+n||e.meta.slide?.frontmatter.routeAlias===n)}function qe(n,e,t=!1){(typeof n=="number"||typeof n=="string")&&(n=Nt(n));const s=n.meta.slide?.frontmatter.routeAlias??n.no;return t?`/export/${s}`:e?`/presenter/${s}`:`/${s}`}const Dr={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function Nr(n,e=!1){if(!n||(typeof n=="string"&&(n={name:n}),!n.name))return;let t=n.name.includes("|")?n.name:Dr[n.name]||n.name;if(t.includes("|")){const[s,o]=t.split("|").map(i=>i.trim());t=e?o:s}if(t)return{...n,name:t}}function Hr(n,e,t){let s=n>0?t?.meta?.transition:e?.meta?.transition;return s||(s=B.transition||void 0),Nr(s,n<0)}const Rl=O(!1),Dl=O(!1),Nl=O(!1),Fr=O(!1),On=O(!1),Hl=O(!1),Fl=O(!0),Vl=Io({xs:460,...jo}),Tt=Co(),zl=$o(),Wl=b(()=>Tt.height.value-Tt.width.value/Qo.value>120),ql=Ao(_n?document.body:null),Vs=Po(),Bl=b(()=>["INPUT","TEXTAREA"].includes(Vs.value?.tagName||"")),Jl=b(()=>["BUTTON","A"].includes(Vs.value?.tagName||""));q("slidev-camera","default",{listenToStorageChanges:!1});q("slidev-mic","default",{listenToStorageChanges:!1});const Vr=q("slidev-scale",0),Ul=q("slidev-wake-lock",!0),Kl=q("slidev-hide-cursor-idle",!0);q("slidev-skip-export-pdf-tip",!1);q("slidev-export-capture-delay",400,{listenToStorageChanges:!1});const Gl=q("slidev-presenter-cursor",!0,{listenToStorageChanges:!1}),zr=q("slidev-show-editor",!1,{listenToStorageChanges:!1}),Wr=q("slidev-editor-vertical",!1,{listenToStorageChanges:!1}),qr=q("slidev-editor-width",_n?window.innerWidth*.4:318,{listenToStorageChanges:!1}),Br=q("slidev-editor-height",_n?window.innerHeight*.4:300,{listenToStorageChanges:!1}),ft=bn(null),$t=q("slidev-presenter-font-size",1,{listenToStorageChanges:!1}),dt=q("slidev-presenter-layout",1,{listenToStorageChanges:!1}),un={invert:!1,contrast:1,brightness:1,hueRotate:0,saturate:1,sepia:0},Jr=q("slidev-viewer-css-filter",un,{listenToStorageChanges:!1,mergeDefaults:!0,deep:!0}),Ql=b(()=>Object.keys(un).some(n=>Jr.value[n]!==un[n]));function Yl(){dt.value=dt.value+1,dt.value>3&&(dt.value=1)}function Zl(){$t.value=Math.min(2,$t.value+.1)}function Xl(){$t.value=Math.max(.5,$t.value-.1)}const ec=xo(Fr),ht=q("slidev-sync-directions",{viewerSend:!0,viewerReceive:!0,presenterSend:!0,presenterReceive:!0},{listenToStorageChanges:!1,mergeDefaults:!0});function zs(n,e,t=1){const s=e.meta.slide.level??t;s&&s>t&&n.length>0?zs(n[n.length-1].children,e,t+1):n.push({no:e.no,children:[],level:t,titleLevel:s,path:qe(e.meta.slide?.frontmatter?.routeAlias??e.no,!1),hideInToc:!!e.meta?.slide?.frontmatter?.hideInToc,title:e.meta?.slide?.title})}function Ws(n,e,t=!1,s,o){return n.map(i=>{const r={...i,active:i.no===o?.value,hasActiveParent:t};return r.children.length>0&&(r.children=Ws(r.children,e,r.active||r.hasActiveParent,r,o)),s&&(r.active||r.activeParent)&&(s.activeParent=!0),r})}function qs(n,e=1){return n.filter(t=>!t.hideInToc).map(t=>({...t,children:qs(t.children,e+1)}))}function Ur(n,e,t){const s=b(()=>n.value.filter(i=>i.meta?.slide?.title).reduce((i,r)=>(zs(i,r),i),[])),o=b(()=>Ws(s.value,t.value,void 0,void 0,e));return b(()=>qs(o.value))}function Kr(n,e,t=O(0),s,o,i){const r=b(()=>ne.value.length),a=O(0),l=O(0),c=b(()=>qe(n.value,s.value)),f=b(()=>n.value.no),h=b(()=>n.value.meta?.layout||(f.value===1?"cover":"default")),d=b(()=>e.value.current),u=b(()=>e.value.clicksStart),g=b(()=>e.value.total),p=b(()=>ne.value[Math.min(ne.value.length,f.value+1)-1]),m=b(()=>ne.value[Math.max(1,f.value-1)-1]),y=b(()=>f.value<ne.value.length||d.value<g.value),v=b(()=>f.value>1||d.value>0),k=b(()=>o.value?void 0:Hr(a.value,n.value,m.value));se(n,(N,j)=>{a.value=N.no-j.no});async function w(N){return!1}const _=Ur(ne,f,n);async function L(){l.value=1,g.value<=t.value?await F():t.value+=1}async function x(){l.value=-1,t.value<=u.value?await J(!0):t.value-=1}async function F(N=!1){l.value=1,f.value<ne.value.length&&await M(f.value+1,N&&!o.value?wt:void 0)}async function J(N=!1){l.value=-1,f.value>1&&await M(f.value-1,N&&!o.value?wt:void 0)}function le(){return M(1)}function Z(){return M(r.value)}async function M(N,j=0,re=!1){On.value=!1;const ce=f.value!==N,Ye=j!==t.value,G=Nt(N)?.meta,D=G?.slide?.frontmatter.clicksStart??0;j=rn(j,D,G?.__clicksContext?.total??wt),(re||ce||Ye)&&await i?.push({path:qe(N,s.value,i.currentRoute.value.name==="export"),query:{...i.currentRoute.value.query,clicks:j===0?void 0:j.toString(),embedded:location.search.includes("embedded")?"true":void 0}})}function A(){i?.push({path:qe(f.value,!0),query:{...i.currentRoute.value.query}})}function V(){i?.push({path:qe(f.value,!1),query:{...i.currentRoute.value.query}})}return{slides:ne,total:r,currentPath:c,currentSlideNo:f,currentPage:f,currentSlideRoute:n,currentLayout:h,currentTransition:k,clicksDirection:l,nextRoute:p,prevRoute:m,clicksContext:e,clicks:d,clicksStart:u,clicksTotal:g,hasNext:y,hasPrev:v,tocTree:_,navDirection:a,openInEditor:w,next:L,prev:x,go:M,goLast:Z,goFirst:le,nextSlide:F,prevSlide:J,enterPresenter:A,exitPresenter:V}}const Gr=Ps(()=>{const n=Rt(),e=Ro(),t=b(()=>(n?.currentRoute?.value?.query,new URLSearchParams(location.search))),s=b(()=>t.value.has("print")||e.name==="export"),o=O(t.value.get("print")==="clicks"),i=b(()=>t.value.has("embedded")),r=b(()=>e.name==="play"),a=b(()=>e.name==="presenter"),l=b(()=>e.name==="notes"),c=b(()=>!a.value&&(!B.remote||t.value.get("password")===B.remote)),f=b(()=>!!e.params.no),h=b(()=>f.value?Nt(e.params.no)?.no??1:1),d=b(()=>ne.value[h.value-1]),u=O(Hs(ne.value.length,e?.query?.range)),g=Rr("clicks","0"),p=b(()=>y(d.value)),m=b({get(){let v=+(g.value||0);return Number.isNaN(v)&&(v=0),v},set(v){On.value=!1,g.value=v.toString()}});function y(v){if(v?.meta?.__clicksContext)return v.meta.__clicksContext;const k=v.no,w=Ns(b({get(){return h.value===k?Math.max(+(g.value??0),w.clicksStart):h.value>k?wt:w.clicksStart},set(_){h.value===k&&(g.value=_.toString())}}),v?.meta.slide?.frontmatter.clicksStart??0,v?.meta.clicks);return v?.meta&&(v.meta.__clicksContext=w),w}return{router:n,currentRoute:b(()=>e),isPrintMode:s,isPrintWithClicks:o,isEmbedded:i,isPlaying:r,isPresenter:a,isNotesViewer:l,isPresenterAvailable:c,hasPrimarySlide:f,currentSlideNo:h,currentSlideRoute:d,clicksContext:p,queryClicksRaw:g,queryClicks:m,printRange:u,getPrimaryClicks:y}}),Qe=Ps(()=>{const n=Gr(),e=Rt(),t=Kr(n.currentSlideRoute,n.clicksContext,n.queryClicks,n.isPresenter,n.isPrintMode,e);return se([t.total,n.currentRoute],async()=>{const s=n.currentRoute.value.params.no;n.hasPrimarySlide.value&&!Nt(s)&&(s&&s!=="index.html"?await t.go(t.total.value,0,!0):await t.go(1,0,!0))},{flush:"pre",immediate:!0}),{...t,...n}});function Qr(){const{isPrintMode:n}=Qe();Do(b(()=>n.value?`
@page {
  size: ${Yo.value}px ${Zo.value}px;
  margin: 0px;
}

* {
  transition: none !important;
  transition-duration: 0s !important;
}`:""))}const Ln=Symbol.for("yaml.alias"),Yr=Symbol.for("yaml.document"),Ne=Symbol.for("yaml.map"),Bs=Symbol.for("yaml.pair"),En=Symbol.for("yaml.scalar"),lt=Symbol.for("yaml.seq"),ie=Symbol.for("yaml.node.type"),He=n=>!!n&&typeof n=="object"&&n[ie]===Ln,Ht=n=>!!n&&typeof n=="object"&&n[ie]===Yr,Js=n=>!!n&&typeof n=="object"&&n[ie]===Ne,z=n=>!!n&&typeof n=="object"&&n[ie]===Bs,H=n=>!!n&&typeof n=="object"&&n[ie]===En,Tn=n=>!!n&&typeof n=="object"&&n[ie]===lt;function Y(n){if(n&&typeof n=="object")switch(n[ie]){case Ne:case lt:return!0}return!1}function W(n){if(n&&typeof n=="object")switch(n[ie]){case Ln:case Ne:case En:case lt:return!0}return!1}const Us=n=>(H(n)||Y(n))&&!!n.anchor,je=Symbol("break visit"),Zr=Symbol("skip children"),ot=Symbol("remove node");function Ft(n,e){const t=Xr(e);Ht(n)?Be(null,n.contents,t,Object.freeze([n]))===ot&&(n.contents=null):Be(null,n,t,Object.freeze([]))}Ft.BREAK=je;Ft.SKIP=Zr;Ft.REMOVE=ot;function Be(n,e,t,s){const o=ea(n,e,t,s);if(W(o)||z(o))return ta(n,s,o),Be(n,o,t,s);if(typeof o!="symbol"){if(Y(e)){s=Object.freeze(s.concat(e));for(let i=0;i<e.items.length;++i){const r=Be(i,e.items[i],t,s);if(typeof r=="number")i=r-1;else{if(r===je)return je;r===ot&&(e.items.splice(i,1),i-=1)}}}else if(z(e)){s=Object.freeze(s.concat(e));const i=Be("key",e.key,t,s);if(i===je)return je;i===ot&&(e.key=null);const r=Be("value",e.value,t,s);if(r===je)return je;r===ot&&(e.value=null)}}return o}function Xr(n){return typeof n=="object"&&(n.Collection||n.Node||n.Value)?Object.assign({Alias:n.Node,Map:n.Node,Scalar:n.Node,Seq:n.Node},n.Value&&{Map:n.Value,Scalar:n.Value,Seq:n.Value},n.Collection&&{Map:n.Collection,Seq:n.Collection},n):n}function ea(n,e,t,s){if(typeof t=="function")return t(n,e,s);if(Js(e))return t.Map?.(n,e,s);if(Tn(e))return t.Seq?.(n,e,s);if(z(e))return t.Pair?.(n,e,s);if(H(e))return t.Scalar?.(n,e,s);if(He(e))return t.Alias?.(n,e,s)}function ta(n,e,t){const s=e[e.length-1];if(Y(s))s.items[n]=t;else if(z(s))n==="key"?s.key=t:s.value=t;else if(Ht(s))s.contents=t;else{const o=He(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${o} parent`)}}function Ks(n){if(/[\x00-\x19\s,[\]{}]/.test(n)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(n)}`;throw new Error(t)}return!0}function st(n,e,t,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let o=0,i=s.length;o<i;++o){const r=s[o],a=st(n,s,String(o),r);a===void 0?delete s[o]:a!==r&&(s[o]=a)}else if(s instanceof Map)for(const o of Array.from(s.keys())){const i=s.get(o),r=st(n,s,o,i);r===void 0?s.delete(o):r!==i&&s.set(o,r)}else if(s instanceof Set)for(const o of Array.from(s)){const i=st(n,s,o,o);i===void 0?s.delete(o):i!==o&&(s.delete(o),s.add(i))}else for(const[o,i]of Object.entries(s)){const r=st(n,s,o,i);r===void 0?delete s[o]:r!==i&&(s[o]=r)}return n.call(e,t,s)}function oe(n,e,t){if(Array.isArray(n))return n.map((s,o)=>oe(s,String(o),t));if(n&&typeof n.toJSON=="function"){if(!t||!Us(n))return n.toJSON(e,t);const s={aliasCount:0,count:1,res:void 0};t.anchors.set(n,s),t.onCreate=i=>{s.res=i,delete t.onCreate};const o=n.toJSON(e,t);return t.onCreate&&t.onCreate(o),o}return typeof n=="bigint"&&!t?.keep?Number(n):n}class $n{constructor(e){Object.defineProperty(this,ie,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:s,onAnchor:o,reviver:i}={}){if(!Ht(e))throw new TypeError("A document argument is required");const r={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},a=oe(this,"",r);if(typeof o=="function")for(const{count:l,res:c}of r.anchors.values())o(c,l);return typeof i=="function"?st(i,{"":a},"",a):a}}class na extends $n{constructor(e){super(Ln),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,t){let s;t?.aliasResolveCache?s=t.aliasResolveCache:(s=[],Ft(e,{Node:(i,r)=>{(He(r)||Us(r))&&s.push(r)}}),t&&(t.aliasResolveCache=s));let o;for(const i of s){if(i===this)break;i.anchor===this.source&&(o=i)}return o}toJSON(e,t){if(!t)return{source:this.source};const{anchors:s,doc:o,maxAliasCount:i}=t,r=this.resolve(o,t);if(!r){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let a=s.get(r);if(a||(oe(r,null,t),a=s.get(r)),!a||a.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=bt(o,r,s)),a.count*a.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(e,t,s){const o=`*${this.source}`;if(e){if(Ks(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${o} `}return o}}function bt(n,e,t){if(He(e)){const s=e.resolve(n),o=t&&s&&t.get(s);return o?o.count*o.aliasCount:0}else if(Y(e)){let s=0;for(const o of e.items){const i=bt(n,o,t);i>s&&(s=i)}return s}else if(z(e)){const s=bt(n,e.key,t),o=bt(n,e.value,t);return Math.max(s,o)}return 1}const Gs=n=>!n||typeof n!="function"&&typeof n!="object";class R extends $n{constructor(e){super(En),this.value=e}toJSON(e,t){return t?.keep?this.value:oe(this.value,e,t)}toString(){return String(this.value)}}R.BLOCK_FOLDED="BLOCK_FOLDED";R.BLOCK_LITERAL="BLOCK_LITERAL";R.PLAIN="PLAIN";R.QUOTE_DOUBLE="QUOTE_DOUBLE";R.QUOTE_SINGLE="QUOTE_SINGLE";function sa(n,e,t){return t.find(s=>s.identify?.(n)&&!s.format)}function Ct(n,e,t){if(Ht(n)&&(n=n.contents),W(n))return n;if(z(n)){const h=t.schema[Ne].createNode?.(t.schema,null,t);return h.items.push(n),h}(n instanceof String||n instanceof Number||n instanceof Boolean||typeof BigInt<"u"&&n instanceof BigInt)&&(n=n.valueOf());const{aliasDuplicateObjects:s,onAnchor:o,onTagObj:i,schema:r,sourceObjects:a}=t;let l;if(s&&n&&typeof n=="object"){if(l=a.get(n),l)return l.anchor??(l.anchor=o(n)),new na(l.anchor);l={anchor:null,node:null},a.set(n,l)}let c=sa(n,e,r.tags);if(!c){if(n&&typeof n.toJSON=="function"&&(n=n.toJSON()),!n||typeof n!="object"){const h=new R(n);return l&&(l.node=h),h}c=n instanceof Map?r[Ne]:Symbol.iterator in Object(n)?r[lt]:r[Ne]}i&&(i(c),delete t.onTagObj);const f=c?.createNode?c.createNode(t.schema,n,t):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(t.schema,n,t):new R(n);return c.default||(f.tag=c.tag),l&&(l.node=f),f}function ms(n,e,t){let s=t;for(let o=e.length-1;o>=0;--o){const i=e[o];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const r=[];r[i]=s,s=r}else s=new Map([[i,s]])}return Ct(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:n,sourceObjects:new Map})}const oa=n=>n==null||typeof n=="object"&&!!n[Symbol.iterator]().next().done;class Qs extends $n{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(s=>W(s)||z(s)?s.clone(e):s),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(oa(e))this.add(t);else{const[s,...o]=e,i=this.get(s,!0);if(Y(i))i.addIn(o,t);else if(i===void 0&&this.schema)this.set(s,ms(this.schema,o,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}deleteIn(e){const[t,...s]=e;if(s.length===0)return this.delete(t);const o=this.get(t,!0);if(Y(o))return o.deleteIn(s);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${s}`)}getIn(e,t){const[s,...o]=e,i=this.get(s,!0);return o.length===0?!t&&H(i)?i.value:i:Y(i)?i.getIn(o,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!z(t))return!1;const s=t.value;return s==null||e&&H(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[t,...s]=e;if(s.length===0)return this.has(t);const o=this.get(t,!0);return Y(o)?o.hasIn(s):!1}setIn(e,t){const[s,...o]=e;if(o.length===0)this.set(s,t);else{const i=this.get(s,!0);if(Y(i))i.setIn(o,t);else if(i===void 0&&this.schema)this.set(s,ms(this.schema,o,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}}const ia=n=>n.replace(/^(?!$)(?: $)?/gm,"#");function at(n,e){return/^\n+$/.test(n)?n.substring(1):e?n.replace(/^(?! *$)/gm,e):n}const Je=(n,e,t)=>n.endsWith(`
`)?at(t,e):t.includes(`
`)?`
`+at(t,e):(n.endsWith(" ")?"":" ")+t,Ys="flow",fn="block",_t="quoted";function Vt(n,e,t="flow",{indentAtStart:s,lineWidth:o=80,minContentWidth:i=20,onFold:r,onOverflow:a}={}){if(!o||o<0)return n;o<i&&(i=0);const l=Math.max(1+i,1+o-e.length);if(n.length<=l)return n;const c=[],f={};let h=o-e.length;typeof s=="number"&&(s>o-Math.max(2,i)?c.push(0):h=o-s);let d,u,g=!1,p=-1,m=-1,y=-1;t===fn&&(p=ys(n,p,e.length),p!==-1&&(h=p+l));for(let k;k=n[p+=1];){if(t===_t&&k==="\\"){switch(m=p,n[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}y=p}if(k===`
`)t===fn&&(p=ys(n,p,e.length)),h=p+e.length+l,d=void 0;else{if(k===" "&&u&&u!==" "&&u!==`
`&&u!=="	"){const w=n[p+1];w&&w!==" "&&w!==`
`&&w!=="	"&&(d=p)}if(p>=h)if(d)c.push(d),h=d+l,d=void 0;else if(t===_t){for(;u===" "||u==="	";)u=k,k=n[p+=1],g=!0;const w=p>y+1?p-2:m-1;if(f[w])return n;c.push(w),f[w]=!0,h=w+l,d=void 0}else g=!0}u=k}if(g&&a&&a(),c.length===0)return n;r&&r();let v=n.slice(0,c[0]);for(let k=0;k<c.length;++k){const w=c[k],_=c[k+1]||n.length;w===0?v=`
${e}${n.slice(0,_)}`:(t===_t&&f[w]&&(v+=`${n[w]}\\`),v+=`
${e}${n.slice(w+1,_)}`)}return v}function ys(n,e,t){let s=e,o=e+1,i=n[o];for(;i===" "||i==="	";)if(e<o+t)i=n[++e];else{do i=n[++e];while(i&&i!==`
`);s=e,o=e+1,i=n[o]}return s}const zt=(n,e)=>({indentAtStart:e?n.indent.length:n.indentAtStart,lineWidth:n.options.lineWidth,minContentWidth:n.options.minContentWidth}),Wt=n=>/^(%|---|\.\.\.)/m.test(n);function ra(n,e,t){if(!e||e<0)return!1;const s=e-t,o=n.length;if(o<=s)return!1;for(let i=0,r=0;i<o;++i)if(n[i]===`
`){if(i-r>s)return!0;if(r=i+1,o-r<=s)return!1}return!0}function it(n,e){const t=JSON.stringify(n);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:s}=e,o=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(Wt(n)?"  ":"");let r="",a=0;for(let l=0,c=t[l];c;c=t[++l])if(c===" "&&t[l+1]==="\\"&&t[l+2]==="n"&&(r+=t.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(t[l+1]){case"u":{r+=t.slice(a,l);const f=t.substr(l+2,4);switch(f){case"0000":r+="\\0";break;case"0007":r+="\\a";break;case"000b":r+="\\v";break;case"001b":r+="\\e";break;case"0085":r+="\\N";break;case"00a0":r+="\\_";break;case"2028":r+="\\L";break;case"2029":r+="\\P";break;default:f.substr(0,2)==="00"?r+="\\x"+f.substr(2):r+=t.substr(l,6)}l+=5,a=l+1}break;case"n":if(s||t[l+2]==='"'||t.length<o)l+=1;else{for(r+=t.slice(a,l)+`

`;t[l+2]==="\\"&&t[l+3]==="n"&&t[l+4]!=='"';)r+=`
`,l+=2;r+=i,t[l+2]===" "&&(r+="\\"),l+=1,a=l+1}break;default:l+=1}return r=a?r+t.slice(a):t,s?r:Vt(r,i,_t,zt(e,!1))}function dn(n,e){if(e.options.singleQuote===!1||e.implicitKey&&n.includes(`
`)||/[ \t]\n|\n[ \t]/.test(n))return it(n,e);const t=e.indent||(Wt(n)?"  ":""),s="'"+n.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?s:Vt(s,t,Ys,zt(e,!1))}function Ue(n,e){const{singleQuote:t}=e.options;let s;if(t===!1)s=it;else{const o=n.includes('"'),i=n.includes("'");o&&!i?s=dn:i&&!o?s=it:s=t?dn:it}return s(n,e)}let hn;try{hn=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{hn=/\n+(?!\n|$)/g}function St({comment:n,type:e,value:t},s,o,i){const{blockQuote:r,commentString:a,lineWidth:l}=s.options;if(!r||/\n[\t ]+$/.test(t))return Ue(t,s);const c=s.indent||(s.forceBlockIndent||Wt(t)?"  ":""),f=r==="literal"?!0:r==="folded"||e===R.BLOCK_FOLDED?!1:e===R.BLOCK_LITERAL?!0:!ra(t,l,c.length);if(!t)return f?`|
`:`>
`;let h,d;for(d=t.length;d>0;--d){const _=t[d-1];if(_!==`
`&&_!=="	"&&_!==" ")break}let u=t.substring(d);const g=u.indexOf(`
`);g===-1?h="-":t===u||g!==u.length-1?(h="+",i&&i()):h="",u&&(t=t.slice(0,-u.length),u[u.length-1]===`
`&&(u=u.slice(0,-1)),u=u.replace(hn,`$&${c}`));let p=!1,m,y=-1;for(m=0;m<t.length;++m){const _=t[m];if(_===" ")p=!0;else if(_===`
`)y=m;else break}let v=t.substring(0,y<m?y+1:m);v&&(t=t.substring(v.length),v=v.replace(/\n+/g,`$&${c}`));let w=(p?c?"2":"1":"")+h;if(n&&(w+=" "+a(n.replace(/ ?[\r\n]+/g," ")),o&&o()),!f){const _=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let L=!1;const x=zt(s,!0);r!=="folded"&&e!==R.BLOCK_FOLDED&&(x.onOverflow=()=>{L=!0});const F=Vt(`${v}${_}${u}`,c,fn,x);if(!L)return`>${w}
${c}${F}`}return t=t.replace(/\n+/g,`$&${c}`),`|${w}
${c}${v}${t}${u}`}function aa(n,e,t,s){const{type:o,value:i}=n,{actualString:r,implicitKey:a,indent:l,indentStep:c,inFlow:f}=e;if(a&&i.includes(`
`)||f&&/[[\]{},]/.test(i))return Ue(i,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return a||f||!i.includes(`
`)?Ue(i,e):St(n,e,t,s);if(!a&&!f&&o!==R.PLAIN&&i.includes(`
`))return St(n,e,t,s);if(Wt(i)){if(l==="")return e.forceBlockIndent=!0,St(n,e,t,s);if(a&&l===c)return Ue(i,e)}const h=i.replace(/\n+/g,`$&
${l}`);if(r){const d=p=>p.default&&p.tag!=="tag:yaml.org,2002:str"&&p.test?.test(h),{compat:u,tags:g}=e.doc.schema;if(g.some(d)||u?.some(d))return Ue(i,e)}return a?h:Vt(h,l,Ys,zt(e,!1))}function la(n,e,t,s){const{implicitKey:o,inFlow:i}=e,r=typeof n.value=="string"?n:Object.assign({},n,{value:String(n.value)});let{type:a}=n;a!==R.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(r.value)&&(a=R.QUOTE_DOUBLE);const l=f=>{switch(f){case R.BLOCK_FOLDED:case R.BLOCK_LITERAL:return o||i?Ue(r.value,e):St(r,e,t,s);case R.QUOTE_DOUBLE:return it(r.value,e);case R.QUOTE_SINGLE:return dn(r.value,e);case R.PLAIN:return aa(r,e,t,s);default:return null}};let c=l(a);if(c===null){const{defaultKeyType:f,defaultStringType:h}=e.options,d=o&&f||h;if(c=l(d),c===null)throw new Error(`Unsupported default string type ${d}`)}return c}function ca(n,e){const t=Object.assign({blockQuote:!0,commentString:ia,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},n.schema.toStringOptions,e);let s;switch(t.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:n,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:s,options:t}}function ua(n,e){if(e.tag){const o=n.filter(i=>i.tag===e.tag);if(o.length>0)return o.find(i=>i.format===e.format)??o[0]}let t,s;if(H(e)){s=e.value;let o=n.filter(i=>i.identify?.(s));if(o.length>1){const i=o.filter(r=>r.test);i.length>0&&(o=i)}t=o.find(i=>i.format===e.format)??o.find(i=>!i.format)}else s=e,t=n.find(o=>o.nodeClass&&s instanceof o.nodeClass);if(!t){const o=s?.constructor?.name??(s===null?"null":typeof s);throw new Error(`Tag not resolved for ${o} value`)}return t}function fa(n,e,{anchors:t,doc:s}){if(!s.directives)return"";const o=[],i=(H(n)||Y(n))&&n.anchor;i&&Ks(i)&&(t.add(i),o.push(`&${i}`));const r=n.tag??(e.default?null:e.tag);return r&&o.push(s.directives.tagString(r)),o.join(" ")}function At(n,e,t,s){if(z(n))return n.toString(e,t,s);if(He(n)){if(e.doc.directives)return n.toString(e);if(e.resolvedAliases?.has(n))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(n):e.resolvedAliases=new Set([n]),n=n.resolve(e.doc)}let o;const i=W(n)?n:e.doc.createNode(n,{onTagObj:l=>o=l});o??(o=ua(e.doc.schema.tags,i));const r=fa(i,o,e);r.length>0&&(e.indentAtStart=(e.indentAtStart??0)+r.length+1);const a=typeof o.stringify=="function"?o.stringify(i,e,t,s):H(i)?la(i,e,t,s):i.toString(e,t,s);return r?H(i)||a[0]==="{"||a[0]==="["?`${r} ${a}`:`${r}
${e.indent}${a}`:a}function da({key:n,value:e},t,s,o){const{allNullValues:i,doc:r,indent:a,indentStep:l,options:{commentString:c,indentSeq:f,simpleKeys:h}}=t;let d=W(n)&&n.comment||null;if(h){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(Y(n)||!W(n)&&typeof n=="object"){const x="With simple keys, collection cannot be used as a key value";throw new Error(x)}}let u=!h&&(!n||d&&e==null&&!t.inFlow||Y(n)||(H(n)?n.type===R.BLOCK_FOLDED||n.type===R.BLOCK_LITERAL:typeof n=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!u&&(h||!i),indent:a+l});let g=!1,p=!1,m=At(n,t,()=>g=!0,()=>p=!0);if(!u&&!t.inFlow&&m.length>1024){if(h)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");u=!0}if(t.inFlow){if(i||e==null)return g&&s&&s(),m===""?"?":u?`? ${m}`:m}else if(i&&!h||e==null&&u)return m=`? ${m}`,d&&!g?m+=Je(m,t.indent,c(d)):p&&o&&o(),m;g&&(d=null),u?(d&&(m+=Je(m,t.indent,c(d))),m=`? ${m}
${a}:`):(m=`${m}:`,d&&(m+=Je(m,t.indent,c(d))));let y,v,k;W(e)?(y=!!e.spaceBefore,v=e.commentBefore,k=e.comment):(y=!1,v=null,k=null,e&&typeof e=="object"&&(e=r.createNode(e))),t.implicitKey=!1,!u&&!d&&H(e)&&(t.indentAtStart=m.length+1),p=!1,!f&&l.length>=2&&!t.inFlow&&!u&&Tn(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let w=!1;const _=At(e,t,()=>w=!0,()=>p=!0);let L=" ";if(d||y||v){if(L=y?`
`:"",v){const x=c(v);L+=`
${at(x,t.indent)}`}_===""&&!t.inFlow?L===`
`&&(L=`

`):L+=`
${t.indent}`}else if(!u&&Y(e)){const x=_[0],F=_.indexOf(`
`),J=F!==-1,le=t.inFlow??e.flow??e.items.length===0;if(J||!le){let Z=!1;if(J&&(x==="&"||x==="!")){let M=_.indexOf(" ");x==="&"&&M!==-1&&M<F&&_[M+1]==="!"&&(M=_.indexOf(" ",M+1)),(M===-1||F<M)&&(Z=!0)}Z||(L=`
${t.indent}`)}}else(_===""||_[0]===`
`)&&(L="");return m+=L+_,t.inFlow?w&&s&&s():k&&!w?m+=Je(m,t.indent,c(k)):p&&o&&o(),m}function ha(n,e){(n==="debug"||n==="warn")&&console.warn(e)}const pt="<<",Qt={identify:n=>n===pt||typeof n=="symbol"&&n.description===pt,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new R(Symbol(pt)),{addToJSMap:Zs}),stringify:()=>pt},pa=(n,e)=>(Qt.identify(e)||H(e)&&(!e.type||e.type===R.PLAIN)&&Qt.identify(e.value))&&n?.doc.schema.tags.some(t=>t.tag===Qt.tag&&t.default);function Zs(n,e,t){if(t=n&&He(t)?t.resolve(n.doc):t,Tn(t))for(const s of t.items)Yt(n,e,s);else if(Array.isArray(t))for(const s of t)Yt(n,e,s);else Yt(n,e,t)}function Yt(n,e,t){const s=n&&He(t)?t.resolve(n.doc):t;if(!Js(s))throw new Error("Merge sources must be maps or map aliases");const o=s.toJSON(null,n,Map);for(const[i,r]of o)e instanceof Map?e.has(i)||e.set(i,r):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:r,writable:!0,enumerable:!0,configurable:!0});return e}function Xs(n,e,{key:t,value:s}){if(W(t)&&t.addToJSMap)t.addToJSMap(n,e,s);else if(pa(n,t))Zs(n,e,s);else{const o=oe(t,"",n);if(e instanceof Map)e.set(o,oe(s,o,n));else if(e instanceof Set)e.add(o);else{const i=ga(t,o,n),r=oe(s,i,n);i in e?Object.defineProperty(e,i,{value:r,writable:!0,enumerable:!0,configurable:!0}):e[i]=r}}return e}function ga(n,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(W(n)&&t?.doc){const s=ca(t.doc,{});s.anchors=new Set;for(const i of t.anchors.keys())s.anchors.add(i.anchor);s.inFlow=!0,s.inStringifyKey=!0;const o=n.toString(s);if(!t.mapKeyWarned){let i=JSON.stringify(o);i.length>40&&(i=i.substring(0,36)+'..."'),ha(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return o}return JSON.stringify(e)}function Cn(n,e,t){const s=Ct(n,void 0,t),o=Ct(e,void 0,t);return new ae(s,o)}class ae{constructor(e,t=null){Object.defineProperty(this,ie,{value:Bs}),this.key=e,this.value=t}clone(e){let{key:t,value:s}=this;return W(t)&&(t=t.clone(e)),W(s)&&(s=s.clone(e)),new ae(t,s)}toJSON(e,t){const s=t?.mapAsMap?new Map:{};return Xs(t,s,this)}toString(e,t,s){return e?.doc?da(this,e,t,s):JSON.stringify(this)}}function eo(n,e,t){return(e.inFlow??n.flow?ya:ma)(n,e,t)}function ma({comment:n,items:e},t,{blockItemPrefix:s,flowChars:o,itemIndent:i,onChompKeep:r,onComment:a}){const{indent:l,options:{commentString:c}}=t,f=Object.assign({},t,{indent:i,type:null});let h=!1;const d=[];for(let g=0;g<e.length;++g){const p=e[g];let m=null;if(W(p))!h&&p.spaceBefore&&d.push(""),Pt(t,d,p.commentBefore,h),p.comment&&(m=p.comment);else if(z(p)){const v=W(p.key)?p.key:null;v&&(!h&&v.spaceBefore&&d.push(""),Pt(t,d,v.commentBefore,h))}h=!1;let y=At(p,f,()=>m=null,()=>h=!0);m&&(y+=Je(y,i,c(m))),h&&m&&(h=!1),d.push(s+y)}let u;if(d.length===0)u=o.start+o.end;else{u=d[0];for(let g=1;g<d.length;++g){const p=d[g];u+=p?`
${l}${p}`:`
`}}return n?(u+=`
`+at(c(n),l),a&&a()):h&&r&&r(),u}function ya({items:n},e,{flowChars:t,itemIndent:s}){const{indent:o,indentStep:i,flowCollectionPadding:r,options:{commentString:a}}=e;s+=i;const l=Object.assign({},e,{indent:s,inFlow:!0,type:null});let c=!1,f=0;const h=[];for(let g=0;g<n.length;++g){const p=n[g];let m=null;if(W(p))p.spaceBefore&&h.push(""),Pt(e,h,p.commentBefore,!1),p.comment&&(m=p.comment);else if(z(p)){const v=W(p.key)?p.key:null;v&&(v.spaceBefore&&h.push(""),Pt(e,h,v.commentBefore,!1),v.comment&&(c=!0));const k=W(p.value)?p.value:null;k?(k.comment&&(m=k.comment),k.commentBefore&&(c=!0)):p.value==null&&v?.comment&&(m=v.comment)}m&&(c=!0);let y=At(p,l,()=>m=null);g<n.length-1&&(y+=","),m&&(y+=Je(y,s,a(m))),!c&&(h.length>f||y.includes(`
`))&&(c=!0),h.push(y),f=h.length}const{start:d,end:u}=t;if(h.length===0)return d+u;if(!c){const g=h.reduce((p,m)=>p+m.length+2,2);c=e.options.lineWidth>0&&g>e.options.lineWidth}if(c){let g=d;for(const p of h)g+=p?`
${i}${o}${p}`:`
`;return`${g}
${o}${u}`}else return`${d}${r}${h.join(" ")}${r}${u}`}function Pt({indent:n,options:{commentString:e}},t,s,o){if(s&&o&&(s=s.replace(/^\n+/,"")),s){const i=at(e(s),n);t.push(i.trimStart())}}function De(n,e){const t=H(e)?e.value:e;for(const s of n)if(z(s)&&(s.key===e||s.key===t||H(s.key)&&s.key.value===t))return s}class ze extends Qs{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Ne,e),this.items=[]}static from(e,t,s){const{keepUndefined:o,replacer:i}=s,r=new this(e),a=(l,c)=>{if(typeof i=="function")c=i.call(t,l,c);else if(Array.isArray(i)&&!i.includes(l))return;(c!==void 0||o)&&r.items.push(Cn(l,c,s))};if(t instanceof Map)for(const[l,c]of t)a(l,c);else if(t&&typeof t=="object")for(const l of Object.keys(t))a(l,t[l]);return typeof e.sortMapEntries=="function"&&r.items.sort(e.sortMapEntries),r}add(e,t){let s;z(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new ae(e,e?.value):s=new ae(e.key,e.value);const o=De(this.items,s.key),i=this.schema?.sortMapEntries;if(o){if(!t)throw new Error(`Key ${s.key} already set`);H(o.value)&&Gs(s.value)?o.value.value=s.value:o.value=s.value}else if(i){const r=this.items.findIndex(a=>i(s,a)<0);r===-1?this.items.push(s):this.items.splice(r,0,s)}else this.items.push(s)}delete(e){const t=De(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){const o=De(this.items,e)?.value;return(!t&&H(o)?o.value:o)??void 0}has(e){return!!De(this.items,e)}set(e,t){this.add(new ae(e,t),!0)}toJSON(e,t,s){const o=s?new s:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(o);for(const i of this.items)Xs(t,o,i);return o}toString(e,t,s){if(!e)return JSON.stringify(this);for(const o of this.items)if(!z(o))throw new Error(`Map items must all be pairs; found ${JSON.stringify(o)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),eo(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:t})}}class to extends Qs{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(lt,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=gt(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const s=gt(e);if(typeof s!="number")return;const o=this.items[s];return!t&&H(o)?o.value:o}has(e){const t=gt(e);return typeof t=="number"&&t<this.items.length}set(e,t){const s=gt(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const o=this.items[s];H(o)&&Gs(t)?o.value=t:this.items[s]=t}toJSON(e,t){const s=[];t?.onCreate&&t.onCreate(s);let o=0;for(const i of this.items)s.push(oe(i,String(o++),t));return s}toString(e,t,s){return e?eo(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:t}):JSON.stringify(this)}static from(e,t,s){const{replacer:o}=s,i=new this(e);if(t&&Symbol.iterator in Object(t)){let r=0;for(let a of t){if(typeof o=="function"){const l=t instanceof Set?a:String(r++);a=o.call(t,l,a)}i.items.push(Ct(a,void 0,s))}}return i}}function gt(n){let e=H(n)?n.value:n;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function va(n,e,t){const{replacer:s}=t,o=new to(n);o.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let r of e){typeof s=="function"&&(r=s.call(e,String(i++),r));let a,l;if(Array.isArray(r))if(r.length===2)a=r[0],l=r[1];else throw new TypeError(`Expected [key, value] tuple: ${r}`);else if(r&&r instanceof Object){const c=Object.keys(r);if(c.length===1)a=c[0],l=r[a];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else a=r;o.items.push(Cn(a,l,t))}return o}class An extends to{constructor(){super(),this.add=ze.prototype.add.bind(this),this.delete=ze.prototype.delete.bind(this),this.get=ze.prototype.get.bind(this),this.has=ze.prototype.has.bind(this),this.set=ze.prototype.set.bind(this),this.tag=An.tag}toJSON(e,t){if(!t)return super.toJSON(e);const s=new Map;t?.onCreate&&t.onCreate(s);for(const o of this.items){let i,r;if(z(o)?(i=oe(o.key,"",t),r=oe(o.value,i,t)):i=oe(o,"",t),s.has(i))throw new Error("Ordered maps must not include duplicate keys");s.set(i,r)}return s}static from(e,t,s){const o=va(e,t,s),i=new this;return i.items=o.items,i}}An.tag="tag:yaml.org,2002:omap";class Pn extends ze{constructor(e){super(e),this.tag=Pn.tag}add(e){let t;z(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new ae(e.key,null):t=new ae(e,null),De(this.items,t.key)||this.items.push(t)}get(e,t){const s=De(this.items,e);return!t&&z(s)?H(s.key)?s.key.value:s.key:s}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const s=De(this.items,e);s&&!t?this.items.splice(this.items.indexOf(s),1):!s&&t&&this.items.push(new ae(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,s);throw new Error("Set items must all have null values")}static from(e,t,s){const{replacer:o}=s,i=new this(e);if(t&&Symbol.iterator in Object(t))for(let r of t)typeof o=="function"&&(r=o.call(t,r,r)),i.items.push(Cn(r,null,s));return i}}Pn.tag="tag:yaml.org,2002:set";new Set("0123456789ABCDEFabcdef");new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()");new Set(",[]{}");new Set(` ,[]{}
\r	`);function In(n=5){const e=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",s=t.length;for(let o=0;o<n;o++)e.push(t.charAt(Math.floor(Math.random()*s)));return e.join("")}function tc(n,e,t,s){const o=Hs(e+t-1,n);for(let i=0;i<e;i++){const r=s(i),a=o.includes(i+t);for(const l of r)l.classList.toggle("slidev-code-highlighted",a),l.classList.toggle("slidev-code-dishonored",!a),l.classList.toggle("highlighted",a),l.classList.toggle("dishonored",!a)}}function no(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}function ee(n,e,t){Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!1})}const ue=T({});let ka=[],wa=[];ee(ue,"$syncUp",!0);ee(ue,"$syncDown",!0);ee(ue,"$paused",!1);ee(ue,"$onSet",n=>ka.push(n));ee(ue,"$onPatch",n=>wa.push(n));no();ee(ue,"$patch",async()=>!1);const ba={channels:[],enabled:!0,init(n,e,t,s=!1){let o;if(!s)o=new BroadcastChannel(n),o.addEventListener("message",i=>e(i.data)),this.channels.push(o);else if(s){this.listener=function(r){r&&r.key===n&&r.newValue&&e(JSON.parse(r.newValue))},window.addEventListener("storage",this.listener);const i=window.localStorage.getItem(n);i&&e(JSON.parse(i))}return(i,r=!1)=>{this.enabled&&(!s&&o&&!r&&o.postMessage(Is(i)),s&&!r&&window.localStorage.setItem(n,JSON.stringify(i)))}},disable(){this.enabled=!1,this.channels.forEach(n=>n.close()),this.listener&&window.removeEventListener("storage",this.listener)}},_a=T([ba]),Sa=new Map,vs=O({});function so(n,e,t=!1){const s=[];let o=!1,i=!1,r,a;const l=T(e);function c(u){s.push(u)}function f(u,g){l[u]!==g&&(clearTimeout(r),o=!0,l[u]=g,r=setTimeout(()=>o=!1,0))}function h(u){o||(clearTimeout(a),i=!0,Object.entries(u).forEach(([g,p])=>{l[g]=p}),a=setTimeout(()=>i=!1,0))}function d(u){Sa.set(u,{onUpdate:h,persist:t,state:l}),vs.value[u]=_a.map(p=>p.init(u,h,l,t)).filter(p=>!!p);function g(){vs.value[u].forEach(p=>p?.(Is(l),i)),o||s.forEach(p=>p(l))}se(l,g,{deep:!0})}return{init:d,onPatch:c,onUpdate:h,patch:f,state:l}}const{init:Ma,onPatch:nc,patch:sc,state:oc}=so(ue,ue,!1),Fe=T({page:0,clicks:0});let Oa=[],La=[];ee(Fe,"$syncUp",!0);ee(Fe,"$syncDown",!0);ee(Fe,"$paused",!1);ee(Fe,"$onSet",n=>Oa.push(n));ee(Fe,"$onPatch",n=>La.push(n));no();ee(Fe,"$patch",async()=>!1);const{init:Ea,onPatch:Ta,patch:mt,state:ic}=so(Fe,{page:1,clicks:0,clicksTotal:0});function $a(){const n=$s().appContext.app,e=T({nav:Qe(),configs:B,themeConfigs:b(()=>B.themeConfig)});n.provide(Mn,O("none")),n.provide(Ar,e),n.provide(Sn,b(()=>e.nav.currentSlideNo)),n.provide(Dt,bn(Ci()));for(const d of ti)d();const{clicksContext:t,currentSlideNo:s,hasPrimarySlide:o,isNotesViewer:i,isPresenter:r,isPrintMode:a}=Qe();Ei({title:Bt,htmlAttrs:B.htmlAttrs}),Qr(),Ea(`${Bt} - shared`),Ma(`${Bt} - drawings`);const l=`${location.origin}_${In()}`,c=b(()=>r.value?"presenter":"viewer");function f(){(r.value?ht.value.presenterSend:ht.value.viewerSend)&&(i.value||a.value||!r.value&&!xr.includes(location.host.split(":")[0])||(mt("page",+s.value),mt("clicks",t.value.current),mt("clicksTotal",t.value.total),mt("lastUpdate",{id:l,type:c.value,time:new Date().getTime()})))}const h=Rt();h.afterEach(f),se(t,f),Ta(d=>{(r.value?ht.value.presenterReceive:ht.value.viewerReceive)&&(!o.value||a.value||d.lastUpdate?.type!==c.value&&(+d.page==+s.value&&+t.value.current==+d.clicks||(On.value=!1,h.replace({path:qe(d.page,r.value),query:{...h.currentRoute.value.query,clicks:d.clicks||0}}))))})}const Ca=As({__name:"App",setup(n){return $a(),Ke(()=>{for(const[e,t]of Object.entries(Xo.value))document.body.style.setProperty(e,t.toString())}),(e,t)=>{const s=Ho("RouterView");return Lt(),No(s)}}}),Aa=[];async function oo(n,e={}){const t=e.document||n.resolvedOptions.document;if(!t||!n.dirty)return;const s={shouldRender:!0,tags:[]};if(await n.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return n._domUpdatePromise||(n._domUpdatePromise=new Promise(async o=>{const i=new Map,r=new Promise(u=>{n.resolveTags().then(g=>{u(g.map(p=>{const m=i.get(p._d)||0,y={tag:p,id:(m?`${p._d}:${m}`:p._d)||zn(p),shouldRender:!0};return p._d&&js(p._d)&&i.set(p._d,m+1),y}))})});let a=n._dom;if(!a){a={title:t.title,elMap:new Map().set("htmlAttrs",t.documentElement).set("bodyAttrs",t.body)};for(const u of["body","head"]){const g=t[u]?.children;for(const p of g){const m=p.tagName.toLowerCase();if(!Vn.has(m))continue;const y=Rs({tag:m,props:{}},{innerHTML:p.innerHTML,...p.getAttributeNames().reduce((v,k)=>(v[k]=p.getAttribute(k),v),{})||{}});if(y.key=p.getAttribute("data-hid")||void 0,y._d=ln(y)||zn(y),a.elMap.has(y._d)){let v=1,k=y._d;for(;a.elMap.has(k);)k=`${y._d}:${v++}`;a.elMap.set(k,p)}else a.elMap.set(y._d,p)}}}a.pendingSideEffects={...a.sideEffects},a.sideEffects={};function l(u,g,p){const m=`${u}:${g}`;a.sideEffects[m]=p,delete a.pendingSideEffects[m]}function c({id:u,$el:g,tag:p}){const m=p.tag.endsWith("Attrs");a.elMap.set(u,g),m||(p.textContent&&p.textContent!==g.textContent&&(g.textContent=p.textContent),p.innerHTML&&p.innerHTML!==g.innerHTML&&(g.innerHTML=p.innerHTML),l(u,"el",()=>{g?.remove(),a.elMap.delete(u)}));for(const y in p.props){if(!Object.prototype.hasOwnProperty.call(p.props,y))continue;const v=p.props[y];if(y.startsWith("on")&&typeof v=="function"){const w=g?.dataset;if(w&&w[`${y}fired`]){const _=y.slice(0,-5);v.call(g,new Event(_.substring(2)))}g.getAttribute(`data-${y}`)!==""&&((p.tag==="bodyAttrs"?t.defaultView:g).addEventListener(y.substring(2),v.bind(g)),g.setAttribute(`data-${y}`,""));continue}const k=`attr:${y}`;if(y==="class"){if(!v)continue;for(const w of v)m&&l(u,`${k}:${w}`,()=>g.classList.remove(w)),!g.classList.contains(w)&&g.classList.add(w)}else if(y==="style"){if(!v)continue;for(const[w,_]of v)l(u,`${k}:${w}`,()=>{g.style.removeProperty(w)}),g.style.setProperty(w,_)}else v!==!1&&v!==null&&(g.getAttribute(y)!==v&&g.setAttribute(y,v===!0?"":String(v)),m&&l(u,k,()=>g.removeAttribute(y)))}}const f=[],h={bodyClose:void 0,bodyOpen:void 0,head:void 0},d=await r;for(const u of d){const{tag:g,shouldRender:p,id:m}=u;if(p){if(g.tag==="title"){t.title=g.textContent,l("title","",()=>t.title=a.title);continue}u.$el=u.$el||a.elMap.get(m),u.$el?c(u):Vn.has(g.tag)&&f.push(u)}}for(const u of f){const g=u.tag.tagPosition||"head";u.$el=t.createElement(u.tag.tag),c(u),h[g]=h[g]||t.createDocumentFragment(),h[g].appendChild(u.$el)}for(const u of d)await n.hooks.callHook("dom:renderTag",u,t,l);h.head&&t.head.appendChild(h.head),h.bodyOpen&&t.body.insertBefore(h.bodyOpen,t.body.firstChild),h.bodyClose&&t.body.appendChild(h.bodyClose);for(const u in a.pendingSideEffects)a.pendingSideEffects[u]();n._dom=a,await n.hooks.callHook("dom:rendered",{renders:d}),o()}).finally(()=>{n._domUpdatePromise=void 0,n.dirty=!1})),n._domUpdatePromise}function Pa(n={}){const e=n.domOptions?.render||oo;n.document=n.document||(typeof window<"u"?document:void 0);const t=n.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return Si({...n,plugins:[...n.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[t?JSON.parse(t):!1,...n.init||[]]})}function Ia(n,e){let t=0;return()=>{const s=++t;e(()=>{t===s&&n()})}}function xa(n={}){const e=Pa({domOptions:{render:Ia(()=>oo(e),t=>setTimeout(t,0))},...n});return e.install=Oi(e),e}function rc(n,e=""){const t=["slidev-page",e],s=n?.meta?.slide?.no;return s!=null&&t.push(`slidev-page-${s}`),t.filter(Boolean).join(" ")}async function ac(){const{saveAs:n}=await E(async()=>{const{saveAs:e}=await import("./modules/file-saver-DnRyLYBS.js").then(t=>t.F);return{saveAs:e}},[]);n(typeof B.download=="string"?B.download:B.exportFilename?`${B.exportFilename}.pdf`:"/2024/jsnation/slidev-exported.pdf",`${B.title}.pdf`)}function Ge(n,e,t){return(n.instance?.$).provides[e]??t}function ja(){return{install(n){n.directive("click",{name:"v-click",mounted(e,t){const s=Mt(e,t,t.value);s!=null&&(e.classList.toggle(kt,!0),e.dataset.slidevClicksStart=String(s.start),Number.isFinite(s.end)&&(e.dataset.slidevClicksEnd=String(s.end)),e.watchStopHandle=Ke(()=>{const o=s.isActive.value,i=s.isCurrent.value,r=o&&!i;s.flagHide?(e.classList.toggle(s.flagFade?et:Xe,o),e.classList.toggle(Ut,o)):e.classList.toggle(s.flagFade?et:Xe,!o),e.classList.toggle(Kt,i),e.classList.toggle(Gt,r)}))},unmounted:Zt}),n.directive("after",{name:"v-after",mounted(e,t){const s=Mt(e,t,"+0");s!=null&&(e.classList.toggle(kt,!0),e.watchStopHandle=Ke(()=>{const o=s.isActive.value,i=s.isCurrent.value,r=o&&!i;s.flagHide?(e.classList.toggle(s.flagFade?et:Xe,o),e.classList.toggle(Ut,o)):e.classList.toggle(s.flagFade?et:Xe,!o),e.classList.toggle(Kt,i),e.classList.toggle(Gt,r)}))},unmounted:Zt}),n.directive("click-hide",{name:"v-click-hide",mounted(e,t){const s=Mt(e,t,t.value,!0);s!=null&&(e.classList.toggle(kt,!0),e.watchStopHandle=Ke(()=>{const o=s.isActive.value,i=s.isCurrent.value,r=o&&!i;e.classList.toggle(s.flagFade?et:Xe,o),e.classList.toggle(Ut,o),e.classList.toggle(Kt,i),e.classList.toggle(Gt,r)}))},unmounted:Zt})}}}const io=new Map;function Mt(n,e,t,s=!1){const o=Ge(e,Dt)?.value;if(!n||!o)return null;const i=s||e.modifiers.hide!==!1&&e.modifiers.hide!=null,r=e.modifiers.fade!==!1&&e.modifiers.fade!=null,a=o.calculate(t);if(!a)return null;o.register(n,a);const l=b(()=>i?!a.isActive.value:a.isActive.value),c=b(()=>l.value?"shown":Number.isFinite(a.end)?o.current<a.start?"before":"after":i?"after":"before"),f={...a,isShown:l,visibilityState:c,flagFade:r,flagHide:i};return io.set(n,f),f}function Zt(n,e){n.classList.toggle(kt,!1),Ge(e,Dt)?.value?.unregister(n),n.watchStopHandle?.()}function Ra(n=Ts(Fs,O())){const e=Fo(n),t=se([zr,Wr,qr,Br,Vr,Tt.width,Tt.height],()=>{setTimeout(e.update,300)},{flush:"post",immediate:!0});return{...e,stop:t}}function Da(n){return()=>{}}function Na(n,e,t,s=!1){function o(D){return n?Ge(n,D):zo(D)}const i=o(Mn),r=o(Pr)??{},a=o(Sn),l=b(()=>Da(a.value)),c=o(Cr)??O(1),f=o(Ir)??O(1),{left:h,top:d,stop:u}=Ra(o(Fs)??O()),{isPrintMode:g}=Qe(),p=["slide","presenter"].includes(i.value)&&!g.value;let m=n?"directive":"prop",y=In(),v;if(Array.isArray(e)?v=e:typeof e=="string"&&e.includes(",")?v=e.split(",").map(Number):e!=null&&(m="frontmatter",y=`${e}`,e=r?.dragPos?.[y],v=e?.split(",").map(Number)),m!=="frontmatter"&&!t)throw new Error("[Slidev] Can not identify the source position of the v-drag element, please provide an explicit `id` prop.");const k=[u],w=!s&&e!=null&&!Number.isFinite(v?.[3]);v??=[Number.NaN,Number.NaN,0];const _=O(v[2]),L=O(v[0]+v[2]/2),x=O(s?0:v[4]??0),F=b(()=>x.value*Math.PI/180),J=b(()=>Math.sin(F.value)),le=b(()=>Math.cos(F.value)),Z=O(),M=O({left:0,top:0,width:0,height:0}),A=O(0);function V(){if(!Z.value)return;const D=Z.value.getBoundingClientRect();M.value={left:D.left/f.value,top:D.top/f.value,width:D.width/f.value,height:D.height/f.value},A.value=(M.value.width+M.value.height)/c.value/(Math.abs(J.value)+Math.abs(le.value))-_.value}k.push(se(_,V,{flush:"post"}));const N=O(v[3]??0),j=w?b({get:()=>(w?A.value:N.value)||0,set:D=>!w&&(N.value=D)}):N,re=w?O(v[1]):O(v[1]+v[3]/2),ce=w?b({get:()=>re.value+j.value/2,set:D=>re.value=D-j.value/2}):re,Ye=b(()=>Number.isFinite(L.value)?{position:"absolute",zIndex:100,left:`${L.value-_.value/2}px`,top:`${ce.value-j.value/2}px`,width:`${_.value}px`,height:w?void 0:`${j.value}px`,transformOrigin:"center center",transform:`rotate(${x.value}deg)`}:{position:"absolute",zIndex:100});k.push(se([L,ce,_,j,x],([D,ut,Rn,Dn,Nn])=>{let Ve=[D-Rn/2,ut-Dn/2,Rn].map(Math.round).join();w?Ve+=m==="directive"?",NaN":",_":Ve+=`,${Math.round(Dn)}`,Math.round(Nn)!==0&&(Ve+=`,${Math.round(Nn)}`),m==="directive"&&(Ve=`[${Ve}]`),l.value(y,Ve,m,t)}));const G={dragId:y,dataSource:m,markdownSource:t,isArrow:s,zoom:f,autoHeight:w,x0:L,y0:ce,width:_,height:j,rotate:x,container:Z,containerStyle:Ye,watchStopHandles:k,dragging:b(()=>ft.value===G),mounted(){p&&(V(),e||setTimeout(()=>{V(),L.value=(M.value.left+M.value.width/2-h.value)/c.value,ce.value=(M.value.top-d.value)/c.value,_.value=M.value.width/c.value,j.value=M.value.height/c.value},100))},unmounted(){p&&G.stopDragging()},startDragging(){p&&(V(),ft.value=G)},stopDragging(){p&&ft.value===G&&(ft.value=null)}};return k.push(Vo(Z,D=>{const ut=document.querySelector("#drag-control-container");ut&&D.target&&ut.contains(D.target)||G.stopDragging()}),se(Wo(),D=>{D||G.stopDragging()})),G}function Ha(){return{install(n){n.directive("drag",{name:"v-drag",created(e,t,s){const o=Na(t,t.value,s.props?.markdownSource);s.props&&(s.props={...s.props},delete s.props.markdownSource),o.container.value=e,e.draggingState=o,e.dataset.dragId=o.dragId,o.watchStopHandles.push(se(o.containerStyle,i=>{for(const[r,a]of Object.entries(i))a&&(e.style[r]=a)},{immediate:!0})),e.addEventListener("dblclick",o.startDragging)},mounted(e){e.draggingState.mounted()},unmounted(e){const t=e.draggingState;t.unmounted(),e.removeEventListener("dblclick",t.startDragging),t.watchStopHandles.forEach(s=>s())}})}}}function ro(){return Math.floor(Math.random()*2**31)}class Fa{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function pn(n,e,t){if(n&&n.length){const[s,o]=e,i=Math.PI/180*t,r=Math.cos(i),a=Math.sin(i);for(const l of n){const[c,f]=l;l[0]=(c-s)*r-(f-o)*a+s,l[1]=(c-s)*a+(f-o)*r+o}}}function Va(n,e,t){const s=[];n.forEach(o=>s.push(...o)),pn(s,e,t)}function za(n,e){return n[0]===e[0]&&n[1]===e[1]}function Wa(n,e,t,s=1){const o=t,i=Math.max(e,.1),r=n[0]&&n[0][0]&&typeof n[0][0]=="number"?[n]:n,a=[0,0];if(o)for(const c of r)pn(c,a,o);const l=qa(r,i,s);if(o){for(const c of r)pn(c,a,-o);Va(l,a,-o)}return l}function qa(n,e,t){const s=[];for(const c of n){const f=[...c];za(f[0],f[f.length-1])||f.push([f[0][0],f[0][1]]),f.length>2&&s.push(f)}const o=[];e=Math.max(e,.1);const i=[];for(const c of s)for(let f=0;f<c.length-1;f++){const h=c[f],d=c[f+1];if(h[1]!==d[1]){const u=Math.min(h[1],d[1]);i.push({ymin:u,ymax:Math.max(h[1],d[1]),x:u===h[1]?h[0]:d[0],islope:(d[0]-h[0])/(d[1]-h[1])})}}if(i.sort((c,f)=>c.ymin<f.ymin?-1:c.ymin>f.ymin?1:c.x<f.x?-1:c.x>f.x?1:c.ymax===f.ymax?0:(c.ymax-f.ymax)/Math.abs(c.ymax-f.ymax)),!i.length)return o;let r=[],a=i[0].ymin,l=0;for(;r.length||i.length;){if(i.length){let c=-1;for(let h=0;h<i.length&&!(i[h].ymin>a);h++)c=h;i.splice(0,c+1).forEach(h=>{r.push({s:a,edge:h})})}if(r=r.filter(c=>!(c.edge.ymax<=a)),r.sort((c,f)=>c.edge.x===f.edge.x?0:(c.edge.x-f.edge.x)/Math.abs(c.edge.x-f.edge.x)),(t!==1||l%e===0)&&r.length>1)for(let c=0;c<r.length;c=c+2){const f=c+1;if(f>=r.length)break;const h=r[c].edge,d=r[f].edge;o.push([[Math.round(h.x),a],[Math.round(d.x),a]])}a+=t,r.forEach(c=>{c.edge.x=c.edge.x+t*c.edge.islope}),l++}return o}function ct(n,e){var t;const s=e.hachureAngle+90;let o=e.hachureGap;o<0&&(o=e.strokeWidth*4),o=Math.round(Math.max(o,.1));let i=1;return e.roughness>=1&&(((t=e.randomizer)===null||t===void 0?void 0:t.next())||Math.random())>.7&&(i=o),Wa(n,o,s,i||1)}class xn{constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){const s=ct(e,t);return{type:"fillSketch",ops:this.renderLines(s,t)}}renderLines(e,t){const s=[];for(const o of e)s.push(...this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],t));return s}}function qt(n){const e=n[0],t=n[1];return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}class Ba extends xn{fillPolygons(e,t){let s=t.hachureGap;s<0&&(s=t.strokeWidth*4),s=Math.max(s,.1);const o=Object.assign({},t,{hachureGap:s}),i=ct(e,o),r=Math.PI/180*t.hachureAngle,a=[],l=s*.5*Math.cos(r),c=s*.5*Math.sin(r);for(const[h,d]of i)qt([h,d])&&a.push([[h[0]-l,h[1]+c],[...d]],[[h[0]+l,h[1]-c],[...d]]);return{type:"fillSketch",ops:this.renderLines(a,t)}}}class Ja extends xn{fillPolygons(e,t){const s=this._fillPolygons(e,t),o=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),i=this._fillPolygons(e,o);return s.ops=s.ops.concat(i.ops),s}}class Ua{constructor(e){this.helper=e}fillPolygons(e,t){t=Object.assign({},t,{hachureAngle:0});const s=ct(e,t);return this.dotsOnLines(s,t)}dotsOnLines(e,t){const s=[];let o=t.hachureGap;o<0&&(o=t.strokeWidth*4),o=Math.max(o,.1);let i=t.fillWeight;i<0&&(i=t.strokeWidth/2);const r=o/4;for(const a of e){const l=qt(a),c=l/o,f=Math.ceil(c)-1,h=l-f*o,d=(a[0][0]+a[1][0])/2-o/4,u=Math.min(a[0][1],a[1][1]);for(let g=0;g<f;g++){const p=u+h+g*o,m=d-r+Math.random()*2*r,y=p-r+Math.random()*2*r,v=this.helper.ellipse(m,y,i,i,t);s.push(...v.ops)}}return{type:"fillSketch",ops:s}}}class Ka{constructor(e){this.helper=e}fillPolygons(e,t){const s=ct(e,t);return{type:"fillSketch",ops:this.dashedLine(s,t)}}dashedLine(e,t){const s=t.dashOffset<0?t.hachureGap<0?t.strokeWidth*4:t.hachureGap:t.dashOffset,o=t.dashGap<0?t.hachureGap<0?t.strokeWidth*4:t.hachureGap:t.dashGap,i=[];return e.forEach(r=>{const a=qt(r),l=Math.floor(a/(s+o)),c=(a+o-l*(s+o))/2;let f=r[0],h=r[1];f[0]>h[0]&&(f=r[1],h=r[0]);const d=Math.atan((h[1]-f[1])/(h[0]-f[0]));for(let u=0;u<l;u++){const g=u*(s+o),p=g+s,m=[f[0]+g*Math.cos(d)+c*Math.cos(d),f[1]+g*Math.sin(d)+c*Math.sin(d)],y=[f[0]+p*Math.cos(d)+c*Math.cos(d),f[1]+p*Math.sin(d)+c*Math.sin(d)];i.push(...this.helper.doubleLineOps(m[0],m[1],y[0],y[1],t))}}),i}}class Ga{constructor(e){this.helper=e}fillPolygons(e,t){const s=t.hachureGap<0?t.strokeWidth*4:t.hachureGap,o=t.zigzagOffset<0?s:t.zigzagOffset;t=Object.assign({},t,{hachureGap:s+o});const i=ct(e,t);return{type:"fillSketch",ops:this.zigzagLines(i,o,t)}}zigzagLines(e,t,s){const o=[];return e.forEach(i=>{const r=qt(i),a=Math.round(r/(2*t));let l=i[0],c=i[1];l[0]>c[0]&&(l=i[1],c=i[0]);const f=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let h=0;h<a;h++){const d=h*2*t,u=(h+1)*2*t,g=Math.sqrt(2*Math.pow(t,2)),p=[l[0]+d*Math.cos(f),l[1]+d*Math.sin(f)],m=[l[0]+u*Math.cos(f),l[1]+u*Math.sin(f)],y=[p[0]+g*Math.cos(f+Math.PI/4),p[1]+g*Math.sin(f+Math.PI/4)];o.push(...this.helper.doubleLineOps(p[0],p[1],y[0],y[1],s),...this.helper.doubleLineOps(y[0],y[1],m[0],m[1],s))}}),o}}const U={};function Qa(n,e){let t=n.fillStyle||"hachure";if(!U[t])switch(t){case"zigzag":U[t]||(U[t]=new Ba(e));break;case"cross-hatch":U[t]||(U[t]=new Ja(e));break;case"dots":U[t]||(U[t]=new Ua(e));break;case"dashed":U[t]||(U[t]=new Ka(e));break;case"zigzag-line":U[t]||(U[t]=new Ga(e));break;case"hachure":default:t="hachure",U[t]||(U[t]=new xn(e));break}return U[t]}const Ya=0,gn=1,ao=2,yt={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Za(n){const e=new Array;for(;n!=="";)if(n.match(/^([ \t\r\n,]+)/))n=n.substr(RegExp.$1.length);else if(n.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:Ya,text:RegExp.$1},n=n.substr(RegExp.$1.length);else if(n.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))e[e.length]={type:gn,text:`${parseFloat(RegExp.$1)}`},n=n.substr(RegExp.$1.length);else return[];return e[e.length]={type:ao,text:""},e}function Xt(n,e){return n.type===e}function jn(n){const e=[],t=Za(n);let s="BOD",o=0,i=t[o];for(;!Xt(i,ao);){let r=0;const a=[];if(s==="BOD")if(i.text==="M"||i.text==="m")o++,r=yt[i.text],s=i.text;else return jn("M0,0"+n);else Xt(i,gn)?r=yt[s]:(o++,r=yt[i.text],s=i.text);if(o+r<t.length){for(let l=o;l<o+r;l++){const c=t[l];if(Xt(c,gn))a[a.length]=+c.text;else throw new Error("Param not a number: "+s+","+c.text)}if(typeof yt[s]=="number"){const l={key:s,data:a};e.push(l),o+=r,i=t[o],s==="M"&&(s="L"),s==="m"&&(s="l")}else throw new Error("Bad segment: "+s)}else throw new Error("Path data ended short")}return e}function lo(n){let e=0,t=0,s=0,o=0;const i=[];for(const{key:r,data:a}of n)switch(r){case"M":i.push({key:"M",data:[...a]}),[e,t]=a,[s,o]=a;break;case"m":e+=a[0],t+=a[1],i.push({key:"M",data:[e,t]}),s=e,o=t;break;case"L":i.push({key:"L",data:[...a]}),[e,t]=a;break;case"l":e+=a[0],t+=a[1],i.push({key:"L",data:[e,t]});break;case"C":i.push({key:"C",data:[...a]}),e=a[4],t=a[5];break;case"c":{const l=a.map((c,f)=>f%2?c+t:c+e);i.push({key:"C",data:l}),e=l[4],t=l[5];break}case"Q":i.push({key:"Q",data:[...a]}),e=a[2],t=a[3];break;case"q":{const l=a.map((c,f)=>f%2?c+t:c+e);i.push({key:"Q",data:l}),e=l[2],t=l[3];break}case"A":i.push({key:"A",data:[...a]}),e=a[5],t=a[6];break;case"a":e+=a[5],t+=a[6],i.push({key:"A",data:[a[0],a[1],a[2],a[3],a[4],e,t]});break;case"H":i.push({key:"H",data:[...a]}),e=a[0];break;case"h":e+=a[0],i.push({key:"H",data:[e]});break;case"V":i.push({key:"V",data:[...a]}),t=a[0];break;case"v":t+=a[0],i.push({key:"V",data:[t]});break;case"S":i.push({key:"S",data:[...a]}),e=a[2],t=a[3];break;case"s":{const l=a.map((c,f)=>f%2?c+t:c+e);i.push({key:"S",data:l}),e=l[2],t=l[3];break}case"T":i.push({key:"T",data:[...a]}),e=a[0],t=a[1];break;case"t":e+=a[0],t+=a[1],i.push({key:"T",data:[e,t]});break;case"Z":case"z":i.push({key:"Z",data:[]}),e=s,t=o;break}return i}function co(n){const e=[];let t="",s=0,o=0,i=0,r=0,a=0,l=0;for(const{key:c,data:f}of n){switch(c){case"M":e.push({key:"M",data:[...f]}),[s,o]=f,[i,r]=f;break;case"C":e.push({key:"C",data:[...f]}),s=f[4],o=f[5],a=f[2],l=f[3];break;case"L":e.push({key:"L",data:[...f]}),[s,o]=f;break;case"H":s=f[0],e.push({key:"L",data:[s,o]});break;case"V":o=f[0],e.push({key:"L",data:[s,o]});break;case"S":{let h=0,d=0;t==="C"||t==="S"?(h=s+(s-a),d=o+(o-l)):(h=s,d=o),e.push({key:"C",data:[h,d,...f]}),a=f[0],l=f[1],s=f[2],o=f[3];break}case"T":{const[h,d]=f;let u=0,g=0;t==="Q"||t==="T"?(u=s+(s-a),g=o+(o-l)):(u=s,g=o);const p=s+2*(u-s)/3,m=o+2*(g-o)/3,y=h+2*(u-h)/3,v=d+2*(g-d)/3;e.push({key:"C",data:[p,m,y,v,h,d]}),a=u,l=g,s=h,o=d;break}case"Q":{const[h,d,u,g]=f,p=s+2*(h-s)/3,m=o+2*(d-o)/3,y=u+2*(h-u)/3,v=g+2*(d-g)/3;e.push({key:"C",data:[p,m,y,v,u,g]}),a=h,l=d,s=u,o=g;break}case"A":{const h=Math.abs(f[0]),d=Math.abs(f[1]),u=f[2],g=f[3],p=f[4],m=f[5],y=f[6];h===0||d===0?(e.push({key:"C",data:[s,o,m,y,m,y]}),s=m,o=y):(s!==m||o!==y)&&(uo(s,o,m,y,h,d,u,g,p).forEach(function(k){e.push({key:"C",data:k})}),s=m,o=y);break}case"Z":e.push({key:"Z",data:[]}),s=i,o=r;break}t=c}return e}function Xa(n){return Math.PI*n/180}function tt(n,e,t){const s=n*Math.cos(t)-e*Math.sin(t),o=n*Math.sin(t)+e*Math.cos(t);return[s,o]}function uo(n,e,t,s,o,i,r,a,l,c){const f=Xa(r);let h=[],d=0,u=0,g=0,p=0;if(c)[d,u,g,p]=c;else{[n,e]=tt(n,e,-f),[t,s]=tt(t,s,-f);const M=(n-t)/2,A=(e-s)/2;let V=M*M/(o*o)+A*A/(i*i);V>1&&(V=Math.sqrt(V),o=V*o,i=V*i);const N=a===l?-1:1,j=o*o,re=i*i,ce=j*re-j*A*A-re*M*M,Ye=j*A*A+re*M*M,G=N*Math.sqrt(Math.abs(ce/Ye));g=G*o*A/i+(n+t)/2,p=G*-i*M/o+(e+s)/2,d=Math.asin(parseFloat(((e-p)/i).toFixed(9))),u=Math.asin(parseFloat(((s-p)/i).toFixed(9))),n<g&&(d=Math.PI-d),t<g&&(u=Math.PI-u),d<0&&(d=Math.PI*2+d),u<0&&(u=Math.PI*2+u),l&&d>u&&(d=d-Math.PI*2),!l&&u>d&&(u=u-Math.PI*2)}let m=u-d;if(Math.abs(m)>Math.PI*120/180){const M=u,A=t,V=s;l&&u>d?u=d+Math.PI*120/180*1:u=d+Math.PI*120/180*-1,t=g+o*Math.cos(u),s=p+i*Math.sin(u),h=uo(t,s,A,V,o,i,r,0,l,[u,M,g,p])}m=u-d;const y=Math.cos(d),v=Math.sin(d),k=Math.cos(u),w=Math.sin(u),_=Math.tan(m/4),L=4/3*o*_,x=4/3*i*_,F=[n,e],J=[n+L*v,e-x*y],le=[t+L*w,s-x*k],Z=[t,s];if(J[0]=2*F[0]-J[0],J[1]=2*F[1]-J[1],c)return[J,le,Z].concat(h);{h=[J,le,Z].concat(h);const M=[];for(let A=0;A<h.length;A+=3){const V=tt(h[A][0],h[A][1],f),N=tt(h[A+1][0],h[A+1][1],f),j=tt(h[A+2][0],h[A+2][1],f);M.push([V[0],V[1],N[0],N[1],j[0],j[1]])}return M}}const el={randOffset:sl,randOffsetWithRange:ol,ellipse:mn,doubleLineOps:il};function X(n,e,t,s,o){return{type:"path",ops:fe(n,e,t,s,o)}}function rt(n,e,t){const s=(n||[]).length;if(s>2){const o=[];for(let i=0;i<s-1;i++)o.push(...fe(n[i][0],n[i][1],n[i+1][0],n[i+1][1],t));return e&&o.push(...fe(n[s-1][0],n[s-1][1],n[0][0],n[0][1],t)),{type:"path",ops:o}}else if(s===2)return X(n[0][0],n[0][1],n[1][0],n[1][1],t);return{type:"path",ops:[]}}function tl(n,e){return rt(n,!0,e)}function fo(n,e,t,s,o){const i=[[n,e],[n+t,e],[n+t,e+s],[n,e+s]];return tl(i,o)}function ks(n,e){if(n.length){const s=typeof n[0][0]=="number"?[n]:n,o=vt(s[0],1*(1+e.roughness*.2),e),i=e.disableMultiStroke?[]:vt(s[0],1.5*(1+e.roughness*.22),_s(e));for(let r=1;r<s.length;r++){const a=s[r];if(a.length){const l=vt(a,1*(1+e.roughness*.2),e),c=e.disableMultiStroke?[]:vt(a,1.5*(1+e.roughness*.22),_s(e));for(const f of l)f.op!=="move"&&o.push(f);for(const f of c)f.op!=="move"&&i.push(f)}}return{type:"path",ops:o.concat(i)}}return{type:"path",ops:[]}}function mn(n,e,t,s,o){const i=ho(t,s,o);return yn(n,e,o,i).opset}function ho(n,e,t){const s=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(n/2,2)+Math.pow(e/2,2))/2)),o=Math.ceil(Math.max(t.curveStepCount,t.curveStepCount/Math.sqrt(200)*s)),i=Math.PI*2/o;let r=Math.abs(n/2),a=Math.abs(e/2);const l=1-t.curveFitting;return r+=S(r*l,t),a+=S(a*l,t),{increment:i,rx:r,ry:a}}function yn(n,e,t,s){const[o,i]=Ss(s.increment,n,e,s.rx,s.ry,1,s.increment*It(.1,It(.4,1,t),t),t);let r=xt(o,null,t);if(!t.disableMultiStroke&&t.roughness!==0){const[a]=Ss(s.increment,n,e,s.rx,s.ry,1.5,0,t),l=xt(a,null,t);r=r.concat(l)}return{estimatedPoints:i,opset:{type:"path",ops:r}}}function ws(n,e,t,s,o,i,r,a,l){const c=n,f=e;let h=Math.abs(t/2),d=Math.abs(s/2);h+=S(h*.01,l),d+=S(d*.01,l);let u=o,g=i;for(;u<0;)u+=Math.PI*2,g+=Math.PI*2;g-u>Math.PI*2&&(u=0,g=Math.PI*2);const p=Math.PI*2/l.curveStepCount,m=Math.min(p/2,(g-u)/2),y=Ms(m,c,f,h,d,u,g,1,l);if(!l.disableMultiStroke){const v=Ms(m,c,f,h,d,u,g,1.5,l);y.push(...v)}return r&&(a?y.push(...fe(c,f,c+h*Math.cos(u),f+d*Math.sin(u),l),...fe(c,f,c+h*Math.cos(g),f+d*Math.sin(g),l)):y.push({op:"lineTo",data:[c,f]},{op:"lineTo",data:[c+h*Math.cos(u),f+d*Math.sin(u)]})),{type:"path",ops:y}}function bs(n,e){const t=co(lo(jn(n))),s=[];let o=[0,0],i=[0,0];for(const{key:r,data:a}of t)switch(r){case"M":{i=[a[0],a[1]],o=[a[0],a[1]];break}case"L":s.push(...fe(i[0],i[1],a[0],a[1],e)),i=[a[0],a[1]];break;case"C":{const[l,c,f,h,d,u]=a;s.push(...rl(l,c,f,h,d,u,i,e)),i=[d,u];break}case"Z":s.push(...fe(i[0],i[1],o[0],o[1],e)),i=[o[0],o[1]];break}return{type:"path",ops:s}}function en(n,e){const t=[];for(const s of n)if(s.length){const o=e.maxRandomnessOffset||0,i=s.length;if(i>2){t.push({op:"move",data:[s[0][0]+S(o,e),s[0][1]+S(o,e)]});for(let r=1;r<i;r++)t.push({op:"lineTo",data:[s[r][0]+S(o,e),s[r][1]+S(o,e)]})}}return{type:"fillPath",ops:t}}function We(n,e){return Qa(e,el).fillPolygons(n,e)}function nl(n,e,t,s,o,i,r){const a=n,l=e;let c=Math.abs(t/2),f=Math.abs(s/2);c+=S(c*.01,r),f+=S(f*.01,r);let h=o,d=i;for(;h<0;)h+=Math.PI*2,d+=Math.PI*2;d-h>Math.PI*2&&(h=0,d=Math.PI*2);const u=(d-h)/r.curveStepCount,g=[];for(let p=h;p<=d;p=p+u)g.push([a+c*Math.cos(p),l+f*Math.sin(p)]);return g.push([a+c*Math.cos(d),l+f*Math.sin(d)]),g.push([a,l]),We([g],r)}function sl(n,e){return S(n,e)}function ol(n,e,t){return It(n,e,t)}function il(n,e,t,s,o){return fe(n,e,t,s,o,!0)}function _s(n){const e=Object.assign({},n);return e.randomizer=void 0,n.seed&&(e.seed=n.seed+1),e}function po(n){return n.randomizer||(n.randomizer=new Fa(n.seed||0)),n.randomizer.next()}function It(n,e,t,s=1){return t.roughness*s*(po(t)*(e-n)+n)}function S(n,e,t=1){return It(-n,n,e,t)}function fe(n,e,t,s,o,i=!1){const r=i?o.disableMultiStrokeFill:o.disableMultiStroke,a=vn(n,e,t,s,o,!0,!1);if(r)return a;const l=vn(n,e,t,s,o,!0,!0);return a.concat(l)}function vn(n,e,t,s,o,i,r){const a=Math.pow(n-t,2)+Math.pow(e-s,2),l=Math.sqrt(a);let c=1;l<200?c=1:l>500?c=.4:c=-.0016668*l+1.233334;let f=o.maxRandomnessOffset||0;f*f*100>a&&(f=l/10);const h=f/2,d=.2+po(o)*.2;let u=o.bowing*o.maxRandomnessOffset*(s-e)/200,g=o.bowing*o.maxRandomnessOffset*(n-t)/200;u=S(u,o,c),g=S(g,o,c);const p=[],m=()=>S(h,o,c),y=()=>S(f,o,c),v=o.preserveVertices;return r?p.push({op:"move",data:[n+(v?0:m()),e+(v?0:m())]}):p.push({op:"move",data:[n+(v?0:S(f,o,c)),e+(v?0:S(f,o,c))]}),r?p.push({op:"bcurveTo",data:[u+n+(t-n)*d+m(),g+e+(s-e)*d+m(),u+n+2*(t-n)*d+m(),g+e+2*(s-e)*d+m(),t+(v?0:m()),s+(v?0:m())]}):p.push({op:"bcurveTo",data:[u+n+(t-n)*d+y(),g+e+(s-e)*d+y(),u+n+2*(t-n)*d+y(),g+e+2*(s-e)*d+y(),t+(v?0:y()),s+(v?0:y())]}),p}function vt(n,e,t){if(!n.length)return[];const s=[];s.push([n[0][0]+S(e,t),n[0][1]+S(e,t)]),s.push([n[0][0]+S(e,t),n[0][1]+S(e,t)]);for(let o=1;o<n.length;o++)s.push([n[o][0]+S(e,t),n[o][1]+S(e,t)]),o===n.length-1&&s.push([n[o][0]+S(e,t),n[o][1]+S(e,t)]);return xt(s,null,t)}function xt(n,e,t){const s=n.length,o=[];if(s>3){const i=[],r=1-t.curveTightness;o.push({op:"move",data:[n[1][0],n[1][1]]});for(let a=1;a+2<s;a++){const l=n[a];i[0]=[l[0],l[1]],i[1]=[l[0]+(r*n[a+1][0]-r*n[a-1][0])/6,l[1]+(r*n[a+1][1]-r*n[a-1][1])/6],i[2]=[n[a+1][0]+(r*n[a][0]-r*n[a+2][0])/6,n[a+1][1]+(r*n[a][1]-r*n[a+2][1])/6],i[3]=[n[a+1][0],n[a+1][1]],o.push({op:"bcurveTo",data:[i[1][0],i[1][1],i[2][0],i[2][1],i[3][0],i[3][1]]})}}else s===3?(o.push({op:"move",data:[n[1][0],n[1][1]]}),o.push({op:"bcurveTo",data:[n[1][0],n[1][1],n[2][0],n[2][1],n[2][0],n[2][1]]})):s===2&&o.push(...vn(n[0][0],n[0][1],n[1][0],n[1][1],t,!0,!0));return o}function Ss(n,e,t,s,o,i,r,a){const l=a.roughness===0,c=[],f=[];if(l){n=n/4,f.push([e+s*Math.cos(-n),t+o*Math.sin(-n)]);for(let h=0;h<=Math.PI*2;h=h+n){const d=[e+s*Math.cos(h),t+o*Math.sin(h)];c.push(d),f.push(d)}f.push([e+s*Math.cos(0),t+o*Math.sin(0)]),f.push([e+s*Math.cos(n),t+o*Math.sin(n)])}else{const h=S(.5,a)-Math.PI/2;f.push([S(i,a)+e+.9*s*Math.cos(h-n),S(i,a)+t+.9*o*Math.sin(h-n)]);const d=Math.PI*2+h-.01;for(let u=h;u<d;u=u+n){const g=[S(i,a)+e+s*Math.cos(u),S(i,a)+t+o*Math.sin(u)];c.push(g),f.push(g)}f.push([S(i,a)+e+s*Math.cos(h+Math.PI*2+r*.5),S(i,a)+t+o*Math.sin(h+Math.PI*2+r*.5)]),f.push([S(i,a)+e+.98*s*Math.cos(h+r),S(i,a)+t+.98*o*Math.sin(h+r)]),f.push([S(i,a)+e+.9*s*Math.cos(h+r*.5),S(i,a)+t+.9*o*Math.sin(h+r*.5)])}return[f,c]}function Ms(n,e,t,s,o,i,r,a,l){const c=i+S(.1,l),f=[];f.push([S(a,l)+e+.9*s*Math.cos(c-n),S(a,l)+t+.9*o*Math.sin(c-n)]);for(let h=c;h<=r;h=h+n)f.push([S(a,l)+e+s*Math.cos(h),S(a,l)+t+o*Math.sin(h)]);return f.push([e+s*Math.cos(r),t+o*Math.sin(r)]),f.push([e+s*Math.cos(r),t+o*Math.sin(r)]),xt(f,null,l)}function rl(n,e,t,s,o,i,r,a){const l=[],c=[a.maxRandomnessOffset||1,(a.maxRandomnessOffset||1)+.3];let f=[0,0];const h=a.disableMultiStroke?1:2,d=a.preserveVertices;for(let u=0;u<h;u++)u===0?l.push({op:"move",data:[r[0],r[1]]}):l.push({op:"move",data:[r[0]+(d?0:S(c[0],a)),r[1]+(d?0:S(c[0],a))]}),f=d?[o,i]:[o+S(c[u],a),i+S(c[u],a)],l.push({op:"bcurveTo",data:[n+S(c[u],a),e+S(c[u],a),t+S(c[u],a),s+S(c[u],a),f[0],f[1]]});return l}function nt(n){return[...n]}function Os(n,e=0){const t=n.length;if(t<3)throw new Error("A curve must have at least three points.");const s=[];if(t===3)s.push(nt(n[0]),nt(n[1]),nt(n[2]),nt(n[2]));else{const o=[];o.push(n[0],n[0]);for(let a=1;a<n.length;a++)o.push(n[a]),a===n.length-1&&o.push(n[a]);const i=[],r=1-e;s.push(nt(o[0]));for(let a=1;a+2<o.length;a++){const l=o[a];i[0]=[l[0],l[1]],i[1]=[l[0]+(r*o[a+1][0]-r*o[a-1][0])/6,l[1]+(r*o[a+1][1]-r*o[a-1][1])/6],i[2]=[o[a+1][0]+(r*o[a][0]-r*o[a+2][0])/6,o[a+1][1]+(r*o[a][1]-r*o[a+2][1])/6],i[3]=[o[a+1][0],o[a+1][1]],s.push(i[1],i[2],i[3])}}return s}function al(n,e){return Math.sqrt(Ot(n,e))}function Ot(n,e){return Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)}function ll(n,e,t){const s=Ot(e,t);if(s===0)return Ot(n,e);let o=((n[0]-e[0])*(t[0]-e[0])+(n[1]-e[1])*(t[1]-e[1]))/s;return o=Math.max(0,Math.min(1,o)),Ot(n,Re(e,t,o))}function Re(n,e,t){return[n[0]+(e[0]-n[0])*t,n[1]+(e[1]-n[1])*t]}function cl(n,e){const t=n[e+0],s=n[e+1],o=n[e+2],i=n[e+3];let r=3*s[0]-2*t[0]-i[0];r*=r;let a=3*s[1]-2*t[1]-i[1];a*=a;let l=3*o[0]-2*i[0]-t[0];l*=l;let c=3*o[1]-2*i[1]-t[1];return c*=c,r<l&&(r=l),a<c&&(a=c),r+a}function kn(n,e,t,s){const o=s||[];if(cl(n,e)<t){const i=n[e+0];o.length?al(o[o.length-1],i)>1&&o.push(i):o.push(i),o.push(n[e+3])}else{const r=n[e+0],a=n[e+1],l=n[e+2],c=n[e+3],f=Re(r,a,.5),h=Re(a,l,.5),d=Re(l,c,.5),u=Re(f,h,.5),g=Re(h,d,.5),p=Re(u,g,.5);kn([r,f,u,p],0,t,o),kn([p,g,d,c],0,t,o)}return o}function ul(n,e){return jt(n,0,n.length,e)}function jt(n,e,t,s,o){const i=o||[],r=n[e],a=n[t-1];let l=0,c=1;for(let f=e+1;f<t-1;++f){const h=ll(n[f],r,a);h>l&&(l=h,c=f)}return Math.sqrt(l)>s?(jt(n,e,c+1,s,i),jt(n,c,t,s,i)):(i.length||i.push(r),i.push(a)),i}function wn(n,e=.15,t){const s=[],o=(n.length-1)/3;for(let i=0;i<o;i++){const r=i*3;kn(n,r,e,s)}return t&&t>0?jt(s,0,s.length,t):s}function fl(n,e,t){const s=jn(n),o=co(lo(s)),i=[];let r=[],a=[0,0],l=[];const c=()=>{l.length>=4&&r.push(...wn(l,e)),l=[]},f=()=>{c(),r.length&&(i.push(r),r=[])};for(const{key:d,data:u}of o)switch(d){case"M":f(),a=[u[0],u[1]],r.push(a);break;case"L":c(),r.push([u[0],u[1]]);break;case"C":if(!l.length){const g=r.length?r[r.length-1]:a;l.push([g[0],g[1]])}l.push([u[0],u[1]]),l.push([u[2],u[3]]),l.push([u[4],u[5]]);break;case"Z":c(),r.push([a[0],a[1]]);break}if(f(),!t)return i;const h=[];for(const d of i){const u=ul(d,t);u.length&&h.push(u)}return h}const Q="none";class dl{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return ro()}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,s){return{shape:e,sets:t||[],options:s||this.defaultOptions}}line(e,t,s,o,i){const r=this._o(i);return this._d("line",[X(e,t,s,o,r)],r)}rectangle(e,t,s,o,i){const r=this._o(i),a=[],l=fo(e,t,s,o,r);if(r.fill){const c=[[e,t],[e+s,t],[e+s,t+o],[e,t+o]];r.fillStyle==="solid"?a.push(en([c],r)):a.push(We([c],r))}return r.stroke!==Q&&a.push(l),this._d("rectangle",a,r)}ellipse(e,t,s,o,i){const r=this._o(i),a=[],l=ho(s,o,r),c=yn(e,t,r,l);if(r.fill)if(r.fillStyle==="solid"){const f=yn(e,t,r,l).opset;f.type="fillPath",a.push(f)}else a.push(We([c.estimatedPoints],r));return r.stroke!==Q&&a.push(c.opset),this._d("ellipse",a,r)}circle(e,t,s,o){const i=this.ellipse(e,t,s,s,o);return i.shape="circle",i}linearPath(e,t){const s=this._o(t);return this._d("linearPath",[rt(e,!1,s)],s)}arc(e,t,s,o,i,r,a=!1,l){const c=this._o(l),f=[],h=ws(e,t,s,o,i,r,a,!0,c);if(a&&c.fill)if(c.fillStyle==="solid"){const d=Object.assign({},c);d.disableMultiStroke=!0;const u=ws(e,t,s,o,i,r,!0,!1,d);u.type="fillPath",f.push(u)}else f.push(nl(e,t,s,o,i,r,c));return c.stroke!==Q&&f.push(h),this._d("arc",f,c)}curve(e,t){const s=this._o(t),o=[],i=ks(e,s);if(s.fill&&s.fill!==Q)if(s.fillStyle==="solid"){const r=ks(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(r.ops)})}else{const r=[],a=e;if(a.length){const c=typeof a[0][0]=="number"?[a]:a;for(const f of c)f.length<3?r.push(...f):f.length===3?r.push(...wn(Os([f[0],f[0],f[1],f[2]]),10,(1+s.roughness)/2)):r.push(...wn(Os(f),10,(1+s.roughness)/2))}r.length&&o.push(We([r],s))}return s.stroke!==Q&&o.push(i),this._d("curve",o,s)}polygon(e,t){const s=this._o(t),o=[],i=rt(e,!0,s);return s.fill&&(s.fillStyle==="solid"?o.push(en([e],s)):o.push(We([e],s))),s.stroke!==Q&&o.push(i),this._d("polygon",o,s)}path(e,t){const s=this._o(t),o=[];if(!e)return this._d("path",o,s);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const i=s.fill&&s.fill!=="transparent"&&s.fill!==Q,r=s.stroke!==Q,a=!!(s.simplification&&s.simplification<1),l=a?4-4*(s.simplification||1):(1+s.roughness)/2,c=fl(e,1,l),f=bs(e,s);if(i)if(s.fillStyle==="solid")if(c.length===1){const h=bs(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else o.push(en(c,s));else o.push(We(c,s));return r&&(a?c.forEach(h=>{o.push(rt(h,!1,s))}):o.push(f)),this._d("path",o,s)}opsToPath(e,t){let s="";for(const o of e.ops){const i=typeof t=="number"&&t>=0?o.data.map(r=>+r.toFixed(t)):o.data;switch(o.op){case"move":s+=`M${i[0]} ${i[1]} `;break;case"bcurveTo":s+=`C${i[0]} ${i[1]}, ${i[2]} ${i[3]}, ${i[4]} ${i[5]} `;break;case"lineTo":s+=`L${i[0]} ${i[1]} `;break}}return s.trim()}toPaths(e){const t=e.sets||[],s=e.options||this.defaultOptions,o=[];for(const i of t){let r=null;switch(i.type){case"path":r={d:this.opsToPath(i),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:Q};break;case"fillPath":r={d:this.opsToPath(i),stroke:Q,strokeWidth:0,fill:s.fill||Q};break;case"fillSketch":r=this.fillSketch(i,s);break}r&&o.push(r)}return o}fillSketch(e,t){let s=t.fillWeight;return s<0&&(s=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||Q,strokeWidth:s,fill:Q}}_mergedShape(e){return e.filter((t,s)=>s===0?!0:t.op!=="move")}}const go="http://www.w3.org/2000/svg",hl=800;let tn=null;function pl(){return tn||(tn=new dl().defaultOptions),tn}function nn(n,e,t){return{...pl(),maxRandomnessOffset:2,roughness:n==="highlight"?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,disableMultiStroke:n!=="double",disableMultiStrokeFill:!1,seed:e,...t}}function gl(n){const e=n.padding;if(e||e===0){if(typeof e=="number")return[e,e,e,e];if(Array.isArray(e)){const t=e;if(t.length)switch(t.length){case 4:return[...t];case 1:return[t[0],t[0],t[0],t[0]];case 2:return[...t,...t];case 3:return[...t,t[1]];default:return[t[0],t[1],t[2],t[3]]}}}return[5,5,5,5]}function ml(n,e,t,s,o,i){const r=[];let a=t.strokeWidth||2;const l=gl(t),c=t.animate===void 0?!0:!!t.animate,f=t.iterations||2,h=t.rtl?1:0,d=nn("single",i,t);switch(t.type){case"underline":{const u=e.y+e.h+l[2];for(let g=h;g<f+h;g++)g%2?r.push(X(e.x+e.w,u,e.x,u,d)):r.push(X(e.x,u,e.x+e.w,u,d));break}case"strike-through":{const u=e.y+e.h/2;for(let g=h;g<f+h;g++)g%2?r.push(X(e.x+e.w,u,e.x,u,d)):r.push(X(e.x,u,e.x+e.w,u,d));break}case"box":{const u=e.x-l[3],g=e.y-l[0],p=e.w+(l[1]+l[3]),m=e.h+(l[0]+l[2]);for(let y=0;y<f;y++)r.push(fo(u,g,p,m,d));break}case"bracket":{const u=Array.isArray(t.brackets)?t.brackets:t.brackets?[t.brackets]:["right"],g=e.x-l[3]*2,p=e.x+e.w+l[1]*2,m=e.y-l[0]*2,y=e.y+e.h+l[2]*2;for(const v of u){let k;switch(v){case"bottom":k=[[g,e.y+e.h],[g,y],[p,y],[p,e.y+e.h]];break;case"top":k=[[g,e.y],[g,m],[p,m],[p,e.y]];break;case"left":k=[[e.x,m],[g,m],[g,y],[e.x,y]];break;case"right":k=[[e.x+e.w,m],[p,m],[p,y],[e.x+e.w,y]];break}k&&r.push(rt(k,!1,d))}break}case"crossed-off":{const u=e.x,g=e.y,p=u+e.w,m=g+e.h;for(let y=h;y<f+h;y++)y%2?r.push(X(p,m,u,g,d)):r.push(X(u,g,p,m,d));for(let y=h;y<f+h;y++)y%2?r.push(X(u,m,p,g,d)):r.push(X(p,g,u,m,d));break}case"circle":{const u=nn("double",i,t),g=e.w+(l[1]+l[3]),p=e.h+(l[0]+l[2]),m=e.x-l[3]+g/2,y=e.y-l[0]+p/2,v=Math.floor(f/2),k=f-v*2;for(let w=0;w<v;w++)r.push(mn(m,y,g,p,u));for(let w=0;w<k;w++)r.push(mn(m,y,g,p,d));break}case"highlight":{const u=nn("highlight",i,t);a=e.h*.95;const g=e.y+e.h/2;for(let p=h;p<f+h;p++)p%2?r.push(X(e.x+e.w,g,e.x,g,u)):r.push(X(e.x,g,e.x+e.w,g,u));break}}if(r.length){const u=yl(r),g=[],p=[];let m=0;const y=(v,k,w)=>v.setAttribute(k,w);for(const v of u){const k=document.createElementNS(go,"path");if(y(k,"d",v),y(k,"fill","none"),y(k,"stroke",t.color||"currentColor"),y(k,"stroke-width",`${a}`),t.opacity!==void 0&&y(k,"style",`opacity:${t.opacity}`),c){const w=k.getTotalLength();g.push(w),m+=w}n.appendChild(k),p.push(k)}if(c){let v=0;for(let k=0;k<p.length;k++){const w=p[k],_=g[k],L=m?o*(_/m):0,x=s+v,F=w.style;F.strokeDashoffset=`${_}`,F.strokeDasharray=`${_}`,F.animation=`rough-notation-dash ${L}ms ease-out ${x}ms forwards`,v+=L}return Ls(o+s)}}return Ls(0)}function Ls(n){return new Promise(e=>setTimeout(e,n))}function yl(n){const e=[];for(const t of n){let s="";for(const o of t.ops){const i=o.data;switch(o.op){case"move":s.trim()&&e.push(s.trim()),s=`M${i[0]} ${i[1]} `;break;case"bcurveTo":s+=`C${i[0]} ${i[1]}, ${i[2]} ${i[3]}, ${i[4]} ${i[5]} `;break;case"lineTo":s+=`L${i[0]} ${i[1]} `;break}}s.trim()&&e.push(s.trim())}return e}function vl(){if(!window.__rno_kf_s){const n=window.__rno_kf_s=document.createElement("style");n.textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(n)}}var kl=Object.defineProperty,wl=(n,e,t)=>e in n?kl(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,te=(n,e,t)=>(wl(n,typeof e!="symbol"?e+"":e,t),t);class bl{constructor(e,t){te(this,"_state","unattached"),te(this,"_config"),te(this,"_resizing",!1),te(this,"_ro"),te(this,"_seed",ro()),te(this,"_e"),te(this,"_svg"),te(this,"_lastSizes",[]),te(this,"_animationDelay",0),te(this,"_resizeListener",()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,this._state==="showing"&&this.haveRectsChanged()&&this.show()},400))}),te(this,"pendingRefresh"),this._e=e,this._config=JSON.parse(JSON.stringify(t)),this.attach()}getConfig(e){return this._config[e]}setConfig(e,t){this._config[e]!==t&&(this._config[e]=t,this.refresh())}get animate(){return this._config.animate}set animate(e){this._config.animate=e}get animationDuration(){return this._config.animationDuration}set animationDuration(e){this._config.animationDuration=e}get iterations(){return this._config.iterations}set iterations(e){this._config.iterations=e}get color(){return this._config.color}set color(e){this._config.color!==e&&(this._config.color=e,this.refresh())}get class(){return this._config.class}set class(e){this._config.class!==e&&(this._config.class=e,this._svg&&this._svg.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" ")))}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(e){this._config.strokeWidth!==e&&(this._config.strokeWidth=e,this.refresh())}get padding(){return this._config.padding}set padding(e){this._config.padding!==e&&(this._config.padding=e,this.refresh())}attach(){if(this._state==="unattached"&&this._e.parentElement){vl();const e=this._svg=document.createElementNS(go,"svg");e.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" "));const t=e.style;t.position="absolute",t.top="0",t.left="0",t.overflow="visible",t.pointerEvents="none",t.width="100px",t.height="100px";const s=this._config.type==="highlight";if(this._e.insertAdjacentElement(s?"beforebegin":"afterend",e),this._state="not-showing",s){const o=window.getComputedStyle(this._e).position;(!o||o==="static")&&(this._e.style.position="relative")}this.attachListeners()}}detachListeners(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver(e=>{for(const t of e)t.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){const e=this.rects();if(e.length===this._lastSizes.length){for(let t=0;t<e.length;t++)if(!this.isSameRect(e[t],this._lastSizes[t]))return!0}else return!0}return!1}isSameRect(e,t){const s=(o,i)=>Math.round(o)===Math.round(i);return s(e.x,t.x)&&s(e.y,t.y)&&s(e.w,t.w)&&s(e.h,t.h)}isShowing(){return this._state!=="not-showing"}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}async show(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&await this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&await this.render(this._svg,!1);break}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()}async render(e,t){let s=this._config;t&&(s=JSON.parse(JSON.stringify(this._config)),s.animate=!1);const o=this.rects();let i=0;o.forEach(c=>i+=c.w);const r=s.animationDuration||hl;let a=0;const l=[];for(let c=0;c<o.length;c++){const f=o[c],h=r*(f.w/i);l.push(ml(e,o[c],s,a+this._animationDelay+(this._config.delay||0),h,this._seed)),a+=h}return this._lastSizes=o,this._state="showing",await Promise.all(l)}rects(){const e=[];if(this._svg)if(this._config.multiline){const t=this._e.getClientRects();for(let s=0;s<t.length;s++)e.push(this.svgRect(this._svg,t[s]))}else e.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return e}svgRect(e,t){const s=e.getBoundingClientRect(),o=t;return{x:(o.x||o.left)-(s.x||s.left),y:(o.y||o.top)-(s.y||s.top),w:o.width,h:o.height}}}function _l(n,e){return new bl(n,e)}function K(n,e){return n.class=[n.class,e].filter(Boolean).join(" "),n}const Es={box:n=>Object.assign(n,{type:"box"}),circle:n=>Object.assign(n,{type:"circle"}),underline:n=>Object.assign(n,{type:"underline"}),highlight:n=>Object.assign(n,{type:"highlight"}),"strike-through":n=>Object.assign(n,{type:"strike-through"}),"crossed-off":n=>Object.assign(n,{type:"crossed-off"}),bracket:n=>Object.assign(n,{type:"bracket"}),strike:n=>Object.assign(n,{type:"strike-through"}),cross:n=>Object.assign(n,{type:"crossed-off"}),crossed:n=>Object.assign(n,{type:"crossed-off"}),linethrough:n=>Object.assign(n,{type:"strike-through"}),"line-through":n=>Object.assign(n,{type:"strike-through"}),black:n=>K(n,"text-black"),blue:n=>K(n,"text-blue"),cyan:n=>K(n,"text-cyan"),gray:n=>K(n,"text-gray"),green:n=>K(n,"text-green"),indigo:n=>K(n,"text-indigo"),lime:n=>K(n,"text-lime"),orange:n=>K(n,"text-orange"),pink:n=>K(n,"text-pink"),purple:n=>K(n,"text-purple"),red:n=>K(n,"text-red"),teal:n=>K(n,"text-teal"),white:n=>K(n,"text-white"),yellow:n=>K(n,"text-yellow")},Sl=[[/^delay-?(\d+)?$/,(n,e,t)=>{const s=(n[1]?Number.parseInt(n[1]):t)||300;return e.delay=s,e}],[/^(?:op|opacity)-?(\d+)?$/,(n,e,t)=>{const s=(n[1]?Number.parseInt(n[1]):t)||100;return e.opacity=s/100,e}]];function Ml(){return{install(n){n.directive("mark",{name:"v-mark",mounted:(e,t)=>{const{isPrintMode:s}=Qe(),o=b(()=>{const a=typeof t.value=="object"&&!Array.isArray(t.value)?{...t.value}:{at:t.value};let l={at:a.at};const c=Object.entries(t.modifiers).filter(([h,d])=>{if(Es[h])return l=Es[h](l,d),!1;for(const[u,g]of Sl){const p=h.match(u);if(p)return l=g(p,l,d),!1}return!0});c.length&&console.warn("[Slidev] Invalid modifiers for v-mark:",c);const f={...l,...a};return f.type||="underline",s.value&&(f.animationDuration=1),f}),i=_l(e,o.value),r=Mt(e,t,o.value.at);if(!r){i.show();return}e.watchStopHandle=Ke(()=>{let a;o.value.class&&(i.class=o.value.class),o.value.color&&(i.color=o.value.color);const l=o.value.at;l===!0?a=!0:l===!1?a=!1:a=r.isActive.value,a!=null&&(a?i.show():i.hide())})},unmounted:e=>{e.watchStopHandle?.()}})}}}function Ol(){return{install(n){const e=qo();n.directive("motion",{name:"v-motion",mounted(t,s,o,i){const r=Ge(s,Dt),a=Ge(s,Sn),l=Ge(s,Mn),{currentPage:c,clicks:f,isPrintMode:h}=Qe(),d=o.props={...o.props},u={...d.initial,...d.variants?.["slidev-initial"]},g={...d.enter,...d.variants?.["slidev-enter"]},p={...d.leave,...d.variants?.["slidev-leave"]};delete d.initial,delete d.enter,delete d.leave;const m=`${In()}-`,y=[];for(const k of Object.keys(d))if(k.startsWith("click-")){const w=k.slice(6),_=w.includes("-")?w.split("-").map(Number):+w,L=m+w;y.push({id:L,at:_,variant:{...d[k]},info:r?.value.calculate(_)}),delete d[k]}y.sort((k,w)=>(Array.isArray(k.at)?k.at[0]:k.at)-(Array.isArray(w.at)?w.at[0]:w.at)),e.created(t,s,o,i),e.mounted(t,s,o,i);const v=t.motionInstance;v.clickIds=y.map(k=>k.id),v.set(u),v.watchStopHandle=se([a,c,f].filter(Boolean),()=>{const k=io.get(t)?.visibilityState.value??"shown";if(!r?.value||!["slide","presenter"].includes(l?.value??"")){const w={...u,...g};for(const{variant:_}of y)Object.assign(w,_);v.set(w)}else if(h.value||a?.value===c.value)if(k==="shown"){const w={...u,...g};for(const{variant:_,info:L}of y)(!L||L.isActive.value)&&Object.assign(w,_);h.value?v.set(w):v.apply(w)}else v.apply(k==="before"?u:p);else v.apply((a?.value??-1)>c.value?u:p)},{immediate:!0})},unmounted(t){t.motionInstance.watchStopHandle()}})}}}const Ll=[];function El(){const n=[];function e(t){if(!B.remote||B.remote===t.query.password)return!0;if(B.remote&&t.query.password===void 0){const s=prompt("Enter password");if(B.remote===s)return!0}return t.params.no?{path:`/${t.params.no}`}:{path:""}}return n.push({name:"entry",path:"/entry",component:()=>E(()=>import("./slidev/entry-_iP3jf0A.js"),__vite__mapDeps([42,1,4,5,6,7,8,43])),beforeEnter:e},{name:"overview",path:"/overview",component:()=>E(()=>import("./slidev/overview-D9AzSgUq.js"),__vite__mapDeps([44,18,1,4,5,6,45,46,47,3,48,49,7,8])),beforeEnter:e},{name:"notes",path:"/notes",component:()=>E(()=>import("./slidev/notes-CoOkIjyq.js"),__vite__mapDeps([50,1,4,5,6,45,46,49,7,8])),beforeEnter:e},{name:"presenter",path:"/presenter/:no",component:()=>E(()=>import("./slidev/presenter-C9H4ISSR.js"),__vite__mapDeps([51,1,47,4,5,6,3,48,52,18,49,7,8,53,45,46,54,55,56])),beforeEnter:e},{path:"/presenter",redirect:{path:"/presenter/1"}}),n.push({name:"play",path:"/:no",component:()=>E(()=>import("./slidev/play-DcW2xZAH.js"),__vite__mapDeps([57,1,47,4,5,6,3,48,52,18,49,7,8,53,58]))},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>E(()=>import("./slidev/404-B5RRgsMd.js"),__vite__mapDeps([59,1,4,5,6,7,8,60]))}),Ll.reduce((t,s)=>s(t),n)}async function Tl(n){function e(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}e(),window.addEventListener("resize",e);const t=Bo({history:Jo("/2024/jsnation/"),routes:El()});n.use(t),n.use(xa()),n.use(ja()),n.use(Ml()),n.use(Ha()),n.use(Ol()),n.use(ei,{container:"#twoslash-container"});const s={app:n,router:t};for(const o of Aa)await o(s)}async function $l(){const n=Uo(Ca);await Tl(n),n.mount("#app")}$l();export{Pr as $,ht as A,Vl as B,wt as C,ac as D,Yl as E,Ql as F,ne as G,Fr as H,Nt as I,Cr as J,Ra as K,zl as L,On as M,Hl as N,ft as O,Fl as P,Jl as Q,Bl as R,oc as S,sc as T,nc as U,ee as V,no as W,so as X,Fs as Y,xl as Z,Ai as _,Qe as a,Sn as a0,Mn as a1,Dt as a2,Ir as a3,rc as a4,In as a5,cn as a6,Xe as a7,tc as a8,Ar as a9,jl as aa,jr as ab,Ns as b,Ci as c,zr as d,$t as e,ql as f,qe as g,Xl as h,Zl as i,Gl as j,Kl as k,Rl as l,Dl as m,Wl as n,un as o,dt as p,Wr as q,Tt as r,ic as s,ec as t,Ei as u,Jr as v,Ul as w,Nl as x,Vs as y,Vr as z};
