const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/md-Bs54jsfd.js","assets/modules/vue-Dd4Qw5Vm.js","assets/slidev/center-B8QfsSaq.js","assets/slidev/context-CyLJzR2V.js","assets/modules/shiki-Cb5xVPCf.js","assets/modules/shiki-CozCpemh.css","assets/md-BpOLt3em.js","assets/slidev/intro-BQ9bmrLK.js","assets/md-BZ0Qa230.js","assets/md-dBierpXN.js","assets/slidev/default-BrjKIkay.js","assets/md-_5deWKct.js","assets/slidev/VClicks-DhFVzy5p.js","assets/vue-i18n-ally-CfZOEFGp.js","assets/md-mMsaTy6f.js","assets/md-D6d3i39w.js","assets/slidev/Arrow.vue_vue_type_script_setup_true_lang-DZaw1rCe.js","assets/slidev/VClick-DACdLG9-.js","assets/md-DmJziSoh.js","assets/md-BqGOHt74.js","assets/md-C4YJtidt.js","assets/md-sqvOXIf6.js","assets/md-DbxLZ1xr.js","assets/md--OTQdxBo.js","assets/md-B_kkNO-C.js","assets/md-Q_n9AZ_a.js","assets/nitro-B0_w6cP4.js","assets/md-Bpqqdb7c.js","assets/unplugin-Bb8QEBHn.js","assets/md-l-w73wu_.js","assets/md-BuUOPvA0.js","assets/md-Pf9NfKZL.js","assets/md-DR7NxhsU.js","assets/slidev/entry-DWbTNQcN.js","assets/entry-DKBEYRvL.css","assets/slidev/overview-ZMgLc6HA.js","assets/modules/unplugin-icons-DoYz2HIe.js","assets/slidev/NoteDisplay.vue_vue_type_style_index_0_lang-CNtdpP5U.js","assets/NoteDisplay-DlY48q_E.css","assets/SlideWrapper-CCXKr3q3.js","assets/modules/file-saver-DpYiGRfw.js","assets/SlideWrapper-B_3SS90H.css","assets/slidev/IconButton.vue_vue_type_script_setup_true_lang-BRkDwO1-.js","assets/slidev/notes-DdkzFaOA.js","assets/slidev/presenter-wN4OIMl_.js","assets/slidev/shortcuts-6Xf1BsbO.js","assets/shortcuts-CojLsgTv.css","assets/slidev/DrawingControls.vue_vue_type_style_index_0_lang-D2AMFM_i.js","assets/DrawingControls-Cxk9a9ub.css","assets/presenter-BSm347B1.css","assets/slidev/play-MOi1WU4o.js","assets/play-D_7yfuao.css","assets/slidev/404-e0C_6-k_.js","assets/404-_5Gr6e_7.css"])))=>i.map(i=>d[i]);
import{z as b,A as nn,B as yo,C as ko,D as Ts,r as O,E as Be,G as wo,H as vo,I as bo,J as As,K as ee,L as Cs,M as x,N as _o,O as So,f as sn,o as St,t as Mo,d as Es,i as Oo,F as To,g as Nn,P as C,Q as vn,R as Ao,S as It,p as Co,T as Eo,U as $o,V as Po,W as Lo,X as Io,Y as z,Z as xo,_ as $s,$ as xt,a0 as Ro,a1 as Ps,a2 as jo,a3 as No,a4 as Do,a5 as Ls,b as Vo,a as Ho,a6 as Fo,a7 as qo,a8 as Wo,a9 as zo,aa as Bo,ab as Uo,ac as Jo,c as Ko}from"./modules/vue-Dd4Qw5Vm.js";import{T as Qo}from"./modules/shiki-Cb5xVPCf.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=t(o);fetch(o.href,r)}})();const I={theme:"default",title:"The Set Theory",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:!0,monacoTypesSource:"local",monacoTypesAdditionalPackages:[],monacoTypesIgnorePackages:[],monacoRunAdditionalDeps:[],download:!1,export:{},info:!1,highlighter:"shiki",twoslash:!0,lineNumbers:!1,colorSchema:"dark",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Avenir Next"','"Nunito Sans"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"Fira Code"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Avenir Next","Nunito Sans","Fira Code"],provider:"google",local:["Avenir Next"],italic:!1,weights:["200","400","600"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,author:"",record:"dev",css:"unocss",presenter:!0,browserExporter:"dev",htmlAttrs:{},transition:"fade-out",editor:!0,contextMenu:null,wakeLock:!0,mdc:!0,seoMeta:{},layout:"center",slidesTitle:"The Set Theory - Slidev"};function on(n,e,t){return Math.min(t,Math.max(e,n))}function Go(...n){return Xo(n).reduce((e,t)=>e+t,0)}function Yo(n){return n=n??[],Array.isArray(n)?n:[n]}function Xo(n){return Yo(n).flat(1)}function Zo(n){return Array.from(new Set(n))}function Dn(...n){let e,t,s;n.length===1?(e=0,s=1,[t]=n):[e,t,s=1]=n;const o=[];let r=e;for(;r<t;)o.push(r),r+=s||1;return o}function er(n){return n!=null}function tr(n,e){return Object.fromEntries(Object.entries(n).map(([t,s])=>e(t,s)).filter(er))}const Ll="build",Is=b(()=>I.aspectRatio),xs=b(()=>I.canvasWidth),nr=b(()=>Math.ceil(xs.value/Is.value)),sr=b(()=>tr(I.themeConfig||{},(n,e)=>[`--slidev-theme-${n}`,e])),Wt=I.slidesTitle,Il="/2024/react-summit/",or=[],rr=new Set(["link","style","script","noscript"]),ar=new Set(["title","titleTemplate","script","style","noscript"]),Vn=new Set(["base","meta","link","style","script","noscript"]),ir=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),lr=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),cr=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),ur=new Set(["templateParams","htmlAttrs","bodyAttrs"]),fr=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);function rn(n,e={},t){for(const s in n){const o=n[s],r=t?`${t}:${s}`:s;typeof o=="object"&&o!==null?rn(o,e,r):typeof o=="function"&&(e[r]=o)}return e}const dr={run:n=>n()},hr=()=>dr,Rs=typeof console.createTask<"u"?console.createTask:hr;function pr(n,e){const t=e.shift(),s=Rs(t);return n.reduce((o,r)=>o.then(()=>s.run(()=>r(...e))),Promise.resolve())}function mr(n,e){const t=e.shift(),s=Rs(t);return Promise.all(n.map(o=>s.run(()=>o(...e))))}function zt(n,e){for(const t of[...n])t(e)}class gr{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,s={}){if(!e||typeof t!="function")return()=>{};const o=e;let r;for(;this._deprecatedHooks[e];)r=this._deprecatedHooks[e],e=r.to;if(r&&!s.allowDeprecated){let a=r.message;a||(a=`${o} hook has been deprecated`+(r.to?`, please use ${r.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let s,o=(...r)=>(typeof s=="function"&&s(),s=void 0,o=void 0,t(...r));return s=this.hook(e,o),s}removeHook(e,t){if(this._hooks[e]){const s=this._hooks[e].indexOf(t);s!==-1&&this._hooks[e].splice(s,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,t){this._deprecatedHooks[e]=typeof t=="string"?{to:t}:t;const s=this._hooks[e]||[];delete this._hooks[e];for(const o of s)this.hook(e,o)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=rn(e),s=Object.keys(t).map(o=>this.hook(o,t[o]));return()=>{for(const o of s.splice(0,s.length))o()}}removeHooks(e){const t=rn(e);for(const s in t)this.removeHook(s,t[s])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...t){return t.unshift(e),this.callHookWith(pr,e,...t)}callHookParallel(e,...t){return t.unshift(e),this.callHookWith(mr,e,...t)}callHookWith(e,t,...s){const o=this._before||this._after?{name:t,args:s,context:{}}:void 0;this._before&&zt(this._before,o);const r=e(t in this._hooks?[...this._hooks[t]]:[],s);return r instanceof Promise?r.finally(()=>{this._after&&o&&zt(this._after,o)}):(this._after&&o&&zt(this._after,o),r)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const t=this._before.indexOf(e);t!==-1&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const t=this._after.indexOf(e);t!==-1&&this._after.splice(t,1)}}}}function yr(){return new gr}const kr=["name","property","http-equiv"],wr=new Set(["viewport","description","keywords","robots"]);function js(n){const e=n.split(":");return e.length?fr.has(e[1]):!1}function an(n){const{props:e,tag:t}=n;if(lr.has(t))return t;if(t==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(n.tag==="meta"){for(const s of kr)if(e[s]!==void 0){const o=e[s],r=o.includes(":"),a=wr.has(o),l=!(r||a)&&n.key?`:key:${n.key}`:"";return`${t}:${o}${l}`}}if(n.key)return`${t}:key:${n.key}`;if(e.id)return`${t}:id:${e.id}`;if(ar.has(t)){const s=n.textContent||n.innerHTML;if(s)return`${t}:content:${s}`}}function Hn(n){const e=n._h||n._d;if(e)return e;const t=n.textContent||n.innerHTML;return t||`${n.tag}:${Object.entries(n.props).map(([s,o])=>`${s}:${String(o)}`).join(",")}`}function Mt(n,e,t){typeof n==="function"&&(!t||t!=="titleTemplate"&&!(t[0]==="o"&&t[1]==="n"))&&(n=n());let o;if(e&&(o=e(t,n)),Array.isArray(o))return o.map(r=>Mt(r,e));if(o?.constructor===Object){const r={};for(const a of Object.keys(o))r[a]=Mt(o[a],e,a);return r}return o}function vr(n,e){const t=n==="style"?new Map:new Set;function s(o){const r=o.trim();if(r)if(n==="style"){const[a,...i]=r.split(":").map(l=>l.trim());a&&i.length&&t.set(a,i.join(":"))}else r.split(" ").filter(Boolean).forEach(a=>t.add(a))}return typeof e=="string"?n==="style"?e.split(";").forEach(s):s(e):Array.isArray(e)?e.forEach(o=>s(o)):e&&typeof e=="object"&&Object.entries(e).forEach(([o,r])=>{r&&r!=="false"&&(n==="style"?t.set(o.trim(),r):s(o))}),t}function Ns(n,e){return n.props=n.props||{},e&&Object.entries(e).forEach(([t,s])=>{if(s===null){n.props[t]=null;return}if(t==="class"||t==="style"){n.props[t]=vr(t,s);return}if(cr.has(t)){if(["textContent","innerHTML"].includes(t)&&typeof s=="object"){let a=e.type;if(e.type||(a="application/json"),!a?.endsWith("json")&&a!=="speculationrules")return;e.type=a,n.props.type=a,n[t]=JSON.stringify(s)}else n[t]=s;return}const o=String(s),r=t.startsWith("data-");o==="true"||o===""?n.props[t]=r?o:!0:!s&&r&&o==="false"?n.props[t]="false":s!==void 0&&(n.props[t]=s)}),n}function br(n,e){const t=typeof e=="object"&&typeof e!="function"?e:{[n==="script"||n==="noscript"||n==="style"?"innerHTML":"textContent"]:e},s=Ns({tag:n,props:{}},t);return s.key&&rr.has(s.tag)&&(s.props["data-hid"]=s._h=s.key),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(o=>({...s,props:{...s.props,content:o}})):s}function _r(n,e){if(!n)return[];typeof n=="function"&&(n=n());const t=(o,r)=>{for(let a=0;a<e.length;a++)r=e[a](o,r);return r};n=t(void 0,n);const s=[];return n=Mt(n,t),Object.entries(n||{}).forEach(([o,r])=>{if(r!==void 0)for(const a of Array.isArray(r)?r:[r])s.push(br(o,a))}),s.flat()}const Fn=(n,e)=>n._w===e._w?n._p-e._p:n._w-e._w,qn={base:-10,title:10},Sr={critical:-8,high:-1,low:2},Wn={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},Mr=/@import/,Qe=n=>n===""||n===!0;function Or(n,e){if(typeof e.tagPriority=="number")return e.tagPriority;let t=100;const s=Sr[e.tagPriority]||0,o=n.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Wn;if(e.tag in qn)t=qn[e.tag];else if(e.tag==="meta"){const r=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;r&&(t=Wn.meta[r])}else e.tag==="link"&&e.props.rel?t=o.link[e.props.rel]:e.tag==="script"?Qe(e.props.async)?t=o.script.async:e.props.src&&!Qe(e.props.defer)&&!Qe(e.props.async)&&e.props.type!=="module"&&!e.props.type?.endsWith("json")?t=o.script.sync:Qe(e.props.defer)&&e.props.src&&!Qe(e.props.async)&&(t=o.script.defer):e.tag==="style"&&(t=e.innerHTML&&Mr.test(e.innerHTML)?o.style.imported:o.style.sync);return(t||100)+s}function zn(n,e){const t=typeof e=="function"?e(n):e,s=t.key||String(n.plugins.size+1);n.plugins.get(s)||(n.plugins.set(s,t),n.hooks.addHooks(t.hooks||{}))}function Tr(n={}){const e=yr();e.addHooks(n.hooks||{});const t=!n.document,s=new Map,o=new Map,r=new Set,a={_entryCount:1,plugins:o,dirty:!1,resolvedOptions:n,hooks:e,ssr:t,entries:s,headEntries(){return[...s.values()]},use:i=>zn(a,i),push(i,l){const c={...l||{}};delete c.head;const f=c._index??a._entryCount++,h={_i:f,input:i,options:c},d={_poll(u=!1){a.dirty=!0,!u&&r.add(f),e.callHook("entries:updated",a)},dispose(){s.delete(f)&&a.invalidate()},patch(u){(!c.mode||c.mode==="server"&&t||c.mode==="client"&&!t)&&(h.input=u,s.set(f,h),d._poll())}};return d.patch(i),d},async resolveTags(){const i={tagMap:new Map,tags:[],entries:[...a.entries.values()]};for(await e.callHook("entries:resolve",i);r.size;){const d=r.values().next().value;r.delete(d);const u=s.get(d);if(u){const m={tags:_r(u.input,n.propResolvers||[]).map(p=>Object.assign(p,u.options)),entry:u};await e.callHook("entries:normalize",m),u._tags=m.tags.map((p,g)=>(p._w=Or(a,p),p._p=(u._i<<10)+g,p._d=an(p),p))}}let l=!1;i.entries.flatMap(d=>(d._tags||[]).map(u=>({...u,props:{...u.props}}))).sort(Fn).reduce((d,u)=>{const m=String(u._d||u._p);if(!d.has(m))return d.set(m,u);const p=d.get(m);if((u?.tagDuplicateStrategy||(ur.has(u.tag)?"merge":null)||(u.key&&u.key===p.key?"merge":null))==="merge"){const y={...p.props};Object.entries(u.props).forEach(([k,w])=>y[k]=k==="style"?new Map([...p.props.style||new Map,...w]):k==="class"?new Set([...p.props.class||new Set,...w]):w),d.set(m,{...u,props:y})}else u._p>>10===p._p>>10&&u.tag==="meta"&&js(m)?(d.set(m,Object.assign([...Array.isArray(p)?p:[p],u],u)),l=!0):(u._w===p._w?u._p>p._p:u?._w<p?._w)&&d.set(m,u);return d},i.tagMap);const c=i.tagMap.get("title"),f=i.tagMap.get("titleTemplate");if(a._title=c?.textContent,f){const d=f?.textContent;if(a._titleTemplate=d,d){let u=typeof d=="function"?d(c?.textContent):d;typeof u=="string"&&!a.plugins.has("template-params")&&(u=u.replace("%s",c?.textContent||"")),c?u===null?i.tagMap.delete("title"):i.tagMap.set("title",{...c,textContent:u}):(f.tag="title",f.textContent=u)}}i.tags=Array.from(i.tagMap.values()),l&&(i.tags=i.tags.flat().sort(Fn)),await e.callHook("tags:beforeResolve",i),await e.callHook("tags:resolve",i),await e.callHook("tags:afterResolve",i);const h=[];for(const d of i.tags){const{innerHTML:u,tag:m,props:p}=d;if(ir.has(m)&&!(Object.keys(p).length===0&&!d.innerHTML&&!d.textContent)&&!(m==="meta"&&!p.content&&!p["http-equiv"]&&!p.charset)){if(m==="script"&&u){if(p.type?.endsWith("json")){const g=typeof u=="string"?u:JSON.stringify(u);d.innerHTML=g.replace(/</g,"\\u003C")}else typeof u=="string"&&(d.innerHTML=u.replace(new RegExp(`</${m}`,"g"),`<\\/${m}`));d._d=an(d)}h.push(d)}}return h},invalidate(){for(const i of s.values())r.add(i._i);a.dirty=!0,e.callHook("entries:updated",a)}};return(n?.plugins||[]).forEach(i=>zn(a,i)),a.hooks.callHook("init",a),n.init?.forEach(i=>i&&a.push(i)),a}const Ar=(n,e)=>yo(e)?nn(e):e,Ds="usehead";function Cr(n){return{install(t){t.config.globalProperties.$unhead=n,t.config.globalProperties.$head=n,t.provide(Ds,n)}}.install}function Er(){if(ko()){const n=Ts(Ds);if(!n)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return n}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function $r(n,e={}){const t=e.head||Er();return t.ssr?t.push(n||{},e):Pr(t,n,e)}function Pr(n,e,t={}){const s=O(!1);let o;return Be(()=>{const a=s.value?{}:Mt(e,Ar);o?o.patch(a):o=n.push(a,t)}),As()&&(wo(()=>{o.dispose()}),vo(()=>{s.value=!0}),bo(()=>{s.value=!1})),o}function ln(n){if(n===!1||n==="false")return null;if(n==null||n===!0||n==="true")return"+1";if(typeof n=="string"&&"+-".includes(n[0]))return n;const e=+n;return Number.isNaN(e)?(console.error(`Invalid "at" prop value: ${n}`),null):e<=0?(console.warn(`[Slidev] "at" prop value must be greater than 0, but got ${n}, has been set to 1`),1):e}function Lr(n){return Array.isArray(n)?[ln(n[0]),ln(n[1])]:null}function Vs(n,e=0,t){const s=O(!1);let o=new Map,r=new Map;const a={get current(){return on(+n.value,e,a.total)},set current(i){n.value=s.value?on(i,e,a.total):i},clicksStart:e,get relativeSizeMap(){return o},get maxMap(){return r},get isMounted(){return s.value},setup(){Cs(()=>{s.value=!0,r=x(r),_o(n)||(a.current=n.value)}),So(()=>{s.value=!1,o=new Map,r=new Map})},calculateSince(i,l=1){const c=ln(i);if(c==null)return null;let f,h,d;if(typeof c=="string"){const u=a.currentOffset,m=+c;f=u+m,h=u+m+l-1,d=m+l-1}else f=c,h=c+l-1,d=0;return{start:f,end:+Number.POSITIVE_INFINITY,max:h,delta:d,currentOffset:b(()=>a.current-f),isCurrent:b(()=>a.current===f),isActive:b(()=>a.current>=f)}},calculateRange(i){const l=Lr(i);if(l==null)return null;const[c,f]=l;let h,d,u;return typeof c=="string"?(h=a.currentOffset+ +c,u=+c):(h=c,u=0),typeof f=="string"?(d=h+ +f,u+=+f):d=f,{start:h,end:d,max:d,delta:u,currentOffset:b(()=>a.current-h),isCurrent:b(()=>a.current===h),isActive:b(()=>h<=a.current&&a.current<d)}},calculate(i){return Array.isArray(i)?a.calculateRange(i):a.calculateSince(i)},register(i,l){if(!l)return;const{delta:c,max:f}=l;o.set(i,c),r.set(i,f)},unregister(i){o.delete(i),r.delete(i)},get currentOffset(){return Go(...o.values())},get total(){return t??(s.value?Math.max(0,...r.values()):0)}};return a}function Ir(n,e=0){const t=n?.meta.slide?.frontmatter.clicksStart??0,s=O(Math.max(nn(e),t));return ee(()=>nn(e),o=>{s.value=Math.max(o,t)}),Vs(s,t,n?.meta?.clicks)}const xr="modulepreload",Rr=function(n){return"/2024/react-summit/"+n},Bn={},A=function(e,t,s){let o=Promise.resolve();if(t&&t.length>0){let l=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=a?.nonce||a?.getAttribute("nonce");o=l(t.map(c=>{if(c=Rr(c),c in Bn)return;Bn[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":xr,f||(d.as="script"),d.crossOrigin="",d.href=c,i&&d.setAttribute("nonce",i),document.head.appendChild(d),f)return new Promise((u,m)=>{d.addEventListener("load",u),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return o.then(a=>{for(const i of a||[])i.status==="rejected"&&r(i.reason);return e().catch(r)})},jr=(n,e)=>{const t=n.__vccOpts||n;for(const[s,o]of e)t[s]=o;return t},Nr={},Dr={class:"px-4 py-10 text-center text-red-700 dark:text-red-500 font-bold font-mono"};function Vr(n,e){return St(),sn("div",Dr,Mo("Failed to fetch this slide. Please check your network connection."))}const R=jr(Nr,[["render",Vr]]),Hr={class:"h-full w-full flex items-center justify-center gap-2 slidev-slide-loading"},Fr=Es({__name:"SlideLoading",setup(n){const e=O(!1);return Cs(()=>{setTimeout(()=>{e.value=!0},200)}),(t,s)=>(St(),sn("div",Hr,[e.value?(St(),sn(To,{key:0},[s[0]||(s[0]=Nn("div",{class:"i-svg-spinners-90-ring-with-bg text-xl"},null,-1)),s[1]||(s[1]=Nn("div",null,"Loading slide...",-1))],64)):Oo("v-if",!0)]))}}),qr={layout:"center",colorSchema:"dark",transition:"fade-out",mdc:!0,title:"The Set Theory"},de=C(qr),Wr=x({get layout(){return de.layout},get transition(){return de.transition},get class(){return de.class},get clicks(){return de.clicks},get name(){return de.name},get preload(){return de.preload},slide:{content:"",revision:"-qahzof",frontmatterRaw:`layout: center
colorSchema: dark
transition: fade-out
mdc: true
title: The Set Theory
`,note:"",title:"The Set Theory",index:0,noteHTML:`<p>Hello everyone, it's my great honor to be here, and thanks for having me! First, let me introduce a bit about myself.</p>
`,raw:"",frontmatter:de,filepath:"",start:0,id:0,no:1},__clicksContext:null,__preloaded:!1}),zr={layout:"intro",glowSeed:15,glowOpacity:.3,class:"pl-25"},he=C(zr),Br=x({get layout(){return he.layout},get transition(){return he.transition},get class(){return he.class},get clicks(){return he.clicks},get name(){return he.name},get preload(){return he.preload},slide:{content:"",revision:"3tl3eo",frontmatterRaw:`layout: intro
glowSeed: 15
glowOpacity: 0.3
class: pl-25
`,note:"",title:"Anthony Fu",level:1,index:1,noteHTML:`<p>My name is Anthony Fu...</p>
<p>So, as you can see, at the frontend level, I am pretty much from the Vue community. And this is actually my second time attending a React event. But the event is awesome and really makes me feel home because we have a React conference with the color of Vue. Thanks to everyone that make this event possible. It's my great honor to speak and share my perspective with you here.</p>
<p>Since I don't know a lot of React to talk about, here is the deal, I will try to talk about something you might find interesting, and you gonna teach me how to properly use the <code>useEffect</code> hook later.</p>
`,raw:"",frontmatter:he,filepath:"",start:14,id:1,no:2},__clicksContext:null,__preloaded:!1}),Ur={layout:"cover",title:"Anthony's Roads to Open Source"},pe=C(Ur),Jr=x({get layout(){return pe.layout},get transition(){return pe.transition},get class(){return pe.class},get clicks(){return pe.clicks},get name(){return pe.name},get preload(){return pe.preload},slide:{content:"",revision:"-rhi6v4",frontmatterRaw:`layout: cover
title: Anthony's Roads to Open Source
`,note:"",title:"Anthony's Roads to Open Source",index:2,noteHTML:`<p>So, as you see, I am work on multiple open source and also created a few you might already using, for example Vitest, the unit testing framework.</p>
<p>As someone who have been working on open source for a while and made a living, I have to say that open Source is so much fun and rewarding. I believe many of you wanted to contribute to open source, or already doing so. However, there are so many factors that affects that if a open source project would become popular, or &quot;successful&quot; -- depends on how you define it. For example, the quality of the code, the documentation, the community, the marketing, and so on. All of them are important and related to each other. There isn't really a golden rule to make a open source project successful.</p>
<p>So here, I'd like to share some of my experience and ideas on creating and maintaining open source projects, combining with some observations that I have learned from the community.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> Hopefully it can help you start your own open source journey, or find some new ideas to improve your existing projects.</p>
<p>Open Source also a quite big topic that I can't really cover everything in one talk. So I am trying to break it down and talk about different aspects of open source in each talk and make them a series.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> Today, it's the Part 1, let's talk about - <span class="slidev-note-click-mark" data-clicks="3"></span> &quot;The Set Theory&quot;.</p>
<p>I know, it might sounds a bit random, and you might wonder - what does that mean? Let mew try to explain.</p>
<p>So let's say we already have an Open Source project, or planning to create one. To be a little bit practical, say, we might want to gain certain amount of adoption, or just that we want people to use, and to enjoy our hard work.</p>
`,raw:"",frontmatter:pe,filepath:"",start:57,id:2,no:3},__clicksContext:null,__preloaded:!1}),Kr={clicks:4,glowX:0,glowY:0},me=C(Kr),Qr=x({get layout(){return me.layout},get transition(){return me.transition},get class(){return me.class},get clicks(){return me.clicks},get name(){return me.name},get preload(){return me.preload},slide:{content:"",revision:"xqk0r6",frontmatterRaw:`clicks: 4
glowX: 0
glowY: 0
`,note:"",title:"Consider your Target Users",level:2,index:3,noteHTML:`<p>One of the things to consider is how we picturing our target users. For example, like &quot;Is my tool for end users or developers?&quot;, &quot;Or is it for Vue developers or for React?&quot;, etc.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> We know the fact that among all of the target users, only a portion of them will become our actual users.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> In order to gain more users to our project, we can try to convert more potential users to the actual users. <span class="slidev-note-click-mark" data-clicks="3"></span> Maybe by doing more marketing or polishing. In that case, the amount of the target users you have, actually becomes the upper limit of how many actual users you could possibly have.</p>
<p>On the other hand, we can also try to find a way to expand our target users to include more people. <span class="slidev-note-click-mark" data-clicks="4"></span> And naturally, you will also have more converted users from it.</p>
<p>Under this idea, let's take a look at some examples of how we can do that.</p>
`,raw:"",frontmatter:me,filepath:"",start:94,id:3,no:4},__clicksContext:null,__preloaded:!1}),Gr={layout:"center",class:"text-center",glow:"left"},ge=C(Gr),Yr=x({get layout(){return ge.layout},get transition(){return ge.transition},get class(){return ge.class},get clicks(){return ge.clicks},get name(){return ge.name},get preload(){return ge.preload},slide:{content:"",revision:"-mkyxmw",frontmatterRaw:`layout: center
class: text-center
glow: left
`,note:"",title:"For example {.op60}",level:4,index:4,noteHTML:`<p>The first example I am going to show you is actually <span class="slidev-note-click-mark" data-clicks="1"></span> my first open source project back in 2019.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> The repo is call <code>vscode-vue-i18n-ally</code>. <span class="slidev-note-click-mark" data-clicks="3"></span> It's a VS Code extension for helping Vue developers to work with i18n, or so call internationalization, like preview the translations in code, or manage keys for each language, etc.</p>
`,raw:"",frontmatter:ge,filepath:"",start:133,id:4,no:5},__clicksContext:null,__preloaded:!1}),Xr={layout:"center"},ye=C(Xr),Zr=x({get layout(){return ye.layout},get transition(){return ye.transition},get class(){return ye.class},get clicks(){return ye.clicks},get name(){return ye.name},get preload(){return ye.preload},slide:{content:"",revision:"-r19c60",frontmatterRaw:`layout: center
`,note:"",index:5,noteHTML:`<p>This is a screenshot of the extension that shows its basic features. This screenshot should give you a basic idea of what it is.</p>
`,raw:"",frontmatter:ye,filepath:"",start:157,id:5,no:6},__clicksContext:null,__preloaded:!1}),ea={class:"h-full"},ke=C(ea),ta=x({get layout(){return ke.layout},get transition(){return ke.transition},get class(){return ke.class},get clicks(){return ke.clicks},get name(){return ke.name},get preload(){return ke.preload},slide:{content:"",revision:"-d1run8",frontmatterRaw:`class: h-full
`,note:"",index:6,noteHTML:`<p>At the beginging of this project, I'm eager to make this project popular as I really want to prove myself in open source. I was super happy when I got the first 100, 200 stars, and received the apperications from the community. After that, I started to seek for higher goals. Back then, I was dreaming to work full time on open source, for example, Evan You, the creator of Vue. So my ambition was to make something as popular as Vue. Then I suddenly saw there are fundamental differences between my project and Vue -- they are directly reflects on the project names. Look into it's name, we see it's quite long and composed by multiple words.</p>
<p>Let's break it down to see part by part. <span class="slidev-note-click-mark" data-clicks="1"></span> So first, this is a VS Code extension, so it basically means only VS Code users would use this extension. We can draw a circle indicating VS Code users here. <span class="slidev-note-click-mark" data-clicks="2"></span> And then it's for Vue because it's built based on my need. Then we could have the Vue circle. <span class="slidev-note-click-mark" data-clicks="3"></span> And finally this is a helper for internationalization, meaning not all Vue users would use this extension. So we can draw another circle for i18n. <span class="slidev-note-click-mark" data-clicks="4"></span></p>
<p>Then we find out that our target users are limited inside the intersection of these three Set circles. Meaning that, only a Vue developer who is working on an i18n app that happend to choice VS Code as their editor, would ever try this extension. That sounds quite limited. This is a phenomenon I call it the &quot;Set Intersections&quot;. <span class="slidev-note-click-mark" data-clicks="5"></span></p>
<p>Before we dive into the solutions, let's have a look of this graph. What would the other intersections means? <span class="slidev-note-click-mark" data-clicks="6"></span> We will soon realize that the intersection between VS Code and Vue is actually Volar, or Vetur at that time, the VS Code IDE support for Vue. As the result, we knew that both Vetur and Volar have a huge user base, because both the Vue and VS Code have huge communities, making there intersection large enough. <span class="slidev-note-click-mark" data-clicks="7"></span> Simliar, we see that the interection between Vue and i18n are projects like <code>vue-i18n</code> which is also super popular.</p>
<p><span class="slidev-note-click-mark" data-clicks="8"></span> And then when it comes to the intersection between VS Code and i18n, we see that there seems to be no such projects at that time. A straightforward thinking -- let's be that one. <span class="slidev-note-click-mark" data-clicks="9"></span> In practice, we could try to make the extension decoupled from Vue, so that it could be used with other frameworks as well.</p>
<p>In short, we might be able to make things more universal by breaking the set cirles and expand the intersection.</p>
`,raw:"",frontmatter:ke,filepath:"",start:167,id:6,no:7},__clicksContext:null,__preloaded:!1}),na={layout:"center",glow:"top"},we=C(na),sa=x({get layout(){return we.layout},get transition(){return we.transition},get class(){return we.class},get clicks(){return we.clicks},get name(){return we.name},get preload(){return we.preload},slide:{content:"",revision:"-dcbnbn",frontmatterRaw:`layout: center
glow: top
`,note:"",index:7,noteHTML:`<p>And that's how I did it! <span class="slidev-note-click-mark" data-clicks="1"></span> I took some time to do a huge refactor, designed a plugin interface and make the core features universal. <span class="slidev-note-click-mark" data-clicks="2"></span> At version 1.0, I renamed the project from <code>Vue i18n Ally</code> to <code>i18n Ally</code>.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span>From a Vue-only extension to <span class="slidev-note-click-mark" data-clicks="4"></span> a universal i18n helper for VS Code that supports a wide range of frameworks, including backend frameworks like Laravel, Ruby on Rails, and even native-targeted frameworks. And they are customizable and extensible!</p>
`,raw:"",frontmatter:we,filepath:"",start:259,id:7,no:8},__clicksContext:null,__preloaded:!1}),oa={layout:"center",glow:"left",glowSeed:1},ve=C(oa),ra=x({get layout(){return ve.layout},get transition(){return ve.transition},get class(){return ve.class},get clicks(){return ve.clicks},get name(){return ve.name},get preload(){return ve.preload},slide:{content:"",revision:"mnod3t",frontmatterRaw:`layout: center
glow: left
glowSeed: 1
`,note:"",index:8,noteHTML:`<p>When it comes to numbers, we can see a steep increase of the stars at the time of we doing the release. <span class="slidev-note-click-mark" data-clicks="1"></span> The stars almost doubled within a month. At that time, that really means a lot to me, especially for me who just get started in open source. The thinking of making things universal really changes the way I worked in Open Source later one.</p>
`,raw:"",frontmatter:ve,filepath:"",start:292,id:8,no:9},__clicksContext:null,__preloaded:!1}),aa={layout:"center",glowHue:70,glowSeed:10},be=C(aa),ia=x({get layout(){return be.layout},get transition(){return be.transition},get class(){return be.class},get clicks(){return be.clicks},get name(){return be.name},get preload(){return be.preload},slide:{content:"",revision:"-qcwws7",frontmatterRaw:`layout: center
glowHue: 70
glowSeed: 10
`,note:"",index:9,noteHTML:`<p>Then let's talk about another example, Vite. Initially, <span class="slidev-note-click-mark" data-clicks="1"></span> Vite was an experiments on development tooling for Vue when Evan You first started it. When the idea seems to work quite well, <span class="slidev-note-click-mark" data-clicks="2"></span> Evan decided to make it framework-agnostic by the extracting Vue's handling into a plugin and polishing the API. Then we have the Vite we know today - the shared infrastructure under so many frameworks</p>
`,raw:"",frontmatter:be,filepath:"",start:308,id:9,no:10},__clicksContext:null,__preloaded:!1}),la={glowX:50,glowY:0,preload:!1},_e=C(la),ca=x({get layout(){return _e.layout},get transition(){return _e.transition},get class(){return _e.class},get clicks(){return _e.clicks},get name(){return _e.name},get preload(){return _e.preload},slide:{content:"",revision:"-6lsavq",frontmatterRaw:`glowX: 50
glowY: 0
preload: false
`,note:"",index:10,noteHTML:`<p>I'd say, Vite's success turns out to be far beyond my initial imagination. It's now has a incredibly huge community and ecosystem. Basically all modern meta-frameworks are building on top of it, we have SvelteKit, Storybook, Astro, Solid Start, Nuxt, Qwik City, any many more. We are also very glad to welcome Remix to join the party recently.</p>
<p>The collabrations across multiple frameworks and community are really impressive. Vite becomes the shared core logics for web tooling, so meta frameworks don't need to worries about the underlying details and can focus more on the features and capiblity the frameworks could provide. When any improvements made in Vite, it also benefits all the downstream frameworks. That is truely, make the web better together.</p>
<p>There are many other factories that make Vite to reach what it is today, but I'd say been extensible and agnostic really widen the door for the community to join and contribute.</p>
`,raw:"",frontmatter:_e,filepath:"",start:325,id:10,no:11},__clicksContext:null,__preloaded:!1}),ua={layout:"two-cols",layoutClass:"important-p0"},Se=C(ua),fa=x({get layout(){return Se.layout},get transition(){return Se.transition},get class(){return Se.class},get clicks(){return Se.clicks},get name(){return Se.name},get preload(){return Se.preload},slide:{content:"",revision:"-f5ty3u",frontmatterRaw:`layout: two-cols
layoutClass: important-p0
`,note:"",index:11,noteHTML:`<p>One other example I can think of is React Query, they started with Query for React, and then also  <span class="slidev-note-click-mark" data-clicks="1"></span> provide a Vue version, called Vue Query.</p>
<p>As more frontend frameworks like Svelte and Solid coming into the game, I believe they realized there could be something more generalized. At some point, we see that Vue Query has been merged with React Query into a single repo, with a wider scope and renamed to TanStack Query <span class="slidev-note-click-mark" data-clicks="2"></span>, having a more universal solution that works for many more other frameworks as well. According to their documentations, today we see that Solid, Svelte and Angular are also supported.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> TanStack seems to be trying to expand this idea even further by providing many more universal building blocks, like router and headless components. Kudos to them!</p>
`,raw:"",frontmatter:Se,filepath:"",start:341,id:11,no:12},__clicksContext:null,__preloaded:!1}),da={},Me=C(da),ha=x({get layout(){return Me.layout},get transition(){return Me.transition},get class(){return Me.class},get clicks(){return Me.clicks},get name(){return Me.name},get preload(){return Me.preload},slide:{content:"",revision:"3v3js5",note:"",title:"Benefits of being Universal",level:2,index:12,noteHTML:`<p>By making our project more universal, meaning we could reach out to a <span class="slidev-note-click-mark" data-clicks="1"></span> large user base and <span class="slidev-note-click-mark" data-clicks="2"></span> naturally we might then have more contributors to <span class="slidev-note-click-mark" data-clicks="3"></span> join the force and work together</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> Trying to refactor things to become universal would also help us to revise the design and abstraction, and often we could end up with a more maintainable and extensible architecture.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> And finally, if your project started to gain more usages from various needs, making improvements in our project could end up benefit everyone in the ecosystem.</p>
<p>With that, I really encourage library authors to think more about that way, and trying to seek for collabrations even across ecosystems.</p>
`,raw:"",frontmatter:Me,filepath:"",start:386,id:12,no:13},__clicksContext:null,__preloaded:!1}),pa={layout:"intro"},Oe=C(pa),ma=x({get layout(){return Oe.layout},get transition(){return Oe.transition},get class(){return Oe.class},get clicks(){return Oe.clicks},get name(){return Oe.name},get preload(){return Oe.preload},slide:{content:"",revision:"-msvpzp",frontmatterRaw:`layout: intro
`,note:"",title:"BUT!{.op50}",level:5,index:13,noteHTML:`<p>So, we know that being universal has a lot great benefits. However actually, I want to say that, being specific is also not a bad thing. Specific allows us to provide tighter integrations and better developer experiences. But, how can we balance that?</p>
`,raw:"",frontmatter:Oe,filepath:"",start:412,id:13,no:14},__clicksContext:null,__preloaded:!1}),ga={class:"h-full",glowX:50,glowY:-20},Te=C(ga),ya=x({get layout(){return Te.layout},get transition(){return Te.transition},get class(){return Te.class},get clicks(){return Te.clicks},get name(){return Te.name},get preload(){return Te.preload},slide:{content:"",revision:"-bezl0k",frontmatterRaw:`class: h-full
glowX: 50
glowY: -20
`,note:"",title:"Deployment",level:2,index:14,noteHTML:`<p>For example, when we talk about Server-side Rendering and Server APIs, we know that in those cases, we need a server in some form to work together with our frontend. <span class="slidev-note-click-mark" data-clicks="1"></span> Let's take Nuxt, a Vue meta-framework that I have been working on, as an example.</p>
<p>Other than a self-hosted Node.js server, there are also many hosting services out there, for example like <span class="slidev-note-click-mark" data-clicks="2"></span>Cloudflare, <span class="slidev-note-click-mark" data-clicks="3"></span> Vercel, Netlify, etc. <span class="slidev-note-click-mark" data-clicks="4"></span> In Nuxt, we don't want to our users to be stuck on a single platform, but rather, we want to offer choices to our users to pick based on their need. To leverage the full potential for each provider, we might want to utilize the edge rendering and serverless functions based on what they have offered. One thing to note is that each provide has their own format, some might also comes with specific tooling. <span class="slidev-note-click-mark" data-clicks="5"></span> That means Nuxt would need to support as many platforms as possible builtin. So we made the integrations and even supported auto detection, with that the app can be written isomorphically and deployed to various of platforms without changing any configuration.</p>
<p>And then we realize that is a problem that probably every meta-framework has to deal with, and it doesn't have to be Nuxt specific. So we extract that into a standalone tool called Nitro.</p>
<p><span class="slidev-note-click-mark" data-clicks="6"></span> It's a universal server builder, and it's pretty much like a Vite but for servers. With Nitro taking care of the details of dealing servers, it actually allows Nuxt to have a more clear architecture to handling Vue-specific SSR and APIs etc. And since Nitro is a general propose server tools, we see more and more meta-frameworks started to use it and collaborate with us.</p>
<p><span class="slidev-note-click-mark" data-clicks="7"></span> We have Analog, a popular Angular meta-framework has migrated Nitro a few month ago, that they just announced v1.0 release last week. <span class="slidev-note-click-mark" data-clicks="8"></span> Stacks, a new framework-agnostic meta-framework. <span class="slidev-note-click-mark" data-clicks="9"></span> We also have Solid Start, the meta-framework from Solid team. <span class="slidev-note-click-mark" data-clicks="10"></span> Even without a framework, I also find Nitro to be very handy to build pure API server, etc. We are looking forward to see more framework join and work together with us.</p>
`,raw:"",frontmatter:Te,filepath:"",start:424,id:14,no:15},__clicksContext:null,__preloaded:!1}),ka={glowX:50,glowY:0,clicks:4,class:"h-full"},Ae=C(ka),wa=x({get layout(){return Ae.layout},get transition(){return Ae.transition},get class(){return Ae.class},get clicks(){return Ae.clicks},get name(){return Ae.name},get preload(){return Ae.preload},slide:{content:"",revision:"-i8sjpp",frontmatterRaw:`glowX: 50
glowY: 0
clicks: 4
class: h-full
`,note:"",title:"Bundle Tools",level:2,index:15,noteHTML:`<p>And similarly, in terms of the bundle tools. Nuxt 2 was built on top of Webpack <span class="slidev-note-click-mark" data-clicks="1"></span>, in Nuxt 3, we want to keep support Webpack for compatibility and easier migration of existing users, while we also love the innvations and developer experience on Vite. <span class="slidev-note-click-mark" data-clicks="2"></span> So we try to support both tools interchangably. We provide first party integrations to both Webpack and Vite, pre-configured for Nuxt so ideally the app would works the same with both tools. However, we know that the architectures as well as the plugin systems are quite different in them. For example, if we add some transformation to some modules in our pipeline, that usually means we need to implement the logic twice for each plugin format. What would basically double our work, as well as the effort for community modules to support them.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> That's the initial motivation for us to create <code>unplugin</code>, an unified plugin interface for both Webpack and Vite. With that, we are able to save a lot of effort on digging into the details or misalignment for each tool. And since <code>unplugin</code> get extracted as a standalone tool, it also form it's own community and expand the scope to support other build tools like <span class="slidev-note-click-mark" data-clicks="4"></span> Rollup, esbuild and rspack, rolldown, farm, bun plugins and possibly more in the future. With the work done by the unplugin community, it also opens the door for meta-frameworks like Nuxt so support more build tools for a wider community.</p>
`,raw:"",frontmatter:Ae,filepath:"",start:503,id:15,no:16},__clicksContext:null,__preloaded:!1}),va={class:"h-full",glowX:0},Ce=C(va),ba=x({get layout(){return Ce.layout},get transition(){return Ce.transition},get class(){return Ce.class},get clicks(){return Ce.clicks},get name(){return Ce.name},get preload(){return Ce.preload},slide:{content:"",revision:"-ecqt5h",frontmatterRaw:`class: h-full
glowX: 0
`,note:"",index:16,noteHTML:`<p>Those are just two examples. <span class="slidev-note-click-mark" data-clicks="1"></span> We also have the <span class="slidev-note-click-mark" data-clicks="2"></span> UnJS community that provide many high quality tools throughout the entire JavaScript ecosystem. <span class="slidev-note-click-mark" data-clicks="3"></span> Actually <code>Nitro</code> and <span class="slidev-note-click-mark" data-clicks="4"></span> <code>unplugin</code> are parts of the UnJS community. <span class="slidev-note-click-mark" data-clicks="5"></span> We also have <code>vite-node</code>, made from Nuxt server-side code executor, later becomes the core engine of Vitest and made it possible.</p>
<p>These tools are created from Nuxt's needs, but as later we extract them and make them universal. Since then, they have formed their own communities and ecosystems that can benefit much wider range of users and scenarios. Nuxt can be still the opinioned Vue-specific framework to providing better developer experiences, while the underlying tools can be shared and collaborated with other frameworks and communities. That is where make Open Source amazing, isn't it?</p>
<p><span class="slidev-note-click-mark" data-clicks="6"></span> So different from the &quot;Set Intersaction&quot; we were talking about, I'd call it the set union.</p>
<p>We extract the universal parts, <span class="slidev-note-click-mark" data-clicks="7"></span> expand the scope and <span class="slidev-note-click-mark" data-clicks="8"></span> grow the communities, which also eventually benefit back to ourselves.</p>
`,raw:"",frontmatter:Ce,filepath:"",start:548,id:16,no:17},__clicksContext:null,__preloaded:!1}),_a={class:"h-full [&_a]:border-0!",glowX:0},Ee=C(_a),Sa=x({get layout(){return Ee.layout},get transition(){return Ee.transition},get class(){return Ee.class},get clicks(){return Ee.clicks},get name(){return Ee.name},get preload(){return Ee.preload},slide:{content:"",revision:"-e6x4x6",frontmatterRaw:`class: "h-full [&_a]:border-0!"
glowX: 0
`,note:"",index:17,noteHTML:`<p>To have an example that more related to React, <span class="slidev-note-click-mark" data-clicks="1"></span> I'd pick Chakra UI. I got the pleasure to have a chat with it's creator Sage to get a more deep insights of the stories behind it.</p>
<p>Back in 2019, Chakra UI was created as a React components library. Soon someone from Vue ecosystem made a Vue version, and they decided to make it official as Charkra UI Vue <span class="slidev-note-click-mark" data-clicks="2"></span></p>
<p>Overtime, they find that maintaining two framework support is basically duplicating the work and requires a lot of effort to keep in sync.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> In 2021, they came up with Zag, an universal state machine library to extract and share the core logics for components across framework. Which works with Vanilla JavaScript and they also provide bindings for React, Vue and Solid.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> Then in 2022, they came up Panda CSS to extract their CSS-in-JS solution into a compile-time, universal solution that has first-class integrations to basically every meta-framework out there.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> With these building blocks, later they made Ark UI, a headless component library built on top of Zag, To provide more user-facing components interface that also supports React, Solid and Vue.</p>
<p><span class="slidev-note-click-mark" data-clicks="6"></span> And this year, they are migrating the next major version of Chakra UI to use Ark and Panda under the hood. Once it's done, it will make Chakra a more solid fundation inherits from Zag and Ark, while also becomes much more easy to maintain across framework.</p>
<p>In this case, Chakra could still keep being &quot;specific&quot;, keep being a styled, opiniated component library but with a better core. While the tools they built along the way could serve much wider communities and become general solutions. It would also be much easier to add more frameworks supports. This approach is espeacially great for new rasing frameworks to gain a better ecosystem without too much effort.</p>
`,raw:"",frontmatter:Ee,filepath:"",start:629,id:17,no:18},__clicksContext:null,__preloaded:!1}),Ma={},$e=C(Ma),Oa=x({get layout(){return $e.layout},get transition(){return $e.transition},get class(){return $e.class},get clicks(){return $e.clicks},get name(){return $e.name},get preload(){return $e.preload},slide:{content:"",revision:"-d4jqph",note:"",title:'The "Set Theory"',level:1,index:18,noteHTML:`<p>To wrap up with today's topic, we brought up an idea that I call it &quot;The Set Theory&quot;. It composed with two sections, the <span class="slidev-note-click-mark" data-clicks="1"></span> &quot;Set Intersection&quot; and the <span class="slidev-note-click-mark" data-clicks="2"></span> &quot;Set Union&quot;.</p>
<p>In the intersection we learnt that we shouldn't limit our projects to only be in a niche spot, <span class="slidev-note-click-mark" data-clicks="3"></span> we should proactively seek for the possibility to make our projects universal by <span class="slidev-note-click-mark" data-clicks="4"></span> breaking the circles and <span class="slidev-note-click-mark" data-clicks="5"></span> enlarge our scope.</p>
<p>And in the union, we learnt <span class="slidev-note-click-mark" data-clicks="6"></span> that even sometimes we have to be specific in order to achieve something great, we could still <span class="slidev-note-click-mark" data-clicks="7"></span> seek for the potential union from our underlying tools to <span class="slidev-note-click-mark" data-clicks="8"></span> expand the communities and benefit the whole ecosystem.</p>
<p>It's all about collaboration and communities. I have a strong believe in open source, this is the way for us to build the better world. And I am looking forward to see more and more open source built in similiar mindsets and found better ways to collabrate.</p>
`,raw:"",frontmatter:$e,filepath:"",start:743,id:18,no:19},__clicksContext:null,__preloaded:!1}),Ta={layout:"intro",class:"text-center pb-5",glowX:50,glowY:120},Pe=C(Ta),Aa=x({get layout(){return Pe.layout},get transition(){return Pe.transition},get class(){return Pe.class},get clicks(){return Pe.clicks},get name(){return Pe.name},get preload(){return Pe.preload},slide:{content:"",revision:"hkt4ri",frontmatterRaw:`layout: intro
class: text-center pb-5
glowX: 50
glowY: 120
`,note:"",title:"Thank You!",level:1,index:19,noteHTML:`<p>That's all for my talk, hope you enjoy. Thank you!</p>
`,raw:"",frontmatter:Pe,filepath:"",start:788,id:19,no:20},__clicksContext:null,__preloaded:!1}),D=new Array(20),N=(n,e)=>Ao({loader:e,delay:300,loadingComponent:Fr,errorComponent:R,onError:t=>console.error("Failed to load slide "+(n+1),t)}),Un=async()=>{try{return D[0]??=await A(()=>import("./md-Bs54jsfd.js"),__vite__mapDeps([0,1,2,3,4,5]))}catch(n){return console.error("slide failed to load",n),R}},Jn=async()=>{try{return D[1]??=await A(()=>import("./md-BpOLt3em.js"),__vite__mapDeps([6,1,7,3,4,5]))}catch(n){return console.error("slide failed to load",n),R}},Kn=async()=>{try{return D[2]??=await A(()=>import("./md-BZ0Qa230.js"),__vite__mapDeps([8,1,3,4,5]))}catch(n){return console.error("slide failed to load",n),R}},Qn=async()=>{try{return D[3]??=await A(()=>import("./md-dBierpXN.js"),__vite__mapDeps([9,1,10,3,4,5]))}catch(n){return console.error("slide failed to load",n),R}},Gn=async()=>{try{return D[4]??=await A(()=>import("./md-_5deWKct.js"),__vite__mapDeps([11,12,1,3,13,2,4,5]))}catch(n){return console.error("slide failed to load",n),R}},Yn=async()=>{try{return D[5]??=await A(()=>import("./md-mMsaTy6f.js"),__vite__mapDeps([14,1,2,3,4,5]))}catch(n){return console.error("slide failed to load",n),R}},Xn=async()=>{try{return D[6]??=await A(()=>import("./md-D6d3i39w.js"),__vite__mapDeps([15,16,1,17,12,3,10,4,5]))}catch(n){return console.error("slide failed to load",n),R}},Zn=async()=>{try{return D[7]??=await A(()=>import("./md-DmJziSoh.js"),__vite__mapDeps([18,1,13,2,3,4,5]))}catch(n){return console.error("slide failed to load",n),R}},es=async()=>{try{return D[8]??=await A(()=>import("./md-BqGOHt74.js"),__vite__mapDeps([19,16,1,2,3,4,5]))}catch(n){return console.error("slide failed to load",n),R}},ts=async()=>{try{return D[9]??=await A(()=>import("./md-C4YJtidt.js"),__vite__mapDeps([20,1,2,3,4,5]))}catch(n){return console.error("slide failed to load",n),R}},ns=async()=>{try{return D[10]??=await A(()=>import("./md-sqvOXIf6.js"),__vite__mapDeps([21,1,3,10,4,5]))}catch(n){return console.error("slide failed to load",n),R}},ss=async()=>{try{return D[11]??=await A(()=>import("./md-DbxLZ1xr.js"),__vite__mapDeps([22,1,3,4,5]))}catch(n){return console.error("slide failed to load",n),R}},os=async()=>{try{return D[12]??=await A(()=>import("./md--OTQdxBo.js"),__vite__mapDeps([23,12,1,3,10,4,5]))}catch(n){return console.error("slide failed to load",n),R}},rs=async()=>{try{return D[13]??=await A(()=>import("./md-B_kkNO-C.js"),__vite__mapDeps([24,1,7,3,4,5]))}catch(n){return console.error("slide failed to load",n),R}},as=async()=>{try{return D[14]??=await A(()=>import("./md-Q_n9AZ_a.js"),__vite__mapDeps([25,1,26,10,3,4,5]))}catch(n){return console.error("slide failed to load",n),R}},is=async()=>{try{return D[15]??=await A(()=>import("./md-Bpqqdb7c.js"),__vite__mapDeps([27,1,28,10,3,4,5]))}catch(n){return console.error("slide failed to load",n),R}},ls=async()=>{try{return D[16]??=await A(()=>import("./md-l-w73wu_.js"),__vite__mapDeps([29,12,1,3,26,28,10,4,5]))}catch(n){return console.error("slide failed to load",n),R}},cs=async()=>{try{return D[17]??=await A(()=>import("./md-BuUOPvA0.js"),__vite__mapDeps([30,1,10,3,4,5]))}catch(n){return console.error("slide failed to load",n),R}},us=async()=>{try{return D[18]??=await A(()=>import("./md-Pf9NfKZL.js"),__vite__mapDeps([31,12,1,3,17,10,4,5]))}catch(n){return console.error("slide failed to load",n),R}},fs=async()=>{try{return D[19]??=await A(()=>import("./md-DR7NxhsU.js"),__vite__mapDeps([32,1,7,3,4,5]))}catch(n){return console.error("slide failed to load",n),R}},Ca=[{no:1,meta:Wr,load:Un,component:N(0,Un)},{no:2,meta:Br,load:Jn,component:N(1,Jn)},{no:3,meta:Jr,load:Kn,component:N(2,Kn)},{no:4,meta:Qr,load:Qn,component:N(3,Qn)},{no:5,meta:Yr,load:Gn,component:N(4,Gn)},{no:6,meta:Zr,load:Yn,component:N(5,Yn)},{no:7,meta:ta,load:Xn,component:N(6,Xn)},{no:8,meta:sa,load:Zn,component:N(7,Zn)},{no:9,meta:ra,load:es,component:N(8,es)},{no:10,meta:ia,load:ts,component:N(9,ts)},{no:11,meta:ca,load:ns,component:N(10,ns)},{no:12,meta:fa,load:ss,component:N(11,ss)},{no:13,meta:ha,load:os,component:N(12,os)},{no:14,meta:ma,load:rs,component:N(13,rs)},{no:15,meta:ya,load:as,component:N(14,as)},{no:16,meta:wa,load:is,component:N(15,is)},{no:17,meta:ba,load:ls,component:N(16,ls)},{no:18,meta:Sa,load:cs,component:N(17,cs)},{no:19,meta:Oa,load:us,component:N(18,us)},{no:20,meta:Aa,load:fs,component:N(19,fs)}],se=vn(Ca);function Ea(n,e){if(!e||e==="all"||e==="*")return Dn(1,n+1);if(e==="none")return[];const t=[];for(const s of e.split(/[,;]/g))if(!s.includes("-"))t.push(+s);else{const[o,r]=s.split("-",2);t.push(...Dn(+o,r?+r+1:n+1))}return Zo(t).filter(s=>s<=n).sort((s,o)=>s-o)}const Rt="$$slidev-clicks-context",bn="$$slidev-page",Hs="$$slidev-slide-element",$a="$$slidev-slide-scale",Pa="$$slidev-context",xl="$$slidev-route",_n="$$slidev-render-context",La="$$slidev-fontmatter",Ia="$$slidev-slide-zoom",gt="slidev-vclick-target",Ge="slidev-vclick-hidden",Ye="slidev-vclick-fade",Bt="slidev-vclick-hidden-explicitly",Ut="slidev-vclick-current",Jt="slidev-vclick-prior",yt=999999,xa=["localhost","127.0.0.1"],Ra=["clicks","clicksStart","disabled","hide","hideInToc","layout","level","preload","routeAlias","src","title","transition","zoom","dragPos","lang"],Rl=[...Ra,"theme","titleTemplate","info","author","keywords","presenter","browserExporter","download","exportFilename","export","highlighter","lineNumbers","monaco","monacoTypesSource","monacoTypesAdditionalPackages","monacoRunAdditionalDeps","remoteAssets","selectable","record","colorSchema","routerMode","aspectRatio","canvasWidth","themeConfig","favicon","plantUmlServer","fonts","defaults","drawings","htmlAttrs","mdc","contextMenu","wakeLock","seoMeta"];function ja(n,e,{mode:t="replace"}={}){const s=It();return b({get(){const o=s.currentRoute.value.query[n];return o==null?e:Array.isArray(o)?o.filter(Boolean):o},set(o){Co(()=>{(s.currentRoute.value.query[n]??e?.toString())!==o.toString()&&s[Eo(t)]({query:{...s.currentRoute.value.query,[n]:`${o}`===e?void 0:o}})})}})}function jt(n){return se.value.find(e=>e.no===+n||e.meta.slide?.frontmatter.routeAlias===n)}function Fe(n,e,t=!1){(typeof n=="number"||typeof n=="string")&&(n=jt(n));const s=n.meta.slide?.frontmatter.routeAlias??n.no;return t?`/export/${s}`:e?`/presenter/${s}`:`/${s}`}const Na={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function Da(n,e=!1){if(!n||(typeof n=="string"&&(n={name:n}),!n.name))return;let t=n.name.includes("|")?n.name:Na[n.name]||n.name;if(t.includes("|")){const[s,o]=t.split("|").map(r=>r.trim());t=e?o:s}if(t)return{...n,name:t}}function Va(n,e,t){let s=n>0?t?.meta?.transition:e?.meta?.transition;return s||(s=I.transition||void 0),Da(s,n<0)}const jl=O(!1),Nl=O(!1),Dl=O(!1),Ha=O(!1),Sn=O(!1),Vl=O(!1),Hl=O(!0),Fl=xo({xs:460,...Ro}),Ot=Po(),ql=$o(),Wl=b(()=>Ot.height.value-Ot.width.value/Is.value>120),zl=Lo(xt?document.body:null),Fs=Io(),Bl=b(()=>["INPUT","TEXTAREA"].includes(Fs.value?.tagName||"")),Ul=b(()=>["BUTTON","A"].includes(Fs.value?.tagName||""));z("slidev-camera","default",{listenToStorageChanges:!1});z("slidev-mic","default",{listenToStorageChanges:!1});const Fa=z("slidev-scale",0),Jl=z("slidev-wake-lock",!0),Kl=z("slidev-hide-cursor-idle",!0);z("slidev-skip-export-pdf-tip",!1);z("slidev-export-capture-delay",400,{listenToStorageChanges:!1});const Ql=z("slidev-presenter-cursor",!0,{listenToStorageChanges:!1}),qa=z("slidev-show-editor",!1,{listenToStorageChanges:!1}),Wa=z("slidev-editor-vertical",!1,{listenToStorageChanges:!1}),za=z("slidev-editor-width",xt?window.innerWidth*.4:318,{listenToStorageChanges:!1}),Ba=z("slidev-editor-height",xt?window.innerHeight*.4:300,{listenToStorageChanges:!1}),lt=vn(null),Tt=z("slidev-presenter-font-size",1,{listenToStorageChanges:!1}),ct=z("slidev-presenter-layout",1,{listenToStorageChanges:!1}),cn={invert:!1,contrast:1,brightness:1,hueRotate:0,saturate:1,sepia:0},Ua=z("slidev-viewer-css-filter",cn,{listenToStorageChanges:!1,mergeDefaults:!0,deep:!0}),Gl=b(()=>Object.keys(cn).some(n=>Ua.value[n]!==cn[n]));function Yl(){ct.value=ct.value+1,ct.value>3&&(ct.value=1)}function Xl(){Tt.value=Math.min(2,Tt.value+.1)}function Zl(){Tt.value=Math.max(.5,Tt.value-.1)}const ec=$s(Ha),ut=z("slidev-sync-directions",{viewerSend:!0,viewerReceive:!0,presenterSend:!0,presenterReceive:!0},{listenToStorageChanges:!1,mergeDefaults:!0});function qs(n,e,t=1){const s=e.meta.slide.level??t;s&&s>t&&n.length>0?qs(n[n.length-1].children,e,t+1):n.push({no:e.no,children:[],level:t,titleLevel:s,path:Fe(e.meta.slide?.frontmatter?.routeAlias??e.no,!1),hideInToc:!!e.meta?.slide?.frontmatter?.hideInToc,title:e.meta?.slide?.title})}function Ws(n,e,t=!1,s,o){return n.map(r=>{const a={...r,active:r.no===o?.value,hasActiveParent:t};return a.children.length>0&&(a.children=Ws(a.children,e,a.active||a.hasActiveParent,a,o)),s&&(a.active||a.activeParent)&&(s.activeParent=!0),a})}function zs(n,e=1){return n.filter(t=>!t.hideInToc).map(t=>({...t,children:zs(t.children,e+1)}))}function Ja(n,e,t){const s=b(()=>n.value.filter(r=>r.meta?.slide?.title).reduce((r,a)=>(qs(r,a),r),[])),o=b(()=>Ws(s.value,t.value,void 0,void 0,e));return b(()=>zs(o.value))}function Ka(n,e,t=O(0),s,o,r){const a=b(()=>se.value.length),i=O(0),l=O(0),c=b(()=>Fe(n.value,s.value)),f=b(()=>n.value.no),h=b(()=>n.value.meta?.layout||(f.value===1?"cover":"default")),d=b(()=>e.value.current),u=b(()=>e.value.clicksStart),m=b(()=>e.value.total),p=b(()=>se.value[Math.min(se.value.length,f.value+1)-1]),g=b(()=>se.value[Math.max(1,f.value-1)-1]),y=b(()=>f.value<se.value.length||d.value<m.value),k=b(()=>f.value>1||d.value>0),w=b(()=>o.value?void 0:Va(i.value,n.value,g.value));ee(n,(V,P)=>{i.value=V.no-P.no});async function v(V){return!1}const _=Ja(se,f,n);async function T(){l.value=1,m.value<=t.value?await F():t.value+=1}async function $(){l.value=-1,t.value<=u.value?await U(!0):t.value-=1}async function F(V=!1){l.value=1,f.value<se.value.length&&await M(f.value+1,V&&!o.value?yt:void 0)}async function U(V=!1){l.value=-1,f.value>1&&await M(f.value-1,V&&!o.value?yt:void 0)}function le(){return M(1)}function X(){return M(a.value)}async function M(V,P=0,ae=!1){Sn.value=!1;const ce=f.value!==V,Ke=P!==t.value,Q=jt(V)?.meta,j=Q?.slide?.frontmatter.clicksStart??0;P=on(P,j,Q?.__clicksContext?.total??yt),(ae||ce||Ke)&&await r?.push({path:Fe(V,s.value,r.currentRoute.value.name==="export"),query:{...r.currentRoute.value.query,clicks:P===0?void 0:P.toString(),embedded:location.search.includes("embedded")?"true":void 0}})}function E(){r?.push({path:Fe(f.value,!0),query:{...r.currentRoute.value.query}})}function q(){r?.push({path:Fe(f.value,!1),query:{...r.currentRoute.value.query}})}return{slides:se,total:a,currentPath:c,currentSlideNo:f,currentPage:f,currentSlideRoute:n,currentLayout:h,currentTransition:w,clicksDirection:l,nextRoute:p,prevRoute:g,clicksContext:e,clicks:d,clicksStart:u,clicksTotal:m,hasNext:y,hasPrev:k,tocTree:_,navDirection:i,openInEditor:v,next:T,prev:$,go:M,goLast:X,goFirst:le,nextSlide:F,prevSlide:U,enterPresenter:E,exitPresenter:q}}const Qa=Ps(()=>{const n=It(),e=jo(),t=b(()=>(n?.currentRoute?.value?.query,new URLSearchParams(location.search))),s=b(()=>t.value.has("print")||e.name==="export"),o=O(t.value.get("print")==="clicks"),r=b(()=>t.value.has("embedded")),a=b(()=>e.name==="play"),i=b(()=>e.name==="presenter"),l=b(()=>e.name==="notes"),c=b(()=>!i.value&&(!I.remote||t.value.get("password")===I.remote)),f=b(()=>!!e.params.no),h=b(()=>f.value?jt(e.params.no)?.no??1:1),d=b(()=>se.value[h.value-1]),u=O(Ea(se.value.length,e?.query?.range)),m=ja("clicks","0"),p=b(()=>y(d.value)),g=b({get(){let k=+(m.value||0);return Number.isNaN(k)&&(k=0),k},set(k){Sn.value=!1,m.value=k.toString()}});function y(k){if(k?.meta?.__clicksContext)return k.meta.__clicksContext;const w=k.no,v=Vs(b({get(){return h.value===w?Math.max(+(m.value??0),v.clicksStart):h.value>w?yt:v.clicksStart},set(_){h.value===w&&(m.value=_.toString())}}),k?.meta.slide?.frontmatter.clicksStart??0,k?.meta.clicks);return k?.meta&&(k.meta.__clicksContext=v),v}return{router:n,currentRoute:b(()=>e),isPrintMode:s,isPrintWithClicks:o,isEmbedded:r,isPlaying:a,isPresenter:i,isNotesViewer:l,isPresenterAvailable:c,hasPrimarySlide:f,currentSlideNo:h,currentSlideRoute:d,clicksContext:p,queryClicksRaw:m,queryClicks:g,printRange:u,getPrimaryClicks:y}}),Je=Ps(()=>{const n=Qa(),e=It(),t=Ka(n.currentSlideRoute,n.clicksContext,n.queryClicks,n.isPresenter,n.isPrintMode,e);return ee([t.total,n.currentRoute],async()=>{const s=n.currentRoute.value.params.no;n.hasPrimarySlide.value&&!jt(s)&&(s&&s!=="index.html"?await t.go(t.total.value,0,!0):await t.go(1,0,!0))},{flush:"pre",immediate:!0}),{...t,...n}}),ds=No(),Kt=z("slidev-color-schema","auto"),hs=b(()=>I.colorSchema!=="auto"),Bs=b({get(){return hs.value?I.colorSchema==="dark":Kt.value==="auto"?ds.value:Kt.value==="dark"},set(n){hs.value||(Kt.value=n===ds.value?"auto":n?"dark":"light")}}),tc=$s(Bs);if(xt){const n="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";ee(Bs,e=>{const t=window.document.createElement("style");t.appendChild(document.createTextNode(n)),window.document.head.appendChild(t);const s=document.querySelector("html");s.classList.toggle("dark",e),s.classList.toggle("light",!e),window.getComputedStyle(t).opacity,document.head.removeChild(t)},{immediate:!0})}function Ga(){const{isPrintMode:n}=Je();Do(b(()=>n.value?`
@page {
  size: ${xs.value}px ${nr.value}px;
  margin: 0px;
}

* {
  transition: none !important;
  transition-duration: 0s !important;
}`:""))}const Mn=Symbol.for("yaml.alias"),Ya=Symbol.for("yaml.document"),Re=Symbol.for("yaml.map"),Us=Symbol.for("yaml.pair"),On=Symbol.for("yaml.scalar"),rt=Symbol.for("yaml.seq"),re=Symbol.for("yaml.node.type"),je=n=>!!n&&typeof n=="object"&&n[re]===Mn,Nt=n=>!!n&&typeof n=="object"&&n[re]===Ya,Js=n=>!!n&&typeof n=="object"&&n[re]===Re,W=n=>!!n&&typeof n=="object"&&n[re]===Us,H=n=>!!n&&typeof n=="object"&&n[re]===On,Tn=n=>!!n&&typeof n=="object"&&n[re]===rt;function Y(n){if(n&&typeof n=="object")switch(n[re]){case Re:case rt:return!0}return!1}function B(n){if(n&&typeof n=="object")switch(n[re]){case Mn:case Re:case On:case rt:return!0}return!1}const Ks=n=>(H(n)||Y(n))&&!!n.anchor,Le=Symbol("break visit"),Xa=Symbol("skip children"),tt=Symbol("remove node");function Dt(n,e){const t=Za(e);Nt(n)?qe(null,n.contents,t,Object.freeze([n]))===tt&&(n.contents=null):qe(null,n,t,Object.freeze([]))}Dt.BREAK=Le;Dt.SKIP=Xa;Dt.REMOVE=tt;function qe(n,e,t,s){const o=ei(n,e,t,s);if(B(o)||W(o))return ti(n,s,o),qe(n,o,t,s);if(typeof o!="symbol"){if(Y(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){const a=qe(r,e.items[r],t,s);if(typeof a=="number")r=a-1;else{if(a===Le)return Le;a===tt&&(e.items.splice(r,1),r-=1)}}}else if(W(e)){s=Object.freeze(s.concat(e));const r=qe("key",e.key,t,s);if(r===Le)return Le;r===tt&&(e.key=null);const a=qe("value",e.value,t,s);if(a===Le)return Le;a===tt&&(e.value=null)}}return o}function Za(n){return typeof n=="object"&&(n.Collection||n.Node||n.Value)?Object.assign({Alias:n.Node,Map:n.Node,Scalar:n.Node,Seq:n.Node},n.Value&&{Map:n.Value,Scalar:n.Value,Seq:n.Value},n.Collection&&{Map:n.Collection,Seq:n.Collection},n):n}function ei(n,e,t,s){if(typeof t=="function")return t(n,e,s);if(Js(e))return t.Map?.(n,e,s);if(Tn(e))return t.Seq?.(n,e,s);if(W(e))return t.Pair?.(n,e,s);if(H(e))return t.Scalar?.(n,e,s);if(je(e))return t.Alias?.(n,e,s)}function ti(n,e,t){const s=e[e.length-1];if(Y(s))s.items[n]=t;else if(W(s))n==="key"?s.key=t:s.value=t;else if(Nt(s))s.contents=t;else{const o=je(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${o} parent`)}}function Qs(n){if(/[\x00-\x19\s,[\]{}]/.test(n)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(n)}`;throw new Error(t)}return!0}function et(n,e,t,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let o=0,r=s.length;o<r;++o){const a=s[o],i=et(n,s,String(o),a);i===void 0?delete s[o]:i!==a&&(s[o]=i)}else if(s instanceof Map)for(const o of Array.from(s.keys())){const r=s.get(o),a=et(n,s,o,r);a===void 0?s.delete(o):a!==r&&s.set(o,a)}else if(s instanceof Set)for(const o of Array.from(s)){const r=et(n,s,o,o);r===void 0?s.delete(o):r!==o&&(s.delete(o),s.add(r))}else for(const[o,r]of Object.entries(s)){const a=et(n,s,o,r);a===void 0?delete s[o]:a!==r&&(s[o]=a)}return n.call(e,t,s)}function oe(n,e,t){if(Array.isArray(n))return n.map((s,o)=>oe(s,String(o),t));if(n&&typeof n.toJSON=="function"){if(!t||!Ks(n))return n.toJSON(e,t);const s={aliasCount:0,count:1,res:void 0};t.anchors.set(n,s),t.onCreate=r=>{s.res=r,delete t.onCreate};const o=n.toJSON(e,t);return t.onCreate&&t.onCreate(o),o}return typeof n=="bigint"&&!t?.keep?Number(n):n}class An{constructor(e){Object.defineProperty(this,re,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:s,onAnchor:o,reviver:r}={}){if(!Nt(e))throw new TypeError("A document argument is required");const a={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},i=oe(this,"",a);if(typeof o=="function")for(const{count:l,res:c}of a.anchors.values())o(c,l);return typeof r=="function"?et(r,{"":i},"",i):i}}class ni extends An{constructor(e){super(Mn),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,t){let s;t?.aliasResolveCache?s=t.aliasResolveCache:(s=[],Dt(e,{Node:(r,a)=>{(je(a)||Ks(a))&&s.push(a)}}),t&&(t.aliasResolveCache=s));let o;for(const r of s){if(r===this)break;r.anchor===this.source&&(o=r)}return o}toJSON(e,t){if(!t)return{source:this.source};const{anchors:s,doc:o,maxAliasCount:r}=t,a=this.resolve(o,t);if(!a){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let i=s.get(a);if(i||(oe(a,null,t),i=s.get(a)),!i||i.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(r>=0&&(i.count+=1,i.aliasCount===0&&(i.aliasCount=kt(o,a,s)),i.count*i.aliasCount>r)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return i.res}toString(e,t,s){const o=`*${this.source}`;if(e){if(Qs(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${o} `}return o}}function kt(n,e,t){if(je(e)){const s=e.resolve(n),o=t&&s&&t.get(s);return o?o.count*o.aliasCount:0}else if(Y(e)){let s=0;for(const o of e.items){const r=kt(n,o,t);r>s&&(s=r)}return s}else if(W(e)){const s=kt(n,e.key,t),o=kt(n,e.value,t);return Math.max(s,o)}return 1}const Gs=n=>!n||typeof n!="function"&&typeof n!="object";class L extends An{constructor(e){super(On),this.value=e}toJSON(e,t){return t?.keep?this.value:oe(this.value,e,t)}toString(){return String(this.value)}}L.BLOCK_FOLDED="BLOCK_FOLDED";L.BLOCK_LITERAL="BLOCK_LITERAL";L.PLAIN="PLAIN";L.QUOTE_DOUBLE="QUOTE_DOUBLE";L.QUOTE_SINGLE="QUOTE_SINGLE";function si(n,e,t){return t.find(s=>s.identify?.(n)&&!s.format)}function At(n,e,t){if(Nt(n)&&(n=n.contents),B(n))return n;if(W(n)){const h=t.schema[Re].createNode?.(t.schema,null,t);return h.items.push(n),h}(n instanceof String||n instanceof Number||n instanceof Boolean||typeof BigInt<"u"&&n instanceof BigInt)&&(n=n.valueOf());const{aliasDuplicateObjects:s,onAnchor:o,onTagObj:r,schema:a,sourceObjects:i}=t;let l;if(s&&n&&typeof n=="object"){if(l=i.get(n),l)return l.anchor??(l.anchor=o(n)),new ni(l.anchor);l={anchor:null,node:null},i.set(n,l)}let c=si(n,e,a.tags);if(!c){if(n&&typeof n.toJSON=="function"&&(n=n.toJSON()),!n||typeof n!="object"){const h=new L(n);return l&&(l.node=h),h}c=n instanceof Map?a[Re]:Symbol.iterator in Object(n)?a[rt]:a[Re]}r&&(r(c),delete t.onTagObj);const f=c?.createNode?c.createNode(t.schema,n,t):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(t.schema,n,t):new L(n);return c.default||(f.tag=c.tag),l&&(l.node=f),f}function ps(n,e,t){let s=t;for(let o=e.length-1;o>=0;--o){const r=e[o];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const a=[];a[r]=s,s=a}else s=new Map([[r,s]])}return At(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:n,sourceObjects:new Map})}const oi=n=>n==null||typeof n=="object"&&!!n[Symbol.iterator]().next().done;class Ys extends An{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(s=>B(s)||W(s)?s.clone(e):s),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(oi(e))this.add(t);else{const[s,...o]=e,r=this.get(s,!0);if(Y(r))r.addIn(o,t);else if(r===void 0&&this.schema)this.set(s,ps(this.schema,o,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}deleteIn(e){const[t,...s]=e;if(s.length===0)return this.delete(t);const o=this.get(t,!0);if(Y(o))return o.deleteIn(s);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${s}`)}getIn(e,t){const[s,...o]=e,r=this.get(s,!0);return o.length===0?!t&&H(r)?r.value:r:Y(r)?r.getIn(o,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!W(t))return!1;const s=t.value;return s==null||e&&H(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[t,...s]=e;if(s.length===0)return this.has(t);const o=this.get(t,!0);return Y(o)?o.hasIn(s):!1}setIn(e,t){const[s,...o]=e;if(o.length===0)this.set(s,t);else{const r=this.get(s,!0);if(Y(r))r.setIn(o,t);else if(r===void 0&&this.schema)this.set(s,ps(this.schema,o,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}}const ri=n=>n.replace(/^(?!$)(?: $)?/gm,"#");function ot(n,e){return/^\n+$/.test(n)?n.substring(1):e?n.replace(/^(?! *$)/gm,e):n}const We=(n,e,t)=>n.endsWith(`
`)?ot(t,e):t.includes(`
`)?`
`+ot(t,e):(n.endsWith(" ")?"":" ")+t,Xs="flow",un="block",wt="quoted";function Vt(n,e,t="flow",{indentAtStart:s,lineWidth:o=80,minContentWidth:r=20,onFold:a,onOverflow:i}={}){if(!o||o<0)return n;o<r&&(r=0);const l=Math.max(1+r,1+o-e.length);if(n.length<=l)return n;const c=[],f={};let h=o-e.length;typeof s=="number"&&(s>o-Math.max(2,r)?c.push(0):h=o-s);let d,u,m=!1,p=-1,g=-1,y=-1;t===un&&(p=ms(n,p,e.length),p!==-1&&(h=p+l));for(let w;w=n[p+=1];){if(t===wt&&w==="\\"){switch(g=p,n[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}y=p}if(w===`
`)t===un&&(p=ms(n,p,e.length)),h=p+e.length+l,d=void 0;else{if(w===" "&&u&&u!==" "&&u!==`
`&&u!=="	"){const v=n[p+1];v&&v!==" "&&v!==`
`&&v!=="	"&&(d=p)}if(p>=h)if(d)c.push(d),h=d+l,d=void 0;else if(t===wt){for(;u===" "||u==="	";)u=w,w=n[p+=1],m=!0;const v=p>y+1?p-2:g-1;if(f[v])return n;c.push(v),f[v]=!0,h=v+l,d=void 0}else m=!0}u=w}if(m&&i&&i(),c.length===0)return n;a&&a();let k=n.slice(0,c[0]);for(let w=0;w<c.length;++w){const v=c[w],_=c[w+1]||n.length;v===0?k=`
${e}${n.slice(0,_)}`:(t===wt&&f[v]&&(k+=`${n[v]}\\`),k+=`
${e}${n.slice(v+1,_)}`)}return k}function ms(n,e,t){let s=e,o=e+1,r=n[o];for(;r===" "||r==="	";)if(e<o+t)r=n[++e];else{do r=n[++e];while(r&&r!==`
`);s=e,o=e+1,r=n[o]}return s}const Ht=(n,e)=>({indentAtStart:e?n.indent.length:n.indentAtStart,lineWidth:n.options.lineWidth,minContentWidth:n.options.minContentWidth}),Ft=n=>/^(%|---|\.\.\.)/m.test(n);function ai(n,e,t){if(!e||e<0)return!1;const s=e-t,o=n.length;if(o<=s)return!1;for(let r=0,a=0;r<o;++r)if(n[r]===`
`){if(r-a>s)return!0;if(a=r+1,o-a<=s)return!1}return!0}function nt(n,e){const t=JSON.stringify(n);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:s}=e,o=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(Ft(n)?"  ":"");let a="",i=0;for(let l=0,c=t[l];c;c=t[++l])if(c===" "&&t[l+1]==="\\"&&t[l+2]==="n"&&(a+=t.slice(i,l)+"\\ ",l+=1,i=l,c="\\"),c==="\\")switch(t[l+1]){case"u":{a+=t.slice(i,l);const f=t.substr(l+2,4);switch(f){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:f.substr(0,2)==="00"?a+="\\x"+f.substr(2):a+=t.substr(l,6)}l+=5,i=l+1}break;case"n":if(s||t[l+2]==='"'||t.length<o)l+=1;else{for(a+=t.slice(i,l)+`

`;t[l+2]==="\\"&&t[l+3]==="n"&&t[l+4]!=='"';)a+=`
`,l+=2;a+=r,t[l+2]===" "&&(a+="\\"),l+=1,i=l+1}break;default:l+=1}return a=i?a+t.slice(i):t,s?a:Vt(a,r,wt,Ht(e,!1))}function fn(n,e){if(e.options.singleQuote===!1||e.implicitKey&&n.includes(`
`)||/[ \t]\n|\n[ \t]/.test(n))return nt(n,e);const t=e.indent||(Ft(n)?"  ":""),s="'"+n.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?s:Vt(s,t,Xs,Ht(e,!1))}function ze(n,e){const{singleQuote:t}=e.options;let s;if(t===!1)s=nt;else{const o=n.includes('"'),r=n.includes("'");o&&!r?s=fn:r&&!o?s=nt:s=t?fn:nt}return s(n,e)}let dn;try{dn=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{dn=/\n+(?!\n|$)/g}function vt({comment:n,type:e,value:t},s,o,r){const{blockQuote:a,commentString:i,lineWidth:l}=s.options;if(!a||/\n[\t ]+$/.test(t))return ze(t,s);const c=s.indent||(s.forceBlockIndent||Ft(t)?"  ":""),f=a==="literal"?!0:a==="folded"||e===L.BLOCK_FOLDED?!1:e===L.BLOCK_LITERAL?!0:!ai(t,l,c.length);if(!t)return f?`|
`:`>
`;let h,d;for(d=t.length;d>0;--d){const _=t[d-1];if(_!==`
`&&_!=="	"&&_!==" ")break}let u=t.substring(d);const m=u.indexOf(`
`);m===-1?h="-":t===u||m!==u.length-1?(h="+",r&&r()):h="",u&&(t=t.slice(0,-u.length),u[u.length-1]===`
`&&(u=u.slice(0,-1)),u=u.replace(dn,`$&${c}`));let p=!1,g,y=-1;for(g=0;g<t.length;++g){const _=t[g];if(_===" ")p=!0;else if(_===`
`)y=g;else break}let k=t.substring(0,y<g?y+1:g);k&&(t=t.substring(k.length),k=k.replace(/\n+/g,`$&${c}`));let v=(p?c?"2":"1":"")+h;if(n&&(v+=" "+i(n.replace(/ ?[\r\n]+/g," ")),o&&o()),!f){const _=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let T=!1;const $=Ht(s,!0);a!=="folded"&&e!==L.BLOCK_FOLDED&&($.onOverflow=()=>{T=!0});const F=Vt(`${k}${_}${u}`,c,un,$);if(!T)return`>${v}
${c}${F}`}return t=t.replace(/\n+/g,`$&${c}`),`|${v}
${c}${k}${t}${u}`}function ii(n,e,t,s){const{type:o,value:r}=n,{actualString:a,implicitKey:i,indent:l,indentStep:c,inFlow:f}=e;if(i&&r.includes(`
`)||f&&/[[\]{},]/.test(r))return ze(r,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return i||f||!r.includes(`
`)?ze(r,e):vt(n,e,t,s);if(!i&&!f&&o!==L.PLAIN&&r.includes(`
`))return vt(n,e,t,s);if(Ft(r)){if(l==="")return e.forceBlockIndent=!0,vt(n,e,t,s);if(i&&l===c)return ze(r,e)}const h=r.replace(/\n+/g,`$&
${l}`);if(a){const d=p=>p.default&&p.tag!=="tag:yaml.org,2002:str"&&p.test?.test(h),{compat:u,tags:m}=e.doc.schema;if(m.some(d)||u?.some(d))return ze(r,e)}return i?h:Vt(h,l,Xs,Ht(e,!1))}function li(n,e,t,s){const{implicitKey:o,inFlow:r}=e,a=typeof n.value=="string"?n:Object.assign({},n,{value:String(n.value)});let{type:i}=n;i!==L.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value)&&(i=L.QUOTE_DOUBLE);const l=f=>{switch(f){case L.BLOCK_FOLDED:case L.BLOCK_LITERAL:return o||r?ze(a.value,e):vt(a,e,t,s);case L.QUOTE_DOUBLE:return nt(a.value,e);case L.QUOTE_SINGLE:return fn(a.value,e);case L.PLAIN:return ii(a,e,t,s);default:return null}};let c=l(i);if(c===null){const{defaultKeyType:f,defaultStringType:h}=e.options,d=o&&f||h;if(c=l(d),c===null)throw new Error(`Unsupported default string type ${d}`)}return c}function ci(n,e){const t=Object.assign({blockQuote:!0,commentString:ri,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},n.schema.toStringOptions,e);let s;switch(t.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:n,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:s,options:t}}function ui(n,e){if(e.tag){const o=n.filter(r=>r.tag===e.tag);if(o.length>0)return o.find(r=>r.format===e.format)??o[0]}let t,s;if(H(e)){s=e.value;let o=n.filter(r=>r.identify?.(s));if(o.length>1){const r=o.filter(a=>a.test);r.length>0&&(o=r)}t=o.find(r=>r.format===e.format)??o.find(r=>!r.format)}else s=e,t=n.find(o=>o.nodeClass&&s instanceof o.nodeClass);if(!t){const o=s?.constructor?.name??(s===null?"null":typeof s);throw new Error(`Tag not resolved for ${o} value`)}return t}function fi(n,e,{anchors:t,doc:s}){if(!s.directives)return"";const o=[],r=(H(n)||Y(n))&&n.anchor;r&&Qs(r)&&(t.add(r),o.push(`&${r}`));const a=n.tag??(e.default?null:e.tag);return a&&o.push(s.directives.tagString(a)),o.join(" ")}function Ct(n,e,t,s){if(W(n))return n.toString(e,t,s);if(je(n)){if(e.doc.directives)return n.toString(e);if(e.resolvedAliases?.has(n))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(n):e.resolvedAliases=new Set([n]),n=n.resolve(e.doc)}let o;const r=B(n)?n:e.doc.createNode(n,{onTagObj:l=>o=l});o??(o=ui(e.doc.schema.tags,r));const a=fi(r,o,e);a.length>0&&(e.indentAtStart=(e.indentAtStart??0)+a.length+1);const i=typeof o.stringify=="function"?o.stringify(r,e,t,s):H(r)?li(r,e,t,s):r.toString(e,t,s);return a?H(r)||i[0]==="{"||i[0]==="["?`${a} ${i}`:`${a}
${e.indent}${i}`:i}function di({key:n,value:e},t,s,o){const{allNullValues:r,doc:a,indent:i,indentStep:l,options:{commentString:c,indentSeq:f,simpleKeys:h}}=t;let d=B(n)&&n.comment||null;if(h){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(Y(n)||!B(n)&&typeof n=="object"){const $="With simple keys, collection cannot be used as a key value";throw new Error($)}}let u=!h&&(!n||d&&e==null&&!t.inFlow||Y(n)||(H(n)?n.type===L.BLOCK_FOLDED||n.type===L.BLOCK_LITERAL:typeof n=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!u&&(h||!r),indent:i+l});let m=!1,p=!1,g=Ct(n,t,()=>m=!0,()=>p=!0);if(!u&&!t.inFlow&&g.length>1024){if(h)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");u=!0}if(t.inFlow){if(r||e==null)return m&&s&&s(),g===""?"?":u?`? ${g}`:g}else if(r&&!h||e==null&&u)return g=`? ${g}`,d&&!m?g+=We(g,t.indent,c(d)):p&&o&&o(),g;m&&(d=null),u?(d&&(g+=We(g,t.indent,c(d))),g=`? ${g}
${i}:`):(g=`${g}:`,d&&(g+=We(g,t.indent,c(d))));let y,k,w;B(e)?(y=!!e.spaceBefore,k=e.commentBefore,w=e.comment):(y=!1,k=null,w=null,e&&typeof e=="object"&&(e=a.createNode(e))),t.implicitKey=!1,!u&&!d&&H(e)&&(t.indentAtStart=g.length+1),p=!1,!f&&l.length>=2&&!t.inFlow&&!u&&Tn(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let v=!1;const _=Ct(e,t,()=>v=!0,()=>p=!0);let T=" ";if(d||y||k){if(T=y?`
`:"",k){const $=c(k);T+=`
${ot($,t.indent)}`}_===""&&!t.inFlow?T===`
`&&(T=`

`):T+=`
${t.indent}`}else if(!u&&Y(e)){const $=_[0],F=_.indexOf(`
`),U=F!==-1,le=t.inFlow??e.flow??e.items.length===0;if(U||!le){let X=!1;if(U&&($==="&"||$==="!")){let M=_.indexOf(" ");$==="&"&&M!==-1&&M<F&&_[M+1]==="!"&&(M=_.indexOf(" ",M+1)),(M===-1||F<M)&&(X=!0)}X||(T=`
${t.indent}`)}}else(_===""||_[0]===`
`)&&(T="");return g+=T+_,t.inFlow?v&&s&&s():w&&!v?g+=We(g,t.indent,c(w)):p&&o&&o(),g}function hi(n,e){(n==="debug"||n==="warn")&&console.warn(e)}const ft="<<",Qt={identify:n=>n===ft||typeof n=="symbol"&&n.description===ft,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new L(Symbol(ft)),{addToJSMap:Zs}),stringify:()=>ft},pi=(n,e)=>(Qt.identify(e)||H(e)&&(!e.type||e.type===L.PLAIN)&&Qt.identify(e.value))&&n?.doc.schema.tags.some(t=>t.tag===Qt.tag&&t.default);function Zs(n,e,t){if(t=n&&je(t)?t.resolve(n.doc):t,Tn(t))for(const s of t.items)Gt(n,e,s);else if(Array.isArray(t))for(const s of t)Gt(n,e,s);else Gt(n,e,t)}function Gt(n,e,t){const s=n&&je(t)?t.resolve(n.doc):t;if(!Js(s))throw new Error("Merge sources must be maps or map aliases");const o=s.toJSON(null,n,Map);for(const[r,a]of o)e instanceof Map?e.has(r)||e.set(r,a):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:a,writable:!0,enumerable:!0,configurable:!0});return e}function eo(n,e,{key:t,value:s}){if(B(t)&&t.addToJSMap)t.addToJSMap(n,e,s);else if(pi(n,t))Zs(n,e,s);else{const o=oe(t,"",n);if(e instanceof Map)e.set(o,oe(s,o,n));else if(e instanceof Set)e.add(o);else{const r=mi(t,o,n),a=oe(s,r,n);r in e?Object.defineProperty(e,r,{value:a,writable:!0,enumerable:!0,configurable:!0}):e[r]=a}}return e}function mi(n,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(B(n)&&t?.doc){const s=ci(t.doc,{});s.anchors=new Set;for(const r of t.anchors.keys())s.anchors.add(r.anchor);s.inFlow=!0,s.inStringifyKey=!0;const o=n.toString(s);if(!t.mapKeyWarned){let r=JSON.stringify(o);r.length>40&&(r=r.substring(0,36)+'..."'),hi(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return o}return JSON.stringify(e)}function Cn(n,e,t){const s=At(n,void 0,t),o=At(e,void 0,t);return new ie(s,o)}class ie{constructor(e,t=null){Object.defineProperty(this,re,{value:Us}),this.key=e,this.value=t}clone(e){let{key:t,value:s}=this;return B(t)&&(t=t.clone(e)),B(s)&&(s=s.clone(e)),new ie(t,s)}toJSON(e,t){const s=t?.mapAsMap?new Map:{};return eo(t,s,this)}toString(e,t,s){return e?.doc?di(this,e,t,s):JSON.stringify(this)}}function to(n,e,t){return(e.inFlow??n.flow?yi:gi)(n,e,t)}function gi({comment:n,items:e},t,{blockItemPrefix:s,flowChars:o,itemIndent:r,onChompKeep:a,onComment:i}){const{indent:l,options:{commentString:c}}=t,f=Object.assign({},t,{indent:r,type:null});let h=!1;const d=[];for(let m=0;m<e.length;++m){const p=e[m];let g=null;if(B(p))!h&&p.spaceBefore&&d.push(""),Et(t,d,p.commentBefore,h),p.comment&&(g=p.comment);else if(W(p)){const k=B(p.key)?p.key:null;k&&(!h&&k.spaceBefore&&d.push(""),Et(t,d,k.commentBefore,h))}h=!1;let y=Ct(p,f,()=>g=null,()=>h=!0);g&&(y+=We(y,r,c(g))),h&&g&&(h=!1),d.push(s+y)}let u;if(d.length===0)u=o.start+o.end;else{u=d[0];for(let m=1;m<d.length;++m){const p=d[m];u+=p?`
${l}${p}`:`
`}}return n?(u+=`
`+ot(c(n),l),i&&i()):h&&a&&a(),u}function yi({items:n},e,{flowChars:t,itemIndent:s}){const{indent:o,indentStep:r,flowCollectionPadding:a,options:{commentString:i}}=e;s+=r;const l=Object.assign({},e,{indent:s,inFlow:!0,type:null});let c=!1,f=0;const h=[];for(let m=0;m<n.length;++m){const p=n[m];let g=null;if(B(p))p.spaceBefore&&h.push(""),Et(e,h,p.commentBefore,!1),p.comment&&(g=p.comment);else if(W(p)){const k=B(p.key)?p.key:null;k&&(k.spaceBefore&&h.push(""),Et(e,h,k.commentBefore,!1),k.comment&&(c=!0));const w=B(p.value)?p.value:null;w?(w.comment&&(g=w.comment),w.commentBefore&&(c=!0)):p.value==null&&k?.comment&&(g=k.comment)}g&&(c=!0);let y=Ct(p,l,()=>g=null);m<n.length-1&&(y+=","),g&&(y+=We(y,s,i(g))),!c&&(h.length>f||y.includes(`
`))&&(c=!0),h.push(y),f=h.length}const{start:d,end:u}=t;if(h.length===0)return d+u;if(!c){const m=h.reduce((p,g)=>p+g.length+2,2);c=e.options.lineWidth>0&&m>e.options.lineWidth}if(c){let m=d;for(const p of h)m+=p?`
${r}${o}${p}`:`
`;return`${m}
${o}${u}`}else return`${d}${a}${h.join(" ")}${a}${u}`}function Et({indent:n,options:{commentString:e}},t,s,o){if(s&&o&&(s=s.replace(/^\n+/,"")),s){const r=ot(e(s),n);t.push(r.trimStart())}}function xe(n,e){const t=H(e)?e.value:e;for(const s of n)if(W(s)&&(s.key===e||s.key===t||H(s.key)&&s.key.value===t))return s}class Ve extends Ys{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Re,e),this.items=[]}static from(e,t,s){const{keepUndefined:o,replacer:r}=s,a=new this(e),i=(l,c)=>{if(typeof r=="function")c=r.call(t,l,c);else if(Array.isArray(r)&&!r.includes(l))return;(c!==void 0||o)&&a.items.push(Cn(l,c,s))};if(t instanceof Map)for(const[l,c]of t)i(l,c);else if(t&&typeof t=="object")for(const l of Object.keys(t))i(l,t[l]);return typeof e.sortMapEntries=="function"&&a.items.sort(e.sortMapEntries),a}add(e,t){let s;W(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new ie(e,e?.value):s=new ie(e.key,e.value);const o=xe(this.items,s.key),r=this.schema?.sortMapEntries;if(o){if(!t)throw new Error(`Key ${s.key} already set`);H(o.value)&&Gs(s.value)?o.value.value=s.value:o.value=s.value}else if(r){const a=this.items.findIndex(i=>r(s,i)<0);a===-1?this.items.push(s):this.items.splice(a,0,s)}else this.items.push(s)}delete(e){const t=xe(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){const o=xe(this.items,e)?.value;return(!t&&H(o)?o.value:o)??void 0}has(e){return!!xe(this.items,e)}set(e,t){this.add(new ie(e,t),!0)}toJSON(e,t,s){const o=s?new s:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(o);for(const r of this.items)eo(t,o,r);return o}toString(e,t,s){if(!e)return JSON.stringify(this);for(const o of this.items)if(!W(o))throw new Error(`Map items must all be pairs; found ${JSON.stringify(o)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),to(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:t})}}class no extends Ys{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(rt,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=dt(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const s=dt(e);if(typeof s!="number")return;const o=this.items[s];return!t&&H(o)?o.value:o}has(e){const t=dt(e);return typeof t=="number"&&t<this.items.length}set(e,t){const s=dt(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const o=this.items[s];H(o)&&Gs(t)?o.value=t:this.items[s]=t}toJSON(e,t){const s=[];t?.onCreate&&t.onCreate(s);let o=0;for(const r of this.items)s.push(oe(r,String(o++),t));return s}toString(e,t,s){return e?to(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:t}):JSON.stringify(this)}static from(e,t,s){const{replacer:o}=s,r=new this(e);if(t&&Symbol.iterator in Object(t)){let a=0;for(let i of t){if(typeof o=="function"){const l=t instanceof Set?i:String(a++);i=o.call(t,l,i)}r.items.push(At(i,void 0,s))}}return r}}function dt(n){let e=H(n)?n.value:n;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function ki(n,e,t){const{replacer:s}=t,o=new no(n);o.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let a of e){typeof s=="function"&&(a=s.call(e,String(r++),a));let i,l;if(Array.isArray(a))if(a.length===2)i=a[0],l=a[1];else throw new TypeError(`Expected [key, value] tuple: ${a}`);else if(a&&a instanceof Object){const c=Object.keys(a);if(c.length===1)i=c[0],l=a[i];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else i=a;o.items.push(Cn(i,l,t))}return o}class En extends no{constructor(){super(),this.add=Ve.prototype.add.bind(this),this.delete=Ve.prototype.delete.bind(this),this.get=Ve.prototype.get.bind(this),this.has=Ve.prototype.has.bind(this),this.set=Ve.prototype.set.bind(this),this.tag=En.tag}toJSON(e,t){if(!t)return super.toJSON(e);const s=new Map;t?.onCreate&&t.onCreate(s);for(const o of this.items){let r,a;if(W(o)?(r=oe(o.key,"",t),a=oe(o.value,r,t)):r=oe(o,"",t),s.has(r))throw new Error("Ordered maps must not include duplicate keys");s.set(r,a)}return s}static from(e,t,s){const o=ki(e,t,s),r=new this;return r.items=o.items,r}}En.tag="tag:yaml.org,2002:omap";class $n extends Ve{constructor(e){super(e),this.tag=$n.tag}add(e){let t;W(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new ie(e.key,null):t=new ie(e,null),xe(this.items,t.key)||this.items.push(t)}get(e,t){const s=xe(this.items,e);return!t&&W(s)?H(s.key)?s.key.value:s.key:s}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const s=xe(this.items,e);s&&!t?this.items.splice(this.items.indexOf(s),1):!s&&t&&this.items.push(new ie(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,s);throw new Error("Set items must all have null values")}static from(e,t,s){const{replacer:o}=s,r=new this(e);if(t&&Symbol.iterator in Object(t))for(let a of t)typeof o=="function"&&(a=o.call(t,a,a)),r.items.push(Cn(a,null,s));return r}}$n.tag="tag:yaml.org,2002:set";new Set("0123456789ABCDEFabcdef");new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()");new Set(",[]{}");new Set(` ,[]{}
\r	`);function Pn(n=5){const e=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",s=t.length;for(let o=0;o<n;o++)e.push(t.charAt(Math.floor(Math.random()*s)));return e.join("")}function so(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}function te(n,e,t){Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!1})}const ue=C({});let wi=[],vi=[];te(ue,"$syncUp",!0);te(ue,"$syncDown",!0);te(ue,"$paused",!1);te(ue,"$onSet",n=>wi.push(n));te(ue,"$onPatch",n=>vi.push(n));so();te(ue,"$patch",async()=>!1);const bi={channels:[],enabled:!0,init(n,e,t,s=!1){let o;if(!s)o=new BroadcastChannel(n),o.addEventListener("message",r=>e(r.data)),this.channels.push(o);else if(s){this.listener=function(a){a&&a.key===n&&a.newValue&&e(JSON.parse(a.newValue))},window.addEventListener("storage",this.listener);const r=window.localStorage.getItem(n);r&&e(JSON.parse(r))}return(r,a=!1)=>{this.enabled&&(!s&&o&&!a&&o.postMessage(Ls(r)),s&&!a&&window.localStorage.setItem(n,JSON.stringify(r)))}},disable(){this.enabled=!1,this.channels.forEach(n=>n.close()),this.listener&&window.removeEventListener("storage",this.listener)}},_i=C([bi]),Si=new Map,gs=O({});function oo(n,e,t=!1){const s=[];let o=!1,r=!1,a,i;const l=C(e);function c(u){s.push(u)}function f(u,m){l[u]!==m&&(clearTimeout(a),o=!0,l[u]=m,a=setTimeout(()=>o=!1,0))}function h(u){o||(clearTimeout(i),r=!0,Object.entries(u).forEach(([m,p])=>{l[m]=p}),i=setTimeout(()=>r=!1,0))}function d(u){Si.set(u,{onUpdate:h,persist:t,state:l}),gs.value[u]=_i.map(p=>p.init(u,h,l,t)).filter(p=>!!p);function m(){gs.value[u].forEach(p=>p?.(Ls(l),r)),o||s.forEach(p=>p(l))}ee(l,m,{deep:!0})}return{init:d,onPatch:c,onUpdate:h,patch:f,state:l}}const{init:Mi,onPatch:nc,patch:sc,state:oc}=oo(ue,ue,!1),Ne=C({page:0,clicks:0});let Oi=[],Ti=[];te(Ne,"$syncUp",!0);te(Ne,"$syncDown",!0);te(Ne,"$paused",!1);te(Ne,"$onSet",n=>Oi.push(n));te(Ne,"$onPatch",n=>Ti.push(n));so();te(Ne,"$patch",async()=>!1);const{init:Ai,onPatch:Ci,patch:ht,state:rc}=oo(Ne,{page:1,clicks:0,clicksTotal:0});function Ei(){const n=As().appContext.app,e=C({nav:Je(),configs:I,themeConfigs:b(()=>I.themeConfig)});n.provide(_n,O("none")),n.provide(Pa,e),n.provide(bn,b(()=>e.nav.currentSlideNo)),n.provide(Rt,vn(Ir()));for(const d of or)d();const{clicksContext:t,currentSlideNo:s,hasPrimarySlide:o,isNotesViewer:r,isPresenter:a,isPrintMode:i}=Je();$r({title:Wt,htmlAttrs:I.htmlAttrs}),Ga(),Ai(`${Wt} - shared`),Mi(`${Wt} - drawings`);const l=`${location.origin}_${Pn()}`,c=b(()=>a.value?"presenter":"viewer");function f(){(a.value?ut.value.presenterSend:ut.value.viewerSend)&&(r.value||i.value||!a.value&&!xa.includes(location.host.split(":")[0])||(ht("page",+s.value),ht("clicks",t.value.current),ht("clicksTotal",t.value.total),ht("lastUpdate",{id:l,type:c.value,time:new Date().getTime()})))}const h=It();h.afterEach(f),ee(t,f),Ci(d=>{(a.value?ut.value.presenterReceive:ut.value.viewerReceive)&&(!o.value||i.value||d.lastUpdate?.type!==c.value&&(+d.page==+s.value&&+t.value.current==+d.clicks||(Sn.value=!1,h.replace({path:Fe(d.page,a.value),query:{...h.currentRoute.value.query,clicks:d.clicks||0}}))))})}const $i=Es({__name:"App",setup(n){return Ei(),Be(()=>{for(const[e,t]of Object.entries(sr.value))document.body.style.setProperty(e,t.toString())}),(e,t)=>{const s=Ho("RouterView");return St(),Vo(s)}}}),Pi=[];async function ro(n,e={}){const t=e.document||n.resolvedOptions.document;if(!t||!n.dirty)return;const s={shouldRender:!0,tags:[]};if(await n.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return n._domUpdatePromise||(n._domUpdatePromise=new Promise(async o=>{const r=new Map,a=new Promise(u=>{n.resolveTags().then(m=>{u(m.map(p=>{const g=r.get(p._d)||0,y={tag:p,id:(g?`${p._d}:${g}`:p._d)||Hn(p),shouldRender:!0};return p._d&&js(p._d)&&r.set(p._d,g+1),y}))})});let i=n._dom;if(!i){i={title:t.title,elMap:new Map().set("htmlAttrs",t.documentElement).set("bodyAttrs",t.body)};for(const u of["body","head"]){const m=t[u]?.children;for(const p of m){const g=p.tagName.toLowerCase();if(!Vn.has(g))continue;const y=Ns({tag:g,props:{}},{innerHTML:p.innerHTML,...p.getAttributeNames().reduce((k,w)=>(k[w]=p.getAttribute(w),k),{})||{}});if(y.key=p.getAttribute("data-hid")||void 0,y._d=an(y)||Hn(y),i.elMap.has(y._d)){let k=1,w=y._d;for(;i.elMap.has(w);)w=`${y._d}:${k++}`;i.elMap.set(w,p)}else i.elMap.set(y._d,p)}}}i.pendingSideEffects={...i.sideEffects},i.sideEffects={};function l(u,m,p){const g=`${u}:${m}`;i.sideEffects[g]=p,delete i.pendingSideEffects[g]}function c({id:u,$el:m,tag:p}){const g=p.tag.endsWith("Attrs");i.elMap.set(u,m),g||(p.textContent&&p.textContent!==m.textContent&&(m.textContent=p.textContent),p.innerHTML&&p.innerHTML!==m.innerHTML&&(m.innerHTML=p.innerHTML),l(u,"el",()=>{m?.remove(),i.elMap.delete(u)}));for(const y in p.props){if(!Object.prototype.hasOwnProperty.call(p.props,y))continue;const k=p.props[y];if(y.startsWith("on")&&typeof k=="function"){const v=m?.dataset;if(v&&v[`${y}fired`]){const _=y.slice(0,-5);k.call(m,new Event(_.substring(2)))}m.getAttribute(`data-${y}`)!==""&&((p.tag==="bodyAttrs"?t.defaultView:m).addEventListener(y.substring(2),k.bind(m)),m.setAttribute(`data-${y}`,""));continue}const w=`attr:${y}`;if(y==="class"){if(!k)continue;for(const v of k)g&&l(u,`${w}:${v}`,()=>m.classList.remove(v)),!m.classList.contains(v)&&m.classList.add(v)}else if(y==="style"){if(!k)continue;for(const[v,_]of k)l(u,`${w}:${v}`,()=>{m.style.removeProperty(v)}),m.style.setProperty(v,_)}else k!==!1&&k!==null&&(m.getAttribute(y)!==k&&m.setAttribute(y,k===!0?"":String(k)),g&&l(u,w,()=>m.removeAttribute(y)))}}const f=[],h={bodyClose:void 0,bodyOpen:void 0,head:void 0},d=await a;for(const u of d){const{tag:m,shouldRender:p,id:g}=u;if(p){if(m.tag==="title"){t.title=m.textContent,l("title","",()=>t.title=i.title);continue}u.$el=u.$el||i.elMap.get(g),u.$el?c(u):Vn.has(m.tag)&&f.push(u)}}for(const u of f){const m=u.tag.tagPosition||"head";u.$el=t.createElement(u.tag.tag),c(u),h[m]=h[m]||t.createDocumentFragment(),h[m].appendChild(u.$el)}for(const u of d)await n.hooks.callHook("dom:renderTag",u,t,l);h.head&&t.head.appendChild(h.head),h.bodyOpen&&t.body.insertBefore(h.bodyOpen,t.body.firstChild),h.bodyClose&&t.body.appendChild(h.bodyClose);for(const u in i.pendingSideEffects)i.pendingSideEffects[u]();n._dom=i,await n.hooks.callHook("dom:rendered",{renders:d}),o()}).finally(()=>{n._domUpdatePromise=void 0,n.dirty=!1})),n._domUpdatePromise}function Li(n={}){const e=n.domOptions?.render||ro;n.document=n.document||(typeof window<"u"?document:void 0);const t=n.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return Tr({...n,plugins:[...n.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[t?JSON.parse(t):!1,...n.init||[]]})}function Ii(n,e){let t=0;return()=>{const s=++t;e(()=>{t===s&&n()})}}function xi(n={}){const e=Li({domOptions:{render:Ii(()=>ro(e),t=>setTimeout(t,0))},...n});return e.install=Cr(e),e}function ac(n,e=""){const t=["slidev-page",e],s=n?.meta?.slide?.no;return s!=null&&t.push(`slidev-page-${s}`),t.filter(Boolean).join(" ")}async function ic(){const{saveAs:n}=await A(async()=>{const{saveAs:e}=await import("./modules/file-saver-DpYiGRfw.js").then(t=>t.F);return{saveAs:e}},[]);n(typeof I.download=="string"?I.download:I.exportFilename?`${I.exportFilename}.pdf`:"/2024/react-summit/slidev-exported.pdf",`${I.title}.pdf`)}function Ue(n,e,t){return(n.instance?.$).provides[e]??t}function Ri(){return{install(n){n.directive("click",{name:"v-click",mounted(e,t){const s=bt(e,t,t.value);s!=null&&(e.classList.toggle(gt,!0),e.dataset.slidevClicksStart=String(s.start),Number.isFinite(s.end)&&(e.dataset.slidevClicksEnd=String(s.end)),e.watchStopHandle=Be(()=>{const o=s.isActive.value,r=s.isCurrent.value,a=o&&!r;s.flagHide?(e.classList.toggle(s.flagFade?Ye:Ge,o),e.classList.toggle(Bt,o)):e.classList.toggle(s.flagFade?Ye:Ge,!o),e.classList.toggle(Ut,r),e.classList.toggle(Jt,a)}))},unmounted:Yt}),n.directive("after",{name:"v-after",mounted(e,t){const s=bt(e,t,"+0");s!=null&&(e.classList.toggle(gt,!0),e.watchStopHandle=Be(()=>{const o=s.isActive.value,r=s.isCurrent.value,a=o&&!r;s.flagHide?(e.classList.toggle(s.flagFade?Ye:Ge,o),e.classList.toggle(Bt,o)):e.classList.toggle(s.flagFade?Ye:Ge,!o),e.classList.toggle(Ut,r),e.classList.toggle(Jt,a)}))},unmounted:Yt}),n.directive("click-hide",{name:"v-click-hide",mounted(e,t){const s=bt(e,t,t.value,!0);s!=null&&(e.classList.toggle(gt,!0),e.watchStopHandle=Be(()=>{const o=s.isActive.value,r=s.isCurrent.value,a=o&&!r;e.classList.toggle(s.flagFade?Ye:Ge,o),e.classList.toggle(Bt,o),e.classList.toggle(Ut,r),e.classList.toggle(Jt,a)}))},unmounted:Yt})}}}const ao=new Map;function bt(n,e,t,s=!1){const o=Ue(e,Rt)?.value;if(!n||!o)return null;const r=s||e.modifiers.hide!==!1&&e.modifiers.hide!=null,a=e.modifiers.fade!==!1&&e.modifiers.fade!=null,i=o.calculate(t);if(!i)return null;o.register(n,i);const l=b(()=>r?!i.isActive.value:i.isActive.value),c=b(()=>l.value?"shown":Number.isFinite(i.end)?o.current<i.start?"before":"after":r?"after":"before"),f={...i,isShown:l,visibilityState:c,flagFade:a,flagHide:r};return ao.set(n,f),f}function Yt(n,e){n.classList.toggle(gt,!1),Ue(e,Rt)?.value?.unregister(n),n.watchStopHandle?.()}function ji(n=Ts(Hs,O())){const e=Fo(n),t=ee([qa,Wa,za,Ba,Fa,Ot.width,Ot.height],()=>{setTimeout(e.update,300)},{flush:"post",immediate:!0});return{...e,stop:t}}function Ni(n){return()=>{}}function Di(n,e,t,s=!1){function o(j){return n?Ue(n,j):Wo(j)}const r=o(_n),a=o(La)??{},i=o(bn),l=b(()=>Ni(i.value)),c=o($a)??O(1),f=o(Ia)??O(1),{left:h,top:d,stop:u}=ji(o(Hs)??O()),{isPrintMode:m}=Je(),p=["slide","presenter"].includes(r.value)&&!m.value;let g=n?"directive":"prop",y=Pn(),k;if(Array.isArray(e)?k=e:typeof e=="string"&&e.includes(",")?k=e.split(",").map(Number):e!=null&&(g="frontmatter",y=`${e}`,e=a?.dragPos?.[y],k=e?.split(",").map(Number)),g!=="frontmatter"&&!t)throw new Error("[Slidev] Can not identify the source position of the v-drag element, please provide an explicit `id` prop.");const w=[u],v=!s&&e!=null&&!Number.isFinite(k?.[3]);k??=[Number.NaN,Number.NaN,0];const _=O(k[2]),T=O(k[0]+k[2]/2),$=O(s?0:k[4]??0),F=b(()=>$.value*Math.PI/180),U=b(()=>Math.sin(F.value)),le=b(()=>Math.cos(F.value)),X=O(),M=O({left:0,top:0,width:0,height:0}),E=O(0);function q(){if(!X.value)return;const j=X.value.getBoundingClientRect();M.value={left:j.left/f.value,top:j.top/f.value,width:j.width/f.value,height:j.height/f.value},E.value=(M.value.width+M.value.height)/c.value/(Math.abs(U.value)+Math.abs(le.value))-_.value}w.push(ee(_,q,{flush:"post"}));const V=O(k[3]??0),P=v?b({get:()=>(v?E.value:V.value)||0,set:j=>!v&&(V.value=j)}):V,ae=v?O(k[1]):O(k[1]+k[3]/2),ce=v?b({get:()=>ae.value+P.value/2,set:j=>ae.value=j-P.value/2}):ae,Ke=b(()=>Number.isFinite(T.value)?{position:"absolute",zIndex:100,left:`${T.value-_.value/2}px`,top:`${ce.value-P.value/2}px`,width:`${_.value}px`,height:v?void 0:`${P.value}px`,transformOrigin:"center center",transform:`rotate(${$.value}deg)`}:{position:"absolute",zIndex:100});w.push(ee([T,ce,_,P,$],([j,it,xn,Rn,jn])=>{let De=[j-xn/2,it-Rn/2,xn].map(Math.round).join();v?De+=g==="directive"?",NaN":",_":De+=`,${Math.round(Rn)}`,Math.round(jn)!==0&&(De+=`,${Math.round(jn)}`),g==="directive"&&(De=`[${De}]`),l.value(y,De,g,t)}));const Q={dragId:y,dataSource:g,markdownSource:t,isArrow:s,zoom:f,autoHeight:v,x0:T,y0:ce,width:_,height:P,rotate:$,container:X,containerStyle:Ke,watchStopHandles:w,dragging:b(()=>lt.value===Q),mounted(){p&&(q(),e||setTimeout(()=>{q(),T.value=(M.value.left+M.value.width/2-h.value)/c.value,ce.value=(M.value.top-d.value)/c.value,_.value=M.value.width/c.value,P.value=M.value.height/c.value},100))},unmounted(){p&&Q.stopDragging()},startDragging(){p&&(q(),lt.value=Q)},stopDragging(){p&&lt.value===Q&&(lt.value=null)}};return w.push(qo(X,j=>{const it=document.querySelector("#drag-control-container");it&&j.target&&it.contains(j.target)||Q.stopDragging()}),ee(zo(),j=>{j||Q.stopDragging()})),Q}function Vi(){return{install(n){n.directive("drag",{name:"v-drag",created(e,t,s){const o=Di(t,t.value,s.props?.markdownSource);s.props&&(s.props={...s.props},delete s.props.markdownSource),o.container.value=e,e.draggingState=o,e.dataset.dragId=o.dragId,o.watchStopHandles.push(ee(o.containerStyle,r=>{for(const[a,i]of Object.entries(r))i&&(e.style[a]=i)},{immediate:!0})),e.addEventListener("dblclick",o.startDragging)},mounted(e){e.draggingState.mounted()},unmounted(e){const t=e.draggingState;t.unmounted(),e.removeEventListener("dblclick",t.startDragging),t.watchStopHandles.forEach(s=>s())}})}}}function io(){return Math.floor(Math.random()*2**31)}class Hi{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function hn(n,e,t){if(n&&n.length){const[s,o]=e,r=Math.PI/180*t,a=Math.cos(r),i=Math.sin(r);for(const l of n){const[c,f]=l;l[0]=(c-s)*a-(f-o)*i+s,l[1]=(c-s)*i+(f-o)*a+o}}}function Fi(n,e,t){const s=[];n.forEach(o=>s.push(...o)),hn(s,e,t)}function qi(n,e){return n[0]===e[0]&&n[1]===e[1]}function Wi(n,e,t,s=1){const o=t,r=Math.max(e,.1),a=n[0]&&n[0][0]&&typeof n[0][0]=="number"?[n]:n,i=[0,0];if(o)for(const c of a)hn(c,i,o);const l=zi(a,r,s);if(o){for(const c of a)hn(c,i,-o);Fi(l,i,-o)}return l}function zi(n,e,t){const s=[];for(const c of n){const f=[...c];qi(f[0],f[f.length-1])||f.push([f[0][0],f[0][1]]),f.length>2&&s.push(f)}const o=[];e=Math.max(e,.1);const r=[];for(const c of s)for(let f=0;f<c.length-1;f++){const h=c[f],d=c[f+1];if(h[1]!==d[1]){const u=Math.min(h[1],d[1]);r.push({ymin:u,ymax:Math.max(h[1],d[1]),x:u===h[1]?h[0]:d[0],islope:(d[0]-h[0])/(d[1]-h[1])})}}if(r.sort((c,f)=>c.ymin<f.ymin?-1:c.ymin>f.ymin?1:c.x<f.x?-1:c.x>f.x?1:c.ymax===f.ymax?0:(c.ymax-f.ymax)/Math.abs(c.ymax-f.ymax)),!r.length)return o;let a=[],i=r[0].ymin,l=0;for(;a.length||r.length;){if(r.length){let c=-1;for(let h=0;h<r.length&&!(r[h].ymin>i);h++)c=h;r.splice(0,c+1).forEach(h=>{a.push({s:i,edge:h})})}if(a=a.filter(c=>!(c.edge.ymax<=i)),a.sort((c,f)=>c.edge.x===f.edge.x?0:(c.edge.x-f.edge.x)/Math.abs(c.edge.x-f.edge.x)),(t!==1||l%e===0)&&a.length>1)for(let c=0;c<a.length;c=c+2){const f=c+1;if(f>=a.length)break;const h=a[c].edge,d=a[f].edge;o.push([[Math.round(h.x),i],[Math.round(d.x),i]])}i+=t,a.forEach(c=>{c.edge.x=c.edge.x+t*c.edge.islope}),l++}return o}function at(n,e){var t;const s=e.hachureAngle+90;let o=e.hachureGap;o<0&&(o=e.strokeWidth*4),o=Math.round(Math.max(o,.1));let r=1;return e.roughness>=1&&(((t=e.randomizer)===null||t===void 0?void 0:t.next())||Math.random())>.7&&(r=o),Wi(n,o,s,r||1)}class Ln{constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){const s=at(e,t);return{type:"fillSketch",ops:this.renderLines(s,t)}}renderLines(e,t){const s=[];for(const o of e)s.push(...this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],t));return s}}function qt(n){const e=n[0],t=n[1];return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}class Bi extends Ln{fillPolygons(e,t){let s=t.hachureGap;s<0&&(s=t.strokeWidth*4),s=Math.max(s,.1);const o=Object.assign({},t,{hachureGap:s}),r=at(e,o),a=Math.PI/180*t.hachureAngle,i=[],l=s*.5*Math.cos(a),c=s*.5*Math.sin(a);for(const[h,d]of r)qt([h,d])&&i.push([[h[0]-l,h[1]+c],[...d]],[[h[0]+l,h[1]-c],[...d]]);return{type:"fillSketch",ops:this.renderLines(i,t)}}}class Ui extends Ln{fillPolygons(e,t){const s=this._fillPolygons(e,t),o=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),r=this._fillPolygons(e,o);return s.ops=s.ops.concat(r.ops),s}}class Ji{constructor(e){this.helper=e}fillPolygons(e,t){t=Object.assign({},t,{hachureAngle:0});const s=at(e,t);return this.dotsOnLines(s,t)}dotsOnLines(e,t){const s=[];let o=t.hachureGap;o<0&&(o=t.strokeWidth*4),o=Math.max(o,.1);let r=t.fillWeight;r<0&&(r=t.strokeWidth/2);const a=o/4;for(const i of e){const l=qt(i),c=l/o,f=Math.ceil(c)-1,h=l-f*o,d=(i[0][0]+i[1][0])/2-o/4,u=Math.min(i[0][1],i[1][1]);for(let m=0;m<f;m++){const p=u+h+m*o,g=d-a+Math.random()*2*a,y=p-a+Math.random()*2*a,k=this.helper.ellipse(g,y,r,r,t);s.push(...k.ops)}}return{type:"fillSketch",ops:s}}}class Ki{constructor(e){this.helper=e}fillPolygons(e,t){const s=at(e,t);return{type:"fillSketch",ops:this.dashedLine(s,t)}}dashedLine(e,t){const s=t.dashOffset<0?t.hachureGap<0?t.strokeWidth*4:t.hachureGap:t.dashOffset,o=t.dashGap<0?t.hachureGap<0?t.strokeWidth*4:t.hachureGap:t.dashGap,r=[];return e.forEach(a=>{const i=qt(a),l=Math.floor(i/(s+o)),c=(i+o-l*(s+o))/2;let f=a[0],h=a[1];f[0]>h[0]&&(f=a[1],h=a[0]);const d=Math.atan((h[1]-f[1])/(h[0]-f[0]));for(let u=0;u<l;u++){const m=u*(s+o),p=m+s,g=[f[0]+m*Math.cos(d)+c*Math.cos(d),f[1]+m*Math.sin(d)+c*Math.sin(d)],y=[f[0]+p*Math.cos(d)+c*Math.cos(d),f[1]+p*Math.sin(d)+c*Math.sin(d)];r.push(...this.helper.doubleLineOps(g[0],g[1],y[0],y[1],t))}}),r}}class Qi{constructor(e){this.helper=e}fillPolygons(e,t){const s=t.hachureGap<0?t.strokeWidth*4:t.hachureGap,o=t.zigzagOffset<0?s:t.zigzagOffset;t=Object.assign({},t,{hachureGap:s+o});const r=at(e,t);return{type:"fillSketch",ops:this.zigzagLines(r,o,t)}}zigzagLines(e,t,s){const o=[];return e.forEach(r=>{const a=qt(r),i=Math.round(a/(2*t));let l=r[0],c=r[1];l[0]>c[0]&&(l=r[1],c=r[0]);const f=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let h=0;h<i;h++){const d=h*2*t,u=(h+1)*2*t,m=Math.sqrt(2*Math.pow(t,2)),p=[l[0]+d*Math.cos(f),l[1]+d*Math.sin(f)],g=[l[0]+u*Math.cos(f),l[1]+u*Math.sin(f)],y=[p[0]+m*Math.cos(f+Math.PI/4),p[1]+m*Math.sin(f+Math.PI/4)];o.push(...this.helper.doubleLineOps(p[0],p[1],y[0],y[1],s),...this.helper.doubleLineOps(y[0],y[1],g[0],g[1],s))}}),o}}const J={};function Gi(n,e){let t=n.fillStyle||"hachure";if(!J[t])switch(t){case"zigzag":J[t]||(J[t]=new Bi(e));break;case"cross-hatch":J[t]||(J[t]=new Ui(e));break;case"dots":J[t]||(J[t]=new Ji(e));break;case"dashed":J[t]||(J[t]=new Ki(e));break;case"zigzag-line":J[t]||(J[t]=new Qi(e));break;case"hachure":default:t="hachure",J[t]||(J[t]=new Ln(e));break}return J[t]}const Yi=0,pn=1,lo=2,pt={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function Xi(n){const e=new Array;for(;n!=="";)if(n.match(/^([ \t\r\n,]+)/))n=n.substr(RegExp.$1.length);else if(n.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:Yi,text:RegExp.$1},n=n.substr(RegExp.$1.length);else if(n.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))e[e.length]={type:pn,text:`${parseFloat(RegExp.$1)}`},n=n.substr(RegExp.$1.length);else return[];return e[e.length]={type:lo,text:""},e}function Xt(n,e){return n.type===e}function In(n){const e=[],t=Xi(n);let s="BOD",o=0,r=t[o];for(;!Xt(r,lo);){let a=0;const i=[];if(s==="BOD")if(r.text==="M"||r.text==="m")o++,a=pt[r.text],s=r.text;else return In("M0,0"+n);else Xt(r,pn)?a=pt[s]:(o++,a=pt[r.text],s=r.text);if(o+a<t.length){for(let l=o;l<o+a;l++){const c=t[l];if(Xt(c,pn))i[i.length]=+c.text;else throw new Error("Param not a number: "+s+","+c.text)}if(typeof pt[s]=="number"){const l={key:s,data:i};e.push(l),o+=a,r=t[o],s==="M"&&(s="L"),s==="m"&&(s="l")}else throw new Error("Bad segment: "+s)}else throw new Error("Path data ended short")}return e}function co(n){let e=0,t=0,s=0,o=0;const r=[];for(const{key:a,data:i}of n)switch(a){case"M":r.push({key:"M",data:[...i]}),[e,t]=i,[s,o]=i;break;case"m":e+=i[0],t+=i[1],r.push({key:"M",data:[e,t]}),s=e,o=t;break;case"L":r.push({key:"L",data:[...i]}),[e,t]=i;break;case"l":e+=i[0],t+=i[1],r.push({key:"L",data:[e,t]});break;case"C":r.push({key:"C",data:[...i]}),e=i[4],t=i[5];break;case"c":{const l=i.map((c,f)=>f%2?c+t:c+e);r.push({key:"C",data:l}),e=l[4],t=l[5];break}case"Q":r.push({key:"Q",data:[...i]}),e=i[2],t=i[3];break;case"q":{const l=i.map((c,f)=>f%2?c+t:c+e);r.push({key:"Q",data:l}),e=l[2],t=l[3];break}case"A":r.push({key:"A",data:[...i]}),e=i[5],t=i[6];break;case"a":e+=i[5],t+=i[6],r.push({key:"A",data:[i[0],i[1],i[2],i[3],i[4],e,t]});break;case"H":r.push({key:"H",data:[...i]}),e=i[0];break;case"h":e+=i[0],r.push({key:"H",data:[e]});break;case"V":r.push({key:"V",data:[...i]}),t=i[0];break;case"v":t+=i[0],r.push({key:"V",data:[t]});break;case"S":r.push({key:"S",data:[...i]}),e=i[2],t=i[3];break;case"s":{const l=i.map((c,f)=>f%2?c+t:c+e);r.push({key:"S",data:l}),e=l[2],t=l[3];break}case"T":r.push({key:"T",data:[...i]}),e=i[0],t=i[1];break;case"t":e+=i[0],t+=i[1],r.push({key:"T",data:[e,t]});break;case"Z":case"z":r.push({key:"Z",data:[]}),e=s,t=o;break}return r}function uo(n){const e=[];let t="",s=0,o=0,r=0,a=0,i=0,l=0;for(const{key:c,data:f}of n){switch(c){case"M":e.push({key:"M",data:[...f]}),[s,o]=f,[r,a]=f;break;case"C":e.push({key:"C",data:[...f]}),s=f[4],o=f[5],i=f[2],l=f[3];break;case"L":e.push({key:"L",data:[...f]}),[s,o]=f;break;case"H":s=f[0],e.push({key:"L",data:[s,o]});break;case"V":o=f[0],e.push({key:"L",data:[s,o]});break;case"S":{let h=0,d=0;t==="C"||t==="S"?(h=s+(s-i),d=o+(o-l)):(h=s,d=o),e.push({key:"C",data:[h,d,...f]}),i=f[0],l=f[1],s=f[2],o=f[3];break}case"T":{const[h,d]=f;let u=0,m=0;t==="Q"||t==="T"?(u=s+(s-i),m=o+(o-l)):(u=s,m=o);const p=s+2*(u-s)/3,g=o+2*(m-o)/3,y=h+2*(u-h)/3,k=d+2*(m-d)/3;e.push({key:"C",data:[p,g,y,k,h,d]}),i=u,l=m,s=h,o=d;break}case"Q":{const[h,d,u,m]=f,p=s+2*(h-s)/3,g=o+2*(d-o)/3,y=u+2*(h-u)/3,k=m+2*(d-m)/3;e.push({key:"C",data:[p,g,y,k,u,m]}),i=h,l=d,s=u,o=m;break}case"A":{const h=Math.abs(f[0]),d=Math.abs(f[1]),u=f[2],m=f[3],p=f[4],g=f[5],y=f[6];h===0||d===0?(e.push({key:"C",data:[s,o,g,y,g,y]}),s=g,o=y):(s!==g||o!==y)&&(fo(s,o,g,y,h,d,u,m,p).forEach(function(w){e.push({key:"C",data:w})}),s=g,o=y);break}case"Z":e.push({key:"Z",data:[]}),s=r,o=a;break}t=c}return e}function Zi(n){return Math.PI*n/180}function Xe(n,e,t){const s=n*Math.cos(t)-e*Math.sin(t),o=n*Math.sin(t)+e*Math.cos(t);return[s,o]}function fo(n,e,t,s,o,r,a,i,l,c){const f=Zi(a);let h=[],d=0,u=0,m=0,p=0;if(c)[d,u,m,p]=c;else{[n,e]=Xe(n,e,-f),[t,s]=Xe(t,s,-f);const M=(n-t)/2,E=(e-s)/2;let q=M*M/(o*o)+E*E/(r*r);q>1&&(q=Math.sqrt(q),o=q*o,r=q*r);const V=i===l?-1:1,P=o*o,ae=r*r,ce=P*ae-P*E*E-ae*M*M,Ke=P*E*E+ae*M*M,Q=V*Math.sqrt(Math.abs(ce/Ke));m=Q*o*E/r+(n+t)/2,p=Q*-r*M/o+(e+s)/2,d=Math.asin(parseFloat(((e-p)/r).toFixed(9))),u=Math.asin(parseFloat(((s-p)/r).toFixed(9))),n<m&&(d=Math.PI-d),t<m&&(u=Math.PI-u),d<0&&(d=Math.PI*2+d),u<0&&(u=Math.PI*2+u),l&&d>u&&(d=d-Math.PI*2),!l&&u>d&&(u=u-Math.PI*2)}let g=u-d;if(Math.abs(g)>Math.PI*120/180){const M=u,E=t,q=s;l&&u>d?u=d+Math.PI*120/180*1:u=d+Math.PI*120/180*-1,t=m+o*Math.cos(u),s=p+r*Math.sin(u),h=fo(t,s,E,q,o,r,a,0,l,[u,M,m,p])}g=u-d;const y=Math.cos(d),k=Math.sin(d),w=Math.cos(u),v=Math.sin(u),_=Math.tan(g/4),T=4/3*o*_,$=4/3*r*_,F=[n,e],U=[n+T*k,e-$*y],le=[t+T*v,s-$*w],X=[t,s];if(U[0]=2*F[0]-U[0],U[1]=2*F[1]-U[1],c)return[U,le,X].concat(h);{h=[U,le,X].concat(h);const M=[];for(let E=0;E<h.length;E+=3){const q=Xe(h[E][0],h[E][1],f),V=Xe(h[E+1][0],h[E+1][1],f),P=Xe(h[E+2][0],h[E+2][1],f);M.push([q[0],q[1],V[0],V[1],P[0],P[1]])}return M}}const el={randOffset:sl,randOffsetWithRange:ol,ellipse:mn,doubleLineOps:rl};function Z(n,e,t,s,o){return{type:"path",ops:fe(n,e,t,s,o)}}function st(n,e,t){const s=(n||[]).length;if(s>2){const o=[];for(let r=0;r<s-1;r++)o.push(...fe(n[r][0],n[r][1],n[r+1][0],n[r+1][1],t));return e&&o.push(...fe(n[s-1][0],n[s-1][1],n[0][0],n[0][1],t)),{type:"path",ops:o}}else if(s===2)return Z(n[0][0],n[0][1],n[1][0],n[1][1],t);return{type:"path",ops:[]}}function tl(n,e){return st(n,!0,e)}function ho(n,e,t,s,o){const r=[[n,e],[n+t,e],[n+t,e+s],[n,e+s]];return tl(r,o)}function ys(n,e){if(n.length){const s=typeof n[0][0]=="number"?[n]:n,o=mt(s[0],1*(1+e.roughness*.2),e),r=e.disableMultiStroke?[]:mt(s[0],1.5*(1+e.roughness*.22),vs(e));for(let a=1;a<s.length;a++){const i=s[a];if(i.length){const l=mt(i,1*(1+e.roughness*.2),e),c=e.disableMultiStroke?[]:mt(i,1.5*(1+e.roughness*.22),vs(e));for(const f of l)f.op!=="move"&&o.push(f);for(const f of c)f.op!=="move"&&r.push(f)}}return{type:"path",ops:o.concat(r)}}return{type:"path",ops:[]}}function mn(n,e,t,s,o){const r=po(t,s,o);return gn(n,e,o,r).opset}function po(n,e,t){const s=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(n/2,2)+Math.pow(e/2,2))/2)),o=Math.ceil(Math.max(t.curveStepCount,t.curveStepCount/Math.sqrt(200)*s)),r=Math.PI*2/o;let a=Math.abs(n/2),i=Math.abs(e/2);const l=1-t.curveFitting;return a+=S(a*l,t),i+=S(i*l,t),{increment:r,rx:a,ry:i}}function gn(n,e,t,s){const[o,r]=bs(s.increment,n,e,s.rx,s.ry,1,s.increment*$t(.1,$t(.4,1,t),t),t);let a=Pt(o,null,t);if(!t.disableMultiStroke&&t.roughness!==0){const[i]=bs(s.increment,n,e,s.rx,s.ry,1.5,0,t),l=Pt(i,null,t);a=a.concat(l)}return{estimatedPoints:r,opset:{type:"path",ops:a}}}function ks(n,e,t,s,o,r,a,i,l){const c=n,f=e;let h=Math.abs(t/2),d=Math.abs(s/2);h+=S(h*.01,l),d+=S(d*.01,l);let u=o,m=r;for(;u<0;)u+=Math.PI*2,m+=Math.PI*2;m-u>Math.PI*2&&(u=0,m=Math.PI*2);const p=Math.PI*2/l.curveStepCount,g=Math.min(p/2,(m-u)/2),y=_s(g,c,f,h,d,u,m,1,l);if(!l.disableMultiStroke){const k=_s(g,c,f,h,d,u,m,1.5,l);y.push(...k)}return a&&(i?y.push(...fe(c,f,c+h*Math.cos(u),f+d*Math.sin(u),l),...fe(c,f,c+h*Math.cos(m),f+d*Math.sin(m),l)):y.push({op:"lineTo",data:[c,f]},{op:"lineTo",data:[c+h*Math.cos(u),f+d*Math.sin(u)]})),{type:"path",ops:y}}function ws(n,e){const t=uo(co(In(n))),s=[];let o=[0,0],r=[0,0];for(const{key:a,data:i}of t)switch(a){case"M":{r=[i[0],i[1]],o=[i[0],i[1]];break}case"L":s.push(...fe(r[0],r[1],i[0],i[1],e)),r=[i[0],i[1]];break;case"C":{const[l,c,f,h,d,u]=i;s.push(...al(l,c,f,h,d,u,r,e)),r=[d,u];break}case"Z":s.push(...fe(r[0],r[1],o[0],o[1],e)),r=[o[0],o[1]];break}return{type:"path",ops:s}}function Zt(n,e){const t=[];for(const s of n)if(s.length){const o=e.maxRandomnessOffset||0,r=s.length;if(r>2){t.push({op:"move",data:[s[0][0]+S(o,e),s[0][1]+S(o,e)]});for(let a=1;a<r;a++)t.push({op:"lineTo",data:[s[a][0]+S(o,e),s[a][1]+S(o,e)]})}}return{type:"fillPath",ops:t}}function He(n,e){return Gi(e,el).fillPolygons(n,e)}function nl(n,e,t,s,o,r,a){const i=n,l=e;let c=Math.abs(t/2),f=Math.abs(s/2);c+=S(c*.01,a),f+=S(f*.01,a);let h=o,d=r;for(;h<0;)h+=Math.PI*2,d+=Math.PI*2;d-h>Math.PI*2&&(h=0,d=Math.PI*2);const u=(d-h)/a.curveStepCount,m=[];for(let p=h;p<=d;p=p+u)m.push([i+c*Math.cos(p),l+f*Math.sin(p)]);return m.push([i+c*Math.cos(d),l+f*Math.sin(d)]),m.push([i,l]),He([m],a)}function sl(n,e){return S(n,e)}function ol(n,e,t){return $t(n,e,t)}function rl(n,e,t,s,o){return fe(n,e,t,s,o,!0)}function vs(n){const e=Object.assign({},n);return e.randomizer=void 0,n.seed&&(e.seed=n.seed+1),e}function mo(n){return n.randomizer||(n.randomizer=new Hi(n.seed||0)),n.randomizer.next()}function $t(n,e,t,s=1){return t.roughness*s*(mo(t)*(e-n)+n)}function S(n,e,t=1){return $t(-n,n,e,t)}function fe(n,e,t,s,o,r=!1){const a=r?o.disableMultiStrokeFill:o.disableMultiStroke,i=yn(n,e,t,s,o,!0,!1);if(a)return i;const l=yn(n,e,t,s,o,!0,!0);return i.concat(l)}function yn(n,e,t,s,o,r,a){const i=Math.pow(n-t,2)+Math.pow(e-s,2),l=Math.sqrt(i);let c=1;l<200?c=1:l>500?c=.4:c=-.0016668*l+1.233334;let f=o.maxRandomnessOffset||0;f*f*100>i&&(f=l/10);const h=f/2,d=.2+mo(o)*.2;let u=o.bowing*o.maxRandomnessOffset*(s-e)/200,m=o.bowing*o.maxRandomnessOffset*(n-t)/200;u=S(u,o,c),m=S(m,o,c);const p=[],g=()=>S(h,o,c),y=()=>S(f,o,c),k=o.preserveVertices;return a?p.push({op:"move",data:[n+(k?0:g()),e+(k?0:g())]}):p.push({op:"move",data:[n+(k?0:S(f,o,c)),e+(k?0:S(f,o,c))]}),a?p.push({op:"bcurveTo",data:[u+n+(t-n)*d+g(),m+e+(s-e)*d+g(),u+n+2*(t-n)*d+g(),m+e+2*(s-e)*d+g(),t+(k?0:g()),s+(k?0:g())]}):p.push({op:"bcurveTo",data:[u+n+(t-n)*d+y(),m+e+(s-e)*d+y(),u+n+2*(t-n)*d+y(),m+e+2*(s-e)*d+y(),t+(k?0:y()),s+(k?0:y())]}),p}function mt(n,e,t){if(!n.length)return[];const s=[];s.push([n[0][0]+S(e,t),n[0][1]+S(e,t)]),s.push([n[0][0]+S(e,t),n[0][1]+S(e,t)]);for(let o=1;o<n.length;o++)s.push([n[o][0]+S(e,t),n[o][1]+S(e,t)]),o===n.length-1&&s.push([n[o][0]+S(e,t),n[o][1]+S(e,t)]);return Pt(s,null,t)}function Pt(n,e,t){const s=n.length,o=[];if(s>3){const r=[],a=1-t.curveTightness;o.push({op:"move",data:[n[1][0],n[1][1]]});for(let i=1;i+2<s;i++){const l=n[i];r[0]=[l[0],l[1]],r[1]=[l[0]+(a*n[i+1][0]-a*n[i-1][0])/6,l[1]+(a*n[i+1][1]-a*n[i-1][1])/6],r[2]=[n[i+1][0]+(a*n[i][0]-a*n[i+2][0])/6,n[i+1][1]+(a*n[i][1]-a*n[i+2][1])/6],r[3]=[n[i+1][0],n[i+1][1]],o.push({op:"bcurveTo",data:[r[1][0],r[1][1],r[2][0],r[2][1],r[3][0],r[3][1]]})}}else s===3?(o.push({op:"move",data:[n[1][0],n[1][1]]}),o.push({op:"bcurveTo",data:[n[1][0],n[1][1],n[2][0],n[2][1],n[2][0],n[2][1]]})):s===2&&o.push(...yn(n[0][0],n[0][1],n[1][0],n[1][1],t,!0,!0));return o}function bs(n,e,t,s,o,r,a,i){const l=i.roughness===0,c=[],f=[];if(l){n=n/4,f.push([e+s*Math.cos(-n),t+o*Math.sin(-n)]);for(let h=0;h<=Math.PI*2;h=h+n){const d=[e+s*Math.cos(h),t+o*Math.sin(h)];c.push(d),f.push(d)}f.push([e+s*Math.cos(0),t+o*Math.sin(0)]),f.push([e+s*Math.cos(n),t+o*Math.sin(n)])}else{const h=S(.5,i)-Math.PI/2;f.push([S(r,i)+e+.9*s*Math.cos(h-n),S(r,i)+t+.9*o*Math.sin(h-n)]);const d=Math.PI*2+h-.01;for(let u=h;u<d;u=u+n){const m=[S(r,i)+e+s*Math.cos(u),S(r,i)+t+o*Math.sin(u)];c.push(m),f.push(m)}f.push([S(r,i)+e+s*Math.cos(h+Math.PI*2+a*.5),S(r,i)+t+o*Math.sin(h+Math.PI*2+a*.5)]),f.push([S(r,i)+e+.98*s*Math.cos(h+a),S(r,i)+t+.98*o*Math.sin(h+a)]),f.push([S(r,i)+e+.9*s*Math.cos(h+a*.5),S(r,i)+t+.9*o*Math.sin(h+a*.5)])}return[f,c]}function _s(n,e,t,s,o,r,a,i,l){const c=r+S(.1,l),f=[];f.push([S(i,l)+e+.9*s*Math.cos(c-n),S(i,l)+t+.9*o*Math.sin(c-n)]);for(let h=c;h<=a;h=h+n)f.push([S(i,l)+e+s*Math.cos(h),S(i,l)+t+o*Math.sin(h)]);return f.push([e+s*Math.cos(a),t+o*Math.sin(a)]),f.push([e+s*Math.cos(a),t+o*Math.sin(a)]),Pt(f,null,l)}function al(n,e,t,s,o,r,a,i){const l=[],c=[i.maxRandomnessOffset||1,(i.maxRandomnessOffset||1)+.3];let f=[0,0];const h=i.disableMultiStroke?1:2,d=i.preserveVertices;for(let u=0;u<h;u++)u===0?l.push({op:"move",data:[a[0],a[1]]}):l.push({op:"move",data:[a[0]+(d?0:S(c[0],i)),a[1]+(d?0:S(c[0],i))]}),f=d?[o,r]:[o+S(c[u],i),r+S(c[u],i)],l.push({op:"bcurveTo",data:[n+S(c[u],i),e+S(c[u],i),t+S(c[u],i),s+S(c[u],i),f[0],f[1]]});return l}function Ze(n){return[...n]}function Ss(n,e=0){const t=n.length;if(t<3)throw new Error("A curve must have at least three points.");const s=[];if(t===3)s.push(Ze(n[0]),Ze(n[1]),Ze(n[2]),Ze(n[2]));else{const o=[];o.push(n[0],n[0]);for(let i=1;i<n.length;i++)o.push(n[i]),i===n.length-1&&o.push(n[i]);const r=[],a=1-e;s.push(Ze(o[0]));for(let i=1;i+2<o.length;i++){const l=o[i];r[0]=[l[0],l[1]],r[1]=[l[0]+(a*o[i+1][0]-a*o[i-1][0])/6,l[1]+(a*o[i+1][1]-a*o[i-1][1])/6],r[2]=[o[i+1][0]+(a*o[i][0]-a*o[i+2][0])/6,o[i+1][1]+(a*o[i][1]-a*o[i+2][1])/6],r[3]=[o[i+1][0],o[i+1][1]],s.push(r[1],r[2],r[3])}}return s}function il(n,e){return Math.sqrt(_t(n,e))}function _t(n,e){return Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)}function ll(n,e,t){const s=_t(e,t);if(s===0)return _t(n,e);let o=((n[0]-e[0])*(t[0]-e[0])+(n[1]-e[1])*(t[1]-e[1]))/s;return o=Math.max(0,Math.min(1,o)),_t(n,Ie(e,t,o))}function Ie(n,e,t){return[n[0]+(e[0]-n[0])*t,n[1]+(e[1]-n[1])*t]}function cl(n,e){const t=n[e+0],s=n[e+1],o=n[e+2],r=n[e+3];let a=3*s[0]-2*t[0]-r[0];a*=a;let i=3*s[1]-2*t[1]-r[1];i*=i;let l=3*o[0]-2*r[0]-t[0];l*=l;let c=3*o[1]-2*r[1]-t[1];return c*=c,a<l&&(a=l),i<c&&(i=c),a+i}function kn(n,e,t,s){const o=s||[];if(cl(n,e)<t){const r=n[e+0];o.length?il(o[o.length-1],r)>1&&o.push(r):o.push(r),o.push(n[e+3])}else{const a=n[e+0],i=n[e+1],l=n[e+2],c=n[e+3],f=Ie(a,i,.5),h=Ie(i,l,.5),d=Ie(l,c,.5),u=Ie(f,h,.5),m=Ie(h,d,.5),p=Ie(u,m,.5);kn([a,f,u,p],0,t,o),kn([p,m,d,c],0,t,o)}return o}function ul(n,e){return Lt(n,0,n.length,e)}function Lt(n,e,t,s,o){const r=o||[],a=n[e],i=n[t-1];let l=0,c=1;for(let f=e+1;f<t-1;++f){const h=ll(n[f],a,i);h>l&&(l=h,c=f)}return Math.sqrt(l)>s?(Lt(n,e,c+1,s,r),Lt(n,c,t,s,r)):(r.length||r.push(a),r.push(i)),r}function wn(n,e=.15,t){const s=[],o=(n.length-1)/3;for(let r=0;r<o;r++){const a=r*3;kn(n,a,e,s)}return t&&t>0?Lt(s,0,s.length,t):s}function fl(n,e,t){const s=In(n),o=uo(co(s)),r=[];let a=[],i=[0,0],l=[];const c=()=>{l.length>=4&&a.push(...wn(l,e)),l=[]},f=()=>{c(),a.length&&(r.push(a),a=[])};for(const{key:d,data:u}of o)switch(d){case"M":f(),i=[u[0],u[1]],a.push(i);break;case"L":c(),a.push([u[0],u[1]]);break;case"C":if(!l.length){const m=a.length?a[a.length-1]:i;l.push([m[0],m[1]])}l.push([u[0],u[1]]),l.push([u[2],u[3]]),l.push([u[4],u[5]]);break;case"Z":c(),a.push([i[0],i[1]]);break}if(f(),!t)return r;const h=[];for(const d of r){const u=ul(d,t);u.length&&h.push(u)}return h}const G="none";class dl{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return io()}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,s){return{shape:e,sets:t||[],options:s||this.defaultOptions}}line(e,t,s,o,r){const a=this._o(r);return this._d("line",[Z(e,t,s,o,a)],a)}rectangle(e,t,s,o,r){const a=this._o(r),i=[],l=ho(e,t,s,o,a);if(a.fill){const c=[[e,t],[e+s,t],[e+s,t+o],[e,t+o]];a.fillStyle==="solid"?i.push(Zt([c],a)):i.push(He([c],a))}return a.stroke!==G&&i.push(l),this._d("rectangle",i,a)}ellipse(e,t,s,o,r){const a=this._o(r),i=[],l=po(s,o,a),c=gn(e,t,a,l);if(a.fill)if(a.fillStyle==="solid"){const f=gn(e,t,a,l).opset;f.type="fillPath",i.push(f)}else i.push(He([c.estimatedPoints],a));return a.stroke!==G&&i.push(c.opset),this._d("ellipse",i,a)}circle(e,t,s,o){const r=this.ellipse(e,t,s,s,o);return r.shape="circle",r}linearPath(e,t){const s=this._o(t);return this._d("linearPath",[st(e,!1,s)],s)}arc(e,t,s,o,r,a,i=!1,l){const c=this._o(l),f=[],h=ks(e,t,s,o,r,a,i,!0,c);if(i&&c.fill)if(c.fillStyle==="solid"){const d=Object.assign({},c);d.disableMultiStroke=!0;const u=ks(e,t,s,o,r,a,!0,!1,d);u.type="fillPath",f.push(u)}else f.push(nl(e,t,s,o,r,a,c));return c.stroke!==G&&f.push(h),this._d("arc",f,c)}curve(e,t){const s=this._o(t),o=[],r=ys(e,s);if(s.fill&&s.fill!==G)if(s.fillStyle==="solid"){const a=ys(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],i=e;if(i.length){const c=typeof i[0][0]=="number"?[i]:i;for(const f of c)f.length<3?a.push(...f):f.length===3?a.push(...wn(Ss([f[0],f[0],f[1],f[2]]),10,(1+s.roughness)/2)):a.push(...wn(Ss(f),10,(1+s.roughness)/2))}a.length&&o.push(He([a],s))}return s.stroke!==G&&o.push(r),this._d("curve",o,s)}polygon(e,t){const s=this._o(t),o=[],r=st(e,!0,s);return s.fill&&(s.fillStyle==="solid"?o.push(Zt([e],s)):o.push(He([e],s))),s.stroke!==G&&o.push(r),this._d("polygon",o,s)}path(e,t){const s=this._o(t),o=[];if(!e)return this._d("path",o,s);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const r=s.fill&&s.fill!=="transparent"&&s.fill!==G,a=s.stroke!==G,i=!!(s.simplification&&s.simplification<1),l=i?4-4*(s.simplification||1):(1+s.roughness)/2,c=fl(e,1,l),f=ws(e,s);if(r)if(s.fillStyle==="solid")if(c.length===1){const h=ws(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else o.push(Zt(c,s));else o.push(He(c,s));return a&&(i?c.forEach(h=>{o.push(st(h,!1,s))}):o.push(f)),this._d("path",o,s)}opsToPath(e,t){let s="";for(const o of e.ops){const r=typeof t=="number"&&t>=0?o.data.map(a=>+a.toFixed(t)):o.data;switch(o.op){case"move":s+=`M${r[0]} ${r[1]} `;break;case"bcurveTo":s+=`C${r[0]} ${r[1]}, ${r[2]} ${r[3]}, ${r[4]} ${r[5]} `;break;case"lineTo":s+=`L${r[0]} ${r[1]} `;break}}return s.trim()}toPaths(e){const t=e.sets||[],s=e.options||this.defaultOptions,o=[];for(const r of t){let a=null;switch(r.type){case"path":a={d:this.opsToPath(r),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:G};break;case"fillPath":a={d:this.opsToPath(r),stroke:G,strokeWidth:0,fill:s.fill||G};break;case"fillSketch":a=this.fillSketch(r,s);break}a&&o.push(a)}return o}fillSketch(e,t){let s=t.fillWeight;return s<0&&(s=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||G,strokeWidth:s,fill:G}}_mergedShape(e){return e.filter((t,s)=>s===0?!0:t.op!=="move")}}const go="http://www.w3.org/2000/svg",hl=800;let en=null;function pl(){return en||(en=new dl().defaultOptions),en}function tn(n,e,t){return{...pl(),maxRandomnessOffset:2,roughness:n==="highlight"?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,disableMultiStroke:n!=="double",disableMultiStrokeFill:!1,seed:e,...t}}function ml(n){const e=n.padding;if(e||e===0){if(typeof e=="number")return[e,e,e,e];if(Array.isArray(e)){const t=e;if(t.length)switch(t.length){case 4:return[...t];case 1:return[t[0],t[0],t[0],t[0]];case 2:return[...t,...t];case 3:return[...t,t[1]];default:return[t[0],t[1],t[2],t[3]]}}}return[5,5,5,5]}function gl(n,e,t,s,o,r){const a=[];let i=t.strokeWidth||2;const l=ml(t),c=t.animate===void 0?!0:!!t.animate,f=t.iterations||2,h=t.rtl?1:0,d=tn("single",r,t);switch(t.type){case"underline":{const u=e.y+e.h+l[2];for(let m=h;m<f+h;m++)m%2?a.push(Z(e.x+e.w,u,e.x,u,d)):a.push(Z(e.x,u,e.x+e.w,u,d));break}case"strike-through":{const u=e.y+e.h/2;for(let m=h;m<f+h;m++)m%2?a.push(Z(e.x+e.w,u,e.x,u,d)):a.push(Z(e.x,u,e.x+e.w,u,d));break}case"box":{const u=e.x-l[3],m=e.y-l[0],p=e.w+(l[1]+l[3]),g=e.h+(l[0]+l[2]);for(let y=0;y<f;y++)a.push(ho(u,m,p,g,d));break}case"bracket":{const u=Array.isArray(t.brackets)?t.brackets:t.brackets?[t.brackets]:["right"],m=e.x-l[3]*2,p=e.x+e.w+l[1]*2,g=e.y-l[0]*2,y=e.y+e.h+l[2]*2;for(const k of u){let w;switch(k){case"bottom":w=[[m,e.y+e.h],[m,y],[p,y],[p,e.y+e.h]];break;case"top":w=[[m,e.y],[m,g],[p,g],[p,e.y]];break;case"left":w=[[e.x,g],[m,g],[m,y],[e.x,y]];break;case"right":w=[[e.x+e.w,g],[p,g],[p,y],[e.x+e.w,y]];break}w&&a.push(st(w,!1,d))}break}case"crossed-off":{const u=e.x,m=e.y,p=u+e.w,g=m+e.h;for(let y=h;y<f+h;y++)y%2?a.push(Z(p,g,u,m,d)):a.push(Z(u,m,p,g,d));for(let y=h;y<f+h;y++)y%2?a.push(Z(u,g,p,m,d)):a.push(Z(p,m,u,g,d));break}case"circle":{const u=tn("double",r,t),m=e.w+(l[1]+l[3]),p=e.h+(l[0]+l[2]),g=e.x-l[3]+m/2,y=e.y-l[0]+p/2,k=Math.floor(f/2),w=f-k*2;for(let v=0;v<k;v++)a.push(mn(g,y,m,p,u));for(let v=0;v<w;v++)a.push(mn(g,y,m,p,d));break}case"highlight":{const u=tn("highlight",r,t);i=e.h*.95;const m=e.y+e.h/2;for(let p=h;p<f+h;p++)p%2?a.push(Z(e.x+e.w,m,e.x,m,u)):a.push(Z(e.x,m,e.x+e.w,m,u));break}}if(a.length){const u=yl(a),m=[],p=[];let g=0;const y=(k,w,v)=>k.setAttribute(w,v);for(const k of u){const w=document.createElementNS(go,"path");if(y(w,"d",k),y(w,"fill","none"),y(w,"stroke",t.color||"currentColor"),y(w,"stroke-width",`${i}`),t.opacity!==void 0&&y(w,"style",`opacity:${t.opacity}`),c){const v=w.getTotalLength();m.push(v),g+=v}n.appendChild(w),p.push(w)}if(c){let k=0;for(let w=0;w<p.length;w++){const v=p[w],_=m[w],T=g?o*(_/g):0,$=s+k,F=v.style;F.strokeDashoffset=`${_}`,F.strokeDasharray=`${_}`,F.animation=`rough-notation-dash ${T}ms ease-out ${$}ms forwards`,k+=T}return Ms(o+s)}}return Ms(0)}function Ms(n){return new Promise(e=>setTimeout(e,n))}function yl(n){const e=[];for(const t of n){let s="";for(const o of t.ops){const r=o.data;switch(o.op){case"move":s.trim()&&e.push(s.trim()),s=`M${r[0]} ${r[1]} `;break;case"bcurveTo":s+=`C${r[0]} ${r[1]}, ${r[2]} ${r[3]}, ${r[4]} ${r[5]} `;break;case"lineTo":s+=`L${r[0]} ${r[1]} `;break}}s.trim()&&e.push(s.trim())}return e}function kl(){if(!window.__rno_kf_s){const n=window.__rno_kf_s=document.createElement("style");n.textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(n)}}var wl=Object.defineProperty,vl=(n,e,t)=>e in n?wl(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ne=(n,e,t)=>(vl(n,typeof e!="symbol"?e+"":e,t),t);class bl{constructor(e,t){ne(this,"_state","unattached"),ne(this,"_config"),ne(this,"_resizing",!1),ne(this,"_ro"),ne(this,"_seed",io()),ne(this,"_e"),ne(this,"_svg"),ne(this,"_lastSizes",[]),ne(this,"_animationDelay",0),ne(this,"_resizeListener",()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,this._state==="showing"&&this.haveRectsChanged()&&this.show()},400))}),ne(this,"pendingRefresh"),this._e=e,this._config=JSON.parse(JSON.stringify(t)),this.attach()}getConfig(e){return this._config[e]}setConfig(e,t){this._config[e]!==t&&(this._config[e]=t,this.refresh())}get animate(){return this._config.animate}set animate(e){this._config.animate=e}get animationDuration(){return this._config.animationDuration}set animationDuration(e){this._config.animationDuration=e}get iterations(){return this._config.iterations}set iterations(e){this._config.iterations=e}get color(){return this._config.color}set color(e){this._config.color!==e&&(this._config.color=e,this.refresh())}get class(){return this._config.class}set class(e){this._config.class!==e&&(this._config.class=e,this._svg&&this._svg.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" ")))}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(e){this._config.strokeWidth!==e&&(this._config.strokeWidth=e,this.refresh())}get padding(){return this._config.padding}set padding(e){this._config.padding!==e&&(this._config.padding=e,this.refresh())}attach(){if(this._state==="unattached"&&this._e.parentElement){kl();const e=this._svg=document.createElementNS(go,"svg");e.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" "));const t=e.style;t.position="absolute",t.top="0",t.left="0",t.overflow="visible",t.pointerEvents="none",t.width="100px",t.height="100px";const s=this._config.type==="highlight";if(this._e.insertAdjacentElement(s?"beforebegin":"afterend",e),this._state="not-showing",s){const o=window.getComputedStyle(this._e).position;(!o||o==="static")&&(this._e.style.position="relative")}this.attachListeners()}}detachListeners(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver(e=>{for(const t of e)t.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){const e=this.rects();if(e.length===this._lastSizes.length){for(let t=0;t<e.length;t++)if(!this.isSameRect(e[t],this._lastSizes[t]))return!0}else return!0}return!1}isSameRect(e,t){const s=(o,r)=>Math.round(o)===Math.round(r);return s(e.x,t.x)&&s(e.y,t.y)&&s(e.w,t.w)&&s(e.h,t.h)}isShowing(){return this._state!=="not-showing"}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}async show(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&await this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&await this.render(this._svg,!1);break}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()}async render(e,t){let s=this._config;t&&(s=JSON.parse(JSON.stringify(this._config)),s.animate=!1);const o=this.rects();let r=0;o.forEach(c=>r+=c.w);const a=s.animationDuration||hl;let i=0;const l=[];for(let c=0;c<o.length;c++){const f=o[c],h=a*(f.w/r);l.push(gl(e,o[c],s,i+this._animationDelay+(this._config.delay||0),h,this._seed)),i+=h}return this._lastSizes=o,this._state="showing",await Promise.all(l)}rects(){const e=[];if(this._svg)if(this._config.multiline){const t=this._e.getClientRects();for(let s=0;s<t.length;s++)e.push(this.svgRect(this._svg,t[s]))}else e.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return e}svgRect(e,t){const s=e.getBoundingClientRect(),o=t;return{x:(o.x||o.left)-(s.x||s.left),y:(o.y||o.top)-(s.y||s.top),w:o.width,h:o.height}}}function _l(n,e){return new bl(n,e)}function K(n,e){return n.class=[n.class,e].filter(Boolean).join(" "),n}const Os={box:n=>Object.assign(n,{type:"box"}),circle:n=>Object.assign(n,{type:"circle"}),underline:n=>Object.assign(n,{type:"underline"}),highlight:n=>Object.assign(n,{type:"highlight"}),"strike-through":n=>Object.assign(n,{type:"strike-through"}),"crossed-off":n=>Object.assign(n,{type:"crossed-off"}),bracket:n=>Object.assign(n,{type:"bracket"}),strike:n=>Object.assign(n,{type:"strike-through"}),cross:n=>Object.assign(n,{type:"crossed-off"}),crossed:n=>Object.assign(n,{type:"crossed-off"}),linethrough:n=>Object.assign(n,{type:"strike-through"}),"line-through":n=>Object.assign(n,{type:"strike-through"}),black:n=>K(n,"text-black"),blue:n=>K(n,"text-blue"),cyan:n=>K(n,"text-cyan"),gray:n=>K(n,"text-gray"),green:n=>K(n,"text-green"),indigo:n=>K(n,"text-indigo"),lime:n=>K(n,"text-lime"),orange:n=>K(n,"text-orange"),pink:n=>K(n,"text-pink"),purple:n=>K(n,"text-purple"),red:n=>K(n,"text-red"),teal:n=>K(n,"text-teal"),white:n=>K(n,"text-white"),yellow:n=>K(n,"text-yellow")},Sl=[[/^delay-?(\d+)?$/,(n,e,t)=>{const s=(n[1]?Number.parseInt(n[1]):t)||300;return e.delay=s,e}],[/^(?:op|opacity)-?(\d+)?$/,(n,e,t)=>{const s=(n[1]?Number.parseInt(n[1]):t)||100;return e.opacity=s/100,e}]];function Ml(){return{install(n){n.directive("mark",{name:"v-mark",mounted:(e,t)=>{const{isPrintMode:s}=Je(),o=b(()=>{const i=typeof t.value=="object"&&!Array.isArray(t.value)?{...t.value}:{at:t.value};let l={at:i.at};const c=Object.entries(t.modifiers).filter(([h,d])=>{if(Os[h])return l=Os[h](l,d),!1;for(const[u,m]of Sl){const p=h.match(u);if(p)return l=m(p,l,d),!1}return!0});c.length&&console.warn("[Slidev] Invalid modifiers for v-mark:",c);const f={...l,...i};return f.type||="underline",s.value&&(f.animationDuration=1),f}),r=_l(e,o.value),a=bt(e,t,o.value.at);if(!a){r.show();return}e.watchStopHandle=Be(()=>{let i;o.value.class&&(r.class=o.value.class),o.value.color&&(r.color=o.value.color);const l=o.value.at;l===!0?i=!0:l===!1?i=!1:i=a.isActive.value,i!=null&&(i?r.show():r.hide())})},unmounted:e=>{e.watchStopHandle?.()}})}}}function Ol(){return{install(n){const e=Bo();n.directive("motion",{name:"v-motion",mounted(t,s,o,r){const a=Ue(s,Rt),i=Ue(s,bn),l=Ue(s,_n),{currentPage:c,clicks:f,isPrintMode:h}=Je(),d=o.props={...o.props},u={...d.initial,...d.variants?.["slidev-initial"]},m={...d.enter,...d.variants?.["slidev-enter"]},p={...d.leave,...d.variants?.["slidev-leave"]};delete d.initial,delete d.enter,delete d.leave;const g=`${Pn()}-`,y=[];for(const w of Object.keys(d))if(w.startsWith("click-")){const v=w.slice(6),_=v.includes("-")?v.split("-").map(Number):+v,T=g+v;y.push({id:T,at:_,variant:{...d[w]},info:a?.value.calculate(_)}),delete d[w]}y.sort((w,v)=>(Array.isArray(w.at)?w.at[0]:w.at)-(Array.isArray(v.at)?v.at[0]:v.at)),e.created(t,s,o,r),e.mounted(t,s,o,r);const k=t.motionInstance;k.clickIds=y.map(w=>w.id),k.set(u),k.watchStopHandle=ee([i,c,f].filter(Boolean),()=>{const w=ao.get(t)?.visibilityState.value??"shown";if(!a?.value||!["slide","presenter"].includes(l?.value??"")){const v={...u,...m};for(const{variant:_}of y)Object.assign(v,_);k.set(v)}else if(h.value||i?.value===c.value)if(w==="shown"){const v={...u,...m};for(const{variant:_,info:T}of y)(!T||T.isActive.value)&&Object.assign(v,_);h.value?k.set(v):k.apply(v)}else k.apply(w==="before"?u:p);else k.apply((i?.value??-1)>c.value?u:p)},{immediate:!0})},unmounted(t){t.motionInstance.watchStopHandle()}})}}}const Tl=[];function Al(){const n=[];function e(t){if(!I.remote||I.remote===t.query.password)return!0;if(I.remote&&t.query.password===void 0){const s=prompt("Enter password");if(I.remote===s)return!0}return t.params.no?{path:`/${t.params.no}`}:{path:""}}return n.push({name:"entry",path:"/entry",component:()=>A(()=>import("./slidev/entry-DWbTNQcN.js"),__vite__mapDeps([33,1,4,5,34])),beforeEnter:e},{name:"overview",path:"/overview",component:()=>A(()=>import("./slidev/overview-ZMgLc6HA.js"),__vite__mapDeps([35,36,1,37,38,39,3,40,41,42,4,5])),beforeEnter:e},{name:"notes",path:"/notes",component:()=>A(()=>import("./slidev/notes-DdkzFaOA.js"),__vite__mapDeps([43,1,37,38,42,4,5])),beforeEnter:e},{name:"presenter",path:"/presenter/:no",component:()=>A(()=>import("./slidev/presenter-wN4OIMl_.js"),__vite__mapDeps([44,1,39,3,40,41,45,36,42,4,5,46,37,38,47,48,49])),beforeEnter:e},{path:"/presenter",redirect:{path:"/presenter/1"}}),n.push({name:"play",path:"/:no",component:()=>A(()=>import("./slidev/play-MOi1WU4o.js"),__vite__mapDeps([50,1,39,3,40,41,45,36,42,4,5,46,51]))},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>A(()=>import("./slidev/404-e0C_6-k_.js"),__vite__mapDeps([52,1,4,5,53]))}),Tl.reduce((t,s)=>s(t),n)}async function Cl(n){function e(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}e(),window.addEventListener("resize",e);const t=Uo({history:Jo("/2024/react-summit/"),routes:Al()});n.use(t),n.use(xi()),n.use(Ri()),n.use(Ml()),n.use(Vi()),n.use(Ol()),n.use(Qo,{container:"#twoslash-container"});const s={app:n,router:t};for(const o of Pi)await o(s)}async function El(){const n=Ko($i);await Cl(n),n.mount("#app")}El();export{lt as $,Ua as A,cn as B,yt as C,Wa as D,Jl as E,ec as F,Ll as G,Ot as H,Dl as I,Fs as J,Fa as K,ut as L,Fl as M,ic as N,Yl as O,Gl as P,se as Q,Ha as R,jt as S,$a as T,ji as U,xs as V,nr as W,ql as X,Sn as Y,Vl as Z,jr as _,Je as a,Hl as a0,Ul as a1,Bl as a2,oc as a3,sc as a4,nc as a5,te as a6,so as a7,oo as a8,Is as a9,Hs as aa,xl as ab,La as ac,bn as ad,_n as ae,Rt as af,Ia as ag,ac as ah,Pn as ai,ln as aj,Yo as ak,Pa as al,Rl as am,Ra as an,Bs as b,Ir as c,rc as d,Vs as e,zl as f,Fe as g,ct as h,hs as i,qa as j,Tt as k,Xl as l,Zl as m,Ql as n,on as o,Il as p,Kl as q,Dn as r,Wt as s,tc as t,$r as u,I as v,A as w,jl as x,Nl as y,Wl as z};
