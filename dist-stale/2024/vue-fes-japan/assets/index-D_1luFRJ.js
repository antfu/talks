const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/md-DOjs7uTT.js","assets/modules/vue-CmDslCPD.js","assets/slidev/center-D7RHVpx-.js","assets/modules/shiki-BZfrgrE4.js","assets/modules/shiki-CozCpemh.css","assets/md-s5X-Ed_a.js","assets/slidev/intro-BFkenDnO.js","assets/md-BbYPYphK.js","assets/md-BdhthMj8.js","assets/slidev/default-BMO-vFo2.js","assets/md-hv8cnvoy.js","assets/md-D4tXDj7t.js","assets/md-MWZ8j1cW.js","assets/vis-network-1GkKdGC5.js","assets/slidev/VClicks-D_176zZ5.js","assets/md-DzSjpCXX.css","assets/md-FLViwY72.js","assets/slidev/md-DLDqa9Kj.js","assets/md-mvj3aD7c.js","assets/md-ZoNeMepN.js","assets/md-BD4v8Gvt.js","assets/md-CgSxY0m0.js","assets/md-DpNaYNFh.css","assets/md-A_yN86X8.js","assets/md-DBvxyCpQ.js","assets/md-nHX3zgol.js","assets/slidev/entry-DiGM60t-.js","assets/entry-DKBEYRvL.css","assets/slidev/overview-BMECzelX.js","assets/modules/unplugin-icons--bimqkZ8.js","assets/slidev/NoteDisplay.vue_vue_type_style_index_0_lang-D9UyncMf.js","assets/NoteDisplay-DlY48q_E.css","assets/SlideWrapper-qvQGw6xS.js","assets/modules/file-saver-DpYiGRfw.js","assets/SlideWrapper-CR0Obtu-.css","assets/slidev/IconButton.vue_vue_type_script_setup_true_lang-Dhz5pgzd.js","assets/slidev/notes-DLv_RLRr.js","assets/slidev/presenter-DuZ5x3A9.js","assets/slidev/shortcuts-vYYdYkhK.js","assets/shortcuts-CojLsgTv.css","assets/slidev/DrawingControls.vue_vue_type_style_index_0_lang-TVVDbaYN.js","assets/DrawingControls-Cxk9a9ub.css","assets/presenter-BSm347B1.css","assets/slidev/play-0WdTPcS1.js","assets/play-D_7yfuao.css","assets/slidev/404-BpKkwAvd.js","assets/404-_5Gr6e_7.css"])))=>i.map(i=>d[i]);
import{z as b,A as tn,B as go,C as yo,D as ws,r as O,E as Le,G as ko,H as vo,I as wo,J as bs,K as ee,L as Ss,M as V,N as bo,O as So,f as nn,o as bt,t as _o,d as _s,i as Mo,F as Oo,g as xn,P as I,Q as vn,R as To,S as $t,p as Ao,T as Eo,U as jn,V as re,W as Co,X as Po,Y as $o,Z as Lo,_ as Io,$ as F,a0 as xo,a1 as Ms,a2 as Lt,a3 as jo,a4 as Os,a5 as Ro,a6 as No,a7 as Do,a8 as Ts,b as Ho,a as Vo,a9 as Fo,aa as zo,ab as qo,ac as Wo,ad as Bo,ae as Uo,c as Jo}from"./modules/vue-CmDslCPD.js";import{T as Ko}from"./modules/shiki-BZfrgrE4.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();const L={theme:"default",title:"Yak Shaving",titleTemplate:"%s - Slidev",addons:["slidev-addon-graph"],remoteAssets:!0,monaco:!0,monacoTypesSource:"local",monacoTypesAdditionalPackages:[],monacoTypesIgnorePackages:[],monacoRunAdditionalDeps:[],download:!1,export:{},info:!1,highlighter:"shiki",twoslash:!0,lineNumbers:!1,colorSchema:"dark",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Avenir Next"','"Nunito Sans"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"Fira Code"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Avenir Next","Nunito Sans","Fira Code"],provider:"google",local:["Avenir Next"],italic:!1,weights:["200","400","600"]},favicon:"/@fs/Users/antfu/i/talks/2024-10-19/src/node_modules/.remote-assets/NPGvKerVpwK0s9wCZ1kPwnTexy3khIJ-kR-3r-Sw4ZQ.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,author:"",record:"dev",css:"unocss",presenter:!0,browserExporter:"dev",htmlAttrs:{},transition:"fade-out",editor:!0,contextMenu:null,wakeLock:!0,mdc:!0,seoMeta:{},layout:"center",glowSeed:4,description:"Anthony's journey of open source development. The process of ideation and project development, as well as finding one's own position and direction in the open source community. Helping you better understand and participate in open source.",slidesTitle:"Yak Shaving - Slidev"};function sn(n,e,t){return Math.min(t,Math.max(e,n))}function Go(...n){return Qo(n).reduce((e,t)=>e+t,0)}function Yo(n){return n=n??[],Array.isArray(n)?n:[n]}function Qo(n){return Yo(n).flat(1)}function Zo(n){return Array.from(new Set(n))}function Rn(...n){let e,t,s;n.length===1?(e=0,s=1,[t]=n):[e,t,s=1]=n;const o=[];let i=e;for(;i<t;)o.push(i),i+=s||1;return o}function Xo(n){return n!=null}function ei(n,e){return Object.fromEntries(Object.entries(n).map(([t,s])=>e(t,s)).filter(Xo))}const Sl="build",As=b(()=>L.aspectRatio),Es=b(()=>L.canvasWidth),ti=b(()=>Math.ceil(Es.value/As.value)),ni=b(()=>ei(L.themeConfig||{},(n,e)=>[`--slidev-theme-${n}`,e])),zt=L.slidesTitle,_l="/2024/vue-fes-japan/",si=[],oi=new Set(["link","style","script","noscript"]),ii=new Set(["title","titleTemplate","script","style","noscript"]),Nn=new Set(["base","meta","link","style","script","noscript"]),ai=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),ri=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),li=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),ci=new Set(["templateParams","htmlAttrs","bodyAttrs"]),ui=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);function on(n,e={},t){for(const s in n){const o=n[s],i=t?`${t}:${s}`:s;typeof o=="object"&&o!==null?on(o,e,i):typeof o=="function"&&(e[i]=o)}return e}const di={run:n=>n()},fi=()=>di,Cs=typeof console.createTask<"u"?console.createTask:fi;function hi(n,e){const t=e.shift(),s=Cs(t);return n.reduce((o,i)=>o.then(()=>s.run(()=>i(...e))),Promise.resolve())}function pi(n,e){const t=e.shift(),s=Cs(t);return Promise.all(n.map(o=>s.run(()=>o(...e))))}function qt(n,e){for(const t of[...n])t(e)}class mi{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,s={}){if(!e||typeof t!="function")return()=>{};const o=e;let i;for(;this._deprecatedHooks[e];)i=this._deprecatedHooks[e],e=i.to;if(i&&!s.allowDeprecated){let a=i.message;a||(a=`${o} hook has been deprecated`+(i.to?`, please use ${i.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let s,o=(...i)=>(typeof s=="function"&&s(),s=void 0,o=void 0,t(...i));return s=this.hook(e,o),s}removeHook(e,t){if(this._hooks[e]){const s=this._hooks[e].indexOf(t);s!==-1&&this._hooks[e].splice(s,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,t){this._deprecatedHooks[e]=typeof t=="string"?{to:t}:t;const s=this._hooks[e]||[];delete this._hooks[e];for(const o of s)this.hook(e,o)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=on(e),s=Object.keys(t).map(o=>this.hook(o,t[o]));return()=>{for(const o of s.splice(0,s.length))o()}}removeHooks(e){const t=on(e);for(const s in t)this.removeHook(s,t[s])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...t){return t.unshift(e),this.callHookWith(hi,e,...t)}callHookParallel(e,...t){return t.unshift(e),this.callHookWith(pi,e,...t)}callHookWith(e,t,...s){const o=this._before||this._after?{name:t,args:s,context:{}}:void 0;this._before&&qt(this._before,o);const i=e(t in this._hooks?[...this._hooks[t]]:[],s);return i instanceof Promise?i.finally(()=>{this._after&&o&&qt(this._after,o)}):(this._after&&o&&qt(this._after,o),i)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const t=this._before.indexOf(e);t!==-1&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const t=this._after.indexOf(e);t!==-1&&this._after.splice(t,1)}}}}function gi(){return new mi}const yi=["name","property","http-equiv"],ki=new Set(["viewport","description","keywords","robots"]);function Ps(n){const e=n.split(":");return e.length?ui.has(e[1]):!1}function an(n){const{props:e,tag:t}=n;if(ri.has(t))return t;if(t==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(n.tag==="meta"){for(const s of yi)if(e[s]!==void 0){const o=e[s],i=o.includes(":"),a=ki.has(o),l=!(i||a)&&n.key?`:key:${n.key}`:"";return`${t}:${o}${l}`}}if(n.key)return`${t}:key:${n.key}`;if(e.id)return`${t}:id:${e.id}`;if(ii.has(t)){const s=n.textContent||n.innerHTML;if(s)return`${t}:content:${s}`}}function Dn(n){const e=n._h||n._d;if(e)return e;const t=n.textContent||n.innerHTML;return t||`${n.tag}:${Object.entries(n.props).map(([s,o])=>`${s}:${String(o)}`).join(",")}`}function St(n,e,t){typeof n==="function"&&(!t||t!=="titleTemplate"&&!(t[0]==="o"&&t[1]==="n"))&&(n=n());let o;if(e&&(o=e(t,n)),Array.isArray(o))return o.map(i=>St(i,e));if(o?.constructor===Object){const i={};for(const a of Object.keys(o))i[a]=St(o[a],e,a);return i}return o}function vi(n,e){const t=n==="style"?new Map:new Set;function s(o){const i=o.trim();if(i)if(n==="style"){const[a,...r]=i.split(":").map(l=>l.trim());a&&r.length&&t.set(a,r.join(":"))}else i.split(" ").filter(Boolean).forEach(a=>t.add(a))}return typeof e=="string"?n==="style"?e.split(";").forEach(s):s(e):Array.isArray(e)?e.forEach(o=>s(o)):e&&typeof e=="object"&&Object.entries(e).forEach(([o,i])=>{i&&i!=="false"&&(n==="style"?t.set(o.trim(),i):s(o))}),t}function $s(n,e){return n.props=n.props||{},e&&Object.entries(e).forEach(([t,s])=>{if(s===null){n.props[t]=null;return}if(t==="class"||t==="style"){n.props[t]=vi(t,s);return}if(li.has(t)){if(["textContent","innerHTML"].includes(t)&&typeof s=="object"){let a=e.type;if(e.type||(a="application/json"),!a?.endsWith("json")&&a!=="speculationrules")return;e.type=a,n.props.type=a,n[t]=JSON.stringify(s)}else n[t]=s;return}const o=String(s),i=t.startsWith("data-");o==="true"||o===""?n.props[t]=i?o:!0:!s&&i&&o==="false"?n.props[t]="false":s!==void 0&&(n.props[t]=s)}),n}function wi(n,e){const t=typeof e=="object"&&typeof e!="function"?e:{[n==="script"||n==="noscript"||n==="style"?"innerHTML":"textContent"]:e},s=$s({tag:n,props:{}},t);return s.key&&oi.has(s.tag)&&(s.props["data-hid"]=s._h=s.key),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(o=>({...s,props:{...s.props,content:o}})):s}function bi(n,e){if(!n)return[];typeof n=="function"&&(n=n());const t=(o,i)=>{for(let a=0;a<e.length;a++)i=e[a](o,i);return i};n=t(void 0,n);const s=[];return n=St(n,t),Object.entries(n||{}).forEach(([o,i])=>{if(i!==void 0)for(const a of Array.isArray(i)?i:[i])s.push(wi(o,a))}),s.flat()}const Hn=(n,e)=>n._w===e._w?n._p-e._p:n._w-e._w,Vn={base:-10,title:10},Si={critical:-8,high:-1,low:2},Fn={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},_i=/@import/,Ue=n=>n===""||n===!0;function Mi(n,e){if(typeof e.tagPriority=="number")return e.tagPriority;let t=100;const s=Si[e.tagPriority]||0,o=n.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:Fn;if(e.tag in Vn)t=Vn[e.tag];else if(e.tag==="meta"){const i=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;i&&(t=Fn.meta[i])}else e.tag==="link"&&e.props.rel?t=o.link[e.props.rel]:e.tag==="script"?Ue(e.props.async)?t=o.script.async:e.props.src&&!Ue(e.props.defer)&&!Ue(e.props.async)&&e.props.type!=="module"&&!e.props.type?.endsWith("json")?t=o.script.sync:Ue(e.props.defer)&&e.props.src&&!Ue(e.props.async)&&(t=o.script.defer):e.tag==="style"&&(t=e.innerHTML&&_i.test(e.innerHTML)?o.style.imported:o.style.sync);return(t||100)+s}function zn(n,e){const t=typeof e=="function"?e(n):e,s=t.key||String(n.plugins.size+1);n.plugins.get(s)||(n.plugins.set(s,t),n.hooks.addHooks(t.hooks||{}))}function Oi(n={}){const e=gi();e.addHooks(n.hooks||{});const t=!n.document,s=new Map,o=new Map,i=new Set,a={_entryCount:1,plugins:o,dirty:!1,resolvedOptions:n,hooks:e,ssr:t,entries:s,headEntries(){return[...s.values()]},use:r=>zn(a,r),push(r,l){const c={...l||{}};delete c.head;const d=c._index??a._entryCount++,h={_i:d,input:r,options:c},f={_poll(u=!1){a.dirty=!0,!u&&i.add(d),e.callHook("entries:updated",a)},dispose(){s.delete(d)&&a.invalidate()},patch(u){(!c.mode||c.mode==="server"&&t||c.mode==="client"&&!t)&&(h.input=u,s.set(d,h),f._poll())}};return f.patch(r),f},async resolveTags(){const r={tagMap:new Map,tags:[],entries:[...a.entries.values()]};for(await e.callHook("entries:resolve",r);i.size;){const f=i.values().next().value;i.delete(f);const u=s.get(f);if(u){const m={tags:bi(u.input,n.propResolvers||[]).map(p=>Object.assign(p,u.options)),entry:u};await e.callHook("entries:normalize",m),u._tags=m.tags.map((p,g)=>(p._w=Mi(a,p),p._p=(u._i<<10)+g,p._d=an(p),p))}}let l=!1;r.entries.flatMap(f=>(f._tags||[]).map(u=>({...u,props:{...u.props}}))).sort(Hn).reduce((f,u)=>{const m=String(u._d||u._p);if(!f.has(m))return f.set(m,u);const p=f.get(m);if((u?.tagDuplicateStrategy||(ci.has(u.tag)?"merge":null)||(u.key&&u.key===p.key?"merge":null))==="merge"){const y={...p.props};Object.entries(u.props).forEach(([k,v])=>y[k]=k==="style"?new Map([...p.props.style||new Map,...v]):k==="class"?new Set([...p.props.class||new Set,...v]):v),f.set(m,{...u,props:y})}else u._p>>10===p._p>>10&&u.tag==="meta"&&Ps(m)?(f.set(m,Object.assign([...Array.isArray(p)?p:[p],u],u)),l=!0):(u._w===p._w?u._p>p._p:u?._w<p?._w)&&f.set(m,u);return f},r.tagMap);const c=r.tagMap.get("title"),d=r.tagMap.get("titleTemplate");if(a._title=c?.textContent,d){const f=d?.textContent;if(a._titleTemplate=f,f){let u=typeof f=="function"?f(c?.textContent):f;typeof u=="string"&&!a.plugins.has("template-params")&&(u=u.replace("%s",c?.textContent||"")),c?u===null?r.tagMap.delete("title"):r.tagMap.set("title",{...c,textContent:u}):(d.tag="title",d.textContent=u)}}r.tags=Array.from(r.tagMap.values()),l&&(r.tags=r.tags.flat().sort(Hn)),await e.callHook("tags:beforeResolve",r),await e.callHook("tags:resolve",r),await e.callHook("tags:afterResolve",r);const h=[];for(const f of r.tags){const{innerHTML:u,tag:m,props:p}=f;if(ai.has(m)&&!(Object.keys(p).length===0&&!f.innerHTML&&!f.textContent)&&!(m==="meta"&&!p.content&&!p["http-equiv"]&&!p.charset)){if(m==="script"&&u){if(p.type?.endsWith("json")){const g=typeof u=="string"?u:JSON.stringify(u);f.innerHTML=g.replace(/</g,"\\u003C")}else typeof u=="string"&&(f.innerHTML=u.replace(new RegExp(`</${m}`,"g"),`<\\/${m}`));f._d=an(f)}h.push(f)}}return h},invalidate(){for(const r of s.values())i.add(r._i);a.dirty=!0,e.callHook("entries:updated",a)}};return(n?.plugins||[]).forEach(r=>zn(a,r)),a.hooks.callHook("init",a),n.init?.forEach(r=>r&&a.push(r)),a}const Ti=(n,e)=>go(e)?tn(e):e,Ls="usehead";function Ai(n){return{install(t){t.config.globalProperties.$unhead=n,t.config.globalProperties.$head=n,t.provide(Ls,n)}}.install}function Ei(){if(yo()){const n=ws(Ls);if(!n)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return n}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function Ci(n,e={}){const t=e.head||Ei();return t.ssr?t.push(n||{},e):Pi(t,n,e)}function Pi(n,e,t={}){const s=O(!1);let o;return Le(()=>{const a=s.value?{}:St(e,Ti);o?o.patch(a):o=n.push(a,t)}),bs()&&(ko(()=>{o.dispose()}),vo(()=>{s.value=!0}),wo(()=>{s.value=!1})),o}function rn(n){if(n===!1||n==="false")return null;if(n==null||n===!0||n==="true")return"+1";if(typeof n=="string"&&"+-".includes(n[0]))return n;const e=+n;return Number.isNaN(e)?(console.error(`Invalid "at" prop value: ${n}`),null):e<=0?(console.warn(`[Slidev] "at" prop value must be greater than 0, but got ${n}, has been set to 1`),1):e}function $i(n){return Array.isArray(n)?[rn(n[0]),rn(n[1])]:null}function Is(n,e=0,t){const s=O(!1);let o=new Map,i=new Map;const a={get current(){return sn(+n.value,e,a.total)},set current(r){n.value=s.value?sn(r,e,a.total):r},clicksStart:e,get relativeSizeMap(){return o},get maxMap(){return i},get isMounted(){return s.value},setup(){Ss(()=>{s.value=!0,i=V(i),bo(n)||(a.current=n.value)}),So(()=>{s.value=!1,o=new Map,i=new Map})},calculateSince(r,l=1){const c=rn(r);if(c==null)return null;let d,h,f;if(typeof c=="string"){const u=a.currentOffset,m=+c;d=u+m,h=u+m+l-1,f=m+l-1}else d=c,h=c+l-1,f=0;return{start:d,end:+Number.POSITIVE_INFINITY,max:h,delta:f,currentOffset:b(()=>a.current-d),isCurrent:b(()=>a.current===d),isActive:b(()=>a.current>=d)}},calculateRange(r){const l=$i(r);if(l==null)return null;const[c,d]=l;let h,f,u;return typeof c=="string"?(h=a.currentOffset+ +c,u=+c):(h=c,u=0),typeof d=="string"?(f=h+ +d,u+=+d):f=d,{start:h,end:f,max:f,delta:u,currentOffset:b(()=>a.current-h),isCurrent:b(()=>a.current===h),isActive:b(()=>h<=a.current&&a.current<f)}},calculate(r){return Array.isArray(r)?a.calculateRange(r):a.calculateSince(r)},register(r,l){if(!l)return;const{delta:c,max:d}=l;o.set(r,c),i.set(r,d)},unregister(r){o.delete(r),i.delete(r)},get currentOffset(){return Go(...o.values())},get total(){return t??(s.value?Math.max(0,...i.values()):0)}};return a}function Li(n,e=0){const t=n?.meta.slide?.frontmatter.clicksStart??0,s=O(Math.max(tn(e),t));return ee(()=>tn(e),o=>{s.value=Math.max(o,t)}),Is(s,t,n?.meta?.clicks)}const Ii="modulepreload",xi=function(n){return"/2024/vue-fes-japan/"+n},qn={},E=function(e,t,s){let o=Promise.resolve();if(t&&t.length>0){let l=function(c){return Promise.all(c.map(d=>Promise.resolve(d).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),r=a?.nonce||a?.getAttribute("nonce");o=l(t.map(c=>{if(c=xi(c),c in qn)return;qn[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Ii,d||(f.as="script"),f.crossOrigin="",f.href=c,r&&f.setAttribute("nonce",r),document.head.appendChild(f),d)return new Promise((u,m)=>{f.addEventListener("load",u),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(a){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=a,window.dispatchEvent(r),!r.defaultPrevented)throw a}return o.then(a=>{for(const r of a||[])r.status==="rejected"&&i(r.reason);return e().catch(i)})},ji=(n,e)=>{const t=n.__vccOpts||n;for(const[s,o]of e)t[s]=o;return t},Ri={},Ni={class:"px-4 py-10 text-center text-red-700 dark:text-red-500 font-bold font-mono"};function Di(n,e){return bt(),nn("div",Ni,_o("Failed to fetch this slide. Please check your network connection."))}const z=ji(Ri,[["render",Di]]),Hi={class:"h-full w-full flex items-center justify-center gap-2 slidev-slide-loading"},Vi=_s({__name:"SlideLoading",setup(n){const e=O(!1);return Ss(()=>{setTimeout(()=>{e.value=!0},200)}),(t,s)=>(bt(),nn("div",Hi,[e.value?(bt(),nn(Oo,{key:0},[s[0]||(s[0]=xn("div",{class:"i-svg-spinners-90-ring-with-bg text-xl"},null,-1)),s[1]||(s[1]=xn("div",null,"Loading slide...",-1))],64)):Mo("v-if",!0)]))}}),Fi={layout:"center",highlighter:"shiki",css:"unocss",colorSchema:"dark",transition:"fade-out",mdc:!0,glowSeed:4,title:"Yak Shaving",remoteAssets:!0,description:"Anthony's journey of open source development. The process of ideation and project development, as well as finding one's own position and direction in the open source community. Helping you better understand and participate in open source.",addons:["slidev-addon-graph"]},he=I(Fi),zi=V({get layout(){return he.layout},get transition(){return he.transition},get class(){return he.class},get clicks(){return he.clicks},get name(){return he.name},get preload(){return he.preload},slide:{content:"",revision:"ehpq8d",frontmatterRaw:`layout: center
highlighter: shiki
css: unocss
colorSchema: dark
transition: fade-out
mdc: true
glowSeed: 4
title: Yak Shaving
remoteAssets: true
description: Anthony's journey of open source development. The process of
  ideation and project development, as well as finding one's own position and
  direction in the open source community. Helping you better understand and
  participate in open source.
addons:
  - slidev-addon-graph
`,note:"",title:"Yak Shaving",index:0,noteHTML:`<p>みなさん、こんにちは。また お会いできて 嬉しいです。</p>
<p>この素晴らしい イベントに <ruby>再<rt>ふたた</rt></ruby>び 招待して いただき、ありがとうございます。スタッフの皆さん、ここまで お疲れ様です。</p>
<p>ちなみに、僕は最近日本語を本気で勉強し始めました。また、よろしくお願いします。</p>
<p>Good to meet you again! Thank a lot for having me here.</p>
`,raw:"",frontmatter:he,filepath:"",start:0,id:0,no:1},__clicksContext:null,__preloaded:!1}),qi={layout:"intro",class:"pl-30",glowSeed:14},pe=I(qi),Wi=V({get layout(){return pe.layout},get transition(){return pe.transition},get class(){return pe.class},get clicks(){return pe.clicks},get name(){return pe.name},get preload(){return pe.preload},slide:{content:"",revision:"3ou56j",frontmatterRaw:`layout: intro
class: pl-30
glowSeed: 14
`,note:"",title:"Anthony Fu",level:1,index:1,noteHTML:`<p>Let me introduce myself quickly, my name is Anthony Fu. <span class="slidev-note-click-mark" data-clicks="1"></span> Hi!</p>
<p>I am the core team member of Vue, Vite and Nuxt. Also the creator of Vitest, Slidev, UnoCSS, and a few other open-source projects. I am currently at NuxtLabs on the framework team. You can find me on social media with the links below.</p>
`,raw:"",frontmatter:pe,filepath:"",start:30,id:1,no:2},__clicksContext:null,__preloaded:!1}),Bi={layout:"cover",title:"Anthony's Roads to Open Source"},me=I(Bi),Ui=V({get layout(){return me.layout},get transition(){return me.transition},get class(){return me.class},get clicks(){return me.clicks},get name(){return me.name},get preload(){return me.preload},slide:{content:"",revision:"czdxx8",frontmatterRaw:`layout: cover
title: Anthony's Roads to Open Source
`,note:"",title:"Anthony's Roads to Open Source",index:2,noteHTML:`<p>Today, I'd like to talk about Open Source again <span class="slidev-note-click-mark" data-clicks="1"></span> and my own journey with open source.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> Like I mentioned last year, Open Source is a very big topic. So I break it into a series of talks, today's topic is the 3rd one.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> It's called Yak Shaving.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> 少し難しいですが、とりあえず、「ヤク剃り」と呼びたいです。 I hope it make a bit sense :P</p>
`,raw:"",frontmatter:me,filepath:"",start:69,id:2,no:3},__clicksContext:null,__preloaded:!1}),Ji={},ge=I(Ji),Ki=V({get layout(){return ge.layout},get transition(){return ge.transition},get class(){return ge.class},get clicks(){return ge.clicks},get name(){return ge.name},get preload(){return ge.preload},slide:{content:"",revision:"4n5o3q",note:"",index:3,noteHTML:`<p>This series about Open Source consists of multiple parts, part 1 is The Set Theory that I gave the last year. And the second one is called &quot;The Progressive Path&quot;, maybe someday I can do it again here in Japan. In the meantime, <span class="slidev-note-click-mark" data-clicks="1"></span> you can always find the slides and recordings of my previous talks on my website.</p>
`,raw:"",frontmatter:ge,filepath:"",start:99,id:3,no:4},__clicksContext:null,__preloaded:!1}),Gi={class:"flex justify-center items-center gap-20 px40 text-xl",glow:"bottom"},ye=I(Gi),Yi=V({get layout(){return ye.layout},get transition(){return ye.transition},get class(){return ye.class},get clicks(){return ye.clicks},get name(){return ye.name},get preload(){return ye.preload},slide:{content:"",revision:"-sh5lim",frontmatterRaw:`class: flex justify-center items-center gap-20 px40 text-xl
glow: bottom
`,note:"",title:"Yak{.important-text-3em}",level:1,index:4,noteHTML:`<p>Back to our topic today. So, what is yak shaving? It seems to be pretty random right?</p>
<p>Let's break it down and see how it explains.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> Yak is a type of cattle with long hair and long horns. I don't really know to to pronounce the kanji in Japanese.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> Shaving means removing hair from the body.</p>
<p>Combine the two together, they still don't explain much.</p>
`,raw:"",frontmatter:ye,filepath:"",start:126,id:4,no:5},__clicksContext:null,__preloaded:!1}),Qi={layout:"center"},ke=I(Qi),Zi=V({get layout(){return ke.layout},get transition(){return ke.transition},get class(){return ke.class},get clicks(){return ke.clicks},get name(){return ke.name},get preload(){return ke.preload},slide:{content:"",revision:"-oyb8rx",frontmatterRaw:`layout: center
`,note:"",index:5,noteHTML:`<p>Here is an illustration by David Revoy to give you some impressions of Yak Shaving on literal.</p>
`,raw:"",frontmatter:ke,filepath:"",start:173,id:5,no:6},__clicksContext:null,__preloaded:!1}),Xi={glow:"left"},ve=I(Xi),ea=V({get layout(){return ve.layout},get transition(){return ve.transition},get class(){return ve.class},get clicks(){return ve.clicks},get name(){return ve.name},get preload(){return ve.preload},slide:{content:"",revision:"-mxf3d5",frontmatterRaw:`glow: left
`,note:"",title:'An Example of "Yak Shaving"',level:1,index:6,noteHTML:`<p>Well, I hope I didn't make it more confusing for you.</p>
<p>Yak Shaving is actually a term we use to describe a phenomenon in the tech world or our daily lives. Let me give you the same example.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> Let's say today we wanted to write a blog, but after some searching,</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> We found that the existing tools don't quite meet our needs, so we decided to create our own static site generator.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> After spending half a month building, we realized that the frameworks don't work well with our generator, so we decided to invent a new framework.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> Another month passed, and we realized that we now need routing, state management, IDE plugins, DevTools, and more.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> Two years later...</p>
<p><span class="slidev-note-click-mark" data-clicks="6"></span> You somehow find yourself inexplicably shaving a yak in Tibet...</p>
<p><span class="slidev-note-click-mark" data-clicks="7"></span> But wait, what about your blog?</p>
`,raw:"",frontmatter:ve,filepath:"",start:188,id:6,no:7},__clicksContext:null,__preloaded:!1}),ta={class:"flex flex-col gap-4 items-center justify-center"},we=I(ta),na=V({get layout(){return we.layout},get transition(){return we.transition},get class(){return we.class},get clicks(){return we.clicks},get name(){return we.name},get preload(){return we.preload},slide:{content:"",revision:"tk20qd",frontmatterRaw:`class: flex flex-col gap-4 items-center justify-center
`,note:"",index:7,noteHTML:`<p>Just like the example we mentioned earlier, the term &quot;Yak Shaving&quot; refers to <span class="slidev-note-click-mark" data-clicks="1"></span> a series of task chains that are triggered in the process of solving a problem, resulting <span class="slidev-note-click-mark" data-clicks="2"></span> in deviating from the original goal. <span class="slidev-note-click-mark" data-clicks="3"></span> This term usually carries a negative connotation and is often used to educate people to stay focused on the goal and avoid getting lost in endless details.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> This term also has a similar saying, called &quot;Down to the Rabbit Hole.&quot;</p>
<p>Although this term is often used in a derogatory sense, what if we consider it from another perspective? What if we were able to accomplish all the things we mentioned? Wouldn't we potentially come up with a completely new solution?</p>
<p>Of course, we know that these things have a considerable level of complexity, and it is impossible to complete them on our own in a short period of time. It is easy to get lost in this process and eventually give up.</p>
<p>This is where the charm of open source comes in. If the solution you provide is compelling enough, you may receive help from more people in the open source community, harnessing the power of the community to create a complete ecosystem. Transforming &quot;Yak Shaving&quot; into a positive and proactive process.</p>
`,raw:"",frontmatter:we,filepath:"",start:239,id:7,no:8},__clicksContext:null,__preloaded:!1}),sa={glowSeed:10},be=I(sa),oa=V({get layout(){return be.layout},get transition(){return be.transition},get class(){return be.class},get clicks(){return be.clicks},get name(){return be.name},get preload(){return be.preload},slide:{content:"",revision:"yqhhdh",frontmatterRaw:`glowSeed: 10
`,note:"",title:'Utilizing "Yak Shaving"',level:1,index:8,noteHTML:`<p>Here, let's analyze how we can effectively utilize &quot;Yak Shaving&quot; to come up with suitable ideas for open source projects.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> I would say that &quot;Yak Shaving&quot; can be a great way to generate ideas and provide strong motivation.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> From the perspective of needs, because our &quot;yak hair&quot; comes from the problems we encounter ourselves, starting from our own needs allows us to have a deeper understanding of the problem and potential solutions.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> And our motivation for &quot;shaving this yak&quot; comes from solving our own problems and the possibility of helping others.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> Furthermore, our needs are likely to be shared by others, and we can validate our ideas through the open source community.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> Finally, through community discussions and contributions, we can iterate on our designs and improve our solutions.</p>
<p>By following this approach, we can gather the essential elements for the continuous development of open source projects - what we are skilled at and enjoy, and what the community needs.</p>
<p>This approach is much more practical than trying to guess what kind of open source projects will be successful.</p>
`,raw:"",frontmatter:be,filepath:"",start:272,id:8,no:9},__clicksContext:null,__preloaded:!1}),ia={},Se=I(ia),aa=V({get layout(){return Se.layout},get transition(){return Se.transition},get class(){return Se.class},get clicks(){return Se.clicks},get name(){return Se.name},get preload(){return Se.preload},slide:{content:"",revision:"g2gabe",note:"",title:"Examples in Business",level:1,index:9,noteHTML:`<p>Let's take some real examples of how this works <span class="slidev-note-click-mark" data-clicks="1"></span> in the business world.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> So we know Shopify. At the very begining, they actually started by selling snowboards,
<span class="slidev-note-click-mark" data-clicks="3"></span> At some point, they want to scale up their business, so they started to build an online store to sell more snowboards.
<span class="slidev-note-click-mark" data-clicks="4"></span> While they build the store for themselves, they found out that this can also be a common need for other kind of stores - which they end up building the e-commerce store platform we know today.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> Then we have Epic Games.
<span class="slidev-note-click-mark" data-clicks="6"></span> They first started by trying to make a 3D game,
<span class="slidev-note-click-mark" data-clicks="7"></span> But they found out that making 3D games is hard, so they made a game engine to make things easier,
<span class="slidev-note-click-mark" data-clicks="8"></span> The engine is now called Unreal Engine, where they are now licensing it to other game developers.</p>
<p><span class="slidev-note-click-mark" data-clicks="9"></span> Similarly, we have Amazon <span class="slidev-note-click-mark" data-clicks="10"></span> that first started working on <span class="slidev-note-click-mark" data-clicks="11"></span> the infrastructure for their store, and <span class="slidev-note-click-mark" data-clicks="12"></span> end up have AWS, <span class="slidev-note-click-mark" data-clicks="13"></span> which became Amazon's largest revenue source today.</p>
<p><span class="slidev-note-click-mark" data-clicks="14"></span> Then we have Slack, <span class="slidev-note-click-mark" data-clicks="15"></span> first work on a game <span class="slidev-note-click-mark" data-clicks="16"></span> that eventually failed, <span class="slidev-note-click-mark" data-clicks="17"></span> but their internal communication app <span class="slidev-note-click-mark" data-clicks="18"></span> now becomes their main bussiness and selling to enterprises.</p>
`,raw:"",frontmatter:Se,filepath:"",start:353,id:9,no:10},__clicksContext:null,__preloaded:!1}),ra={glow:"right"},_e=I(ra),la=V({get layout(){return _e.layout},get transition(){return _e.transition},get class(){return _e.class},get clicks(){return _e.clicks},get name(){return _e.name},get preload(){return _e.preload},slide:{content:"",revision:"-15dnzk",frontmatterRaw:`glow: right
`,note:"",title:"Idea Generation and Implementation Process",level:1,index:10,noteHTML:`<p>So, let's get back to open source. Here, I would like to briefly outline what I personally consider as the process of generating open source tool ideas and their implementation using the concept of &quot;Yak Shaving&quot;.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> When we encounter a problem, the first step is to take some time to understand the problem and consider possible solutions. Think about whether it could be a general solution that others might have encountered.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> Then, we can search if there are existing libraries in the market. Following the principle of &quot;do less work if possible,&quot; it's best to reuse existing solutions. <span class="slidev-note-click-mark" data-clicks="3"></span> At the same time, you can contribute to open source by providing feedback and suggestions to improve existing solutions.</p>
<p>If you can't find an existing tool that meets your expectations or if the existing tools don't fit your needs but could be a general solution, congratulations! You may have a viable idea. <span class="slidev-note-click-mark" data-clicks="4"></span> At this point, you can start implementing your own tool by first creating an MVP (Minimum Viable Product) to validate the feasibility of your idea. When designing, keep in mind the idea of decoupling interfaces for future extensibility.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> The key to avoiding the yak-shaving trap is &quot;to get back in time.&quot; <span class="slidev-note-click-mark" data-clicks="6"></span> You don't need to make it perfect; it just needs to meet your current needs. The important thing is to return to your main task in a timely manner. You can refine the details of the tool later.</p>
<p><span class="slidev-note-click-mark" data-clicks="7"></span> Assuming we have completed our main task and have some extra time, if you are still interested in the tool, you can extract it into a separate library, write brief documentation explaining your motivation for creating the tool, and then open-source the repository.</p>
<p><span class="slidev-note-click-mark" data-clicks="8"></span> Once all of this is done, you can promote your repository appropriately. Share it with colleagues, post it on social media, and so on. This will help gather feedback from the community and understand the pros and cons of your solution.</p>
<p><span class="slidev-note-click-mark" data-clicks="9"></span> I highly encourage you to write a technical blog post summarizing your journey during this process. Share the problems you encountered, the solutions you proposed, and the lessons you learned. This not only for introducing your tool to others, but also serves as a valuable technical resource. Even people who don't directly use your tool can learn something from your exploration. Even in the worst case scenario, if our idea is ultimately proven to be unfeasible, this blog post can still be a valuable exploration. Just like in academic papers, the failure to validate a hypothesis is also an important contribution.</p>
<p><span class="slidev-note-click-mark" data-clicks="10"></span> In the end, we can use the open source community to validate the generality of our solution.</p>
<p><span class="slidev-note-click-mark" data-clicks="11"></span> If our project doesn't gain much attention in the end, that's okay. Lower our expectation, at least we solved our own problem, summarized the solution, and gained valuable experience.</p>
<p><span class="slidev-note-click-mark" data-clicks="12"></span> But if our tool is fortunate enough to be embraced by the community, we will naturally receive notifications from GitHub indicating that others are starting to contribute. At this point, we can start discussing with the community, accepting feedback, fixing bugs, adding new features, and so on. Throughout this process, you will find that your tool becomes more refined, and while helping others, the improved tool will also benefit you.</p>
<p>(Pause)</p>
`,raw:"",frontmatter:_e,filepath:"",start:438,id:10,no:11},__clicksContext:null,__preloaded:!1}),ca={layout:"center"},Me=I(ca),ua=V({get layout(){return Me.layout},get transition(){return Me.transition},get class(){return Me.class},get clicks(){return Me.clicks},get name(){return Me.name},get preload(){return Me.preload},slide:{content:"",revision:"-4ycl25",frontmatterRaw:`layout: center
`,note:"",title:"Anthony's Road of Yak Shaving {.important-text-5xl}",level:1,index:11,noteHTML:`<p>That said, here I'd like to share some of my journey of Yak Shaving, for your reference and hope can bring you some inspiration.</p>
`,raw:"",frontmatter:Me,filepath:"",start:505,id:11,no:12},__clicksContext:null,__preloaded:!1}),da={clicks:46,zoom:.75,layout:"none",class:"flex h-full w-full",glow:"topmost",glowSeed:18},Oe=I(da),fa=V({get layout(){return Oe.layout},get transition(){return Oe.transition},get class(){return Oe.class},get clicks(){return Oe.clicks},get name(){return Oe.name},get preload(){return Oe.preload},slide:{content:"",revision:"br9bxq",frontmatterRaw:`clicks: 46
zoom: 0.75
layout: none
class: flex h-full w-full
glow: topmost
glowSeed: 18
`,note:"",index:12,noteHTML:`<p>My journey in open source started with a project built on Nuxt called BreadSplit around 5 years ago, an app for managing shared wallets. At that point, we wanted to internationalization, but I found that there were no good tools for managing the translations in VS Code, <span class="slidev-note-click-mark" data-clicks="1"></span> so I made the extension called <code>i18n Ally</code> to improve the experience.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> From this project, I also extracted the composables we use internally out to become VueUse. At that time, the Vue 3 was not yet ready, and the community still hesitated about the new Composition API. I was trying to make VueUse work on both Vue 2 and Vue 3 to cover more users and make the transition easier (kinda like the &quot;Set Theory&quot; mindset we talked about last year). <span class="slidev-note-click-mark" data-clicks="3"></span> I started to contribute to the  <code>@vue/composition-api</code> plugin to make sure the behavior aligns with Vue 3. <span class="slidev-note-click-mark" data-clicks="4"></span> This project later got me into the Vue and also later came up with the library <code>vue-demi</code>.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> As I joined the Vue team, I started to dig deeper into the composition API and the reactivity system. <span class="slidev-note-click-mark" data-clicks="6"></span> It got me to create Vue Reactivity experiments, and ReactiVue, which hook VUe's reactivity API into React.</p>
<p><span class="slidev-note-click-mark" data-clicks="7"></span> And then Vite came out; <span class="slidev-note-click-mark" data-clicks="8"></span> I started trying the new build tool with Vue 3 and made the icon explorer <code>Icones</code>. It's my first app built on top of Vite. From that as the starting point, I found out that there are so many things missing in Vite because it was very young. Then I built <span class="slidev-note-click-mark" data-clicks="9"></span> <code>vite-pwa</code>, and a bunch of plugins like <span class="slidev-note-click-mark" data-clicks="10"></span> auto-imports, components, icons etc to enhance the developer experience of Vite.</p>
<p><span class="slidev-note-click-mark" data-clicks="11"></span> Since I worked a lot with icons, I started to involve with the Iconify project, <span class="slidev-note-click-mark" data-clicks="12"></span> combining with my experience of VS Code extension when making <code>i18n ally</code>, <span class="slidev-note-click-mark" data-clicks="13"></span> I made <code>Iconify IntelliSense</code> to display icons inside our code.</p>
<p><span class="slidev-note-click-mark" data-clicks="14"></span> From the work on Vite plugins, I made <code>vite-plugin-inspect</code> to see the internal of Vite's pipeline and help myself to debug.</p>
<p><span class="slidev-note-click-mark" data-clicks="15"></span> By combining all my exploration of the vite ecosystem, I extract them into the template called <code>Vitesse</code>, which somehow became quite popular. On top of that, I also made a variation <span class="slidev-note-click-mark" data-clicks="16"></span> called <code>vitesse-webext</code> for browser extensions, and <span class="slidev-note-click-mark" data-clicks="17"></span> a small library for it.</p>
<p><span class="slidev-note-click-mark" data-clicks="18"></span> With Vite becoming more and more mature, I started to migrate my blog site to Vite. Along the way, I made <span class="slidev-note-click-mark" data-clicks="19"></span> a vite plugin for compiling markdown, and <span class="slidev-note-click-mark" data-clicks="20"></span> <code>vite-ssg</code> for static site generator (what a coincidence to our previous examples :P)</p>
<p><span class="slidev-note-click-mark" data-clicks="21"></span> When it comes to styling, I found the project called Windi CSS, which was more like an on-demand version of Tailwind, and I started to contribute and build a plugin for it.</p>
<p><span class="slidev-note-click-mark" data-clicks="22"></span> At the same time, I have to prepare a talk about Vue. As a side product of my procrastination, I made Slidev, the slides maker that you are looking at right now. <span class="slidev-note-click-mark" data-clicks="23"></span> from Slidev, I also made <code>drauu</code> for drawing on slides, and <code>broz</code> for taking beautiful screenshots.</p>
<p><span class="slidev-note-click-mark" data-clicks="24"></span> Then, with the experience I got with Windi CSS, I made UnoCSS, an atomic CSS engine that is highly extensible. <span class="slidev-note-click-mark" data-clicks="25"></span> Combining with Iconify, I came up with the Pure CSS icons solution. Which I think is still the best approach for icons today.</p>
<p><span class="slidev-note-click-mark" data-clicks="26"></span> From my work on Vitesse, I got invited to work on Nuxt. <span class="slidev-note-click-mark" data-clicks="27"></span> From my work at Nuxt <span class="slidev-note-click-mark" data-clicks="28"></span>, I made <code>unplugin</code> to allow plugins to support both Vite and webpack easily, and <span class="slidev-note-click-mark" data-clicks="29"></span> <code>unimport</code> to unify auto-import usages.</p>
<p>To improve Nuxt' SSR experience in development, Pooya and I came up with the SSR runtime for Vite that <span class="slidev-note-click-mark" data-clicks="30"></span> later became <code>vite-node</code>. Having the foundation of <code>vite-node</code>, it made <span class="slidev-note-click-mark" data-clicks="31"></span> <code>Vitest</code> possible. When making Vitest, we need a way to communicate between worker threads and main threads. <span class="slidev-note-click-mark" data-clicks="32"></span> I came up with the library <code>birpc</code> to handle remote procedure calls.</p>
<p>With the foundation work of <code>vite-plugin-inspect</code> and <code>birpc</code>, <span class="slidev-note-click-mark" data-clicks="33"></span> I started to work on <code>Nuxt DevTools</code> to present you the internal of your Nuxt app and help you to understand it better. Then we have <span class="slidev-note-click-mark" data-clicks="34"></span> <code>magicast</code> to write changes back to your config easier; We build <span class="slidev-note-click-mark" data-clicks="35"></span> Elk the maston client with Nuxt. <span class="slidev-note-click-mark" data-clicks="36"></span> Then the Nuxt Playground <code>learn.nuxt.com</code>.</p>
<p>Amount all these project, highlighting code becomes a tricky thing to do right, so <span class="slidev-note-click-mark" data-clicks="37"></span> I started to work on improve Shiki, and end up completely rewriting it. From it I also made <span class="slidev-note-click-mark" data-clicks="38"></span> <code>shiki-magic-move</code>, <span class="slidev-note-click-mark" data-clicks="39"></span> <code>shiki/monaco</code>, <span class="slidev-note-click-mark" data-clicks="40"></span> Twoslash integration, etc.</p>
<p><span class="slidev-note-click-mark" data-clicks="41"></span> Then I somehow get trapped into the ESLint ecosystem, <span class="slidev-note-click-mark" data-clicks="42"></span> I started to take over the ESLint Stylistic project, I made the <span class="slidev-note-click-mark" data-clicks="43"></span> config inspector which later become official, and a lot other small utilities. <span class="slidev-note-click-mark" data-clicks="44"></span> All these experience I got working on them later be utilized to make the <span class="slidev-note-click-mark" data-clicks="45"></span> Nuxt ESLint module possible.</p>
<p>Wooof. You can see I really down to the rabbit hole super deep. <span class="slidev-note-click-mark" data-clicks="46"></span></p>
<p>I hope my experience can inspire everyone. Each person has their own strengths and interests, and the birth of many projects has a certain timeliness and randomness. Everyone's journey of growth and yak shaving map will certainly be different. I am also very much looking forward to seeing your versions.</p>
`,raw:"",frontmatter:Oe,filepath:"",start:515,id:12,no:13},__clicksContext:null,__preloaded:!1}),ha={layout:"center",glow:"center"},Te=I(ha),pa=V({get layout(){return Te.layout},get transition(){return Te.transition},get class(){return Te.class},get clicks(){return Te.clicks},get name(){return Te.name},get preload(){return Te.preload},slide:{content:"",revision:"v7f83v",frontmatterRaw:`layout: center
glow: center
`,note:"",index:13,noteHTML:`<p>Before we call it a day, I would like to reiterate the expectations on open source. While open source is a broad topic, different people may have different interpretations and expectations of open source. <span class="slidev-note-click-mark" data-clicks="1"></span> However, I believe that Open Source is about Giving.</p>
`,raw:"",frontmatter:Te,filepath:"",start:578,id:13,no:14},__clicksContext:null,__preloaded:!1}),ma={glow:"bottom"},Ae=I(ma),ga=V({get layout(){return Ae.layout},get transition(){return Ae.transition},get class(){return Ae.class},get clicks(){return Ae.clicks},get name(){return Ae.name},get preload(){return Ae.preload},slide:{content:"",revision:"gvl9rp",frontmatterRaw:`glow: bottom
`,note:"",title:"Expections on Open Source",level:1,index:14,noteHTML:`<p>I think everyone has their own motivations and goals for participating in open source. It could be to improve their skills, to have better job opportunities, or simply to make the world a better place, among other reasons. Open source is a diverse community, and all these motivations are valid. However, different motivations may lead to different expectations of open source. Here, I want to talk about adjusting our expectations of open source, which could help us better integrate into the community and enjoy the benefits of open source.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> I like to think of open source projects as gifts. When we use someone else's open source project, it's like receiving a free lunch from a stranger. And when we contribute to open source, it's like giving a gift, a gesture from our hearts. <span class="slidev-note-click-mark" data-clicks="2"></span> When you give a gift, you may often receive something in return, but reciprocity should not be the primary goal of giving. <span class="slidev-note-click-mark" data-clicks="3"></span> For me, the process of open source itself is the goal. I enjoy sharing and working together with others to solve problems. When you stop focusing on the rewards, you will enjoy the process more, and in the long run, you may receive even more, just like how I am grateful for the opportunity to stand here today and share my thoughts with all of you, thanks to the opportunities provided by open source. <span class="slidev-note-click-mark" data-clicks="4"></span> Open source is not just about code; it is a community, a culture, a spirit. <span class="slidev-note-click-mark" data-clicks="5"></span> When you become part of this community, you will meet a group of generous and helpful people. They will appreciate your contributions, and you will also receive gratitude and assistance from many others. I believe this spirit of mutual support is at the core of open source.</p>
<p><span class="slidev-note-click-mark" data-clicks="6"></span> If you have a deeper interest in this topic, I recommend reading these articles. The PDF of the slides can be found on my website.</p>
`,raw:"",frontmatter:Ae,filepath:"",start:591,id:14,no:15},__clicksContext:null,__preloaded:!1}),ya={layout:"intro",class:"text-center pb-5",glowX:50,glowY:120},Ee=I(ya),ka=V({get layout(){return Ee.layout},get transition(){return Ee.transition},get class(){return Ee.class},get clicks(){return Ee.clicks},get name(){return Ee.name},get preload(){return Ee.preload},slide:{content:"",revision:"-bl7q0w",frontmatterRaw:`layout: intro
class: text-center pb-5
glowX: 50
glowY: 120
`,note:"",title:"ハッピーハッキング！{.font-jp}",level:1,index:15,noteHTML:`<p>Finally, I hope everyone can find their own place in the open source community and enjoy the process. Wishing you all the best in your open source journey.</p>
<p>お疲れさまでした！ありがとうございました。アフターパーティーを お楽しみください。</p>
`,raw:"",frontmatter:Ee,filepath:"",start:646,id:15,no:16},__clicksContext:null,__preloaded:!1}),B=new Array(16),q=(n,e)=>To({loader:e,delay:300,loadingComponent:Vi,errorComponent:z,onError:t=>console.error("Failed to load slide "+(n+1),t)}),Wn=async()=>{try{return B[0]??=await E(()=>import("./md-DOjs7uTT.js"),__vite__mapDeps([0,1,2,3,4]))}catch(n){return console.error("slide failed to load",n),z}},Bn=async()=>{try{return B[1]??=await E(()=>import("./md-s5X-Ed_a.js"),__vite__mapDeps([5,1,6,3,4]))}catch(n){return console.error("slide failed to load",n),z}},Un=async()=>{try{return B[2]??=await E(()=>import("./md-BbYPYphK.js"),__vite__mapDeps([7,1,3,4]))}catch(n){return console.error("slide failed to load",n),z}},Jn=async()=>{try{return B[3]??=await E(()=>import("./md-BdhthMj8.js"),__vite__mapDeps([8,1,9,3,4]))}catch(n){return console.error("slide failed to load",n),z}},Kn=async()=>{try{return B[4]??=await E(()=>import("./md-hv8cnvoy.js"),__vite__mapDeps([10,1,9,3,4]))}catch(n){return console.error("slide failed to load",n),z}},Gn=async()=>{try{return B[5]??=await E(()=>import("./md-D4tXDj7t.js"),__vite__mapDeps([11,1,2,3,4]))}catch(n){return console.error("slide failed to load",n),z}},Yn=async()=>{try{return B[6]??=await E(()=>import("./md-MWZ8j1cW.js"),__vite__mapDeps([12,1,13,14,9,3,4,15]))}catch(n){return console.error("slide failed to load",n),z}},Qn=async()=>{try{return B[7]??=await E(()=>import("./md-FLViwY72.js"),__vite__mapDeps([16,1,9,3,4]))}catch(n){return console.error("slide failed to load",n),z}},Zn=async()=>{try{return B[8]??=await E(()=>import("./slidev/md-DLDqa9Kj.js"),__vite__mapDeps([17,1,9,3,4]))}catch(n){return console.error("slide failed to load",n),z}},Xn=async()=>{try{return B[9]??=await E(()=>import("./md-mvj3aD7c.js"),__vite__mapDeps([18,14,1,9,3,4]))}catch(n){return console.error("slide failed to load",n),z}},es=async()=>{try{return B[10]??=await E(()=>import("./md-ZoNeMepN.js"),__vite__mapDeps([19,1,9,3,4]))}catch(n){return console.error("slide failed to load",n),z}},ts=async()=>{try{return B[11]??=await E(()=>import("./md-BD4v8Gvt.js"),__vite__mapDeps([20,1,2,3,4]))}catch(n){return console.error("slide failed to load",n),z}},ns=async()=>{try{return B[12]??=await E(()=>import("./md-CgSxY0m0.js"),__vite__mapDeps([21,1,13,3,4,22]))}catch(n){return console.error("slide failed to load",n),z}},ss=async()=>{try{return B[13]??=await E(()=>import("./md-A_yN86X8.js"),__vite__mapDeps([23,1,2,3,4]))}catch(n){return console.error("slide failed to load",n),z}},os=async()=>{try{return B[14]??=await E(()=>import("./md-DBvxyCpQ.js"),__vite__mapDeps([24,1,9,3,4]))}catch(n){return console.error("slide failed to load",n),z}},is=async()=>{try{return B[15]??=await E(()=>import("./md-nHX3zgol.js"),__vite__mapDeps([25,1,6,3,4]))}catch(n){return console.error("slide failed to load",n),z}},va=[{no:1,meta:zi,load:Wn,component:q(0,Wn)},{no:2,meta:Wi,load:Bn,component:q(1,Bn)},{no:3,meta:Ui,load:Un,component:q(2,Un)},{no:4,meta:Ki,load:Jn,component:q(3,Jn)},{no:5,meta:Yi,load:Kn,component:q(4,Kn)},{no:6,meta:Zi,load:Gn,component:q(5,Gn)},{no:7,meta:ea,load:Yn,component:q(6,Yn)},{no:8,meta:na,load:Qn,component:q(7,Qn)},{no:9,meta:oa,load:Zn,component:q(8,Zn)},{no:10,meta:aa,load:Xn,component:q(9,Xn)},{no:11,meta:la,load:es,component:q(10,es)},{no:12,meta:ua,load:ts,component:q(11,ts)},{no:13,meta:fa,load:ns,component:q(12,ns)},{no:14,meta:pa,load:ss,component:q(13,ss)},{no:15,meta:ga,load:os,component:q(14,os)},{no:16,meta:ka,load:is,component:q(15,is)}],se=vn(va);function wa(n,e){if(!e||e==="all"||e==="*")return Rn(1,n+1);if(e==="none")return[];const t=[];for(const s of e.split(/[,;]/g))if(!s.includes("-"))t.push(+s);else{const[o,i]=s.split("-",2);t.push(...Rn(+o,i?+i+1:n+1))}return Zo(t).filter(s=>s<=n).sort((s,o)=>s-o)}const nt="$$slidev-clicks-context",It="$$slidev-page",xs="$$slidev-slide-element",js="$$slidev-slide-scale",Rs="$$slidev-context",ba="$$slidev-route",xt="$$slidev-render-context",Ns="$$slidev-fontmatter",Ds="$$slidev-slide-zoom",pt="slidev-vclick-target",Je="slidev-vclick-hidden",Ke="slidev-vclick-fade",Wt="slidev-vclick-hidden-explicitly",Bt="slidev-vclick-current",Ut="slidev-vclick-prior",mt=999999,Sa=["localhost","127.0.0.1"],Hs=["clicks","clicksStart","disabled","hide","hideInToc","layout","level","preload","routeAlias","src","title","transition","zoom","dragPos","lang"],_a=[...Hs,"theme","titleTemplate","info","author","keywords","presenter","browserExporter","download","exportFilename","export","highlighter","lineNumbers","monaco","monacoTypesSource","monacoTypesAdditionalPackages","monacoRunAdditionalDeps","remoteAssets","selectable","record","colorSchema","routerMode","aspectRatio","canvasWidth","themeConfig","favicon","plantUmlServer","fonts","defaults","drawings","htmlAttrs","mdc","contextMenu","wakeLock","seoMeta"];function Ma(n,e,{mode:t="replace"}={}){const s=$t();return b({get(){const o=s.currentRoute.value.query[n];return o==null?e:Array.isArray(o)?o.filter(Boolean):o},set(o){Ao(()=>{(s.currentRoute.value.query[n]??e?.toString())!==o.toString()&&s[Eo(t)]({query:{...s.currentRoute.value.query,[n]:`${o}`===e?void 0:o}})})}})}function Oa(){const n=re(Rs),e=jn(n,"nav"),t=re(nt).value,s=jn(t,"current"),o=re(It),i=re(xt),a=re(Ns,{}),r=re(ba,void 0),l=re(js,O(1)),c=re(Ds,b(()=>1));return{$slidev:n,$nav:e,$clicksContext:t,$clicks:s,$page:o,$route:r,$renderContext:i,$frontmatter:a,$scale:l,$zoom:c}}function Ml(n,e){return{...Co(n,e===0?_a:Hs),frontmatter:n}}function jt(n){return se.value.find(e=>e.no===+n||e.meta.slide?.frontmatter.routeAlias===n)}function Ve(n,e,t=!1){(typeof n=="number"||typeof n=="string")&&(n=jt(n));const s=n.meta.slide?.frontmatter.routeAlias??n.no;return t?`/export/${s}`:e?`/presenter/${s}`:`/${s}`}function Ta(){const{$page:n}=Oa(),{currentSlideNo:e}=xe();return b(()=>n.value===e.value)}function Ol(n){const e=Ta();Le(()=>e.value&&n())}const Aa={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function Ea(n,e=!1){if(!n||(typeof n=="string"&&(n={name:n}),!n.name))return;let t=n.name.includes("|")?n.name:Aa[n.name]||n.name;if(t.includes("|")){const[s,o]=t.split("|").map(i=>i.trim());t=e?o:s}if(t)return{...n,name:t}}function Ca(n,e,t){let s=n>0?t?.meta?.transition:e?.meta?.transition;return s||(s=L.transition||void 0),Ea(s,n<0)}const Tl=O(!1),Al=O(!1),El=O(!1),Pa=O(!1),wn=O(!1),Cl=O(!1),Pl=O(!0),$l=xo({xs:460,...jo}),_t=$o(),Ll=Po(),Il=b(()=>_t.height.value-_t.width.value/As.value>120),xl=Lo(Lt?document.body:null),Vs=Io(),jl=b(()=>["INPUT","TEXTAREA"].includes(Vs.value?.tagName||"")),Rl=b(()=>["BUTTON","A"].includes(Vs.value?.tagName||""));F("slidev-camera","default",{listenToStorageChanges:!1});F("slidev-mic","default",{listenToStorageChanges:!1});const $a=F("slidev-scale",0),Nl=F("slidev-wake-lock",!0),Dl=F("slidev-hide-cursor-idle",!0);F("slidev-skip-export-pdf-tip",!1);F("slidev-export-capture-delay",400,{listenToStorageChanges:!1});const Hl=F("slidev-presenter-cursor",!0,{listenToStorageChanges:!1}),La=F("slidev-show-editor",!1,{listenToStorageChanges:!1}),Ia=F("slidev-editor-vertical",!1,{listenToStorageChanges:!1}),xa=F("slidev-editor-width",Lt?window.innerWidth*.4:318,{listenToStorageChanges:!1}),ja=F("slidev-editor-height",Lt?window.innerHeight*.4:300,{listenToStorageChanges:!1}),at=vn(null),Mt=F("slidev-presenter-font-size",1,{listenToStorageChanges:!1}),rt=F("slidev-presenter-layout",1,{listenToStorageChanges:!1}),ln={invert:!1,contrast:1,brightness:1,hueRotate:0,saturate:1,sepia:0},Ra=F("slidev-viewer-css-filter",ln,{listenToStorageChanges:!1,mergeDefaults:!0,deep:!0}),Vl=b(()=>Object.keys(ln).some(n=>Ra.value[n]!==ln[n]));function Fl(){rt.value=rt.value+1,rt.value>3&&(rt.value=1)}function zl(){Mt.value=Math.min(2,Mt.value+.1)}function ql(){Mt.value=Math.max(.5,Mt.value-.1)}const Wl=Ms(Pa),lt=F("slidev-sync-directions",{viewerSend:!0,viewerReceive:!0,presenterSend:!0,presenterReceive:!0},{listenToStorageChanges:!1,mergeDefaults:!0});function Fs(n,e,t=1){const s=e.meta.slide.level??t;s&&s>t&&n.length>0?Fs(n[n.length-1].children,e,t+1):n.push({no:e.no,children:[],level:t,titleLevel:s,path:Ve(e.meta.slide?.frontmatter?.routeAlias??e.no,!1),hideInToc:!!e.meta?.slide?.frontmatter?.hideInToc,title:e.meta?.slide?.title})}function zs(n,e,t=!1,s,o){return n.map(i=>{const a={...i,active:i.no===o?.value,hasActiveParent:t};return a.children.length>0&&(a.children=zs(a.children,e,a.active||a.hasActiveParent,a,o)),s&&(a.active||a.activeParent)&&(s.activeParent=!0),a})}function qs(n,e=1){return n.filter(t=>!t.hideInToc).map(t=>({...t,children:qs(t.children,e+1)}))}function Na(n,e,t){const s=b(()=>n.value.filter(i=>i.meta?.slide?.title).reduce((i,a)=>(Fs(i,a),i),[])),o=b(()=>zs(s.value,t.value,void 0,void 0,e));return b(()=>qs(o.value))}function Da(n,e,t=O(0),s,o,i){const a=b(()=>se.value.length),r=O(0),l=O(0),c=b(()=>Ve(n.value,s.value)),d=b(()=>n.value.no),h=b(()=>n.value.meta?.layout||(d.value===1?"cover":"default")),f=b(()=>e.value.current),u=b(()=>e.value.clicksStart),m=b(()=>e.value.total),p=b(()=>se.value[Math.min(se.value.length,d.value+1)-1]),g=b(()=>se.value[Math.max(1,d.value-1)-1]),y=b(()=>d.value<se.value.length||f.value<m.value),k=b(()=>d.value>1||f.value>0),v=b(()=>o.value?void 0:Ca(r.value,n.value,g.value));ee(n,(j,P)=>{r.value=j.no-P.no});async function w(j){return!1}const S=Na(se,d,n);async function T(){l.value=1,m.value<=t.value?await N():t.value+=1}async function C(){l.value=-1,t.value<=u.value?await U(!0):t.value-=1}async function N(j=!1){l.value=1,d.value<se.value.length&&await M(d.value+1,j&&!o.value?mt:void 0)}async function U(j=!1){l.value=-1,d.value>1&&await M(d.value-1,j&&!o.value?mt:void 0)}function ce(){return M(1)}function Z(){return M(a.value)}async function M(j,P=0,ae=!1){wn.value=!1;const ue=d.value!==j,Be=P!==t.value,G=jt(j)?.meta,x=G?.slide?.frontmatter.clicksStart??0;P=sn(P,x,G?.__clicksContext?.total??mt),(ae||ue||Be)&&await i?.push({path:Ve(j,s.value,i.currentRoute.value.name==="export"),query:{...i.currentRoute.value.query,clicks:P===0?void 0:P.toString(),embedded:location.search.includes("embedded")?"true":void 0}})}function A(){i?.push({path:Ve(d.value,!0),query:{...i.currentRoute.value.query}})}function D(){i?.push({path:Ve(d.value,!1),query:{...i.currentRoute.value.query}})}return{slides:se,total:a,currentPath:c,currentSlideNo:d,currentPage:d,currentSlideRoute:n,currentLayout:h,currentTransition:v,clicksDirection:l,nextRoute:p,prevRoute:g,clicksContext:e,clicks:f,clicksStart:u,clicksTotal:m,hasNext:y,hasPrev:k,tocTree:S,navDirection:r,openInEditor:w,next:T,prev:C,go:M,goLast:Z,goFirst:ce,nextSlide:N,prevSlide:U,enterPresenter:A,exitPresenter:D}}const Ha=Os(()=>{const n=$t(),e=Ro(),t=b(()=>(n?.currentRoute?.value?.query,new URLSearchParams(location.search))),s=b(()=>t.value.has("print")||e.name==="export"),o=O(t.value.get("print")==="clicks"),i=b(()=>t.value.has("embedded")),a=b(()=>e.name==="play"),r=b(()=>e.name==="presenter"),l=b(()=>e.name==="notes"),c=b(()=>!r.value&&(!L.remote||t.value.get("password")===L.remote)),d=b(()=>!!e.params.no),h=b(()=>d.value?jt(e.params.no)?.no??1:1),f=b(()=>se.value[h.value-1]),u=O(wa(se.value.length,e?.query?.range)),m=Ma("clicks","0"),p=b(()=>y(f.value)),g=b({get(){let k=+(m.value||0);return Number.isNaN(k)&&(k=0),k},set(k){wn.value=!1,m.value=k.toString()}});function y(k){if(k?.meta?.__clicksContext)return k.meta.__clicksContext;const v=k.no,w=Is(b({get(){return h.value===v?Math.max(+(m.value??0),w.clicksStart):h.value>v?mt:w.clicksStart},set(S){h.value===v&&(m.value=S.toString())}}),k?.meta.slide?.frontmatter.clicksStart??0,k?.meta.clicks);return k?.meta&&(k.meta.__clicksContext=w),w}return{router:n,currentRoute:b(()=>e),isPrintMode:s,isPrintWithClicks:o,isEmbedded:i,isPlaying:a,isPresenter:r,isNotesViewer:l,isPresenterAvailable:c,hasPrimarySlide:d,currentSlideNo:h,currentSlideRoute:f,clicksContext:p,queryClicksRaw:m,queryClicks:g,printRange:u,getPrimaryClicks:y}}),xe=Os(()=>{const n=Ha(),e=$t(),t=Da(n.currentSlideRoute,n.clicksContext,n.queryClicks,n.isPresenter,n.isPrintMode,e);return ee([t.total,n.currentRoute],async()=>{const s=n.currentRoute.value.params.no;n.hasPrimarySlide.value&&!jt(s)&&(s&&s!=="index.html"?await t.go(t.total.value,0,!0):await t.go(1,0,!0))},{flush:"pre",immediate:!0}),{...t,...n}}),as=No(),Jt=F("slidev-color-schema","auto"),rs=b(()=>L.colorSchema!=="auto"),Ws=b({get(){return rs.value?L.colorSchema==="dark":Jt.value==="auto"?as.value:Jt.value==="dark"},set(n){rs.value||(Jt.value=n===as.value?"auto":n?"dark":"light")}}),Bl=Ms(Ws);if(Lt){const n="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";ee(Ws,e=>{const t=window.document.createElement("style");t.appendChild(document.createTextNode(n)),window.document.head.appendChild(t);const s=document.querySelector("html");s.classList.toggle("dark",e),s.classList.toggle("light",!e),window.getComputedStyle(t).opacity,document.head.removeChild(t)},{immediate:!0})}function Va(){const{isPrintMode:n}=xe();Do(b(()=>n.value?`
@page {
  size: ${Es.value}px ${ti.value}px;
  margin: 0px;
}

* {
  transition: none !important;
  transition-duration: 0s !important;
}`:""))}const bn=Symbol.for("yaml.alias"),Fa=Symbol.for("yaml.document"),Ie=Symbol.for("yaml.map"),Bs=Symbol.for("yaml.pair"),Sn=Symbol.for("yaml.scalar"),st=Symbol.for("yaml.seq"),ie=Symbol.for("yaml.node.type"),je=n=>!!n&&typeof n=="object"&&n[ie]===bn,Rt=n=>!!n&&typeof n=="object"&&n[ie]===Fa,Us=n=>!!n&&typeof n=="object"&&n[ie]===Ie,H=n=>!!n&&typeof n=="object"&&n[ie]===Bs,R=n=>!!n&&typeof n=="object"&&n[ie]===Sn,_n=n=>!!n&&typeof n=="object"&&n[ie]===st;function Q(n){if(n&&typeof n=="object")switch(n[ie]){case Ie:case st:return!0}return!1}function W(n){if(n&&typeof n=="object")switch(n[ie]){case bn:case Ie:case Sn:case st:return!0}return!1}const Js=n=>(R(n)||Q(n))&&!!n.anchor,Ce=Symbol("break visit"),za=Symbol("skip children"),Ze=Symbol("remove node");function Nt(n,e){const t=qa(e);Rt(n)?Fe(null,n.contents,t,Object.freeze([n]))===Ze&&(n.contents=null):Fe(null,n,t,Object.freeze([]))}Nt.BREAK=Ce;Nt.SKIP=za;Nt.REMOVE=Ze;function Fe(n,e,t,s){const o=Wa(n,e,t,s);if(W(o)||H(o))return Ba(n,s,o),Fe(n,o,t,s);if(typeof o!="symbol"){if(Q(e)){s=Object.freeze(s.concat(e));for(let i=0;i<e.items.length;++i){const a=Fe(i,e.items[i],t,s);if(typeof a=="number")i=a-1;else{if(a===Ce)return Ce;a===Ze&&(e.items.splice(i,1),i-=1)}}}else if(H(e)){s=Object.freeze(s.concat(e));const i=Fe("key",e.key,t,s);if(i===Ce)return Ce;i===Ze&&(e.key=null);const a=Fe("value",e.value,t,s);if(a===Ce)return Ce;a===Ze&&(e.value=null)}}return o}function qa(n){return typeof n=="object"&&(n.Collection||n.Node||n.Value)?Object.assign({Alias:n.Node,Map:n.Node,Scalar:n.Node,Seq:n.Node},n.Value&&{Map:n.Value,Scalar:n.Value,Seq:n.Value},n.Collection&&{Map:n.Collection,Seq:n.Collection},n):n}function Wa(n,e,t,s){if(typeof t=="function")return t(n,e,s);if(Us(e))return t.Map?.(n,e,s);if(_n(e))return t.Seq?.(n,e,s);if(H(e))return t.Pair?.(n,e,s);if(R(e))return t.Scalar?.(n,e,s);if(je(e))return t.Alias?.(n,e,s)}function Ba(n,e,t){const s=e[e.length-1];if(Q(s))s.items[n]=t;else if(H(s))n==="key"?s.key=t:s.value=t;else if(Rt(s))s.contents=t;else{const o=je(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${o} parent`)}}function Ks(n){if(/[\x00-\x19\s,[\]{}]/.test(n)){const t=`Anchor must not contain whitespace or control characters: ${JSON.stringify(n)}`;throw new Error(t)}return!0}function Qe(n,e,t,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let o=0,i=s.length;o<i;++o){const a=s[o],r=Qe(n,s,String(o),a);r===void 0?delete s[o]:r!==a&&(s[o]=r)}else if(s instanceof Map)for(const o of Array.from(s.keys())){const i=s.get(o),a=Qe(n,s,o,i);a===void 0?s.delete(o):a!==i&&s.set(o,a)}else if(s instanceof Set)for(const o of Array.from(s)){const i=Qe(n,s,o,o);i===void 0?s.delete(o):i!==o&&(s.delete(o),s.add(i))}else for(const[o,i]of Object.entries(s)){const a=Qe(n,s,o,i);a===void 0?delete s[o]:a!==i&&(s[o]=a)}return n.call(e,t,s)}function oe(n,e,t){if(Array.isArray(n))return n.map((s,o)=>oe(s,String(o),t));if(n&&typeof n.toJSON=="function"){if(!t||!Js(n))return n.toJSON(e,t);const s={aliasCount:0,count:1,res:void 0};t.anchors.set(n,s),t.onCreate=i=>{s.res=i,delete t.onCreate};const o=n.toJSON(e,t);return t.onCreate&&t.onCreate(o),o}return typeof n=="bigint"&&!t?.keep?Number(n):n}class Mn{constructor(e){Object.defineProperty(this,ie,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:t,maxAliasCount:s,onAnchor:o,reviver:i}={}){if(!Rt(e))throw new TypeError("A document argument is required");const a={anchors:new Map,doc:e,keep:!0,mapAsMap:t===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},r=oe(this,"",a);if(typeof o=="function")for(const{count:l,res:c}of a.anchors.values())o(c,l);return typeof i=="function"?Qe(i,{"":r},"",r):r}}class Ua extends Mn{constructor(e){super(bn),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,t){let s;t?.aliasResolveCache?s=t.aliasResolveCache:(s=[],Nt(e,{Node:(i,a)=>{(je(a)||Js(a))&&s.push(a)}}),t&&(t.aliasResolveCache=s));let o;for(const i of s){if(i===this)break;i.anchor===this.source&&(o=i)}return o}toJSON(e,t){if(!t)return{source:this.source};const{anchors:s,doc:o,maxAliasCount:i}=t,a=this.resolve(o,t);if(!a){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let r=s.get(a);if(r||(oe(a,null,t),r=s.get(a)),!r||r.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(i>=0&&(r.count+=1,r.aliasCount===0&&(r.aliasCount=gt(o,a,s)),r.count*r.aliasCount>i)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return r.res}toString(e,t,s){const o=`*${this.source}`;if(e){if(Ks(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const i=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(i)}if(e.implicitKey)return`${o} `}return o}}function gt(n,e,t){if(je(e)){const s=e.resolve(n),o=t&&s&&t.get(s);return o?o.count*o.aliasCount:0}else if(Q(e)){let s=0;for(const o of e.items){const i=gt(n,o,t);i>s&&(s=i)}return s}else if(H(e)){const s=gt(n,e.key,t),o=gt(n,e.value,t);return Math.max(s,o)}return 1}const Gs=n=>!n||typeof n!="function"&&typeof n!="object";class $ extends Mn{constructor(e){super(Sn),this.value=e}toJSON(e,t){return t?.keep?this.value:oe(this.value,e,t)}toString(){return String(this.value)}}$.BLOCK_FOLDED="BLOCK_FOLDED";$.BLOCK_LITERAL="BLOCK_LITERAL";$.PLAIN="PLAIN";$.QUOTE_DOUBLE="QUOTE_DOUBLE";$.QUOTE_SINGLE="QUOTE_SINGLE";function Ja(n,e,t){return t.find(s=>s.identify?.(n)&&!s.format)}function Ot(n,e,t){if(Rt(n)&&(n=n.contents),W(n))return n;if(H(n)){const h=t.schema[Ie].createNode?.(t.schema,null,t);return h.items.push(n),h}(n instanceof String||n instanceof Number||n instanceof Boolean||typeof BigInt<"u"&&n instanceof BigInt)&&(n=n.valueOf());const{aliasDuplicateObjects:s,onAnchor:o,onTagObj:i,schema:a,sourceObjects:r}=t;let l;if(s&&n&&typeof n=="object"){if(l=r.get(n),l)return l.anchor??(l.anchor=o(n)),new Ua(l.anchor);l={anchor:null,node:null},r.set(n,l)}let c=Ja(n,e,a.tags);if(!c){if(n&&typeof n.toJSON=="function"&&(n=n.toJSON()),!n||typeof n!="object"){const h=new $(n);return l&&(l.node=h),h}c=n instanceof Map?a[Ie]:Symbol.iterator in Object(n)?a[st]:a[Ie]}i&&(i(c),delete t.onTagObj);const d=c?.createNode?c.createNode(t.schema,n,t):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(t.schema,n,t):new $(n);return c.default||(d.tag=c.tag),l&&(l.node=d),d}function ls(n,e,t){let s=t;for(let o=e.length-1;o>=0;--o){const i=e[o];if(typeof i=="number"&&Number.isInteger(i)&&i>=0){const a=[];a[i]=s,s=a}else s=new Map([[i,s]])}return Ot(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:n,sourceObjects:new Map})}const Ka=n=>n==null||typeof n=="object"&&!!n[Symbol.iterator]().next().done;class Ys extends Mn{constructor(e,t){super(e),Object.defineProperty(this,"schema",{value:t,configurable:!0,enumerable:!1,writable:!0})}clone(e){const t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(t.schema=e),t.items=t.items.map(s=>W(s)||H(s)?s.clone(e):s),this.range&&(t.range=this.range.slice()),t}addIn(e,t){if(Ka(e))this.add(t);else{const[s,...o]=e,i=this.get(s,!0);if(Q(i))i.addIn(o,t);else if(i===void 0&&this.schema)this.set(s,ls(this.schema,o,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}deleteIn(e){const[t,...s]=e;if(s.length===0)return this.delete(t);const o=this.get(t,!0);if(Q(o))return o.deleteIn(s);throw new Error(`Expected YAML collection at ${t}. Remaining path: ${s}`)}getIn(e,t){const[s,...o]=e,i=this.get(s,!0);return o.length===0?!t&&R(i)?i.value:i:Q(i)?i.getIn(o,t):void 0}hasAllNullValues(e){return this.items.every(t=>{if(!H(t))return!1;const s=t.value;return s==null||e&&R(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[t,...s]=e;if(s.length===0)return this.has(t);const o=this.get(t,!0);return Q(o)?o.hasIn(s):!1}setIn(e,t){const[s,...o]=e;if(o.length===0)this.set(s,t);else{const i=this.get(s,!0);if(Q(i))i.setIn(o,t);else if(i===void 0&&this.schema)this.set(s,ls(this.schema,o,t));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}}const Ga=n=>n.replace(/^(?!$)(?: $)?/gm,"#");function tt(n,e){return/^\n+$/.test(n)?n.substring(1):e?n.replace(/^(?! *$)/gm,e):n}const ze=(n,e,t)=>n.endsWith(`
`)?tt(t,e):t.includes(`
`)?`
`+tt(t,e):(n.endsWith(" ")?"":" ")+t,Qs="flow",cn="block",yt="quoted";function Dt(n,e,t="flow",{indentAtStart:s,lineWidth:o=80,minContentWidth:i=20,onFold:a,onOverflow:r}={}){if(!o||o<0)return n;o<i&&(i=0);const l=Math.max(1+i,1+o-e.length);if(n.length<=l)return n;const c=[],d={};let h=o-e.length;typeof s=="number"&&(s>o-Math.max(2,i)?c.push(0):h=o-s);let f,u,m=!1,p=-1,g=-1,y=-1;t===cn&&(p=cs(n,p,e.length),p!==-1&&(h=p+l));for(let v;v=n[p+=1];){if(t===yt&&v==="\\"){switch(g=p,n[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}y=p}if(v===`
`)t===cn&&(p=cs(n,p,e.length)),h=p+e.length+l,f=void 0;else{if(v===" "&&u&&u!==" "&&u!==`
`&&u!=="	"){const w=n[p+1];w&&w!==" "&&w!==`
`&&w!=="	"&&(f=p)}if(p>=h)if(f)c.push(f),h=f+l,f=void 0;else if(t===yt){for(;u===" "||u==="	";)u=v,v=n[p+=1],m=!0;const w=p>y+1?p-2:g-1;if(d[w])return n;c.push(w),d[w]=!0,h=w+l,f=void 0}else m=!0}u=v}if(m&&r&&r(),c.length===0)return n;a&&a();let k=n.slice(0,c[0]);for(let v=0;v<c.length;++v){const w=c[v],S=c[v+1]||n.length;w===0?k=`
${e}${n.slice(0,S)}`:(t===yt&&d[w]&&(k+=`${n[w]}\\`),k+=`
${e}${n.slice(w+1,S)}`)}return k}function cs(n,e,t){let s=e,o=e+1,i=n[o];for(;i===" "||i==="	";)if(e<o+t)i=n[++e];else{do i=n[++e];while(i&&i!==`
`);s=e,o=e+1,i=n[o]}return s}const Ht=(n,e)=>({indentAtStart:e?n.indent.length:n.indentAtStart,lineWidth:n.options.lineWidth,minContentWidth:n.options.minContentWidth}),Vt=n=>/^(%|---|\.\.\.)/m.test(n);function Ya(n,e,t){if(!e||e<0)return!1;const s=e-t,o=n.length;if(o<=s)return!1;for(let i=0,a=0;i<o;++i)if(n[i]===`
`){if(i-a>s)return!0;if(a=i+1,o-a<=s)return!1}return!0}function Xe(n,e){const t=JSON.stringify(n);if(e.options.doubleQuotedAsJSON)return t;const{implicitKey:s}=e,o=e.options.doubleQuotedMinMultiLineLength,i=e.indent||(Vt(n)?"  ":"");let a="",r=0;for(let l=0,c=t[l];c;c=t[++l])if(c===" "&&t[l+1]==="\\"&&t[l+2]==="n"&&(a+=t.slice(r,l)+"\\ ",l+=1,r=l,c="\\"),c==="\\")switch(t[l+1]){case"u":{a+=t.slice(r,l);const d=t.substr(l+2,4);switch(d){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:d.substr(0,2)==="00"?a+="\\x"+d.substr(2):a+=t.substr(l,6)}l+=5,r=l+1}break;case"n":if(s||t[l+2]==='"'||t.length<o)l+=1;else{for(a+=t.slice(r,l)+`

`;t[l+2]==="\\"&&t[l+3]==="n"&&t[l+4]!=='"';)a+=`
`,l+=2;a+=i,t[l+2]===" "&&(a+="\\"),l+=1,r=l+1}break;default:l+=1}return a=r?a+t.slice(r):t,s?a:Dt(a,i,yt,Ht(e,!1))}function un(n,e){if(e.options.singleQuote===!1||e.implicitKey&&n.includes(`
`)||/[ \t]\n|\n[ \t]/.test(n))return Xe(n,e);const t=e.indent||(Vt(n)?"  ":""),s="'"+n.replace(/'/g,"''").replace(/\n+/g,`$&
${t}`)+"'";return e.implicitKey?s:Dt(s,t,Qs,Ht(e,!1))}function qe(n,e){const{singleQuote:t}=e.options;let s;if(t===!1)s=Xe;else{const o=n.includes('"'),i=n.includes("'");o&&!i?s=un:i&&!o?s=Xe:s=t?un:Xe}return s(n,e)}let dn;try{dn=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{dn=/\n+(?!\n|$)/g}function kt({comment:n,type:e,value:t},s,o,i){const{blockQuote:a,commentString:r,lineWidth:l}=s.options;if(!a||/\n[\t ]+$/.test(t))return qe(t,s);const c=s.indent||(s.forceBlockIndent||Vt(t)?"  ":""),d=a==="literal"?!0:a==="folded"||e===$.BLOCK_FOLDED?!1:e===$.BLOCK_LITERAL?!0:!Ya(t,l,c.length);if(!t)return d?`|
`:`>
`;let h,f;for(f=t.length;f>0;--f){const S=t[f-1];if(S!==`
`&&S!=="	"&&S!==" ")break}let u=t.substring(f);const m=u.indexOf(`
`);m===-1?h="-":t===u||m!==u.length-1?(h="+",i&&i()):h="",u&&(t=t.slice(0,-u.length),u[u.length-1]===`
`&&(u=u.slice(0,-1)),u=u.replace(dn,`$&${c}`));let p=!1,g,y=-1;for(g=0;g<t.length;++g){const S=t[g];if(S===" ")p=!0;else if(S===`
`)y=g;else break}let k=t.substring(0,y<g?y+1:g);k&&(t=t.substring(k.length),k=k.replace(/\n+/g,`$&${c}`));let w=(p?c?"2":"1":"")+h;if(n&&(w+=" "+r(n.replace(/ ?[\r\n]+/g," ")),o&&o()),!d){const S=t.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let T=!1;const C=Ht(s,!0);a!=="folded"&&e!==$.BLOCK_FOLDED&&(C.onOverflow=()=>{T=!0});const N=Dt(`${k}${S}${u}`,c,cn,C);if(!T)return`>${w}
${c}${N}`}return t=t.replace(/\n+/g,`$&${c}`),`|${w}
${c}${k}${t}${u}`}function Qa(n,e,t,s){const{type:o,value:i}=n,{actualString:a,implicitKey:r,indent:l,indentStep:c,inFlow:d}=e;if(r&&i.includes(`
`)||d&&/[[\]{},]/.test(i))return qe(i,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(i))return r||d||!i.includes(`
`)?qe(i,e):kt(n,e,t,s);if(!r&&!d&&o!==$.PLAIN&&i.includes(`
`))return kt(n,e,t,s);if(Vt(i)){if(l==="")return e.forceBlockIndent=!0,kt(n,e,t,s);if(r&&l===c)return qe(i,e)}const h=i.replace(/\n+/g,`$&
${l}`);if(a){const f=p=>p.default&&p.tag!=="tag:yaml.org,2002:str"&&p.test?.test(h),{compat:u,tags:m}=e.doc.schema;if(m.some(f)||u?.some(f))return qe(i,e)}return r?h:Dt(h,l,Qs,Ht(e,!1))}function Za(n,e,t,s){const{implicitKey:o,inFlow:i}=e,a=typeof n.value=="string"?n:Object.assign({},n,{value:String(n.value)});let{type:r}=n;r!==$.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value)&&(r=$.QUOTE_DOUBLE);const l=d=>{switch(d){case $.BLOCK_FOLDED:case $.BLOCK_LITERAL:return o||i?qe(a.value,e):kt(a,e,t,s);case $.QUOTE_DOUBLE:return Xe(a.value,e);case $.QUOTE_SINGLE:return un(a.value,e);case $.PLAIN:return Qa(a,e,t,s);default:return null}};let c=l(r);if(c===null){const{defaultKeyType:d,defaultStringType:h}=e.options,f=o&&d||h;if(c=l(f),c===null)throw new Error(`Unsupported default string type ${f}`)}return c}function Xa(n,e){const t=Object.assign({blockQuote:!0,commentString:Ga,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},n.schema.toStringOptions,e);let s;switch(t.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:n,flowCollectionPadding:t.flowCollectionPadding?" ":"",indent:"",indentStep:typeof t.indent=="number"?" ".repeat(t.indent):"  ",inFlow:s,options:t}}function er(n,e){if(e.tag){const o=n.filter(i=>i.tag===e.tag);if(o.length>0)return o.find(i=>i.format===e.format)??o[0]}let t,s;if(R(e)){s=e.value;let o=n.filter(i=>i.identify?.(s));if(o.length>1){const i=o.filter(a=>a.test);i.length>0&&(o=i)}t=o.find(i=>i.format===e.format)??o.find(i=>!i.format)}else s=e,t=n.find(o=>o.nodeClass&&s instanceof o.nodeClass);if(!t){const o=s?.constructor?.name??(s===null?"null":typeof s);throw new Error(`Tag not resolved for ${o} value`)}return t}function tr(n,e,{anchors:t,doc:s}){if(!s.directives)return"";const o=[],i=(R(n)||Q(n))&&n.anchor;i&&Ks(i)&&(t.add(i),o.push(`&${i}`));const a=n.tag??(e.default?null:e.tag);return a&&o.push(s.directives.tagString(a)),o.join(" ")}function Tt(n,e,t,s){if(H(n))return n.toString(e,t,s);if(je(n)){if(e.doc.directives)return n.toString(e);if(e.resolvedAliases?.has(n))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(n):e.resolvedAliases=new Set([n]),n=n.resolve(e.doc)}let o;const i=W(n)?n:e.doc.createNode(n,{onTagObj:l=>o=l});o??(o=er(e.doc.schema.tags,i));const a=tr(i,o,e);a.length>0&&(e.indentAtStart=(e.indentAtStart??0)+a.length+1);const r=typeof o.stringify=="function"?o.stringify(i,e,t,s):R(i)?Za(i,e,t,s):i.toString(e,t,s);return a?R(i)||r[0]==="{"||r[0]==="["?`${a} ${r}`:`${a}
${e.indent}${r}`:r}function nr({key:n,value:e},t,s,o){const{allNullValues:i,doc:a,indent:r,indentStep:l,options:{commentString:c,indentSeq:d,simpleKeys:h}}=t;let f=W(n)&&n.comment||null;if(h){if(f)throw new Error("With simple keys, key nodes cannot have comments");if(Q(n)||!W(n)&&typeof n=="object"){const C="With simple keys, collection cannot be used as a key value";throw new Error(C)}}let u=!h&&(!n||f&&e==null&&!t.inFlow||Q(n)||(R(n)?n.type===$.BLOCK_FOLDED||n.type===$.BLOCK_LITERAL:typeof n=="object"));t=Object.assign({},t,{allNullValues:!1,implicitKey:!u&&(h||!i),indent:r+l});let m=!1,p=!1,g=Tt(n,t,()=>m=!0,()=>p=!0);if(!u&&!t.inFlow&&g.length>1024){if(h)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");u=!0}if(t.inFlow){if(i||e==null)return m&&s&&s(),g===""?"?":u?`? ${g}`:g}else if(i&&!h||e==null&&u)return g=`? ${g}`,f&&!m?g+=ze(g,t.indent,c(f)):p&&o&&o(),g;m&&(f=null),u?(f&&(g+=ze(g,t.indent,c(f))),g=`? ${g}
${r}:`):(g=`${g}:`,f&&(g+=ze(g,t.indent,c(f))));let y,k,v;W(e)?(y=!!e.spaceBefore,k=e.commentBefore,v=e.comment):(y=!1,k=null,v=null,e&&typeof e=="object"&&(e=a.createNode(e))),t.implicitKey=!1,!u&&!f&&R(e)&&(t.indentAtStart=g.length+1),p=!1,!d&&l.length>=2&&!t.inFlow&&!u&&_n(e)&&!e.flow&&!e.tag&&!e.anchor&&(t.indent=t.indent.substring(2));let w=!1;const S=Tt(e,t,()=>w=!0,()=>p=!0);let T=" ";if(f||y||k){if(T=y?`
`:"",k){const C=c(k);T+=`
${tt(C,t.indent)}`}S===""&&!t.inFlow?T===`
`&&(T=`

`):T+=`
${t.indent}`}else if(!u&&Q(e)){const C=S[0],N=S.indexOf(`
`),U=N!==-1,ce=t.inFlow??e.flow??e.items.length===0;if(U||!ce){let Z=!1;if(U&&(C==="&"||C==="!")){let M=S.indexOf(" ");C==="&"&&M!==-1&&M<N&&S[M+1]==="!"&&(M=S.indexOf(" ",M+1)),(M===-1||N<M)&&(Z=!0)}Z||(T=`
${t.indent}`)}}else(S===""||S[0]===`
`)&&(T="");return g+=T+S,t.inFlow?w&&s&&s():v&&!w?g+=ze(g,t.indent,c(v)):p&&o&&o(),g}function sr(n,e){(n==="debug"||n==="warn")&&console.warn(e)}const ct="<<",Kt={identify:n=>n===ct||typeof n=="symbol"&&n.description===ct,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new $(Symbol(ct)),{addToJSMap:Zs}),stringify:()=>ct},or=(n,e)=>(Kt.identify(e)||R(e)&&(!e.type||e.type===$.PLAIN)&&Kt.identify(e.value))&&n?.doc.schema.tags.some(t=>t.tag===Kt.tag&&t.default);function Zs(n,e,t){if(t=n&&je(t)?t.resolve(n.doc):t,_n(t))for(const s of t.items)Gt(n,e,s);else if(Array.isArray(t))for(const s of t)Gt(n,e,s);else Gt(n,e,t)}function Gt(n,e,t){const s=n&&je(t)?t.resolve(n.doc):t;if(!Us(s))throw new Error("Merge sources must be maps or map aliases");const o=s.toJSON(null,n,Map);for(const[i,a]of o)e instanceof Map?e.has(i)||e.set(i,a):e instanceof Set?e.add(i):Object.prototype.hasOwnProperty.call(e,i)||Object.defineProperty(e,i,{value:a,writable:!0,enumerable:!0,configurable:!0});return e}function Xs(n,e,{key:t,value:s}){if(W(t)&&t.addToJSMap)t.addToJSMap(n,e,s);else if(or(n,t))Zs(n,e,s);else{const o=oe(t,"",n);if(e instanceof Map)e.set(o,oe(s,o,n));else if(e instanceof Set)e.add(o);else{const i=ir(t,o,n),a=oe(s,i,n);i in e?Object.defineProperty(e,i,{value:a,writable:!0,enumerable:!0,configurable:!0}):e[i]=a}}return e}function ir(n,e,t){if(e===null)return"";if(typeof e!="object")return String(e);if(W(n)&&t?.doc){const s=Xa(t.doc,{});s.anchors=new Set;for(const i of t.anchors.keys())s.anchors.add(i.anchor);s.inFlow=!0,s.inStringifyKey=!0;const o=n.toString(s);if(!t.mapKeyWarned){let i=JSON.stringify(o);i.length>40&&(i=i.substring(0,36)+'..."'),sr(t.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${i}. Set mapAsMap: true to use object keys.`),t.mapKeyWarned=!0}return o}return JSON.stringify(e)}function On(n,e,t){const s=Ot(n,void 0,t),o=Ot(e,void 0,t);return new le(s,o)}class le{constructor(e,t=null){Object.defineProperty(this,ie,{value:Bs}),this.key=e,this.value=t}clone(e){let{key:t,value:s}=this;return W(t)&&(t=t.clone(e)),W(s)&&(s=s.clone(e)),new le(t,s)}toJSON(e,t){const s=t?.mapAsMap?new Map:{};return Xs(t,s,this)}toString(e,t,s){return e?.doc?nr(this,e,t,s):JSON.stringify(this)}}function eo(n,e,t){return(e.inFlow??n.flow?rr:ar)(n,e,t)}function ar({comment:n,items:e},t,{blockItemPrefix:s,flowChars:o,itemIndent:i,onChompKeep:a,onComment:r}){const{indent:l,options:{commentString:c}}=t,d=Object.assign({},t,{indent:i,type:null});let h=!1;const f=[];for(let m=0;m<e.length;++m){const p=e[m];let g=null;if(W(p))!h&&p.spaceBefore&&f.push(""),At(t,f,p.commentBefore,h),p.comment&&(g=p.comment);else if(H(p)){const k=W(p.key)?p.key:null;k&&(!h&&k.spaceBefore&&f.push(""),At(t,f,k.commentBefore,h))}h=!1;let y=Tt(p,d,()=>g=null,()=>h=!0);g&&(y+=ze(y,i,c(g))),h&&g&&(h=!1),f.push(s+y)}let u;if(f.length===0)u=o.start+o.end;else{u=f[0];for(let m=1;m<f.length;++m){const p=f[m];u+=p?`
${l}${p}`:`
`}}return n?(u+=`
`+tt(c(n),l),r&&r()):h&&a&&a(),u}function rr({items:n},e,{flowChars:t,itemIndent:s}){const{indent:o,indentStep:i,flowCollectionPadding:a,options:{commentString:r}}=e;s+=i;const l=Object.assign({},e,{indent:s,inFlow:!0,type:null});let c=!1,d=0;const h=[];for(let m=0;m<n.length;++m){const p=n[m];let g=null;if(W(p))p.spaceBefore&&h.push(""),At(e,h,p.commentBefore,!1),p.comment&&(g=p.comment);else if(H(p)){const k=W(p.key)?p.key:null;k&&(k.spaceBefore&&h.push(""),At(e,h,k.commentBefore,!1),k.comment&&(c=!0));const v=W(p.value)?p.value:null;v?(v.comment&&(g=v.comment),v.commentBefore&&(c=!0)):p.value==null&&k?.comment&&(g=k.comment)}g&&(c=!0);let y=Tt(p,l,()=>g=null);m<n.length-1&&(y+=","),g&&(y+=ze(y,s,r(g))),!c&&(h.length>d||y.includes(`
`))&&(c=!0),h.push(y),d=h.length}const{start:f,end:u}=t;if(h.length===0)return f+u;if(!c){const m=h.reduce((p,g)=>p+g.length+2,2);c=e.options.lineWidth>0&&m>e.options.lineWidth}if(c){let m=f;for(const p of h)m+=p?`
${i}${o}${p}`:`
`;return`${m}
${o}${u}`}else return`${f}${a}${h.join(" ")}${a}${u}`}function At({indent:n,options:{commentString:e}},t,s,o){if(s&&o&&(s=s.replace(/^\n+/,"")),s){const i=tt(e(s),n);t.push(i.trimStart())}}function $e(n,e){const t=R(e)?e.value:e;for(const s of n)if(H(s)&&(s.key===e||s.key===t||R(s.key)&&s.key.value===t))return s}class De extends Ys{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Ie,e),this.items=[]}static from(e,t,s){const{keepUndefined:o,replacer:i}=s,a=new this(e),r=(l,c)=>{if(typeof i=="function")c=i.call(t,l,c);else if(Array.isArray(i)&&!i.includes(l))return;(c!==void 0||o)&&a.items.push(On(l,c,s))};if(t instanceof Map)for(const[l,c]of t)r(l,c);else if(t&&typeof t=="object")for(const l of Object.keys(t))r(l,t[l]);return typeof e.sortMapEntries=="function"&&a.items.sort(e.sortMapEntries),a}add(e,t){let s;H(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new le(e,e?.value):s=new le(e.key,e.value);const o=$e(this.items,s.key),i=this.schema?.sortMapEntries;if(o){if(!t)throw new Error(`Key ${s.key} already set`);R(o.value)&&Gs(s.value)?o.value.value=s.value:o.value=s.value}else if(i){const a=this.items.findIndex(r=>i(s,r)<0);a===-1?this.items.push(s):this.items.splice(a,0,s)}else this.items.push(s)}delete(e){const t=$e(this.items,e);return t?this.items.splice(this.items.indexOf(t),1).length>0:!1}get(e,t){const o=$e(this.items,e)?.value;return(!t&&R(o)?o.value:o)??void 0}has(e){return!!$e(this.items,e)}set(e,t){this.add(new le(e,t),!0)}toJSON(e,t,s){const o=s?new s:t?.mapAsMap?new Map:{};t?.onCreate&&t.onCreate(o);for(const i of this.items)Xs(t,o,i);return o}toString(e,t,s){if(!e)return JSON.stringify(this);for(const o of this.items)if(!H(o))throw new Error(`Map items must all be pairs; found ${JSON.stringify(o)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),eo(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:t})}}class to extends Ys{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(st,e),this.items=[]}add(e){this.items.push(e)}delete(e){const t=ut(e);return typeof t!="number"?!1:this.items.splice(t,1).length>0}get(e,t){const s=ut(e);if(typeof s!="number")return;const o=this.items[s];return!t&&R(o)?o.value:o}has(e){const t=ut(e);return typeof t=="number"&&t<this.items.length}set(e,t){const s=ut(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const o=this.items[s];R(o)&&Gs(t)?o.value=t:this.items[s]=t}toJSON(e,t){const s=[];t?.onCreate&&t.onCreate(s);let o=0;for(const i of this.items)s.push(oe(i,String(o++),t));return s}toString(e,t,s){return e?eo(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:t}):JSON.stringify(this)}static from(e,t,s){const{replacer:o}=s,i=new this(e);if(t&&Symbol.iterator in Object(t)){let a=0;for(let r of t){if(typeof o=="function"){const l=t instanceof Set?r:String(a++);r=o.call(t,l,r)}i.items.push(Ot(r,void 0,s))}}return i}}function ut(n){let e=R(n)?n.value:n;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function lr(n,e,t){const{replacer:s}=t,o=new to(n);o.tag="tag:yaml.org,2002:pairs";let i=0;if(e&&Symbol.iterator in Object(e))for(let a of e){typeof s=="function"&&(a=s.call(e,String(i++),a));let r,l;if(Array.isArray(a))if(a.length===2)r=a[0],l=a[1];else throw new TypeError(`Expected [key, value] tuple: ${a}`);else if(a&&a instanceof Object){const c=Object.keys(a);if(c.length===1)r=c[0],l=a[r];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else r=a;o.items.push(On(r,l,t))}return o}class Tn extends to{constructor(){super(),this.add=De.prototype.add.bind(this),this.delete=De.prototype.delete.bind(this),this.get=De.prototype.get.bind(this),this.has=De.prototype.has.bind(this),this.set=De.prototype.set.bind(this),this.tag=Tn.tag}toJSON(e,t){if(!t)return super.toJSON(e);const s=new Map;t?.onCreate&&t.onCreate(s);for(const o of this.items){let i,a;if(H(o)?(i=oe(o.key,"",t),a=oe(o.value,i,t)):i=oe(o,"",t),s.has(i))throw new Error("Ordered maps must not include duplicate keys");s.set(i,a)}return s}static from(e,t,s){const o=lr(e,t,s),i=new this;return i.items=o.items,i}}Tn.tag="tag:yaml.org,2002:omap";class An extends De{constructor(e){super(e),this.tag=An.tag}add(e){let t;H(e)?t=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?t=new le(e.key,null):t=new le(e,null),$e(this.items,t.key)||this.items.push(t)}get(e,t){const s=$e(this.items,e);return!t&&H(s)?R(s.key)?s.key.value:s.key:s}set(e,t){if(typeof t!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof t}`);const s=$e(this.items,e);s&&!t?this.items.splice(this.items.indexOf(s),1):!s&&t&&this.items.push(new le(e))}toJSON(e,t){return super.toJSON(e,t,Set)}toString(e,t,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),t,s);throw new Error("Set items must all have null values")}static from(e,t,s){const{replacer:o}=s,i=new this(e);if(t&&Symbol.iterator in Object(t))for(let a of t)typeof o=="function"&&(a=o.call(t,a,a)),i.items.push(On(a,null,s));return i}}An.tag="tag:yaml.org,2002:set";new Set("0123456789ABCDEFabcdef");new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()");new Set(",[]{}");new Set(` ,[]{}
\r	`);function En(n=5){const e=[],t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",s=t.length;for(let o=0;o<n;o++)e.push(t.charAt(Math.floor(Math.random()*s)));return e.join("")}function no(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}function te(n,e,t){Object.defineProperty(n,e,{value:t,writable:!0,enumerable:!1})}const de=I({});let cr=[],ur=[];te(de,"$syncUp",!0);te(de,"$syncDown",!0);te(de,"$paused",!1);te(de,"$onSet",n=>cr.push(n));te(de,"$onPatch",n=>ur.push(n));no();te(de,"$patch",async()=>!1);const dr={channels:[],enabled:!0,init(n,e,t,s=!1){let o;if(!s)o=new BroadcastChannel(n),o.addEventListener("message",i=>e(i.data)),this.channels.push(o);else if(s){this.listener=function(a){a&&a.key===n&&a.newValue&&e(JSON.parse(a.newValue))},window.addEventListener("storage",this.listener);const i=window.localStorage.getItem(n);i&&e(JSON.parse(i))}return(i,a=!1)=>{this.enabled&&(!s&&o&&!a&&o.postMessage(Ts(i)),s&&!a&&window.localStorage.setItem(n,JSON.stringify(i)))}},disable(){this.enabled=!1,this.channels.forEach(n=>n.close()),this.listener&&window.removeEventListener("storage",this.listener)}},fr=I([dr]),hr=new Map,us=O({});function so(n,e,t=!1){const s=[];let o=!1,i=!1,a,r;const l=I(e);function c(u){s.push(u)}function d(u,m){l[u]!==m&&(clearTimeout(a),o=!0,l[u]=m,a=setTimeout(()=>o=!1,0))}function h(u){o||(clearTimeout(r),i=!0,Object.entries(u).forEach(([m,p])=>{l[m]=p}),r=setTimeout(()=>i=!1,0))}function f(u){hr.set(u,{onUpdate:h,persist:t,state:l}),us.value[u]=fr.map(p=>p.init(u,h,l,t)).filter(p=>!!p);function m(){us.value[u].forEach(p=>p?.(Ts(l),i)),o||s.forEach(p=>p(l))}ee(l,m,{deep:!0})}return{init:f,onPatch:c,onUpdate:h,patch:d,state:l}}const{init:pr,onPatch:Ul,patch:Jl,state:Kl}=so(de,de,!1),Re=I({page:0,clicks:0});let mr=[],gr=[];te(Re,"$syncUp",!0);te(Re,"$syncDown",!0);te(Re,"$paused",!1);te(Re,"$onSet",n=>mr.push(n));te(Re,"$onPatch",n=>gr.push(n));no();te(Re,"$patch",async()=>!1);const{init:yr,onPatch:kr,patch:dt,state:Gl}=so(Re,{page:1,clicks:0,clicksTotal:0});function vr(){const n=bs().appContext.app,e=I({nav:xe(),configs:L,themeConfigs:b(()=>L.themeConfig)});n.provide(xt,O("none")),n.provide(Rs,e),n.provide(It,b(()=>e.nav.currentSlideNo)),n.provide(nt,vn(Li()));for(const f of si)f();const{clicksContext:t,currentSlideNo:s,hasPrimarySlide:o,isNotesViewer:i,isPresenter:a,isPrintMode:r}=xe();Ci({title:zt,htmlAttrs:L.htmlAttrs}),Va(),yr(`${zt} - shared`),pr(`${zt} - drawings`);const l=`${location.origin}_${En()}`,c=b(()=>a.value?"presenter":"viewer");function d(){(a.value?lt.value.presenterSend:lt.value.viewerSend)&&(i.value||r.value||!a.value&&!Sa.includes(location.host.split(":")[0])||(dt("page",+s.value),dt("clicks",t.value.current),dt("clicksTotal",t.value.total),dt("lastUpdate",{id:l,type:c.value,time:new Date().getTime()})))}const h=$t();h.afterEach(d),ee(t,d),kr(f=>{(a.value?lt.value.presenterReceive:lt.value.viewerReceive)&&(!o.value||r.value||f.lastUpdate?.type!==c.value&&(+f.page==+s.value&&+t.value.current==+f.clicks||(wn.value=!1,h.replace({path:Ve(f.page,a.value),query:{...h.currentRoute.value.query,clicks:f.clicks||0}}))))})}const wr=_s({__name:"App",setup(n){return vr(),Le(()=>{for(const[e,t]of Object.entries(ni.value))document.body.style.setProperty(e,t.toString())}),(e,t)=>{const s=Vo("RouterView");return bt(),Ho(s)}}}),br=[];async function oo(n,e={}){const t=e.document||n.resolvedOptions.document;if(!t||!n.dirty)return;const s={shouldRender:!0,tags:[]};if(await n.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return n._domUpdatePromise||(n._domUpdatePromise=new Promise(async o=>{const i=new Map,a=new Promise(u=>{n.resolveTags().then(m=>{u(m.map(p=>{const g=i.get(p._d)||0,y={tag:p,id:(g?`${p._d}:${g}`:p._d)||Dn(p),shouldRender:!0};return p._d&&Ps(p._d)&&i.set(p._d,g+1),y}))})});let r=n._dom;if(!r){r={title:t.title,elMap:new Map().set("htmlAttrs",t.documentElement).set("bodyAttrs",t.body)};for(const u of["body","head"]){const m=t[u]?.children;for(const p of m){const g=p.tagName.toLowerCase();if(!Nn.has(g))continue;const y=$s({tag:g,props:{}},{innerHTML:p.innerHTML,...p.getAttributeNames().reduce((k,v)=>(k[v]=p.getAttribute(v),k),{})||{}});if(y.key=p.getAttribute("data-hid")||void 0,y._d=an(y)||Dn(y),r.elMap.has(y._d)){let k=1,v=y._d;for(;r.elMap.has(v);)v=`${y._d}:${k++}`;r.elMap.set(v,p)}else r.elMap.set(y._d,p)}}}r.pendingSideEffects={...r.sideEffects},r.sideEffects={};function l(u,m,p){const g=`${u}:${m}`;r.sideEffects[g]=p,delete r.pendingSideEffects[g]}function c({id:u,$el:m,tag:p}){const g=p.tag.endsWith("Attrs");r.elMap.set(u,m),g||(p.textContent&&p.textContent!==m.textContent&&(m.textContent=p.textContent),p.innerHTML&&p.innerHTML!==m.innerHTML&&(m.innerHTML=p.innerHTML),l(u,"el",()=>{m?.remove(),r.elMap.delete(u)}));for(const y in p.props){if(!Object.prototype.hasOwnProperty.call(p.props,y))continue;const k=p.props[y];if(y.startsWith("on")&&typeof k=="function"){const w=m?.dataset;if(w&&w[`${y}fired`]){const S=y.slice(0,-5);k.call(m,new Event(S.substring(2)))}m.getAttribute(`data-${y}`)!==""&&((p.tag==="bodyAttrs"?t.defaultView:m).addEventListener(y.substring(2),k.bind(m)),m.setAttribute(`data-${y}`,""));continue}const v=`attr:${y}`;if(y==="class"){if(!k)continue;for(const w of k)g&&l(u,`${v}:${w}`,()=>m.classList.remove(w)),!m.classList.contains(w)&&m.classList.add(w)}else if(y==="style"){if(!k)continue;for(const[w,S]of k)l(u,`${v}:${w}`,()=>{m.style.removeProperty(w)}),m.style.setProperty(w,S)}else k!==!1&&k!==null&&(m.getAttribute(y)!==k&&m.setAttribute(y,k===!0?"":String(k)),g&&l(u,v,()=>m.removeAttribute(y)))}}const d=[],h={bodyClose:void 0,bodyOpen:void 0,head:void 0},f=await a;for(const u of f){const{tag:m,shouldRender:p,id:g}=u;if(p){if(m.tag==="title"){t.title=m.textContent,l("title","",()=>t.title=r.title);continue}u.$el=u.$el||r.elMap.get(g),u.$el?c(u):Nn.has(m.tag)&&d.push(u)}}for(const u of d){const m=u.tag.tagPosition||"head";u.$el=t.createElement(u.tag.tag),c(u),h[m]=h[m]||t.createDocumentFragment(),h[m].appendChild(u.$el)}for(const u of f)await n.hooks.callHook("dom:renderTag",u,t,l);h.head&&t.head.appendChild(h.head),h.bodyOpen&&t.body.insertBefore(h.bodyOpen,t.body.firstChild),h.bodyClose&&t.body.appendChild(h.bodyClose);for(const u in r.pendingSideEffects)r.pendingSideEffects[u]();n._dom=r,await n.hooks.callHook("dom:rendered",{renders:f}),o()}).finally(()=>{n._domUpdatePromise=void 0,n.dirty=!1})),n._domUpdatePromise}function Sr(n={}){const e=n.domOptions?.render||oo;n.document=n.document||(typeof window<"u"?document:void 0);const t=n.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return Oi({...n,plugins:[...n.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[t?JSON.parse(t):!1,...n.init||[]]})}function _r(n,e){let t=0;return()=>{const s=++t;e(()=>{t===s&&n()})}}function Mr(n={}){const e=Sr({domOptions:{render:_r(()=>oo(e),t=>setTimeout(t,0))},...n});return e.install=Ai(e),e}function Yl(n,e=""){const t=["slidev-page",e],s=n?.meta?.slide?.no;return s!=null&&t.push(`slidev-page-${s}`),t.filter(Boolean).join(" ")}async function Ql(){const{saveAs:n}=await E(async()=>{const{saveAs:e}=await import("./modules/file-saver-DpYiGRfw.js").then(t=>t.F);return{saveAs:e}},[]);n(typeof L.download=="string"?L.download:L.exportFilename?`${L.exportFilename}.pdf`:"/2024/vue-fes-japan/slidev-exported.pdf",`${L.title}.pdf`)}function We(n,e,t){return(n.instance?.$).provides[e]??t}function Or(){return{install(n){n.directive("click",{name:"v-click",mounted(e,t){const s=vt(e,t,t.value);s!=null&&(e.classList.toggle(pt,!0),e.dataset.slidevClicksStart=String(s.start),Number.isFinite(s.end)&&(e.dataset.slidevClicksEnd=String(s.end)),e.watchStopHandle=Le(()=>{const o=s.isActive.value,i=s.isCurrent.value,a=o&&!i;s.flagHide?(e.classList.toggle(s.flagFade?Ke:Je,o),e.classList.toggle(Wt,o)):e.classList.toggle(s.flagFade?Ke:Je,!o),e.classList.toggle(Bt,i),e.classList.toggle(Ut,a)}))},unmounted:Yt}),n.directive("after",{name:"v-after",mounted(e,t){const s=vt(e,t,"+0");s!=null&&(e.classList.toggle(pt,!0),e.watchStopHandle=Le(()=>{const o=s.isActive.value,i=s.isCurrent.value,a=o&&!i;s.flagHide?(e.classList.toggle(s.flagFade?Ke:Je,o),e.classList.toggle(Wt,o)):e.classList.toggle(s.flagFade?Ke:Je,!o),e.classList.toggle(Bt,i),e.classList.toggle(Ut,a)}))},unmounted:Yt}),n.directive("click-hide",{name:"v-click-hide",mounted(e,t){const s=vt(e,t,t.value,!0);s!=null&&(e.classList.toggle(pt,!0),e.watchStopHandle=Le(()=>{const o=s.isActive.value,i=s.isCurrent.value,a=o&&!i;e.classList.toggle(s.flagFade?Ke:Je,o),e.classList.toggle(Wt,o),e.classList.toggle(Bt,i),e.classList.toggle(Ut,a)}))},unmounted:Yt})}}}const io=new Map;function vt(n,e,t,s=!1){const o=We(e,nt)?.value;if(!n||!o)return null;const i=s||e.modifiers.hide!==!1&&e.modifiers.hide!=null,a=e.modifiers.fade!==!1&&e.modifiers.fade!=null,r=o.calculate(t);if(!r)return null;o.register(n,r);const l=b(()=>i?!r.isActive.value:r.isActive.value),c=b(()=>l.value?"shown":Number.isFinite(r.end)?o.current<r.start?"before":"after":i?"after":"before"),d={...r,isShown:l,visibilityState:c,flagFade:a,flagHide:i};return io.set(n,d),d}function Yt(n,e){n.classList.toggle(pt,!1),We(e,nt)?.value?.unregister(n),n.watchStopHandle?.()}function Tr(n=ws(xs,O())){const e=Fo(n),t=ee([La,Ia,xa,ja,$a,_t.width,_t.height],()=>{setTimeout(e.update,300)},{flush:"post",immediate:!0});return{...e,stop:t}}function Ar(n){return()=>{}}function Er(n,e,t,s=!1){function o(x){return n?We(n,x):re(x)}const i=o(xt),a=o(Ns)??{},r=o(It),l=b(()=>Ar(r.value)),c=o(js)??O(1),d=o(Ds)??O(1),{left:h,top:f,stop:u}=Tr(o(xs)??O()),{isPrintMode:m}=xe(),p=["slide","presenter"].includes(i.value)&&!m.value;let g=n?"directive":"prop",y=En(),k;if(Array.isArray(e)?k=e:typeof e=="string"&&e.includes(",")?k=e.split(",").map(Number):e!=null&&(g="frontmatter",y=`${e}`,e=a?.dragPos?.[y],k=e?.split(",").map(Number)),g!=="frontmatter"&&!t)throw new Error("[Slidev] Can not identify the source position of the v-drag element, please provide an explicit `id` prop.");const v=[u],w=!s&&e!=null&&!Number.isFinite(k?.[3]);k??=[Number.NaN,Number.NaN,0];const S=O(k[2]),T=O(k[0]+k[2]/2),C=O(s?0:k[4]??0),N=b(()=>C.value*Math.PI/180),U=b(()=>Math.sin(N.value)),ce=b(()=>Math.cos(N.value)),Z=O(),M=O({left:0,top:0,width:0,height:0}),A=O(0);function D(){if(!Z.value)return;const x=Z.value.getBoundingClientRect();M.value={left:x.left/d.value,top:x.top/d.value,width:x.width/d.value,height:x.height/d.value},A.value=(M.value.width+M.value.height)/c.value/(Math.abs(U.value)+Math.abs(ce.value))-S.value}v.push(ee(S,D,{flush:"post"}));const j=O(k[3]??0),P=w?b({get:()=>(w?A.value:j.value)||0,set:x=>!w&&(j.value=x)}):j,ae=w?O(k[1]):O(k[1]+k[3]/2),ue=w?b({get:()=>ae.value+P.value/2,set:x=>ae.value=x-P.value/2}):ae,Be=b(()=>Number.isFinite(T.value)?{position:"absolute",zIndex:100,left:`${T.value-S.value/2}px`,top:`${ue.value-P.value/2}px`,width:`${S.value}px`,height:w?void 0:`${P.value}px`,transformOrigin:"center center",transform:`rotate(${C.value}deg)`}:{position:"absolute",zIndex:100});v.push(ee([T,ue,S,P,C],([x,it,$n,Ln,In])=>{let Ne=[x-$n/2,it-Ln/2,$n].map(Math.round).join();w?Ne+=g==="directive"?",NaN":",_":Ne+=`,${Math.round(Ln)}`,Math.round(In)!==0&&(Ne+=`,${Math.round(In)}`),g==="directive"&&(Ne=`[${Ne}]`),l.value(y,Ne,g,t)}));const G={dragId:y,dataSource:g,markdownSource:t,isArrow:s,zoom:d,autoHeight:w,x0:T,y0:ue,width:S,height:P,rotate:C,container:Z,containerStyle:Be,watchStopHandles:v,dragging:b(()=>at.value===G),mounted(){p&&(D(),e||setTimeout(()=>{D(),T.value=(M.value.left+M.value.width/2-h.value)/c.value,ue.value=(M.value.top-f.value)/c.value,S.value=M.value.width/c.value,P.value=M.value.height/c.value},100))},unmounted(){p&&G.stopDragging()},startDragging(){p&&(D(),at.value=G)},stopDragging(){p&&at.value===G&&(at.value=null)}};return v.push(zo(Z,x=>{const it=document.querySelector("#drag-control-container");it&&x.target&&it.contains(x.target)||G.stopDragging()}),ee(qo(),x=>{x||G.stopDragging()})),G}function Cr(){return{install(n){n.directive("drag",{name:"v-drag",created(e,t,s){const o=Er(t,t.value,s.props?.markdownSource);s.props&&(s.props={...s.props},delete s.props.markdownSource),o.container.value=e,e.draggingState=o,e.dataset.dragId=o.dragId,o.watchStopHandles.push(ee(o.containerStyle,i=>{for(const[a,r]of Object.entries(i))r&&(e.style[a]=r)},{immediate:!0})),e.addEventListener("dblclick",o.startDragging)},mounted(e){e.draggingState.mounted()},unmounted(e){const t=e.draggingState;t.unmounted(),e.removeEventListener("dblclick",t.startDragging),t.watchStopHandles.forEach(s=>s())}})}}}function ao(){return Math.floor(Math.random()*2**31)}class Pr{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function fn(n,e,t){if(n&&n.length){const[s,o]=e,i=Math.PI/180*t,a=Math.cos(i),r=Math.sin(i);for(const l of n){const[c,d]=l;l[0]=(c-s)*a-(d-o)*r+s,l[1]=(c-s)*r+(d-o)*a+o}}}function $r(n,e,t){const s=[];n.forEach(o=>s.push(...o)),fn(s,e,t)}function Lr(n,e){return n[0]===e[0]&&n[1]===e[1]}function Ir(n,e,t,s=1){const o=t,i=Math.max(e,.1),a=n[0]&&n[0][0]&&typeof n[0][0]=="number"?[n]:n,r=[0,0];if(o)for(const c of a)fn(c,r,o);const l=xr(a,i,s);if(o){for(const c of a)fn(c,r,-o);$r(l,r,-o)}return l}function xr(n,e,t){const s=[];for(const c of n){const d=[...c];Lr(d[0],d[d.length-1])||d.push([d[0][0],d[0][1]]),d.length>2&&s.push(d)}const o=[];e=Math.max(e,.1);const i=[];for(const c of s)for(let d=0;d<c.length-1;d++){const h=c[d],f=c[d+1];if(h[1]!==f[1]){const u=Math.min(h[1],f[1]);i.push({ymin:u,ymax:Math.max(h[1],f[1]),x:u===h[1]?h[0]:f[0],islope:(f[0]-h[0])/(f[1]-h[1])})}}if(i.sort((c,d)=>c.ymin<d.ymin?-1:c.ymin>d.ymin?1:c.x<d.x?-1:c.x>d.x?1:c.ymax===d.ymax?0:(c.ymax-d.ymax)/Math.abs(c.ymax-d.ymax)),!i.length)return o;let a=[],r=i[0].ymin,l=0;for(;a.length||i.length;){if(i.length){let c=-1;for(let h=0;h<i.length&&!(i[h].ymin>r);h++)c=h;i.splice(0,c+1).forEach(h=>{a.push({s:r,edge:h})})}if(a=a.filter(c=>!(c.edge.ymax<=r)),a.sort((c,d)=>c.edge.x===d.edge.x?0:(c.edge.x-d.edge.x)/Math.abs(c.edge.x-d.edge.x)),(t!==1||l%e===0)&&a.length>1)for(let c=0;c<a.length;c=c+2){const d=c+1;if(d>=a.length)break;const h=a[c].edge,f=a[d].edge;o.push([[Math.round(h.x),r],[Math.round(f.x),r]])}r+=t,a.forEach(c=>{c.edge.x=c.edge.x+t*c.edge.islope}),l++}return o}function ot(n,e){var t;const s=e.hachureAngle+90;let o=e.hachureGap;o<0&&(o=e.strokeWidth*4),o=Math.round(Math.max(o,.1));let i=1;return e.roughness>=1&&(((t=e.randomizer)===null||t===void 0?void 0:t.next())||Math.random())>.7&&(i=o),Ir(n,o,s,i||1)}class Cn{constructor(e){this.helper=e}fillPolygons(e,t){return this._fillPolygons(e,t)}_fillPolygons(e,t){const s=ot(e,t);return{type:"fillSketch",ops:this.renderLines(s,t)}}renderLines(e,t){const s=[];for(const o of e)s.push(...this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],t));return s}}function Ft(n){const e=n[0],t=n[1];return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}class jr extends Cn{fillPolygons(e,t){let s=t.hachureGap;s<0&&(s=t.strokeWidth*4),s=Math.max(s,.1);const o=Object.assign({},t,{hachureGap:s}),i=ot(e,o),a=Math.PI/180*t.hachureAngle,r=[],l=s*.5*Math.cos(a),c=s*.5*Math.sin(a);for(const[h,f]of i)Ft([h,f])&&r.push([[h[0]-l,h[1]+c],[...f]],[[h[0]+l,h[1]-c],[...f]]);return{type:"fillSketch",ops:this.renderLines(r,t)}}}class Rr extends Cn{fillPolygons(e,t){const s=this._fillPolygons(e,t),o=Object.assign({},t,{hachureAngle:t.hachureAngle+90}),i=this._fillPolygons(e,o);return s.ops=s.ops.concat(i.ops),s}}class Nr{constructor(e){this.helper=e}fillPolygons(e,t){t=Object.assign({},t,{hachureAngle:0});const s=ot(e,t);return this.dotsOnLines(s,t)}dotsOnLines(e,t){const s=[];let o=t.hachureGap;o<0&&(o=t.strokeWidth*4),o=Math.max(o,.1);let i=t.fillWeight;i<0&&(i=t.strokeWidth/2);const a=o/4;for(const r of e){const l=Ft(r),c=l/o,d=Math.ceil(c)-1,h=l-d*o,f=(r[0][0]+r[1][0])/2-o/4,u=Math.min(r[0][1],r[1][1]);for(let m=0;m<d;m++){const p=u+h+m*o,g=f-a+Math.random()*2*a,y=p-a+Math.random()*2*a,k=this.helper.ellipse(g,y,i,i,t);s.push(...k.ops)}}return{type:"fillSketch",ops:s}}}class Dr{constructor(e){this.helper=e}fillPolygons(e,t){const s=ot(e,t);return{type:"fillSketch",ops:this.dashedLine(s,t)}}dashedLine(e,t){const s=t.dashOffset<0?t.hachureGap<0?t.strokeWidth*4:t.hachureGap:t.dashOffset,o=t.dashGap<0?t.hachureGap<0?t.strokeWidth*4:t.hachureGap:t.dashGap,i=[];return e.forEach(a=>{const r=Ft(a),l=Math.floor(r/(s+o)),c=(r+o-l*(s+o))/2;let d=a[0],h=a[1];d[0]>h[0]&&(d=a[1],h=a[0]);const f=Math.atan((h[1]-d[1])/(h[0]-d[0]));for(let u=0;u<l;u++){const m=u*(s+o),p=m+s,g=[d[0]+m*Math.cos(f)+c*Math.cos(f),d[1]+m*Math.sin(f)+c*Math.sin(f)],y=[d[0]+p*Math.cos(f)+c*Math.cos(f),d[1]+p*Math.sin(f)+c*Math.sin(f)];i.push(...this.helper.doubleLineOps(g[0],g[1],y[0],y[1],t))}}),i}}class Hr{constructor(e){this.helper=e}fillPolygons(e,t){const s=t.hachureGap<0?t.strokeWidth*4:t.hachureGap,o=t.zigzagOffset<0?s:t.zigzagOffset;t=Object.assign({},t,{hachureGap:s+o});const i=ot(e,t);return{type:"fillSketch",ops:this.zigzagLines(i,o,t)}}zigzagLines(e,t,s){const o=[];return e.forEach(i=>{const a=Ft(i),r=Math.round(a/(2*t));let l=i[0],c=i[1];l[0]>c[0]&&(l=i[1],c=i[0]);const d=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let h=0;h<r;h++){const f=h*2*t,u=(h+1)*2*t,m=Math.sqrt(2*Math.pow(t,2)),p=[l[0]+f*Math.cos(d),l[1]+f*Math.sin(d)],g=[l[0]+u*Math.cos(d),l[1]+u*Math.sin(d)],y=[p[0]+m*Math.cos(d+Math.PI/4),p[1]+m*Math.sin(d+Math.PI/4)];o.push(...this.helper.doubleLineOps(p[0],p[1],y[0],y[1],s),...this.helper.doubleLineOps(y[0],y[1],g[0],g[1],s))}}),o}}const J={};function Vr(n,e){let t=n.fillStyle||"hachure";if(!J[t])switch(t){case"zigzag":J[t]||(J[t]=new jr(e));break;case"cross-hatch":J[t]||(J[t]=new Rr(e));break;case"dots":J[t]||(J[t]=new Nr(e));break;case"dashed":J[t]||(J[t]=new Dr(e));break;case"zigzag-line":J[t]||(J[t]=new Hr(e));break;case"hachure":default:t="hachure",J[t]||(J[t]=new Cn(e));break}return J[t]}const Fr=0,hn=1,ro=2,ft={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function zr(n){const e=new Array;for(;n!=="";)if(n.match(/^([ \t\r\n,]+)/))n=n.substr(RegExp.$1.length);else if(n.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:Fr,text:RegExp.$1},n=n.substr(RegExp.$1.length);else if(n.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))e[e.length]={type:hn,text:`${parseFloat(RegExp.$1)}`},n=n.substr(RegExp.$1.length);else return[];return e[e.length]={type:ro,text:""},e}function Qt(n,e){return n.type===e}function Pn(n){const e=[],t=zr(n);let s="BOD",o=0,i=t[o];for(;!Qt(i,ro);){let a=0;const r=[];if(s==="BOD")if(i.text==="M"||i.text==="m")o++,a=ft[i.text],s=i.text;else return Pn("M0,0"+n);else Qt(i,hn)?a=ft[s]:(o++,a=ft[i.text],s=i.text);if(o+a<t.length){for(let l=o;l<o+a;l++){const c=t[l];if(Qt(c,hn))r[r.length]=+c.text;else throw new Error("Param not a number: "+s+","+c.text)}if(typeof ft[s]=="number"){const l={key:s,data:r};e.push(l),o+=a,i=t[o],s==="M"&&(s="L"),s==="m"&&(s="l")}else throw new Error("Bad segment: "+s)}else throw new Error("Path data ended short")}return e}function lo(n){let e=0,t=0,s=0,o=0;const i=[];for(const{key:a,data:r}of n)switch(a){case"M":i.push({key:"M",data:[...r]}),[e,t]=r,[s,o]=r;break;case"m":e+=r[0],t+=r[1],i.push({key:"M",data:[e,t]}),s=e,o=t;break;case"L":i.push({key:"L",data:[...r]}),[e,t]=r;break;case"l":e+=r[0],t+=r[1],i.push({key:"L",data:[e,t]});break;case"C":i.push({key:"C",data:[...r]}),e=r[4],t=r[5];break;case"c":{const l=r.map((c,d)=>d%2?c+t:c+e);i.push({key:"C",data:l}),e=l[4],t=l[5];break}case"Q":i.push({key:"Q",data:[...r]}),e=r[2],t=r[3];break;case"q":{const l=r.map((c,d)=>d%2?c+t:c+e);i.push({key:"Q",data:l}),e=l[2],t=l[3];break}case"A":i.push({key:"A",data:[...r]}),e=r[5],t=r[6];break;case"a":e+=r[5],t+=r[6],i.push({key:"A",data:[r[0],r[1],r[2],r[3],r[4],e,t]});break;case"H":i.push({key:"H",data:[...r]}),e=r[0];break;case"h":e+=r[0],i.push({key:"H",data:[e]});break;case"V":i.push({key:"V",data:[...r]}),t=r[0];break;case"v":t+=r[0],i.push({key:"V",data:[t]});break;case"S":i.push({key:"S",data:[...r]}),e=r[2],t=r[3];break;case"s":{const l=r.map((c,d)=>d%2?c+t:c+e);i.push({key:"S",data:l}),e=l[2],t=l[3];break}case"T":i.push({key:"T",data:[...r]}),e=r[0],t=r[1];break;case"t":e+=r[0],t+=r[1],i.push({key:"T",data:[e,t]});break;case"Z":case"z":i.push({key:"Z",data:[]}),e=s,t=o;break}return i}function co(n){const e=[];let t="",s=0,o=0,i=0,a=0,r=0,l=0;for(const{key:c,data:d}of n){switch(c){case"M":e.push({key:"M",data:[...d]}),[s,o]=d,[i,a]=d;break;case"C":e.push({key:"C",data:[...d]}),s=d[4],o=d[5],r=d[2],l=d[3];break;case"L":e.push({key:"L",data:[...d]}),[s,o]=d;break;case"H":s=d[0],e.push({key:"L",data:[s,o]});break;case"V":o=d[0],e.push({key:"L",data:[s,o]});break;case"S":{let h=0,f=0;t==="C"||t==="S"?(h=s+(s-r),f=o+(o-l)):(h=s,f=o),e.push({key:"C",data:[h,f,...d]}),r=d[0],l=d[1],s=d[2],o=d[3];break}case"T":{const[h,f]=d;let u=0,m=0;t==="Q"||t==="T"?(u=s+(s-r),m=o+(o-l)):(u=s,m=o);const p=s+2*(u-s)/3,g=o+2*(m-o)/3,y=h+2*(u-h)/3,k=f+2*(m-f)/3;e.push({key:"C",data:[p,g,y,k,h,f]}),r=u,l=m,s=h,o=f;break}case"Q":{const[h,f,u,m]=d,p=s+2*(h-s)/3,g=o+2*(f-o)/3,y=u+2*(h-u)/3,k=m+2*(f-m)/3;e.push({key:"C",data:[p,g,y,k,u,m]}),r=h,l=f,s=u,o=m;break}case"A":{const h=Math.abs(d[0]),f=Math.abs(d[1]),u=d[2],m=d[3],p=d[4],g=d[5],y=d[6];h===0||f===0?(e.push({key:"C",data:[s,o,g,y,g,y]}),s=g,o=y):(s!==g||o!==y)&&(uo(s,o,g,y,h,f,u,m,p).forEach(function(v){e.push({key:"C",data:v})}),s=g,o=y);break}case"Z":e.push({key:"Z",data:[]}),s=i,o=a;break}t=c}return e}function qr(n){return Math.PI*n/180}function Ge(n,e,t){const s=n*Math.cos(t)-e*Math.sin(t),o=n*Math.sin(t)+e*Math.cos(t);return[s,o]}function uo(n,e,t,s,o,i,a,r,l,c){const d=qr(a);let h=[],f=0,u=0,m=0,p=0;if(c)[f,u,m,p]=c;else{[n,e]=Ge(n,e,-d),[t,s]=Ge(t,s,-d);const M=(n-t)/2,A=(e-s)/2;let D=M*M/(o*o)+A*A/(i*i);D>1&&(D=Math.sqrt(D),o=D*o,i=D*i);const j=r===l?-1:1,P=o*o,ae=i*i,ue=P*ae-P*A*A-ae*M*M,Be=P*A*A+ae*M*M,G=j*Math.sqrt(Math.abs(ue/Be));m=G*o*A/i+(n+t)/2,p=G*-i*M/o+(e+s)/2,f=Math.asin(parseFloat(((e-p)/i).toFixed(9))),u=Math.asin(parseFloat(((s-p)/i).toFixed(9))),n<m&&(f=Math.PI-f),t<m&&(u=Math.PI-u),f<0&&(f=Math.PI*2+f),u<0&&(u=Math.PI*2+u),l&&f>u&&(f=f-Math.PI*2),!l&&u>f&&(u=u-Math.PI*2)}let g=u-f;if(Math.abs(g)>Math.PI*120/180){const M=u,A=t,D=s;l&&u>f?u=f+Math.PI*120/180*1:u=f+Math.PI*120/180*-1,t=m+o*Math.cos(u),s=p+i*Math.sin(u),h=uo(t,s,A,D,o,i,a,0,l,[u,M,m,p])}g=u-f;const y=Math.cos(f),k=Math.sin(f),v=Math.cos(u),w=Math.sin(u),S=Math.tan(g/4),T=4/3*o*S,C=4/3*i*S,N=[n,e],U=[n+T*k,e-C*y],ce=[t+T*w,s-C*v],Z=[t,s];if(U[0]=2*N[0]-U[0],U[1]=2*N[1]-U[1],c)return[U,ce,Z].concat(h);{h=[U,ce,Z].concat(h);const M=[];for(let A=0;A<h.length;A+=3){const D=Ge(h[A][0],h[A][1],d),j=Ge(h[A+1][0],h[A+1][1],d),P=Ge(h[A+2][0],h[A+2][1],d);M.push([D[0],D[1],j[0],j[1],P[0],P[1]])}return M}}const Wr={randOffset:Jr,randOffsetWithRange:Kr,ellipse:pn,doubleLineOps:Gr};function X(n,e,t,s,o){return{type:"path",ops:fe(n,e,t,s,o)}}function et(n,e,t){const s=(n||[]).length;if(s>2){const o=[];for(let i=0;i<s-1;i++)o.push(...fe(n[i][0],n[i][1],n[i+1][0],n[i+1][1],t));return e&&o.push(...fe(n[s-1][0],n[s-1][1],n[0][0],n[0][1],t)),{type:"path",ops:o}}else if(s===2)return X(n[0][0],n[0][1],n[1][0],n[1][1],t);return{type:"path",ops:[]}}function Br(n,e){return et(n,!0,e)}function fo(n,e,t,s,o){const i=[[n,e],[n+t,e],[n+t,e+s],[n,e+s]];return Br(i,o)}function ds(n,e){if(n.length){const s=typeof n[0][0]=="number"?[n]:n,o=ht(s[0],1*(1+e.roughness*.2),e),i=e.disableMultiStroke?[]:ht(s[0],1.5*(1+e.roughness*.22),ps(e));for(let a=1;a<s.length;a++){const r=s[a];if(r.length){const l=ht(r,1*(1+e.roughness*.2),e),c=e.disableMultiStroke?[]:ht(r,1.5*(1+e.roughness*.22),ps(e));for(const d of l)d.op!=="move"&&o.push(d);for(const d of c)d.op!=="move"&&i.push(d)}}return{type:"path",ops:o.concat(i)}}return{type:"path",ops:[]}}function pn(n,e,t,s,o){const i=ho(t,s,o);return mn(n,e,o,i).opset}function ho(n,e,t){const s=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(n/2,2)+Math.pow(e/2,2))/2)),o=Math.ceil(Math.max(t.curveStepCount,t.curveStepCount/Math.sqrt(200)*s)),i=Math.PI*2/o;let a=Math.abs(n/2),r=Math.abs(e/2);const l=1-t.curveFitting;return a+=_(a*l,t),r+=_(r*l,t),{increment:i,rx:a,ry:r}}function mn(n,e,t,s){const[o,i]=ms(s.increment,n,e,s.rx,s.ry,1,s.increment*Et(.1,Et(.4,1,t),t),t);let a=Ct(o,null,t);if(!t.disableMultiStroke&&t.roughness!==0){const[r]=ms(s.increment,n,e,s.rx,s.ry,1.5,0,t),l=Ct(r,null,t);a=a.concat(l)}return{estimatedPoints:i,opset:{type:"path",ops:a}}}function fs(n,e,t,s,o,i,a,r,l){const c=n,d=e;let h=Math.abs(t/2),f=Math.abs(s/2);h+=_(h*.01,l),f+=_(f*.01,l);let u=o,m=i;for(;u<0;)u+=Math.PI*2,m+=Math.PI*2;m-u>Math.PI*2&&(u=0,m=Math.PI*2);const p=Math.PI*2/l.curveStepCount,g=Math.min(p/2,(m-u)/2),y=gs(g,c,d,h,f,u,m,1,l);if(!l.disableMultiStroke){const k=gs(g,c,d,h,f,u,m,1.5,l);y.push(...k)}return a&&(r?y.push(...fe(c,d,c+h*Math.cos(u),d+f*Math.sin(u),l),...fe(c,d,c+h*Math.cos(m),d+f*Math.sin(m),l)):y.push({op:"lineTo",data:[c,d]},{op:"lineTo",data:[c+h*Math.cos(u),d+f*Math.sin(u)]})),{type:"path",ops:y}}function hs(n,e){const t=co(lo(Pn(n))),s=[];let o=[0,0],i=[0,0];for(const{key:a,data:r}of t)switch(a){case"M":{i=[r[0],r[1]],o=[r[0],r[1]];break}case"L":s.push(...fe(i[0],i[1],r[0],r[1],e)),i=[r[0],r[1]];break;case"C":{const[l,c,d,h,f,u]=r;s.push(...Yr(l,c,d,h,f,u,i,e)),i=[f,u];break}case"Z":s.push(...fe(i[0],i[1],o[0],o[1],e)),i=[o[0],o[1]];break}return{type:"path",ops:s}}function Zt(n,e){const t=[];for(const s of n)if(s.length){const o=e.maxRandomnessOffset||0,i=s.length;if(i>2){t.push({op:"move",data:[s[0][0]+_(o,e),s[0][1]+_(o,e)]});for(let a=1;a<i;a++)t.push({op:"lineTo",data:[s[a][0]+_(o,e),s[a][1]+_(o,e)]})}}return{type:"fillPath",ops:t}}function He(n,e){return Vr(e,Wr).fillPolygons(n,e)}function Ur(n,e,t,s,o,i,a){const r=n,l=e;let c=Math.abs(t/2),d=Math.abs(s/2);c+=_(c*.01,a),d+=_(d*.01,a);let h=o,f=i;for(;h<0;)h+=Math.PI*2,f+=Math.PI*2;f-h>Math.PI*2&&(h=0,f=Math.PI*2);const u=(f-h)/a.curveStepCount,m=[];for(let p=h;p<=f;p=p+u)m.push([r+c*Math.cos(p),l+d*Math.sin(p)]);return m.push([r+c*Math.cos(f),l+d*Math.sin(f)]),m.push([r,l]),He([m],a)}function Jr(n,e){return _(n,e)}function Kr(n,e,t){return Et(n,e,t)}function Gr(n,e,t,s,o){return fe(n,e,t,s,o,!0)}function ps(n){const e=Object.assign({},n);return e.randomizer=void 0,n.seed&&(e.seed=n.seed+1),e}function po(n){return n.randomizer||(n.randomizer=new Pr(n.seed||0)),n.randomizer.next()}function Et(n,e,t,s=1){return t.roughness*s*(po(t)*(e-n)+n)}function _(n,e,t=1){return Et(-n,n,e,t)}function fe(n,e,t,s,o,i=!1){const a=i?o.disableMultiStrokeFill:o.disableMultiStroke,r=gn(n,e,t,s,o,!0,!1);if(a)return r;const l=gn(n,e,t,s,o,!0,!0);return r.concat(l)}function gn(n,e,t,s,o,i,a){const r=Math.pow(n-t,2)+Math.pow(e-s,2),l=Math.sqrt(r);let c=1;l<200?c=1:l>500?c=.4:c=-.0016668*l+1.233334;let d=o.maxRandomnessOffset||0;d*d*100>r&&(d=l/10);const h=d/2,f=.2+po(o)*.2;let u=o.bowing*o.maxRandomnessOffset*(s-e)/200,m=o.bowing*o.maxRandomnessOffset*(n-t)/200;u=_(u,o,c),m=_(m,o,c);const p=[],g=()=>_(h,o,c),y=()=>_(d,o,c),k=o.preserveVertices;return a?p.push({op:"move",data:[n+(k?0:g()),e+(k?0:g())]}):p.push({op:"move",data:[n+(k?0:_(d,o,c)),e+(k?0:_(d,o,c))]}),a?p.push({op:"bcurveTo",data:[u+n+(t-n)*f+g(),m+e+(s-e)*f+g(),u+n+2*(t-n)*f+g(),m+e+2*(s-e)*f+g(),t+(k?0:g()),s+(k?0:g())]}):p.push({op:"bcurveTo",data:[u+n+(t-n)*f+y(),m+e+(s-e)*f+y(),u+n+2*(t-n)*f+y(),m+e+2*(s-e)*f+y(),t+(k?0:y()),s+(k?0:y())]}),p}function ht(n,e,t){if(!n.length)return[];const s=[];s.push([n[0][0]+_(e,t),n[0][1]+_(e,t)]),s.push([n[0][0]+_(e,t),n[0][1]+_(e,t)]);for(let o=1;o<n.length;o++)s.push([n[o][0]+_(e,t),n[o][1]+_(e,t)]),o===n.length-1&&s.push([n[o][0]+_(e,t),n[o][1]+_(e,t)]);return Ct(s,null,t)}function Ct(n,e,t){const s=n.length,o=[];if(s>3){const i=[],a=1-t.curveTightness;o.push({op:"move",data:[n[1][0],n[1][1]]});for(let r=1;r+2<s;r++){const l=n[r];i[0]=[l[0],l[1]],i[1]=[l[0]+(a*n[r+1][0]-a*n[r-1][0])/6,l[1]+(a*n[r+1][1]-a*n[r-1][1])/6],i[2]=[n[r+1][0]+(a*n[r][0]-a*n[r+2][0])/6,n[r+1][1]+(a*n[r][1]-a*n[r+2][1])/6],i[3]=[n[r+1][0],n[r+1][1]],o.push({op:"bcurveTo",data:[i[1][0],i[1][1],i[2][0],i[2][1],i[3][0],i[3][1]]})}}else s===3?(o.push({op:"move",data:[n[1][0],n[1][1]]}),o.push({op:"bcurveTo",data:[n[1][0],n[1][1],n[2][0],n[2][1],n[2][0],n[2][1]]})):s===2&&o.push(...gn(n[0][0],n[0][1],n[1][0],n[1][1],t,!0,!0));return o}function ms(n,e,t,s,o,i,a,r){const l=r.roughness===0,c=[],d=[];if(l){n=n/4,d.push([e+s*Math.cos(-n),t+o*Math.sin(-n)]);for(let h=0;h<=Math.PI*2;h=h+n){const f=[e+s*Math.cos(h),t+o*Math.sin(h)];c.push(f),d.push(f)}d.push([e+s*Math.cos(0),t+o*Math.sin(0)]),d.push([e+s*Math.cos(n),t+o*Math.sin(n)])}else{const h=_(.5,r)-Math.PI/2;d.push([_(i,r)+e+.9*s*Math.cos(h-n),_(i,r)+t+.9*o*Math.sin(h-n)]);const f=Math.PI*2+h-.01;for(let u=h;u<f;u=u+n){const m=[_(i,r)+e+s*Math.cos(u),_(i,r)+t+o*Math.sin(u)];c.push(m),d.push(m)}d.push([_(i,r)+e+s*Math.cos(h+Math.PI*2+a*.5),_(i,r)+t+o*Math.sin(h+Math.PI*2+a*.5)]),d.push([_(i,r)+e+.98*s*Math.cos(h+a),_(i,r)+t+.98*o*Math.sin(h+a)]),d.push([_(i,r)+e+.9*s*Math.cos(h+a*.5),_(i,r)+t+.9*o*Math.sin(h+a*.5)])}return[d,c]}function gs(n,e,t,s,o,i,a,r,l){const c=i+_(.1,l),d=[];d.push([_(r,l)+e+.9*s*Math.cos(c-n),_(r,l)+t+.9*o*Math.sin(c-n)]);for(let h=c;h<=a;h=h+n)d.push([_(r,l)+e+s*Math.cos(h),_(r,l)+t+o*Math.sin(h)]);return d.push([e+s*Math.cos(a),t+o*Math.sin(a)]),d.push([e+s*Math.cos(a),t+o*Math.sin(a)]),Ct(d,null,l)}function Yr(n,e,t,s,o,i,a,r){const l=[],c=[r.maxRandomnessOffset||1,(r.maxRandomnessOffset||1)+.3];let d=[0,0];const h=r.disableMultiStroke?1:2,f=r.preserveVertices;for(let u=0;u<h;u++)u===0?l.push({op:"move",data:[a[0],a[1]]}):l.push({op:"move",data:[a[0]+(f?0:_(c[0],r)),a[1]+(f?0:_(c[0],r))]}),d=f?[o,i]:[o+_(c[u],r),i+_(c[u],r)],l.push({op:"bcurveTo",data:[n+_(c[u],r),e+_(c[u],r),t+_(c[u],r),s+_(c[u],r),d[0],d[1]]});return l}function Ye(n){return[...n]}function ys(n,e=0){const t=n.length;if(t<3)throw new Error("A curve must have at least three points.");const s=[];if(t===3)s.push(Ye(n[0]),Ye(n[1]),Ye(n[2]),Ye(n[2]));else{const o=[];o.push(n[0],n[0]);for(let r=1;r<n.length;r++)o.push(n[r]),r===n.length-1&&o.push(n[r]);const i=[],a=1-e;s.push(Ye(o[0]));for(let r=1;r+2<o.length;r++){const l=o[r];i[0]=[l[0],l[1]],i[1]=[l[0]+(a*o[r+1][0]-a*o[r-1][0])/6,l[1]+(a*o[r+1][1]-a*o[r-1][1])/6],i[2]=[o[r+1][0]+(a*o[r][0]-a*o[r+2][0])/6,o[r+1][1]+(a*o[r][1]-a*o[r+2][1])/6],i[3]=[o[r+1][0],o[r+1][1]],s.push(i[1],i[2],i[3])}}return s}function Qr(n,e){return Math.sqrt(wt(n,e))}function wt(n,e){return Math.pow(n[0]-e[0],2)+Math.pow(n[1]-e[1],2)}function Zr(n,e,t){const s=wt(e,t);if(s===0)return wt(n,e);let o=((n[0]-e[0])*(t[0]-e[0])+(n[1]-e[1])*(t[1]-e[1]))/s;return o=Math.max(0,Math.min(1,o)),wt(n,Pe(e,t,o))}function Pe(n,e,t){return[n[0]+(e[0]-n[0])*t,n[1]+(e[1]-n[1])*t]}function Xr(n,e){const t=n[e+0],s=n[e+1],o=n[e+2],i=n[e+3];let a=3*s[0]-2*t[0]-i[0];a*=a;let r=3*s[1]-2*t[1]-i[1];r*=r;let l=3*o[0]-2*i[0]-t[0];l*=l;let c=3*o[1]-2*i[1]-t[1];return c*=c,a<l&&(a=l),r<c&&(r=c),a+r}function yn(n,e,t,s){const o=s||[];if(Xr(n,e)<t){const i=n[e+0];o.length?Qr(o[o.length-1],i)>1&&o.push(i):o.push(i),o.push(n[e+3])}else{const a=n[e+0],r=n[e+1],l=n[e+2],c=n[e+3],d=Pe(a,r,.5),h=Pe(r,l,.5),f=Pe(l,c,.5),u=Pe(d,h,.5),m=Pe(h,f,.5),p=Pe(u,m,.5);yn([a,d,u,p],0,t,o),yn([p,m,f,c],0,t,o)}return o}function el(n,e){return Pt(n,0,n.length,e)}function Pt(n,e,t,s,o){const i=o||[],a=n[e],r=n[t-1];let l=0,c=1;for(let d=e+1;d<t-1;++d){const h=Zr(n[d],a,r);h>l&&(l=h,c=d)}return Math.sqrt(l)>s?(Pt(n,e,c+1,s,i),Pt(n,c,t,s,i)):(i.length||i.push(a),i.push(r)),i}function kn(n,e=.15,t){const s=[],o=(n.length-1)/3;for(let i=0;i<o;i++){const a=i*3;yn(n,a,e,s)}return t&&t>0?Pt(s,0,s.length,t):s}function tl(n,e,t){const s=Pn(n),o=co(lo(s)),i=[];let a=[],r=[0,0],l=[];const c=()=>{l.length>=4&&a.push(...kn(l,e)),l=[]},d=()=>{c(),a.length&&(i.push(a),a=[])};for(const{key:f,data:u}of o)switch(f){case"M":d(),r=[u[0],u[1]],a.push(r);break;case"L":c(),a.push([u[0],u[1]]);break;case"C":if(!l.length){const m=a.length?a[a.length-1]:r;l.push([m[0],m[1]])}l.push([u[0],u[1]]),l.push([u[2],u[3]]),l.push([u[4],u[5]]);break;case"Z":c(),a.push([r[0],r[1]]);break}if(d(),!t)return i;const h=[];for(const f of i){const u=el(f,t);u.length&&h.push(u)}return h}const Y="none";class nl{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return ao()}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,t,s){return{shape:e,sets:t||[],options:s||this.defaultOptions}}line(e,t,s,o,i){const a=this._o(i);return this._d("line",[X(e,t,s,o,a)],a)}rectangle(e,t,s,o,i){const a=this._o(i),r=[],l=fo(e,t,s,o,a);if(a.fill){const c=[[e,t],[e+s,t],[e+s,t+o],[e,t+o]];a.fillStyle==="solid"?r.push(Zt([c],a)):r.push(He([c],a))}return a.stroke!==Y&&r.push(l),this._d("rectangle",r,a)}ellipse(e,t,s,o,i){const a=this._o(i),r=[],l=ho(s,o,a),c=mn(e,t,a,l);if(a.fill)if(a.fillStyle==="solid"){const d=mn(e,t,a,l).opset;d.type="fillPath",r.push(d)}else r.push(He([c.estimatedPoints],a));return a.stroke!==Y&&r.push(c.opset),this._d("ellipse",r,a)}circle(e,t,s,o){const i=this.ellipse(e,t,s,s,o);return i.shape="circle",i}linearPath(e,t){const s=this._o(t);return this._d("linearPath",[et(e,!1,s)],s)}arc(e,t,s,o,i,a,r=!1,l){const c=this._o(l),d=[],h=fs(e,t,s,o,i,a,r,!0,c);if(r&&c.fill)if(c.fillStyle==="solid"){const f=Object.assign({},c);f.disableMultiStroke=!0;const u=fs(e,t,s,o,i,a,!0,!1,f);u.type="fillPath",d.push(u)}else d.push(Ur(e,t,s,o,i,a,c));return c.stroke!==Y&&d.push(h),this._d("arc",d,c)}curve(e,t){const s=this._o(t),o=[],i=ds(e,s);if(s.fill&&s.fill!==Y)if(s.fillStyle==="solid"){const a=ds(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],r=e;if(r.length){const c=typeof r[0][0]=="number"?[r]:r;for(const d of c)d.length<3?a.push(...d):d.length===3?a.push(...kn(ys([d[0],d[0],d[1],d[2]]),10,(1+s.roughness)/2)):a.push(...kn(ys(d),10,(1+s.roughness)/2))}a.length&&o.push(He([a],s))}return s.stroke!==Y&&o.push(i),this._d("curve",o,s)}polygon(e,t){const s=this._o(t),o=[],i=et(e,!0,s);return s.fill&&(s.fillStyle==="solid"?o.push(Zt([e],s)):o.push(He([e],s))),s.stroke!==Y&&o.push(i),this._d("polygon",o,s)}path(e,t){const s=this._o(t),o=[];if(!e)return this._d("path",o,s);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const i=s.fill&&s.fill!=="transparent"&&s.fill!==Y,a=s.stroke!==Y,r=!!(s.simplification&&s.simplification<1),l=r?4-4*(s.simplification||1):(1+s.roughness)/2,c=tl(e,1,l),d=hs(e,s);if(i)if(s.fillStyle==="solid")if(c.length===1){const h=hs(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else o.push(Zt(c,s));else o.push(He(c,s));return a&&(r?c.forEach(h=>{o.push(et(h,!1,s))}):o.push(d)),this._d("path",o,s)}opsToPath(e,t){let s="";for(const o of e.ops){const i=typeof t=="number"&&t>=0?o.data.map(a=>+a.toFixed(t)):o.data;switch(o.op){case"move":s+=`M${i[0]} ${i[1]} `;break;case"bcurveTo":s+=`C${i[0]} ${i[1]}, ${i[2]} ${i[3]}, ${i[4]} ${i[5]} `;break;case"lineTo":s+=`L${i[0]} ${i[1]} `;break}}return s.trim()}toPaths(e){const t=e.sets||[],s=e.options||this.defaultOptions,o=[];for(const i of t){let a=null;switch(i.type){case"path":a={d:this.opsToPath(i),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:Y};break;case"fillPath":a={d:this.opsToPath(i),stroke:Y,strokeWidth:0,fill:s.fill||Y};break;case"fillSketch":a=this.fillSketch(i,s);break}a&&o.push(a)}return o}fillSketch(e,t){let s=t.fillWeight;return s<0&&(s=t.strokeWidth/2),{d:this.opsToPath(e),stroke:t.fill||Y,strokeWidth:s,fill:Y}}_mergedShape(e){return e.filter((t,s)=>s===0?!0:t.op!=="move")}}const mo="http://www.w3.org/2000/svg",sl=800;let Xt=null;function ol(){return Xt||(Xt=new nl().defaultOptions),Xt}function en(n,e,t){return{...ol(),maxRandomnessOffset:2,roughness:n==="highlight"?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,disableMultiStroke:n!=="double",disableMultiStrokeFill:!1,seed:e,...t}}function il(n){const e=n.padding;if(e||e===0){if(typeof e=="number")return[e,e,e,e];if(Array.isArray(e)){const t=e;if(t.length)switch(t.length){case 4:return[...t];case 1:return[t[0],t[0],t[0],t[0]];case 2:return[...t,...t];case 3:return[...t,t[1]];default:return[t[0],t[1],t[2],t[3]]}}}return[5,5,5,5]}function al(n,e,t,s,o,i){const a=[];let r=t.strokeWidth||2;const l=il(t),c=t.animate===void 0?!0:!!t.animate,d=t.iterations||2,h=t.rtl?1:0,f=en("single",i,t);switch(t.type){case"underline":{const u=e.y+e.h+l[2];for(let m=h;m<d+h;m++)m%2?a.push(X(e.x+e.w,u,e.x,u,f)):a.push(X(e.x,u,e.x+e.w,u,f));break}case"strike-through":{const u=e.y+e.h/2;for(let m=h;m<d+h;m++)m%2?a.push(X(e.x+e.w,u,e.x,u,f)):a.push(X(e.x,u,e.x+e.w,u,f));break}case"box":{const u=e.x-l[3],m=e.y-l[0],p=e.w+(l[1]+l[3]),g=e.h+(l[0]+l[2]);for(let y=0;y<d;y++)a.push(fo(u,m,p,g,f));break}case"bracket":{const u=Array.isArray(t.brackets)?t.brackets:t.brackets?[t.brackets]:["right"],m=e.x-l[3]*2,p=e.x+e.w+l[1]*2,g=e.y-l[0]*2,y=e.y+e.h+l[2]*2;for(const k of u){let v;switch(k){case"bottom":v=[[m,e.y+e.h],[m,y],[p,y],[p,e.y+e.h]];break;case"top":v=[[m,e.y],[m,g],[p,g],[p,e.y]];break;case"left":v=[[e.x,g],[m,g],[m,y],[e.x,y]];break;case"right":v=[[e.x+e.w,g],[p,g],[p,y],[e.x+e.w,y]];break}v&&a.push(et(v,!1,f))}break}case"crossed-off":{const u=e.x,m=e.y,p=u+e.w,g=m+e.h;for(let y=h;y<d+h;y++)y%2?a.push(X(p,g,u,m,f)):a.push(X(u,m,p,g,f));for(let y=h;y<d+h;y++)y%2?a.push(X(u,g,p,m,f)):a.push(X(p,m,u,g,f));break}case"circle":{const u=en("double",i,t),m=e.w+(l[1]+l[3]),p=e.h+(l[0]+l[2]),g=e.x-l[3]+m/2,y=e.y-l[0]+p/2,k=Math.floor(d/2),v=d-k*2;for(let w=0;w<k;w++)a.push(pn(g,y,m,p,u));for(let w=0;w<v;w++)a.push(pn(g,y,m,p,f));break}case"highlight":{const u=en("highlight",i,t);r=e.h*.95;const m=e.y+e.h/2;for(let p=h;p<d+h;p++)p%2?a.push(X(e.x+e.w,m,e.x,m,u)):a.push(X(e.x,m,e.x+e.w,m,u));break}}if(a.length){const u=rl(a),m=[],p=[];let g=0;const y=(k,v,w)=>k.setAttribute(v,w);for(const k of u){const v=document.createElementNS(mo,"path");if(y(v,"d",k),y(v,"fill","none"),y(v,"stroke",t.color||"currentColor"),y(v,"stroke-width",`${r}`),t.opacity!==void 0&&y(v,"style",`opacity:${t.opacity}`),c){const w=v.getTotalLength();m.push(w),g+=w}n.appendChild(v),p.push(v)}if(c){let k=0;for(let v=0;v<p.length;v++){const w=p[v],S=m[v],T=g?o*(S/g):0,C=s+k,N=w.style;N.strokeDashoffset=`${S}`,N.strokeDasharray=`${S}`,N.animation=`rough-notation-dash ${T}ms ease-out ${C}ms forwards`,k+=T}return ks(o+s)}}return ks(0)}function ks(n){return new Promise(e=>setTimeout(e,n))}function rl(n){const e=[];for(const t of n){let s="";for(const o of t.ops){const i=o.data;switch(o.op){case"move":s.trim()&&e.push(s.trim()),s=`M${i[0]} ${i[1]} `;break;case"bcurveTo":s+=`C${i[0]} ${i[1]}, ${i[2]} ${i[3]}, ${i[4]} ${i[5]} `;break;case"lineTo":s+=`L${i[0]} ${i[1]} `;break}}s.trim()&&e.push(s.trim())}return e}function ll(){if(!window.__rno_kf_s){const n=window.__rno_kf_s=document.createElement("style");n.textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(n)}}var cl=Object.defineProperty,ul=(n,e,t)=>e in n?cl(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,ne=(n,e,t)=>(ul(n,typeof e!="symbol"?e+"":e,t),t);class dl{constructor(e,t){ne(this,"_state","unattached"),ne(this,"_config"),ne(this,"_resizing",!1),ne(this,"_ro"),ne(this,"_seed",ao()),ne(this,"_e"),ne(this,"_svg"),ne(this,"_lastSizes",[]),ne(this,"_animationDelay",0),ne(this,"_resizeListener",()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,this._state==="showing"&&this.haveRectsChanged()&&this.show()},400))}),ne(this,"pendingRefresh"),this._e=e,this._config=JSON.parse(JSON.stringify(t)),this.attach()}getConfig(e){return this._config[e]}setConfig(e,t){this._config[e]!==t&&(this._config[e]=t,this.refresh())}get animate(){return this._config.animate}set animate(e){this._config.animate=e}get animationDuration(){return this._config.animationDuration}set animationDuration(e){this._config.animationDuration=e}get iterations(){return this._config.iterations}set iterations(e){this._config.iterations=e}get color(){return this._config.color}set color(e){this._config.color!==e&&(this._config.color=e,this.refresh())}get class(){return this._config.class}set class(e){this._config.class!==e&&(this._config.class=e,this._svg&&this._svg.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" ")))}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(e){this._config.strokeWidth!==e&&(this._config.strokeWidth=e,this.refresh())}get padding(){return this._config.padding}set padding(e){this._config.padding!==e&&(this._config.padding=e,this.refresh())}attach(){if(this._state==="unattached"&&this._e.parentElement){ll();const e=this._svg=document.createElementNS(mo,"svg");e.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" "));const t=e.style;t.position="absolute",t.top="0",t.left="0",t.overflow="visible",t.pointerEvents="none",t.width="100px",t.height="100px";const s=this._config.type==="highlight";if(this._e.insertAdjacentElement(s?"beforebegin":"afterend",e),this._state="not-showing",s){const o=window.getComputedStyle(this._e).position;(!o||o==="static")&&(this._e.style.position="relative")}this.attachListeners()}}detachListeners(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver(e=>{for(const t of e)t.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){const e=this.rects();if(e.length===this._lastSizes.length){for(let t=0;t<e.length;t++)if(!this.isSameRect(e[t],this._lastSizes[t]))return!0}else return!0}return!1}isSameRect(e,t){const s=(o,i)=>Math.round(o)===Math.round(i);return s(e.x,t.x)&&s(e.y,t.y)&&s(e.w,t.w)&&s(e.h,t.h)}isShowing(){return this._state!=="not-showing"}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}async show(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&await this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&await this.render(this._svg,!1);break}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()}async render(e,t){let s=this._config;t&&(s=JSON.parse(JSON.stringify(this._config)),s.animate=!1);const o=this.rects();let i=0;o.forEach(c=>i+=c.w);const a=s.animationDuration||sl;let r=0;const l=[];for(let c=0;c<o.length;c++){const d=o[c],h=a*(d.w/i);l.push(al(e,o[c],s,r+this._animationDelay+(this._config.delay||0),h,this._seed)),r+=h}return this._lastSizes=o,this._state="showing",await Promise.all(l)}rects(){const e=[];if(this._svg)if(this._config.multiline){const t=this._e.getClientRects();for(let s=0;s<t.length;s++)e.push(this.svgRect(this._svg,t[s]))}else e.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return e}svgRect(e,t){const s=e.getBoundingClientRect(),o=t;return{x:(o.x||o.left)-(s.x||s.left),y:(o.y||o.top)-(s.y||s.top),w:o.width,h:o.height}}}function fl(n,e){return new dl(n,e)}function K(n,e){return n.class=[n.class,e].filter(Boolean).join(" "),n}const vs={box:n=>Object.assign(n,{type:"box"}),circle:n=>Object.assign(n,{type:"circle"}),underline:n=>Object.assign(n,{type:"underline"}),highlight:n=>Object.assign(n,{type:"highlight"}),"strike-through":n=>Object.assign(n,{type:"strike-through"}),"crossed-off":n=>Object.assign(n,{type:"crossed-off"}),bracket:n=>Object.assign(n,{type:"bracket"}),strike:n=>Object.assign(n,{type:"strike-through"}),cross:n=>Object.assign(n,{type:"crossed-off"}),crossed:n=>Object.assign(n,{type:"crossed-off"}),linethrough:n=>Object.assign(n,{type:"strike-through"}),"line-through":n=>Object.assign(n,{type:"strike-through"}),black:n=>K(n,"text-black"),blue:n=>K(n,"text-blue"),cyan:n=>K(n,"text-cyan"),gray:n=>K(n,"text-gray"),green:n=>K(n,"text-green"),indigo:n=>K(n,"text-indigo"),lime:n=>K(n,"text-lime"),orange:n=>K(n,"text-orange"),pink:n=>K(n,"text-pink"),purple:n=>K(n,"text-purple"),red:n=>K(n,"text-red"),teal:n=>K(n,"text-teal"),white:n=>K(n,"text-white"),yellow:n=>K(n,"text-yellow")},hl=[[/^delay-?(\d+)?$/,(n,e,t)=>{const s=(n[1]?Number.parseInt(n[1]):t)||300;return e.delay=s,e}],[/^(?:op|opacity)-?(\d+)?$/,(n,e,t)=>{const s=(n[1]?Number.parseInt(n[1]):t)||100;return e.opacity=s/100,e}]];function pl(){return{install(n){n.directive("mark",{name:"v-mark",mounted:(e,t)=>{const{isPrintMode:s}=xe(),o=b(()=>{const r=typeof t.value=="object"&&!Array.isArray(t.value)?{...t.value}:{at:t.value};let l={at:r.at};const c=Object.entries(t.modifiers).filter(([h,f])=>{if(vs[h])return l=vs[h](l,f),!1;for(const[u,m]of hl){const p=h.match(u);if(p)return l=m(p,l,f),!1}return!0});c.length&&console.warn("[Slidev] Invalid modifiers for v-mark:",c);const d={...l,...r};return d.type||="underline",s.value&&(d.animationDuration=1),d}),i=fl(e,o.value),a=vt(e,t,o.value.at);if(!a){i.show();return}e.watchStopHandle=Le(()=>{let r;o.value.class&&(i.class=o.value.class),o.value.color&&(i.color=o.value.color);const l=o.value.at;l===!0?r=!0:l===!1?r=!1:r=a.isActive.value,r!=null&&(r?i.show():i.hide())})},unmounted:e=>{e.watchStopHandle?.()}})}}}function ml(){return{install(n){const e=Wo();n.directive("motion",{name:"v-motion",mounted(t,s,o,i){const a=We(s,nt),r=We(s,It),l=We(s,xt),{currentPage:c,clicks:d,isPrintMode:h}=xe(),f=o.props={...o.props},u={...f.initial,...f.variants?.["slidev-initial"]},m={...f.enter,...f.variants?.["slidev-enter"]},p={...f.leave,...f.variants?.["slidev-leave"]};delete f.initial,delete f.enter,delete f.leave;const g=`${En()}-`,y=[];for(const v of Object.keys(f))if(v.startsWith("click-")){const w=v.slice(6),S=w.includes("-")?w.split("-").map(Number):+w,T=g+w;y.push({id:T,at:S,variant:{...f[v]},info:a?.value.calculate(S)}),delete f[v]}y.sort((v,w)=>(Array.isArray(v.at)?v.at[0]:v.at)-(Array.isArray(w.at)?w.at[0]:w.at)),e.created(t,s,o,i),e.mounted(t,s,o,i);const k=t.motionInstance;k.clickIds=y.map(v=>v.id),k.set(u),k.watchStopHandle=ee([r,c,d].filter(Boolean),()=>{const v=io.get(t)?.visibilityState.value??"shown";if(!a?.value||!["slide","presenter"].includes(l?.value??"")){const w={...u,...m};for(const{variant:S}of y)Object.assign(w,S);k.set(w)}else if(h.value||r?.value===c.value)if(v==="shown"){const w={...u,...m};for(const{variant:S,info:T}of y)(!T||T.isActive.value)&&Object.assign(w,S);h.value?k.set(w):k.apply(w)}else k.apply(v==="before"?u:p);else k.apply((r?.value??-1)>c.value?u:p)},{immediate:!0})},unmounted(t){t.motionInstance.watchStopHandle()}})}}}const gl=[];function yl(){const n=[];function e(t){if(!L.remote||L.remote===t.query.password)return!0;if(L.remote&&t.query.password===void 0){const s=prompt("Enter password");if(L.remote===s)return!0}return t.params.no?{path:`/${t.params.no}`}:{path:""}}return n.push({name:"entry",path:"/entry",component:()=>E(()=>import("./slidev/entry-DiGM60t-.js"),__vite__mapDeps([26,1,3,4,27])),beforeEnter:e},{name:"overview",path:"/overview",component:()=>E(()=>import("./slidev/overview-BMECzelX.js"),__vite__mapDeps([28,29,1,30,31,32,33,34,35,3,4])),beforeEnter:e},{name:"notes",path:"/notes",component:()=>E(()=>import("./slidev/notes-DLv_RLRr.js"),__vite__mapDeps([36,1,30,31,35,3,4])),beforeEnter:e},{name:"presenter",path:"/presenter/:no",component:()=>E(()=>import("./slidev/presenter-DuZ5x3A9.js"),__vite__mapDeps([37,1,32,33,34,38,29,35,3,4,39,30,31,40,41,42])),beforeEnter:e},{path:"/presenter",redirect:{path:"/presenter/1"}}),n.push({name:"play",path:"/:no",component:()=>E(()=>import("./slidev/play-0WdTPcS1.js"),__vite__mapDeps([43,1,32,33,34,38,29,35,3,4,39,44]))},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>E(()=>import("./slidev/404-BpKkwAvd.js"),__vite__mapDeps([45,1,3,4,46]))}),gl.reduce((t,s)=>s(t),n)}async function kl(n){function e(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}e(),window.addEventListener("resize",e);const t=Bo({history:Uo("/2024/vue-fes-japan/"),routes:yl()});n.use(t),n.use(Mr()),n.use(Or()),n.use(pl()),n.use(Cr()),n.use(ml()),n.use(Ko,{container:"#twoslash-container"});const s={app:n,router:t};for(const o of br)await o(s)}async function vl(){const n=Jo(wr);await kl(n),n.mount("#app")}vl();export{Cl as $,Ra as A,ln as B,mt as C,Ia as D,Nl as E,Wl as F,Sl as G,_t as H,Oa as I,El as J,Vs as K,$a as L,lt as M,$l as N,Ql as O,Fl as P,Vl as Q,se as R,Pa as S,jt as T,js as U,Tr as V,Es as W,ti as X,Ll as Y,wn as Z,ji as _,xe as a,at as a0,Pl as a1,Rl as a2,jl as a3,Kl as a4,Jl as a5,Ul as a6,te as a7,no as a8,so as a9,As as aa,xs as ab,ba as ac,Ns as ad,It as ae,xt as af,nt as ag,Ds as ah,Yl as ai,Ml as aj,Ol as ak,En as al,rn as am,Yo as an,Ws as b,Li as c,Gl as d,Is as e,xl as f,Ve as g,rt as h,rs as i,La as j,Mt as k,zl as l,ql as m,Hl as n,sn as o,_l as p,Dl as q,Rn as r,zt as s,Bl as t,Ci as u,L as v,E as w,Tl as x,Al as y,Il as z};
