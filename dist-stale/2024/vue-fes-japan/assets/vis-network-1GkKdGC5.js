import{t as tB,b as rB,i as iB}from"./index-D_1luFRJ.js";function TY(){return{isColorSchemaConfigured:iB,isDark:rB,toggleDark:tB}}const{min:nB,max:sB}=Math,Xr=(i,e=0,t=1)=>nB(sB(e,i),t),ob=i=>{i._clipped=!1,i._unclipped=i.slice(0);for(let e=0;e<=3;e++)e<3?((i[e]<0||i[e]>255)&&(i._clipped=!0),i[e]=Xr(i[e],0,255)):e===3&&(i[e]=Xr(i[e],0,1));return i},CA={};for(let i of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])CA[`[object ${i}]`]=i.toLowerCase();function ie(i){return CA[Object.prototype.toString.call(i)]||"object"}const Z=(i,e=null)=>i.length>=3?Array.prototype.slice.call(i):ie(i[0])=="object"&&e?e.split("").filter(t=>i[0][t]!==void 0).map(t=>i[0][t]):i[0].slice(0),rn=i=>{if(i.length<2)return null;const e=i.length-1;return ie(i[e])=="string"?i[e].toLowerCase():null},{PI:Co,min:xA,max:DA}=Math,yt=i=>Math.round(i*100)/100,Bm=i=>Math.round(i*100)/100,Xt=Co*2,ba=Co/3,oB=Co/180,aB=180/Co;function MA(i){return[...i.slice(0,3).reverse(),...i.slice(3)]}const X={format:{},autodetect:[]};class x{constructor(...e){const t=this;if(ie(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];let r=rn(e),n=!1;if(!r){n=!0,X.sorted||(X.autodetect=X.autodetect.sort((s,o)=>o.p-s.p),X.sorted=!0);for(let s of X.autodetect)if(r=s.test(...e),r)break}if(X.format[r]){const s=X.format[r].apply(null,n?e:e.slice(0,-1));t._rgb=ob(s)}else throw new Error("unknown format: "+e);t._rgb.length===3&&t._rgb.push(1)}toString(){return ie(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const uB="3.1.2",ne=(...i)=>new x(...i);ne.version=uB;const Ui={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},lB=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,dB=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,AA=i=>{if(i.match(lB)){(i.length===4||i.length===7)&&(i=i.substr(1)),i.length===3&&(i=i.split(""),i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]);const e=parseInt(i,16),t=e>>16,r=e>>8&255,n=e&255;return[t,r,n,1]}if(i.match(dB)){(i.length===5||i.length===9)&&(i=i.substr(1)),i.length===4&&(i=i.split(""),i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]+i[3]+i[3]);const e=parseInt(i,16),t=e>>24&255,r=e>>16&255,n=e>>8&255,s=Math.round((e&255)/255*100)/100;return[t,r,n,s]}throw new Error(`unknown hex color: ${i}`)},{round:Js}=Math,kA=(...i)=>{let[e,t,r,n]=Z(i,"rgba"),s=rn(i)||"auto";n===void 0&&(n=1),s==="auto"&&(s=n<1?"rgba":"rgb"),e=Js(e),t=Js(t),r=Js(r);let a="000000"+(e<<16|t<<8|r).toString(16);a=a.substr(a.length-6);let u="0"+Js(n*255).toString(16);switch(u=u.substr(u.length-2),s.toLowerCase()){case"rgba":return`#${a}${u}`;case"argb":return`#${u}${a}`;default:return`#${a}`}};x.prototype.name=function(){const i=kA(this._rgb,"rgb");for(let e of Object.keys(Ui))if(Ui[e]===i)return e.toLowerCase();return i};X.format.named=i=>{if(i=i.toLowerCase(),Ui[i])return AA(Ui[i]);throw new Error("unknown color name: "+i)};X.autodetect.push({p:5,test:(i,...e)=>{if(!e.length&&ie(i)==="string"&&Ui[i.toLowerCase()])return"named"}});x.prototype.alpha=function(i,e=!1){return i!==void 0&&ie(i)==="number"?e?(this._rgb[3]=i,this):new x([this._rgb[0],this._rgb[1],this._rgb[2],i],"rgb"):this._rgb[3]};x.prototype.clipped=function(){return this._rgb._clipped||!1};const Wt={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},cB=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Zt(i){const e=cB.get(String(i).toLowerCase());if(!e)throw new Error("unknown Lab illuminant "+i);Wt.labWhitePoint=i,Wt.Xn=e[0],Wt.Zn=e[1]}function is(){return Wt.labWhitePoint}const ab=(...i)=>{i=Z(i,"lab");const[e,t,r]=i,[n,s,o]=hB(e,t,r),[a,u,l]=NA(n,s,o);return[a,u,l,i.length>3?i[3]:1]},hB=(i,e,t)=>{const{kE:r,kK:n,kKE:s,Xn:o,Yn:a,Zn:u}=Wt,l=(i+16)/116,d=.002*e+l,c=l-.005*t,h=d*d*d,f=c*c*c,v=h>r?h:(116*d-16)/n,p=i>s?Math.pow((i+16)/116,3):i/n,m=f>r?f:(116*c-16)/n,g=v*o,y=p*a,O=m*u;return[g,y,O]},_a=i=>{const e=Math.sign(i);return i=Math.abs(i),(i<=.0031308?i*12.92:1.055*Math.pow(i,1/2.4)-.055)*e},NA=(i,e,t)=>{const{MtxAdaptMa:r,MtxAdaptMaI:n,MtxXYZ2RGB:s,RefWhiteRGB:o,Xn:a,Yn:u,Zn:l}=Wt,d=a*r.m00+u*r.m10+l*r.m20,c=a*r.m01+u*r.m11+l*r.m21,h=a*r.m02+u*r.m12+l*r.m22,f=o.X*r.m00+o.Y*r.m10+o.Z*r.m20,v=o.X*r.m01+o.Y*r.m11+o.Z*r.m21,p=o.X*r.m02+o.Y*r.m12+o.Z*r.m22,m=(i*r.m00+e*r.m10+t*r.m20)*(f/d),g=(i*r.m01+e*r.m11+t*r.m21)*(v/c),y=(i*r.m02+e*r.m12+t*r.m22)*(p/h),O=m*n.m00+g*n.m10+y*n.m20,b=m*n.m01+g*n.m11+y*n.m21,S=m*n.m02+g*n.m12+y*n.m22,$=_a(O*s.m00+b*s.m10+S*s.m20),w=_a(O*s.m01+b*s.m11+S*s.m21),_=_a(O*s.m02+b*s.m12+S*s.m22);return[$*255,w*255,_*255]},ub=(...i)=>{const[e,t,r,...n]=Z(i,"rgb"),[s,o,a]=FA(e,t,r),[u,l,d]=fB(s,o,a);return[u,l,d,...n.length>0&&n[0]<1?[n[0]]:[]]};function fB(i,e,t){const{Xn:r,Yn:n,Zn:s,kE:o,kK:a}=Wt,u=i/r,l=e/n,d=t/s,c=u>o?Math.pow(u,1/3):(a*u+16)/116,h=l>o?Math.pow(l,1/3):(a*l+16)/116,f=d>o?Math.pow(d,1/3):(a*d+16)/116;return[116*h-16,500*(c-h),200*(h-f)]}function wa(i){const e=Math.sign(i);return i=Math.abs(i),(i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4))*e}const FA=(i,e,t)=>{i=wa(i/255),e=wa(e/255),t=wa(t/255);const{MtxRGB2XYZ:r,MtxAdaptMa:n,MtxAdaptMaI:s,Xn:o,Yn:a,Zn:u,As:l,Bs:d,Cs:c}=Wt;let h=i*r.m00+e*r.m10+t*r.m20,f=i*r.m01+e*r.m11+t*r.m21,v=i*r.m02+e*r.m12+t*r.m22;const p=o*n.m00+a*n.m10+u*n.m20,m=o*n.m01+a*n.m11+u*n.m21,g=o*n.m02+a*n.m12+u*n.m22;let y=h*n.m00+f*n.m10+v*n.m20,O=h*n.m01+f*n.m11+v*n.m21,b=h*n.m02+f*n.m12+v*n.m22;return y*=p/l,O*=m/d,b*=g/c,h=y*s.m00+O*s.m10+b*s.m20,f=y*s.m01+O*s.m11+b*s.m21,v=y*s.m02+O*s.m12+b*s.m22,[h,f,v]};x.prototype.lab=function(){return ub(this._rgb)};const vB=(...i)=>new x(...i,"lab");Object.assign(ne,{lab:vB,getLabWhitePoint:is,setLabWhitePoint:Zt});X.format.lab=ab;X.autodetect.push({p:2,test:(...i)=>{if(i=Z(i,"lab"),ie(i)==="array"&&i.length===3)return"lab"}});x.prototype.darken=function(i=1){const e=this,t=e.lab();return t[0]-=Wt.Kn*i,new x(t,"lab").alpha(e.alpha(),!0)};x.prototype.brighten=function(i=1){return this.darken(-i)};x.prototype.darker=x.prototype.darken;x.prototype.brighter=x.prototype.brighten;x.prototype.get=function(i){const[e,t]=i.split("."),r=this[e]();if(t){const n=e.indexOf(t)-(e.substr(0,2)==="ok"?2:0);if(n>-1)return r[n];throw new Error(`unknown channel ${t} in mode ${e}`)}else return r};const{pow:pB}=Math,gB=1e-7,yB=20;x.prototype.luminance=function(i,e="rgb"){if(i!==void 0&&ie(i)==="number"){if(i===0)return new x([0,0,0,this._rgb[3]],"rgb");if(i===1)return new x([255,255,255,this._rgb[3]],"rgb");let t=this.luminance(),r=yB;const n=(o,a)=>{const u=o.interpolate(a,.5,e),l=u.luminance();return Math.abs(i-l)<gB||!r--?u:l>i?n(o,u):n(u,a)},s=(t>i?n(new x([0,0,0]),this):n(this,new x([255,255,255]))).rgb();return new x([...s,this._rgb[3]])}return mB(...this._rgb.slice(0,3))};const mB=(i,e,t)=>(i=Ea(i),e=Ea(e),t=Ea(t),.2126*i+.7152*e+.0722*t),Ea=i=>(i/=255,i<=.03928?i/12.92:pB((i+.055)/1.055,2.4)),Ze={},Vi=(i,e,t=.5,...r)=>{let n=r[0]||"lrgb";if(!Ze[n]&&!r.length&&(n=Object.keys(Ze)[0]),!Ze[n])throw new Error(`interpolation mode ${n} is not defined`);return ie(i)!=="object"&&(i=new x(i)),ie(e)!=="object"&&(e=new x(e)),Ze[n](i,e,t).alpha(i.alpha()+t*(e.alpha()-i.alpha()))};x.prototype.mix=x.prototype.interpolate=function(i,e=.5,...t){return Vi(this,i,e,...t)};x.prototype.premultiply=function(i=!1){const e=this._rgb,t=e[3];return i?(this._rgb=[e[0]*t,e[1]*t,e[2]*t,t],this):new x([e[0]*t,e[1]*t,e[2]*t,t],"rgb")};const{sin:bB,cos:_B}=Math,BA=(...i)=>{let[e,t,r]=Z(i,"lch");return isNaN(r)&&(r=0),r=r*oB,[e,_B(r)*t,bB(r)*t]},lb=(...i)=>{i=Z(i,"lch");const[e,t,r]=i,[n,s,o]=BA(e,t,r),[a,u,l]=ab(n,s,o);return[a,u,l,i.length>3?i[3]:1]},wB=(...i)=>{const e=MA(Z(i,"hcl"));return lb(...e)},{sqrt:EB,atan2:SB,round:OB}=Math,jA=(...i)=>{const[e,t,r]=Z(i,"lab"),n=EB(t*t+r*r);let s=(SB(r,t)*aB+360)%360;return OB(n*1e4)===0&&(s=Number.NaN),[e,n,s]},db=(...i)=>{const[e,t,r,...n]=Z(i,"rgb"),[s,o,a]=ub(e,t,r),[u,l,d]=jA(s,o,a);return[u,l,d,...n.length>0&&n[0]<1?[n[0]]:[]]};x.prototype.lch=function(){return db(this._rgb)};x.prototype.hcl=function(){return MA(db(this._rgb))};const IB=(...i)=>new x(...i,"lch"),$B=(...i)=>new x(...i,"hcl");Object.assign(ne,{lch:IB,hcl:$B});X.format.lch=lb;X.format.hcl=wB;["lch","hcl"].forEach(i=>X.autodetect.push({p:2,test:(...e)=>{if(e=Z(e,i),ie(e)==="array"&&e.length===3)return i}}));x.prototype.saturate=function(i=1){const e=this,t=e.lch();return t[1]+=Wt.Kn*i,t[1]<0&&(t[1]=0),new x(t,"lch").alpha(e.alpha(),!0)};x.prototype.desaturate=function(i=1){return this.saturate(-i)};x.prototype.set=function(i,e,t=!1){const[r,n]=i.split("."),s=this[r]();if(n){const o=r.indexOf(n)-(r.substr(0,2)==="ok"?2:0);if(o>-1){if(ie(e)=="string")switch(e.charAt(0)){case"+":s[o]+=+e;break;case"-":s[o]+=+e;break;case"*":s[o]*=+e.substr(1);break;case"/":s[o]/=+e.substr(1);break;default:s[o]=+e}else if(ie(e)==="number")s[o]=e;else throw new Error("unsupported value for Color.set");const a=new x(s,r);return t?(this._rgb=a._rgb,this):a}throw new Error(`unknown channel ${n} in mode ${r}`)}else return s};x.prototype.tint=function(i=.5,...e){return Vi(this,"white",i,...e)};x.prototype.shade=function(i=.5,...e){return Vi(this,"black",i,...e)};const TB=(i,e,t)=>{const r=i._rgb,n=e._rgb;return new x(r[0]+t*(n[0]-r[0]),r[1]+t*(n[1]-r[1]),r[2]+t*(n[2]-r[2]),"rgb")};Ze.rgb=TB;const{sqrt:Sa,pow:Ti}=Math,PB=(i,e,t)=>{const[r,n,s]=i._rgb,[o,a,u]=e._rgb;return new x(Sa(Ti(r,2)*(1-t)+Ti(o,2)*t),Sa(Ti(n,2)*(1-t)+Ti(a,2)*t),Sa(Ti(s,2)*(1-t)+Ti(u,2)*t),"rgb")};Ze.lrgb=PB;const RB=(i,e,t)=>{const r=i.lab(),n=e.lab();return new x(r[0]+t*(n[0]-r[0]),r[1]+t*(n[1]-r[1]),r[2]+t*(n[2]-r[2]),"lab")};Ze.lab=RB;const nn=(i,e,t,r)=>{let n,s;r==="hsl"?(n=i.hsl(),s=e.hsl()):r==="hsv"?(n=i.hsv(),s=e.hsv()):r==="hcg"?(n=i.hcg(),s=e.hcg()):r==="hsi"?(n=i.hsi(),s=e.hsi()):r==="lch"||r==="hcl"?(r="hcl",n=i.hcl(),s=e.hcl()):r==="oklch"&&(n=i.oklch().reverse(),s=e.oklch().reverse());let o,a,u,l,d,c;(r.substr(0,1)==="h"||r==="oklch")&&([o,u,d]=n,[a,l,c]=s);let h,f,v,p;return!isNaN(o)&&!isNaN(a)?(a>o&&a-o>180?p=a-(o+360):a<o&&o-a>180?p=a+360-o:p=a-o,f=o+t*p):isNaN(o)?isNaN(a)?f=Number.NaN:(f=a,(d==1||d==0)&&r!="hsv"&&(h=l)):(f=o,(c==1||c==0)&&r!="hsv"&&(h=u)),h===void 0&&(h=u+t*(l-u)),v=d+t*(c-d),r==="oklch"?new x([v,h,f],r):new x([f,h,v],r)},LA=(i,e,t)=>nn(i,e,t,"lch");Ze.lch=LA;Ze.hcl=LA;const qB=i=>{if(ie(i)=="number"&&i>=0&&i<=16777215){const e=i>>16,t=i>>8&255,r=i&255;return[e,t,r,1]}throw new Error("unknown num color: "+i)},CB=(...i)=>{const[e,t,r]=Z(i,"rgb");return(e<<16)+(t<<8)+r};x.prototype.num=function(){return CB(this._rgb)};const xB=(...i)=>new x(...i,"num");Object.assign(ne,{num:xB});X.format.num=qB;X.autodetect.push({p:5,test:(...i)=>{if(i.length===1&&ie(i[0])==="number"&&i[0]>=0&&i[0]<=16777215)return"num"}});const DB=(i,e,t)=>{const r=i.num(),n=e.num();return new x(r+t*(n-r),"num")};Ze.num=DB;const{floor:MB}=Math,AB=(...i)=>{i=Z(i,"hcg");let[e,t,r]=i,n,s,o;r=r*255;const a=t*255;if(t===0)n=s=o=r;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const u=MB(e),l=e-u,d=r*(1-t),c=d+a*(1-l),h=d+a*l,f=d+a;switch(u){case 0:[n,s,o]=[f,h,d];break;case 1:[n,s,o]=[c,f,d];break;case 2:[n,s,o]=[d,f,h];break;case 3:[n,s,o]=[d,c,f];break;case 4:[n,s,o]=[h,d,f];break;case 5:[n,s,o]=[f,d,c];break}}return[n,s,o,i.length>3?i[3]:1]},kB=(...i)=>{const[e,t,r]=Z(i,"rgb"),n=xA(e,t,r),s=DA(e,t,r),o=s-n,a=o*100/255,u=n/(255-o)*100;let l;return o===0?l=Number.NaN:(e===s&&(l=(t-r)/o),t===s&&(l=2+(r-e)/o),r===s&&(l=4+(e-t)/o),l*=60,l<0&&(l+=360)),[l,a,u]};x.prototype.hcg=function(){return kB(this._rgb)};const NB=(...i)=>new x(...i,"hcg");ne.hcg=NB;X.format.hcg=AB;X.autodetect.push({p:1,test:(...i)=>{if(i=Z(i,"hcg"),ie(i)==="array"&&i.length===3)return"hcg"}});const FB=(i,e,t)=>nn(i,e,t,"hcg");Ze.hcg=FB;const{cos:Pi}=Math,BB=(...i)=>{i=Z(i,"hsi");let[e,t,r]=i,n,s,o;return isNaN(e)&&(e=0),isNaN(t)&&(t=0),e>360&&(e-=360),e<0&&(e+=360),e/=360,e<1/3?(o=(1-t)/3,n=(1+t*Pi(Xt*e)/Pi(ba-Xt*e))/3,s=1-(o+n)):e<2/3?(e-=1/3,n=(1-t)/3,s=(1+t*Pi(Xt*e)/Pi(ba-Xt*e))/3,o=1-(n+s)):(e-=2/3,s=(1-t)/3,o=(1+t*Pi(Xt*e)/Pi(ba-Xt*e))/3,n=1-(s+o)),n=Xr(r*n*3),s=Xr(r*s*3),o=Xr(r*o*3),[n*255,s*255,o*255,i.length>3?i[3]:1]},{min:jB,sqrt:LB,acos:zB}=Math,WB=(...i)=>{let[e,t,r]=Z(i,"rgb");e/=255,t/=255,r/=255;let n;const s=jB(e,t,r),o=(e+t+r)/3,a=o>0?1-s/o:0;return a===0?n=NaN:(n=(e-t+(e-r))/2,n/=LB((e-t)*(e-t)+(e-r)*(t-r)),n=zB(n),r>t&&(n=Xt-n),n/=Xt),[n*360,a,o]};x.prototype.hsi=function(){return WB(this._rgb)};const HB=(...i)=>new x(...i,"hsi");ne.hsi=HB;X.format.hsi=BB;X.autodetect.push({p:2,test:(...i)=>{if(i=Z(i,"hsi"),ie(i)==="array"&&i.length===3)return"hsi"}});const GB=(i,e,t)=>nn(i,e,t,"hsi");Ze.hsi=GB;const jm=(...i)=>{i=Z(i,"hsl");const[e,t,r]=i;let n,s,o;if(t===0)n=s=o=r*255;else{const a=[0,0,0],u=[0,0,0],l=r<.5?r*(1+t):r+t-r*t,d=2*r-l,c=e/360;a[0]=c+1/3,a[1]=c,a[2]=c-1/3;for(let h=0;h<3;h++)a[h]<0&&(a[h]+=1),a[h]>1&&(a[h]-=1),6*a[h]<1?u[h]=d+(l-d)*6*a[h]:2*a[h]<1?u[h]=l:3*a[h]<2?u[h]=d+(l-d)*(2/3-a[h])*6:u[h]=d;[n,s,o]=[u[0]*255,u[1]*255,u[2]*255]}return i.length>3?[n,s,o,i[3]]:[n,s,o,1]},zA=(...i)=>{i=Z(i,"rgba");let[e,t,r]=i;e/=255,t/=255,r/=255;const n=xA(e,t,r),s=DA(e,t,r),o=(s+n)/2;let a,u;return s===n?(a=0,u=Number.NaN):a=o<.5?(s-n)/(s+n):(s-n)/(2-s-n),e==s?u=(t-r)/(s-n):t==s?u=2+(r-e)/(s-n):r==s&&(u=4+(e-t)/(s-n)),u*=60,u<0&&(u+=360),i.length>3&&i[3]!==void 0?[u,a,o,i[3]]:[u,a,o]};x.prototype.hsl=function(){return zA(this._rgb)};const UB=(...i)=>new x(...i,"hsl");ne.hsl=UB;X.format.hsl=jm;X.autodetect.push({p:2,test:(...i)=>{if(i=Z(i,"hsl"),ie(i)==="array"&&i.length===3)return"hsl"}});const VB=(i,e,t)=>nn(i,e,t,"hsl");Ze.hsl=VB;const{floor:KB}=Math,YB=(...i)=>{i=Z(i,"hsv");let[e,t,r]=i,n,s,o;if(r*=255,t===0)n=s=o=r;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const a=KB(e),u=e-a,l=r*(1-t),d=r*(1-t*u),c=r*(1-t*(1-u));switch(a){case 0:[n,s,o]=[r,c,l];break;case 1:[n,s,o]=[d,r,l];break;case 2:[n,s,o]=[l,r,c];break;case 3:[n,s,o]=[l,d,r];break;case 4:[n,s,o]=[c,l,r];break;case 5:[n,s,o]=[r,l,d];break}}return[n,s,o,i.length>3?i[3]:1]},{min:XB,max:ZB}=Math,JB=(...i)=>{i=Z(i,"rgb");let[e,t,r]=i;const n=XB(e,t,r),s=ZB(e,t,r),o=s-n;let a,u,l;return l=s/255,s===0?(a=Number.NaN,u=0):(u=o/s,e===s&&(a=(t-r)/o),t===s&&(a=2+(r-e)/o),r===s&&(a=4+(e-t)/o),a*=60,a<0&&(a+=360)),[a,u,l]};x.prototype.hsv=function(){return JB(this._rgb)};const QB=(...i)=>new x(...i,"hsv");ne.hsv=QB;X.format.hsv=YB;X.autodetect.push({p:2,test:(...i)=>{if(i=Z(i,"hsv"),ie(i)==="array"&&i.length===3)return"hsv"}});const e5=(i,e,t)=>nn(i,e,t,"hsv");Ze.hsv=e5;function po(i,e){let t=i.length;Array.isArray(i[0])||(i=[i]),Array.isArray(e[0])||(e=e.map(o=>[o]));let r=e[0].length,n=e[0].map((o,a)=>e.map(u=>u[a])),s=i.map(o=>n.map(a=>Array.isArray(o)?o.reduce((u,l,d)=>u+l*(a[d]||0),0):a.reduce((u,l)=>u+l*o,0)));return t===1&&(s=s[0]),r===1?s.map(o=>o[0]):s}const cb=(...i)=>{i=Z(i,"lab");const[e,t,r,...n]=i,[s,o,a]=t5([e,t,r]),[u,l,d]=NA(s,o,a);return[u,l,d,...n.length>0&&n[0]<1?[n[0]]:[]]};function t5(i){var e=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],t=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],r=po(t,i);return po(e,r.map(n=>n**3))}const hb=(...i)=>{const[e,t,r,...n]=Z(i,"rgb"),s=FA(e,t,r);return[...r5(s),...n.length>0&&n[0]<1?[n[0]]:[]]};function r5(i){const e=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],t=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],r=po(e,i);return po(t,r.map(n=>Math.cbrt(n)))}x.prototype.oklab=function(){return hb(this._rgb)};const i5=(...i)=>new x(...i,"oklab");Object.assign(ne,{oklab:i5});X.format.oklab=cb;X.autodetect.push({p:2,test:(...i)=>{if(i=Z(i,"oklab"),ie(i)==="array"&&i.length===3)return"oklab"}});const n5=(i,e,t)=>{const r=i.oklab(),n=e.oklab();return new x(r[0]+t*(n[0]-r[0]),r[1]+t*(n[1]-r[1]),r[2]+t*(n[2]-r[2]),"oklab")};Ze.oklab=n5;const s5=(i,e,t)=>nn(i,e,t,"oklch");Ze.oklch=s5;const{pow:Oa,sqrt:Ia,PI:$a,cos:w1,sin:E1,atan2:o5}=Math,a5=(i,e="lrgb",t=null)=>{const r=i.length;t||(t=Array.from(new Array(r)).map(()=>1));const n=r/t.reduce(function(c,h){return c+h});if(t.forEach((c,h)=>{t[h]*=n}),i=i.map(c=>new x(c)),e==="lrgb")return u5(i,t);const s=i.shift(),o=s.get(e),a=[];let u=0,l=0;for(let c=0;c<o.length;c++)if(o[c]=(o[c]||0)*t[0],a.push(isNaN(o[c])?0:t[0]),e.charAt(c)==="h"&&!isNaN(o[c])){const h=o[c]/180*$a;u+=w1(h)*t[0],l+=E1(h)*t[0]}let d=s.alpha()*t[0];i.forEach((c,h)=>{const f=c.get(e);d+=c.alpha()*t[h+1];for(let v=0;v<o.length;v++)if(!isNaN(f[v]))if(a[v]+=t[h+1],e.charAt(v)==="h"){const p=f[v]/180*$a;u+=w1(p)*t[h+1],l+=E1(p)*t[h+1]}else o[v]+=f[v]*t[h+1]});for(let c=0;c<o.length;c++)if(e.charAt(c)==="h"){let h=o5(l/a[c],u/a[c])/$a*180;for(;h<0;)h+=360;for(;h>=360;)h-=360;o[c]=h}else o[c]=o[c]/a[c];return d/=r,new x(o,e).alpha(d>.99999?1:d,!0)},u5=(i,e)=>{const t=i.length,r=[0,0,0,0];for(let n=0;n<i.length;n++){const s=i[n],o=e[n]/t,a=s._rgb;r[0]+=Oa(a[0],2)*o,r[1]+=Oa(a[1],2)*o,r[2]+=Oa(a[2],2)*o,r[3]+=a[3]*o}return r[0]=Ia(r[0]),r[1]=Ia(r[1]),r[2]=Ia(r[2]),r[3]>.9999999&&(r[3]=1),new x(ob(r))},{pow:l5}=Math;function go(i){let e="rgb",t=ne("#ccc"),r=0,n=[0,1],s=[],o=[0,0],a=!1,u=[],l=!1,d=0,c=1,h=!1,f={},v=!0,p=1;const m=function(w){if(w=w||["#fff","#000"],w&&ie(w)==="string"&&ne.brewer&&ne.brewer[w.toLowerCase()]&&(w=ne.brewer[w.toLowerCase()]),ie(w)==="array"){w.length===1&&(w=[w[0],w[0]]),w=w.slice(0);for(let _=0;_<w.length;_++)w[_]=ne(w[_]);s.length=0;for(let _=0;_<w.length;_++)s.push(_/(w.length-1))}return S(),u=w},g=function(w){if(a!=null){const _=a.length-1;let E=0;for(;E<_&&w>=a[E];)E++;return E-1}return 0};let y=w=>w,O=w=>w;const b=function(w,_){let E,I;if(_==null&&(_=!1),isNaN(w)||w===null)return t;_?I=w:a&&a.length>2?I=g(w)/(a.length-2):c!==d?I=(w-d)/(c-d):I=1,I=O(I),_||(I=y(I)),p!==1&&(I=l5(I,p)),I=o[0]+I*(1-o[0]-o[1]),I=Xr(I,0,1);const T=Math.floor(I*1e4);if(v&&f[T])E=f[T];else{if(ie(u)==="array")for(let P=0;P<s.length;P++){const R=s[P];if(I<=R){E=u[P];break}if(I>=R&&P===s.length-1){E=u[P];break}if(I>R&&I<s[P+1]){I=(I-R)/(s[P+1]-R),E=ne.interpolate(u[P],u[P+1],I,e);break}}else ie(u)==="function"&&(E=u(I));v&&(f[T]=E)}return E};var S=()=>f={};m(i);const $=function(w){const _=ne(b(w));return l&&_[l]?_[l]():_};return $.classes=function(w){if(w!=null){if(ie(w)==="array")a=w,n=[w[0],w[w.length-1]];else{const _=ne.analyze(n);w===0?a=[_.min,_.max]:a=ne.limits(_,"e",w)}return $}return a},$.domain=function(w){if(!arguments.length)return n;d=w[0],c=w[w.length-1],s=[];const _=u.length;if(w.length===_&&d!==c)for(let E of Array.from(w))s.push((E-d)/(c-d));else{for(let E=0;E<_;E++)s.push(E/(_-1));if(w.length>2){const E=w.map((T,P)=>P/(w.length-1)),I=w.map(T=>(T-d)/(c-d));I.every((T,P)=>E[P]===T)||(O=T=>{if(T<=0||T>=1)return T;let P=0;for(;T>=I[P+1];)P++;const R=(T-I[P])/(I[P+1]-I[P]);return E[P]+R*(E[P+1]-E[P])})}}return n=[d,c],$},$.mode=function(w){return arguments.length?(e=w,S(),$):e},$.range=function(w,_){return m(w),$},$.out=function(w){return l=w,$},$.spread=function(w){return arguments.length?(r=w,$):r},$.correctLightness=function(w){return w==null&&(w=!0),h=w,S(),h?y=function(_){const E=b(0,!0).lab()[0],I=b(1,!0).lab()[0],T=E>I;let P=b(_,!0).lab()[0];const R=E+(I-E)*_;let C=P-R,M=0,K=1,j=20;for(;Math.abs(C)>.01&&j-- >0;)(function(){return T&&(C*=-1),C<0?(M=_,_+=(K-_)*.5):(K=_,_+=(M-_)*.5),P=b(_,!0).lab()[0],C=P-R})();return _}:y=_=>_,$},$.padding=function(w){return w!=null?(ie(w)==="number"&&(w=[w,w]),o=w,$):o},$.colors=function(w,_){arguments.length<2&&(_="hex");let E=[];if(arguments.length===0)E=u.slice(0);else if(w===1)E=[$(.5)];else if(w>1){const I=n[0],T=n[1]-I;E=d5(0,w).map(P=>$(I+P/(w-1)*T))}else{i=[];let I=[];if(a&&a.length>2)for(let T=1,P=a.length,R=1<=P;R?T<P:T>P;R?T++:T--)I.push((a[T-1]+a[T])*.5);else I=n;E=I.map(T=>$(T))}return ne[_]&&(E=E.map(I=>I[_]())),E},$.cache=function(w){return w!=null?(v=w,$):v},$.gamma=function(w){return w!=null?(p=w,$):p},$.nodata=function(w){return w!=null?(t=ne(w),$):t},$}function d5(i,e,t){let r=[],n=i<e,s=e;for(let o=i;n?o<s:o>s;n?o++:o--)r.push(o);return r}const c5=function(i){let e=[1,1];for(let t=1;t<i;t++){let r=[1];for(let n=1;n<=e.length;n++)r[n]=(e[n]||0)+e[n-1];e=r}return e},h5=function(i){let e,t,r,n;if(i=i.map(s=>new x(s)),i.length===2)[t,r]=i.map(s=>s.lab()),e=function(s){const o=[0,1,2].map(a=>t[a]+s*(r[a]-t[a]));return new x(o,"lab")};else if(i.length===3)[t,r,n]=i.map(s=>s.lab()),e=function(s){const o=[0,1,2].map(a=>(1-s)*(1-s)*t[a]+2*(1-s)*s*r[a]+s*s*n[a]);return new x(o,"lab")};else if(i.length===4){let s;[t,r,n,s]=i.map(o=>o.lab()),e=function(o){const a=[0,1,2].map(u=>(1-o)*(1-o)*(1-o)*t[u]+3*(1-o)*(1-o)*o*r[u]+3*(1-o)*o*o*n[u]+o*o*o*s[u]);return new x(a,"lab")}}else if(i.length>=5){let s,o,a;s=i.map(u=>u.lab()),a=i.length-1,o=c5(a),e=function(u){const l=1-u,d=[0,1,2].map(c=>s.reduce((h,f,v)=>h+o[v]*l**(a-v)*u**v*f[c],0));return new x(d,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return e},f5=i=>{const e=h5(i);return e.scale=()=>go(e),e},{round:WA}=Math;x.prototype.rgb=function(i=!0){return i===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(WA)};x.prototype.rgba=function(i=!0){return this._rgb.slice(0,4).map((e,t)=>t<3?i===!1?e:WA(e):e)};const v5=(...i)=>new x(...i,"rgb");Object.assign(ne,{rgb:v5});X.format.rgb=(...i)=>{const e=Z(i,"rgba");return e[3]===void 0&&(e[3]=1),e};X.autodetect.push({p:3,test:(...i)=>{if(i=Z(i,"rgba"),ie(i)==="array"&&(i.length===3||i.length===4&&ie(i[3])=="number"&&i[3]>=0&&i[3]<=1))return"rgb"}});const Mt=(i,e,t)=>{if(!Mt[t])throw new Error("unknown blend mode "+t);return Mt[t](i,e)},Pr=i=>(e,t)=>{const r=ne(t).rgb(),n=ne(e).rgb();return ne.rgb(i(r,n))},Rr=i=>(e,t)=>{const r=[];return r[0]=i(e[0],t[0]),r[1]=i(e[1],t[1]),r[2]=i(e[2],t[2]),r},p5=i=>i,g5=(i,e)=>i*e/255,y5=(i,e)=>i>e?e:i,m5=(i,e)=>i>e?i:e,b5=(i,e)=>255*(1-(1-i/255)*(1-e/255)),_5=(i,e)=>e<128?2*i*e/255:255*(1-2*(1-i/255)*(1-e/255)),w5=(i,e)=>255*(1-(1-e/255)/(i/255)),E5=(i,e)=>i===255?255:(i=255*(e/255)/(1-i/255),i>255?255:i);Mt.normal=Pr(Rr(p5));Mt.multiply=Pr(Rr(g5));Mt.screen=Pr(Rr(b5));Mt.overlay=Pr(Rr(_5));Mt.darken=Pr(Rr(y5));Mt.lighten=Pr(Rr(m5));Mt.dodge=Pr(Rr(E5));Mt.burn=Pr(Rr(w5));const{pow:S5,sin:O5,cos:I5}=Math;function $5(i=300,e=-1.5,t=1,r=1,n=[0,1]){let s=0,o;ie(n)==="array"?o=n[1]-n[0]:(o=0,n=[n,n]);const a=function(u){const l=Xt*((i+120)/360+e*u),d=S5(n[0]+o*u,r),h=(s!==0?t[0]+u*s:t)*d*(1-d)/2,f=I5(l),v=O5(l),p=d+h*(-.14861*f+1.78277*v),m=d+h*(-.29227*f-.90649*v),g=d+h*(1.97294*f);return ne(ob([p*255,m*255,g*255,1]))};return a.start=function(u){return u==null?i:(i=u,a)},a.rotations=function(u){return u==null?e:(e=u,a)},a.gamma=function(u){return u==null?r:(r=u,a)},a.hue=function(u){return u==null?t:(t=u,ie(t)==="array"?(s=t[1]-t[0],s===0&&(t=t[1])):s=0,a)},a.lightness=function(u){return u==null?n:(ie(u)==="array"?(n=u,o=u[1]-u[0]):(n=[u,u],o=0),a)},a.scale=()=>ne.scale(a),a.hue(t),a}const T5="0123456789abcdef",{floor:P5,random:R5}=Math,q5=()=>{let i="#";for(let e=0;e<6;e++)i+=T5.charAt(P5(R5()*16));return new x(i,"hex")},{log:S1,pow:C5,floor:x5,abs:D5}=Math;function HA(i,e=null){const t={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return ie(i)==="object"&&(i=Object.values(i)),i.forEach(r=>{e&&ie(r)==="object"&&(r=r[e]),r!=null&&!isNaN(r)&&(t.values.push(r),t.sum+=r,r<t.min&&(t.min=r),r>t.max&&(t.max=r),t.count+=1)}),t.domain=[t.min,t.max],t.limits=(r,n)=>GA(t,r,n),t}function GA(i,e="equal",t=7){ie(i)=="array"&&(i=HA(i));const{min:r,max:n}=i,s=i.values.sort((a,u)=>a-u);if(t===1)return[r,n];const o=[];if(e.substr(0,1)==="c"&&(o.push(r),o.push(n)),e.substr(0,1)==="e"){o.push(r);for(let a=1;a<t;a++)o.push(r+a/t*(n-r));o.push(n)}else if(e.substr(0,1)==="l"){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const a=Math.LOG10E*S1(r),u=Math.LOG10E*S1(n);o.push(r);for(let l=1;l<t;l++)o.push(C5(10,a+l/t*(u-a)));o.push(n)}else if(e.substr(0,1)==="q"){o.push(r);for(let a=1;a<t;a++){const u=(s.length-1)*a/t,l=x5(u);if(l===u)o.push(s[l]);else{const d=u-l;o.push(s[l]*(1-d)+s[l+1]*d)}}o.push(n)}else if(e.substr(0,1)==="k"){let a;const u=s.length,l=new Array(u),d=new Array(t);let c=!0,h=0,f=null;f=[],f.push(r);for(let m=1;m<t;m++)f.push(r+m/t*(n-r));for(f.push(n);c;){for(let g=0;g<t;g++)d[g]=0;for(let g=0;g<u;g++){const y=s[g];let O=Number.MAX_VALUE,b;for(let S=0;S<t;S++){const $=D5(f[S]-y);$<O&&(O=$,b=S),d[b]++,l[g]=b}}const m=new Array(t);for(let g=0;g<t;g++)m[g]=null;for(let g=0;g<u;g++)a=l[g],m[a]===null?m[a]=s[g]:m[a]+=s[g];for(let g=0;g<t;g++)m[g]*=1/d[g];c=!1;for(let g=0;g<t;g++)if(m[g]!==f[g]){c=!0;break}f=m,h++,h>200&&(c=!1)}const v={};for(let m=0;m<t;m++)v[m]=[];for(let m=0;m<u;m++)a=l[m],v[a].push(s[m]);let p=[];for(let m=0;m<t;m++)p.push(v[m][0]),p.push(v[m][v[m].length-1]);p=p.sort((m,g)=>m-g),o.push(p[0]);for(let m=1;m<p.length;m+=2){const g=p[m];!isNaN(g)&&o.indexOf(g)===-1&&o.push(g)}}return o}const M5=(i,e)=>{i=new x(i),e=new x(e);const t=i.luminance(),r=e.luminance();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const O1=.027,A5=5e-4,k5=.1,I1=1.14,Qs=.022,$1=1.414,N5=(i,e)=>{i=new x(i),e=new x(e),i.alpha()<1&&(i=Vi(e,i,i.alpha(),"rgb"));const t=T1(...i.rgb()),r=T1(...e.rgb()),n=t>=Qs?t:t+Math.pow(Qs-t,$1),s=r>=Qs?r:r+Math.pow(Qs-r,$1),o=Math.pow(s,.56)-Math.pow(n,.57),a=Math.pow(s,.65)-Math.pow(n,.62),u=Math.abs(s-n)<A5?0:n<s?o*I1:a*I1;return(Math.abs(u)<k5?0:u>0?u-O1:u+O1)*100};function T1(i,e,t){return .2126729*Math.pow(i/255,2.4)+.7151522*Math.pow(e/255,2.4)+.072175*Math.pow(t/255,2.4)}const{sqrt:Yt,pow:Re,min:F5,max:B5,atan2:P1,abs:R1,cos:eo,sin:q1,exp:j5,PI:C1}=Math;function L5(i,e,t=1,r=1,n=1){var s=function(fe){return 360*fe/(2*C1)},o=function(fe){return 2*C1*fe/360};i=new x(i),e=new x(e);const[a,u,l]=Array.from(i.lab()),[d,c,h]=Array.from(e.lab()),f=(a+d)/2,v=Yt(Re(u,2)+Re(l,2)),p=Yt(Re(c,2)+Re(h,2)),m=(v+p)/2,g=.5*(1-Yt(Re(m,7)/(Re(m,7)+Re(25,7)))),y=u*(1+g),O=c*(1+g),b=Yt(Re(y,2)+Re(l,2)),S=Yt(Re(O,2)+Re(h,2)),$=(b+S)/2,w=s(P1(l,y)),_=s(P1(h,O)),E=w>=0?w:w+360,I=_>=0?_:_+360,T=R1(E-I)>180?(E+I+360)/2:(E+I)/2,P=1-.17*eo(o(T-30))+.24*eo(o(2*T))+.32*eo(o(3*T+6))-.2*eo(o(4*T-63));let R=I-E;R=R1(R)<=180?R:I<=E?R+360:R-360,R=2*Yt(b*S)*q1(o(R)/2);const C=d-a,M=S-b,K=1+.015*Re(f-50,2)/Yt(20+Re(f-50,2)),j=1+.045*$,J=1+.015*$*P,ee=30*j5(-Re((T-275)/25,2)),W=-(2*Yt(Re($,7)/(Re($,7)+Re(25,7))))*q1(2*o(ee)),ue=Yt(Re(C/(t*K),2)+Re(M/(r*j),2)+Re(R/(n*J),2)+W*(M/(r*j))*(R/(n*J)));return B5(0,F5(100,ue))}function z5(i,e,t="lab"){i=new x(i),e=new x(e);const r=i.get(t),n=e.get(t);let s=0;for(let o in r){const a=(r[o]||0)-(n[o]||0);s+=a*a}return Math.sqrt(s)}const W5=(...i)=>{try{return new x(...i),!0}catch{return!1}},H5={cool(){return go([ne.hsl(180,1,.9),ne.hsl(250,.7,.4)])},hot(){return go(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Lm={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},UA=Object.keys(Lm),x1=new Map(UA.map(i=>[i.toLowerCase(),i])),G5=typeof Proxy=="function"?new Proxy(Lm,{get(i,e){const t=e.toLowerCase();if(x1.has(t))return i[x1.get(t)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(UA)}}):Lm,U5=(...i)=>{i=Z(i,"cmyk");const[e,t,r,n]=i,s=i.length>4?i[4]:1;return n===1?[0,0,0,s]:[e>=1?0:255*(1-e)*(1-n),t>=1?0:255*(1-t)*(1-n),r>=1?0:255*(1-r)*(1-n),s]},{max:D1}=Math,V5=(...i)=>{let[e,t,r]=Z(i,"rgb");e=e/255,t=t/255,r=r/255;const n=1-D1(e,D1(t,r)),s=n<1?1/(1-n):0,o=(1-e-n)*s,a=(1-t-n)*s,u=(1-r-n)*s;return[o,a,u,n]};x.prototype.cmyk=function(){return V5(this._rgb)};const K5=(...i)=>new x(...i,"cmyk");Object.assign(ne,{cmyk:K5});X.format.cmyk=U5;X.autodetect.push({p:2,test:(...i)=>{if(i=Z(i,"cmyk"),ie(i)==="array"&&i.length===4)return"cmyk"}});const Y5=(...i)=>{const e=Z(i,"hsla");let t=rn(i)||"lsa";return e[0]=yt(e[0]||0)+"deg",e[1]=yt(e[1]*100)+"%",e[2]=yt(e[2]*100)+"%",t==="hsla"||e.length>3&&e[3]<1?(e[3]="/ "+(e.length>3?e[3]:1),t="hsla"):e.length=3,`${t.substr(0,3)}(${e.join(" ")})`},X5=(...i)=>{const e=Z(i,"lab");let t=rn(i)||"lab";return e[0]=yt(e[0])+"%",e[1]=yt(e[1]),e[2]=yt(e[2]),t==="laba"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lab(${e.join(" ")})`},Z5=(...i)=>{const e=Z(i,"lch");let t=rn(i)||"lab";return e[0]=yt(e[0])+"%",e[1]=yt(e[1]),e[2]=isNaN(e[2])?"none":yt(e[2])+"deg",t==="lcha"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lch(${e.join(" ")})`},J5=(...i)=>{const e=Z(i,"lab");return e[0]=yt(e[0]*100)+"%",e[1]=Bm(e[1]),e[2]=Bm(e[2]),e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklab(${e.join(" ")})`},VA=(...i)=>{const[e,t,r,...n]=Z(i,"rgb"),[s,o,a]=hb(e,t,r),[u,l,d]=jA(s,o,a);return[u,l,d,...n.length>0&&n[0]<1?[n[0]]:[]]},Q5=(...i)=>{const e=Z(i,"lch");return e[0]=yt(e[0]*100)+"%",e[1]=Bm(e[1]),e[2]=isNaN(e[2])?"none":yt(e[2])+"deg",e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklch(${e.join(" ")})`},{round:Ta}=Math,ej=(...i)=>{const e=Z(i,"rgba");let t=rn(i)||"rgb";if(t.substr(0,3)==="hsl")return Y5(zA(e),t);if(t.substr(0,3)==="lab"){const r=is();Zt("d50");const n=X5(ub(e),t);return Zt(r),n}if(t.substr(0,3)==="lch"){const r=is();Zt("d50");const n=Z5(db(e),t);return Zt(r),n}return t.substr(0,5)==="oklab"?J5(hb(e)):t.substr(0,5)==="oklch"?Q5(VA(e)):(e[0]=Ta(e[0]),e[1]=Ta(e[1]),e[2]=Ta(e[2]),(t==="rgba"||e.length>3&&e[3]<1)&&(e[3]="/ "+(e.length>3?e[3]:1),t="rgba"),`${t.substr(0,3)}(${e.slice(0,t==="rgb"?3:4).join(" ")})`)},KA=(...i)=>{i=Z(i,"lch");const[e,t,r,...n]=i,[s,o,a]=BA(e,t,r),[u,l,d]=cb(s,o,a);return[u,l,d,...n.length>0&&n[0]<1?[n[0]]:[]]},er=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,xt=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,yo=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,_t=/\s*/.source,sn=/\s+/.source,fb=/\s*,\s*/.source,xo=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,on=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,YA=new RegExp("^rgba?\\("+_t+[er,er,er].join(sn)+on+"\\)$"),XA=new RegExp("^rgb\\("+_t+[er,er,er].join(fb)+_t+"\\)$"),ZA=new RegExp("^rgba\\("+_t+[er,er,er,xt].join(fb)+_t+"\\)$"),JA=new RegExp("^hsla?\\("+_t+[xo,yo,yo].join(sn)+on+"\\)$"),QA=new RegExp("^hsl?\\("+_t+[xo,yo,yo].join(fb)+_t+"\\)$"),ek=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,tk=new RegExp("^lab\\("+_t+[xt,xt,xt].join(sn)+on+"\\)$"),rk=new RegExp("^lch\\("+_t+[xt,xt,xo].join(sn)+on+"\\)$"),ik=new RegExp("^oklab\\("+_t+[xt,xt,xt].join(sn)+on+"\\)$"),nk=new RegExp("^oklch\\("+_t+[xt,xt,xo].join(sn)+on+"\\)$"),{round:sk}=Math,Ri=i=>i.map((e,t)=>t<=2?Xr(sk(e),0,255):e),qe=(i,e=0,t=100,r=!1)=>(typeof i=="string"&&i.endsWith("%")&&(i=parseFloat(i.substring(0,i.length-1))/100,r?i=e+(i+1)*.5*(t-e):i=e+i*(t-e)),+i),tt=(i,e)=>i==="none"?e:i,vb=i=>{if(i=i.toLowerCase().trim(),i==="transparent")return[0,0,0,0];let e;if(X.format.named)try{return X.format.named(i)}catch{}if((e=i.match(YA))||(e=i.match(XA))){let t=e.slice(1,4);for(let n=0;n<3;n++)t[n]=+qe(tt(t[n],0),0,255);t=Ri(t);const r=e[4]!==void 0?+qe(e[4],0,1):1;return t[3]=r,t}if(e=i.match(ZA)){const t=e.slice(1,5);for(let r=0;r<4;r++)t[r]=+qe(t[r],0,255);return t}if((e=i.match(JA))||(e=i.match(QA))){const t=e.slice(1,4);t[0]=+tt(t[0].replace("deg",""),0),t[1]=+qe(tt(t[1],0),0,100)*.01,t[2]=+qe(tt(t[2],0),0,100)*.01;const r=Ri(jm(t)),n=e[4]!==void 0?+qe(e[4],0,1):1;return r[3]=n,r}if(e=i.match(ek)){const t=e.slice(1,4);t[1]*=.01,t[2]*=.01;const r=jm(t);for(let n=0;n<3;n++)r[n]=sk(r[n]);return r[3]=+e[4],r}if(e=i.match(tk)){const t=e.slice(1,4);t[0]=qe(tt(t[0],0),0,100),t[1]=qe(tt(t[1],0),-125,125,!0),t[2]=qe(tt(t[2],0),-125,125,!0);const r=is();Zt("d50");const n=Ri(ab(t));Zt(r);const s=e[4]!==void 0?+qe(e[4],0,1):1;return n[3]=s,n}if(e=i.match(rk)){const t=e.slice(1,4);t[0]=qe(t[0],0,100),t[1]=qe(tt(t[1],0),0,150,!1),t[2]=+tt(t[2].replace("deg",""),0);const r=is();Zt("d50");const n=Ri(lb(t));Zt(r);const s=e[4]!==void 0?+qe(e[4],0,1):1;return n[3]=s,n}if(e=i.match(ik)){const t=e.slice(1,4);t[0]=qe(tt(t[0],0),0,1),t[1]=qe(tt(t[1],0),-.4,.4,!0),t[2]=qe(tt(t[2],0),-.4,.4,!0);const r=Ri(cb(t)),n=e[4]!==void 0?+qe(e[4],0,1):1;return r[3]=n,r}if(e=i.match(nk)){const t=e.slice(1,4);t[0]=qe(tt(t[0],0),0,1),t[1]=qe(tt(t[1],0),0,.4,!1),t[2]=+tt(t[2].replace("deg",""),0);const r=Ri(KA(t)),n=e[4]!==void 0?+qe(e[4],0,1):1;return r[3]=n,r}};vb.test=i=>YA.test(i)||JA.test(i)||tk.test(i)||rk.test(i)||ik.test(i)||nk.test(i)||XA.test(i)||ZA.test(i)||QA.test(i)||ek.test(i)||i==="transparent";x.prototype.css=function(i){return ej(this._rgb,i)};const tj=(...i)=>new x(...i,"css");ne.css=tj;X.format.css=vb;X.autodetect.push({p:5,test:(i,...e)=>{if(!e.length&&ie(i)==="string"&&vb.test(i))return"css"}});X.format.gl=(...i)=>{const e=Z(i,"rgba");return e[0]*=255,e[1]*=255,e[2]*=255,e};const rj=(...i)=>new x(...i,"gl");ne.gl=rj;x.prototype.gl=function(){const i=this._rgb;return[i[0]/255,i[1]/255,i[2]/255,i[3]]};x.prototype.hex=function(i){return kA(this._rgb,i)};const ij=(...i)=>new x(...i,"hex");ne.hex=ij;X.format.hex=AA;X.autodetect.push({p:4,test:(i,...e)=>{if(!e.length&&ie(i)==="string"&&[3,4,5,6,7,8,9].indexOf(i.length)>=0)return"hex"}});const{log:to}=Math,ok=i=>{const e=i/100;let t,r,n;return e<66?(t=255,r=e<6?0:-155.25485562709179-.44596950469579133*(r=e-2)+104.49216199393888*to(r),n=e<20?0:-254.76935184120902+.8274096064007395*(n=e-10)+115.67994401066147*to(n)):(t=351.97690566805693+.114206453784165*(t=e-55)-40.25366309332127*to(t),r=325.4494125711974+.07943456536662342*(r=e-50)-28.0852963507957*to(r),n=255),[t,r,n,1]},{round:nj}=Math,sj=(...i)=>{const e=Z(i,"rgb"),t=e[0],r=e[2];let n=1e3,s=4e4;const o=.4;let a;for(;s-n>o;){a=(s+n)*.5;const u=ok(a);u[2]/u[0]>=r/t?s=a:n=a}return nj(a)};x.prototype.temp=x.prototype.kelvin=x.prototype.temperature=function(){return sj(this._rgb)};const Pa=(...i)=>new x(...i,"temp");Object.assign(ne,{temp:Pa,kelvin:Pa,temperature:Pa});X.format.temp=X.format.kelvin=X.format.temperature=ok;x.prototype.oklch=function(){return VA(this._rgb)};const oj=(...i)=>new x(...i,"oklch");Object.assign(ne,{oklch:oj});X.format.oklch=KA;X.autodetect.push({p:2,test:(...i)=>{if(i=Z(i,"oklch"),ie(i)==="array"&&i.length===3)return"oklch"}});Object.assign(ne,{analyze:HA,average:a5,bezier:f5,blend:Mt,brewer:G5,Color:x,colors:Ui,contrast:M5,contrastAPCA:N5,cubehelix:$5,deltaE:L5,distance:z5,input:X,interpolate:Vi,limits:GA,mix:Vi,random:q5,scale:go,scales:H5,valid:W5});/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.1
 * @date    2025-07-13T02:52:37.151Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var M1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ae(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ra={exports:{}},A1={},zn,k1;function Me(){if(k1)return zn;k1=1;var i=function(e){return e&&e.Math===Math&&e};return zn=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof M1=="object"&&M1)||i(typeof zn=="object"&&zn)||function(){return this}()||Function("return this")(),zn}var qa,N1;function de(){return N1||(N1=1,qa=function(i){try{return!!i()}catch{return!0}}),qa}var Ca,F1;function ys(){if(F1)return Ca;F1=1;var i=de();return Ca=!i(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Ca}var xa,B1;function Do(){if(B1)return xa;B1=1;var i=ys(),e=Function.prototype,t=e.apply,r=e.call;return xa=typeof Reflect=="object"&&Reflect.apply||(i?r.bind(t):function(){return r.apply(t,arguments)}),xa}var Da,j1;function ye(){if(j1)return Da;j1=1;var i=ys(),e=Function.prototype,t=e.call,r=i&&e.bind.bind(t,t);return Da=i?r:function(n){return function(){return t.apply(n,arguments)}},Da}var Ma,L1;function ar(){if(L1)return Ma;L1=1;var i=ye(),e=i({}.toString),t=i("".slice);return Ma=function(r){return t(e(r),8,-1)},Ma}var Aa,z1;function ak(){if(z1)return Aa;z1=1;var i=ar(),e=ye();return Aa=function(t){if(i(t)==="Function")return e(t)},Aa}var ka,W1;function je(){if(W1)return ka;W1=1;var i=typeof document=="object"&&document.all;return ka=typeof i>"u"&&i!==void 0?function(e){return typeof e=="function"||e===i}:function(e){return typeof e=="function"},ka}var Na={},Fa,H1;function Ae(){if(H1)return Fa;H1=1;var i=de();return Fa=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Fa}var Ba,G1;function dt(){if(G1)return Ba;G1=1;var i=ys(),e=Function.prototype.call;return Ba=i?e.bind(e):function(){return e.apply(e,arguments)},Ba}var ja={},U1;function pb(){if(U1)return ja;U1=1;var i={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!i.call({1:2},1);return ja.f=t?function(n){var s=e(this,n);return!!s&&s.enumerable}:i,ja}var La,V1;function ms(){return V1||(V1=1,La=function(i,e){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:e}}),La}var za,K1;function Mo(){if(K1)return za;K1=1;var i=ye(),e=de(),t=ar(),r=Object,n=i("".split);return za=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?n(s,""):r(s)}:r,za}var Wa,Y1;function bs(){return Y1||(Y1=1,Wa=function(i){return i==null}),Wa}var Ha,X1;function ui(){if(X1)return Ha;X1=1;var i=bs(),e=TypeError;return Ha=function(t){if(i(t))throw new e("Can't call method on "+t);return t},Ha}var Ga,Z1;function ur(){if(Z1)return Ga;Z1=1;var i=Mo(),e=ui();return Ga=function(t){return i(e(t))},Ga}var Ua,J1;function ct(){if(J1)return Ua;J1=1;var i=je();return Ua=function(e){return typeof e=="object"?e!==null:i(e)},Ua}var Va,Q1;function Le(){return Q1||(Q1=1,Va={}),Va}var Ka,e0;function ft(){if(e0)return Ka;e0=1;var i=Le(),e=Me(),t=je(),r=function(n){return t(n)?n:void 0};return Ka=function(n,s){return arguments.length<2?r(i[n])||r(e[n]):i[n]&&i[n][s]||e[n]&&e[n][s]},Ka}var Ya,t0;function Je(){if(t0)return Ya;t0=1;var i=ye();return Ya=i({}.isPrototypeOf),Ya}var Xa,r0;function an(){if(r0)return Xa;r0=1;var i=Me(),e=i.navigator,t=e&&e.userAgent;return Xa=t?String(t):"",Xa}var Za,i0;function _s(){if(i0)return Za;i0=1;var i=Me(),e=an(),t=i.process,r=i.Deno,n=t&&t.versions||r&&r.version,s=n&&n.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),Za=a,Za}var Ja,n0;function un(){if(n0)return Ja;n0=1;var i=_s(),e=de(),t=Me(),r=t.String;return Ja=!!Object.getOwnPropertySymbols&&!e(function(){var n=Symbol("symbol detection");return!r(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&i&&i<41}),Ja}var Qa,s0;function uk(){if(s0)return Qa;s0=1;var i=un();return Qa=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Qa}var eu,o0;function ws(){if(o0)return eu;o0=1;var i=ft(),e=je(),t=Je(),r=uk(),n=Object;return eu=r?function(s){return typeof s=="symbol"}:function(s){var o=i("Symbol");return e(o)&&t(o.prototype,n(s))},eu}var tu,a0;function ln(){if(a0)return tu;a0=1;var i=String;return tu=function(e){try{return i(e)}catch{return"Object"}},tu}var ru,u0;function lr(){if(u0)return ru;u0=1;var i=je(),e=ln(),t=TypeError;return ru=function(r){if(i(r))return r;throw new t(e(r)+" is not a function")},ru}var iu,l0;function gb(){if(l0)return iu;l0=1;var i=lr(),e=bs();return iu=function(t,r){var n=t[r];return e(n)?void 0:i(n)},iu}var nu,d0;function aj(){if(d0)return nu;d0=1;var i=dt(),e=je(),t=ct(),r=TypeError;return nu=function(n,s){var o,a;if(s==="string"&&e(o=n.toString)&&!t(a=i(o,n))||e(o=n.valueOf)&&!t(a=i(o,n))||s!=="string"&&e(o=n.toString)&&!t(a=i(o,n)))return a;throw new r("Can't convert object to primitive value")},nu}var su={exports:{}},ou,c0;function dn(){return c0||(c0=1,ou=!0),ou}var au,h0;function uj(){if(h0)return au;h0=1;var i=Me(),e=Object.defineProperty;return au=function(t,r){try{e(i,t,{value:r,configurable:!0,writable:!0})}catch{i[t]=r}return r},au}var f0;function yb(){if(f0)return su.exports;f0=1;var i=dn(),e=Me(),t=uj(),r="__core-js_shared__",n=su.exports=e[r]||t(r,{});return(n.versions||(n.versions=[])).push({version:"3.44.0",mode:i?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),su.exports}var uu,v0;function cn(){if(v0)return uu;v0=1;var i=yb();return uu=function(e,t){return i[e]||(i[e]=t||{})},uu}var lu,p0;function Nt(){if(p0)return lu;p0=1;var i=ui(),e=Object;return lu=function(t){return e(i(t))},lu}var du,g0;function ze(){if(g0)return du;g0=1;var i=ye(),e=Nt(),t=i({}.hasOwnProperty);return du=Object.hasOwn||function(n,s){return t(e(n),s)},du}var cu,y0;function Ao(){if(y0)return cu;y0=1;var i=ye(),e=0,t=Math.random(),r=i(1.1.toString);return cu=function(n){return"Symbol("+(n===void 0?"":n)+")_"+r(++e+t,36)},cu}var hu,m0;function Ke(){if(m0)return hu;m0=1;var i=Me(),e=cn(),t=ze(),r=Ao(),n=un(),s=uk(),o=i.Symbol,a=e("wks"),u=s?o.for||o:o&&o.withoutSetter||r;return hu=function(l){return t(a,l)||(a[l]=n&&t(o,l)?o[l]:u("Symbol."+l)),a[l]},hu}var fu,b0;function lk(){if(b0)return fu;b0=1;var i=dt(),e=ct(),t=ws(),r=gb(),n=aj(),s=Ke(),o=TypeError,a=s("toPrimitive");return fu=function(u,l){if(!e(u)||t(u))return u;var d=r(u,a),c;if(d){if(l===void 0&&(l="default"),c=i(d,u,l),!e(c)||t(c))return c;throw new o("Can't convert object to primitive value")}return l===void 0&&(l="number"),n(u,l)},fu}var vu,_0;function mb(){if(_0)return vu;_0=1;var i=lk(),e=ws();return vu=function(t){var r=i(t,"string");return e(r)?r:r+""},vu}var pu,w0;function dk(){if(w0)return pu;w0=1;var i=Me(),e=ct(),t=i.document,r=e(t)&&e(t.createElement);return pu=function(n){return r?t.createElement(n):{}},pu}var gu,E0;function ck(){if(E0)return gu;E0=1;var i=Ae(),e=de(),t=dk();return gu=!i&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),gu}var S0;function ko(){if(S0)return Na;S0=1;var i=Ae(),e=dt(),t=pb(),r=ms(),n=ur(),s=mb(),o=ze(),a=ck(),u=Object.getOwnPropertyDescriptor;return Na.f=i?u:function(d,c){if(d=n(d),c=s(c),a)try{return u(d,c)}catch{}if(o(d,c))return r(!e(t.f,d,c),d[c])},Na}var yu,O0;function lj(){if(O0)return yu;O0=1;var i=de(),e=je(),t=/#|\.prototype\./,r=function(u,l){var d=s[n(u)];return d===a?!0:d===o?!1:e(l)?i(l):!!l},n=r.normalize=function(u){return String(u).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return yu=r,yu}var mu,I0;function No(){if(I0)return mu;I0=1;var i=ak(),e=lr(),t=ys(),r=i(i.bind);return mu=function(n,s){return e(n),s===void 0?n:t?r(n,s):function(){return n.apply(s,arguments)}},mu}var bu={},_u,$0;function hk(){if($0)return _u;$0=1;var i=Ae(),e=de();return _u=i&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),_u}var wu,T0;function dr(){if(T0)return wu;T0=1;var i=ct(),e=String,t=TypeError;return wu=function(r){if(i(r))return r;throw new t(e(r)+" is not an object")},wu}var P0;function wt(){if(P0)return bu;P0=1;var i=Ae(),e=ck(),t=hk(),r=dr(),n=mb(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u="enumerable",l="configurable",d="writable";return bu.f=i?t?function(h,f,v){if(r(h),f=n(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&d in v&&!v[d]){var p=a(h,f);p&&p[d]&&(h[f]=v.value,v={configurable:l in v?v[l]:p[l],enumerable:u in v?v[u]:p[u],writable:!1})}return o(h,f,v)}:o:function(h,f,v){if(r(h),f=n(f),r(v),e)try{return o(h,f,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(h[f]=v.value),h},bu}var Eu,R0;function hn(){if(R0)return Eu;R0=1;var i=Ae(),e=wt(),t=ms();return Eu=i?function(r,n,s){return e.f(r,n,t(1,s))}:function(r,n,s){return r[n]=s,r},Eu}var Su,q0;function Q(){if(q0)return Su;q0=1;var i=Me(),e=Do(),t=ak(),r=je(),n=ko().f,s=lj(),o=Le(),a=No(),u=hn(),l=ze(),d=function(c){var h=function(f,v,p){if(this instanceof h){switch(arguments.length){case 0:return new c;case 1:return new c(f);case 2:return new c(f,v)}return new c(f,v,p)}return e(c,this,arguments)};return h.prototype=c.prototype,h};return Su=function(c,h){var f=c.target,v=c.global,p=c.stat,m=c.proto,g=v?i:p?i[f]:i[f]&&i[f].prototype,y=v?o:o[f]||u(o,f,{})[f],O=y.prototype,b,S,$,w,_,E,I,T,P;for(w in h)b=s(v?w:f+(p?".":"#")+w,c.forced),S=!b&&g&&l(g,w),E=y[w],S&&(c.dontCallGetSet?(P=n(g,w),I=P&&P.value):I=g[w]),_=S&&I?I:h[w],!(!b&&!m&&typeof E==typeof _)&&(c.bind&&S?T=a(_,i):c.wrap&&S?T=d(_):m&&r(_)?T=t(_):T=_,(c.sham||_&&_.sham||E&&E.sham)&&u(T,"sham",!0),u(y,w,T),m&&($=f+"Prototype",l(o,$)||u(o,$,{}),u(o[$],w,_),c.real&&O&&(b||!O[w])&&u(O,w,_)))},Su}var C0;function dj(){if(C0)return A1;C0=1;var i=Q(),e=Ae(),t=wt().f;return i({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),A1}var x0;function cj(){if(x0)return Ra.exports;x0=1,dj();var i=Le(),e=i.Object,t=Ra.exports=function(n,s,o){return e.defineProperty(n,s,o)};return e.defineProperty.sham&&(t.sham=!0),Ra.exports}var Ou,D0;function fk(){if(D0)return Ou;D0=1;var i=cj();return Ou=i,Ou}var Iu,M0;function hj(){if(M0)return Iu;M0=1;var i=fk();return Iu=i,Iu}var $u,A0;function fj(){if(A0)return $u;A0=1;var i=hj();return $u=i,$u}var Tu,k0;function vj(){return k0||(k0=1,Tu=fj()),Tu}var pj=vj(),gj=ae(pj),N0={},Pu,F0;function Es(){if(F0)return Pu;F0=1;var i=ar();return Pu=Array.isArray||function(t){return i(t)==="Array"},Pu}var Ru,B0;function yj(){if(B0)return Ru;B0=1;var i=Math.ceil,e=Math.floor;return Ru=Math.trunc||function(r){var n=+r;return(n>0?e:i)(n)},Ru}var qu,j0;function fn(){if(j0)return qu;j0=1;var i=yj();return qu=function(e){var t=+e;return t!==t||t===0?0:i(t)},qu}var Cu,L0;function vk(){if(L0)return Cu;L0=1;var i=fn(),e=Math.min;return Cu=function(t){var r=i(t);return r>0?e(r,9007199254740991):0},Cu}var xu,z0;function li(){if(z0)return xu;z0=1;var i=vk();return xu=function(e){return i(e.length)},xu}var Du,W0;function pk(){if(W0)return Du;W0=1;var i=TypeError,e=9007199254740991;return Du=function(t){if(t>e)throw i("Maximum allowed index exceeded");return t},Du}var Mu,H0;function bb(){if(H0)return Mu;H0=1;var i=Ae(),e=wt(),t=ms();return Mu=function(r,n,s){i?e.f(r,n,t(0,s)):r[n]=s},Mu}var Au,G0;function _b(){if(G0)return Au;G0=1;var i=Ke(),e=i("toStringTag"),t={};return t[e]="z",Au=String(t)==="[object z]",Au}var ku,U0;function qr(){if(U0)return ku;U0=1;var i=_b(),e=je(),t=ar(),r=Ke(),n=r("toStringTag"),s=Object,o=t(function(){return arguments}())==="Arguments",a=function(u,l){try{return u[l]}catch{}};return ku=i?t:function(u){var l,d,c;return u===void 0?"Undefined":u===null?"Null":typeof(d=a(l=s(u),n))=="string"?d:o?t(l):(c=t(l))==="Object"&&e(l.callee)?"Arguments":c},ku}var Nu,V0;function mj(){if(V0)return Nu;V0=1;var i=ye(),e=je(),t=yb(),r=i(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(n){return r(n)}),Nu=t.inspectSource,Nu}var Fu,K0;function bj(){if(K0)return Fu;K0=1;var i=ye(),e=de(),t=je(),r=qr(),n=ft(),s=mj(),o=function(){},a=n("Reflect","construct"),u=/^\s*(?:class|function)\b/,l=i(u.exec),d=!u.test(o),c=function(v){if(!t(v))return!1;try{return a(o,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!l(u,s(v))}catch{return!0}};return h.sham=!0,Fu=!a||e(function(){var f;return c(c.call)||!c(Object)||!c(function(){f=!0})||f})?h:c,Fu}var Bu,Y0;function _j(){if(Y0)return Bu;Y0=1;var i=Es(),e=bj(),t=ct(),r=Ke(),n=r("species"),s=Array;return Bu=function(o){var a;return i(o)&&(a=o.constructor,e(a)&&(a===s||i(a.prototype))?a=void 0:t(a)&&(a=a[n],a===null&&(a=void 0))),a===void 0?s:a},Bu}var ju,X0;function wb(){if(X0)return ju;X0=1;var i=_j();return ju=function(e,t){return new(i(e))(t===0?0:t)},ju}var Lu,Z0;function Fo(){if(Z0)return Lu;Z0=1;var i=de(),e=Ke(),t=_s(),r=e("species");return Lu=function(n){return t>=51||!i(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[n](Boolean).foo!==1})},Lu}var J0;function gk(){if(J0)return N0;J0=1;var i=Q(),e=de(),t=Es(),r=ct(),n=Nt(),s=li(),o=pk(),a=bb(),u=wb(),l=Fo(),d=Ke(),c=_s(),h=d("isConcatSpreadable"),f=c>=51||!e(function(){var m=[];return m[h]=!1,m.concat()[0]!==m}),v=function(m){if(!r(m))return!1;var g=m[h];return g!==void 0?!!g:t(m)},p=!f||!l("concat");return i({target:"Array",proto:!0,arity:1,forced:p},{concat:function(g){var y=n(this),O=u(y,0),b=0,S,$,w,_,E;for(S=-1,w=arguments.length;S<w;S++)if(E=S===-1?y:arguments[S],v(E))for(_=s(E),o(b+_),$=0;$<_;$++,b++)$ in E&&a(O,b,E[$]);else o(b+1),a(O,b++,E);return O.length=b,O}}),N0}var Q0={},e_={},zu,t_;function Cr(){if(t_)return zu;t_=1;var i=qr(),e=String;return zu=function(t){if(i(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},zu}var Wu={},Hu,r_;function yk(){if(r_)return Hu;r_=1;var i=fn(),e=Math.max,t=Math.min;return Hu=function(r,n){var s=i(r);return s<0?e(s+n,0):t(s,n)},Hu}var Gu,i_;function wj(){if(i_)return Gu;i_=1;var i=ur(),e=yk(),t=li(),r=function(n){return function(s,o,a){var u=i(s),l=t(u);if(l===0)return!n&&-1;var d=e(a,l),c;if(n&&o!==o){for(;l>d;)if(c=u[d++],c!==c)return!0}else for(;l>d;d++)if((n||d in u)&&u[d]===o)return n||d||0;return!n&&-1}};return Gu={includes:r(!0),indexOf:r(!1)},Gu}var Uu,n_;function Ss(){return n_||(n_=1,Uu={}),Uu}var Vu,s_;function mk(){if(s_)return Vu;s_=1;var i=ye(),e=ze(),t=ur(),r=wj().indexOf,n=Ss(),s=i([].push);return Vu=function(o,a){var u=t(o),l=0,d=[],c;for(c in u)!e(n,c)&&e(u,c)&&s(d,c);for(;a.length>l;)e(u,c=a[l++])&&(~r(d,c)||s(d,c));return d},Vu}var Ku,o_;function Eb(){return o_||(o_=1,Ku=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Ku}var Yu,a_;function Bo(){if(a_)return Yu;a_=1;var i=mk(),e=Eb();return Yu=Object.keys||function(r){return i(r,e)},Yu}var u_;function Sb(){if(u_)return Wu;u_=1;var i=Ae(),e=hk(),t=wt(),r=dr(),n=ur(),s=Bo();return Wu.f=i&&!e?Object.defineProperties:function(a,u){r(a);for(var l=n(u),d=s(u),c=d.length,h=0,f;c>h;)t.f(a,f=d[h++],l[f]);return a},Wu}var Xu,l_;function Ej(){if(l_)return Xu;l_=1;var i=ft();return Xu=i("document","documentElement"),Xu}var Zu,d_;function jo(){if(d_)return Zu;d_=1;var i=cn(),e=Ao(),t=i("keys");return Zu=function(r){return t[r]||(t[r]=e(r))},Zu}var Ju,c_;function Os(){if(c_)return Ju;c_=1;var i=dr(),e=Sb(),t=Eb(),r=Ss(),n=Ej(),s=dk(),o=jo(),a=">",u="<",l="prototype",d="script",c=o("IE_PROTO"),h=function(){},f=function(y){return u+d+a+y+u+"/"+d+a},v=function(y){y.write(f("")),y.close();var O=y.parentWindow.Object;return y=null,O},p=function(){var y=s("iframe"),O="java"+d+":",b;return y.style.display="none",n.appendChild(y),y.src=String(O),b=y.contentWindow.document,b.open(),b.write(f("document.F=Object")),b.close(),b.F},m,g=function(){try{m=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&m?v(m):p():v(m);for(var y=t.length;y--;)delete g[l][t[y]];return g()};return r[c]=!0,Ju=Object.create||function(O,b){var S;return O!==null?(h[l]=i(O),S=new h,h[l]=null,S[c]=O):S=g(),b===void 0?S:e.f(S,b)},Ju}var Qu={},h_;function Lo(){if(h_)return Qu;h_=1;var i=mk(),e=Eb(),t=e.concat("length","prototype");return Qu.f=Object.getOwnPropertyNames||function(n){return i(n,t)},Qu}var el={},tl,f_;function Is(){if(f_)return tl;f_=1;var i=ye();return tl=i([].slice),tl}var v_;function bk(){if(v_)return el;v_=1;var i=ar(),e=ur(),t=Lo().f,r=Is(),n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(n)}};return el.f=function(a){return n&&i(a)==="Window"?s(a):t(e(a))},el}var rl={},p_;function zo(){return p_||(p_=1,rl.f=Object.getOwnPropertySymbols),rl}var il,g_;function $s(){if(g_)return il;g_=1;var i=hn();return il=function(e,t,r,n){return n&&n.enumerable?e[t]=r:i(e,t,r),e},il}var nl,y_;function Ob(){if(y_)return nl;y_=1;var i=wt();return nl=function(e,t,r){return i.f(e,t,r)},nl}var sl={},m_;function Wo(){if(m_)return sl;m_=1;var i=Ke();return sl.f=i,sl}var ol,b_;function Oe(){if(b_)return ol;b_=1;var i=Le(),e=ze(),t=Wo(),r=wt().f;return ol=function(n){var s=i.Symbol||(i.Symbol={});e(s,n)||r(s,n,{value:t.f(n)})},ol}var al,__;function _k(){if(__)return al;__=1;var i=dt(),e=ft(),t=Ke(),r=$s();return al=function(){var n=e("Symbol"),s=n&&n.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(u){return i(o,this)},{arity:1})},al}var ul,w_;function Sj(){if(w_)return ul;w_=1;var i=_b(),e=qr();return ul=i?{}.toString:function(){return"[object "+e(this)+"]"},ul}var ll,E_;function di(){if(E_)return ll;E_=1;var i=_b(),e=wt().f,t=hn(),r=ze(),n=Sj(),s=Ke(),o=s("toStringTag");return ll=function(a,u,l,d){var c=l?a:a&&a.prototype;c&&(r(c,o)||e(c,o,{configurable:!0,value:u}),d&&!i&&t(c,"toString",n))},ll}var dl,S_;function Oj(){if(S_)return dl;S_=1;var i=Me(),e=je(),t=i.WeakMap;return dl=e(t)&&/native code/.test(String(t)),dl}var cl,O_;function Ts(){if(O_)return cl;O_=1;var i=Oj(),e=Me(),t=ct(),r=hn(),n=ze(),s=yb(),o=jo(),a=Ss(),u="Object already initialized",l=e.TypeError,d=e.WeakMap,c,h,f,v=function(y){return f(y)?h(y):c(y,{})},p=function(y){return function(O){var b;if(!t(O)||(b=h(O)).type!==y)throw new l("Incompatible receiver, "+y+" required");return b}};if(i||s.state){var m=s.state||(s.state=new d);m.get=m.get,m.has=m.has,m.set=m.set,c=function(y,O){if(m.has(y))throw new l(u);return O.facade=y,m.set(y,O),O},h=function(y){return m.get(y)||{}},f=function(y){return m.has(y)}}else{var g=o("state");a[g]=!0,c=function(y,O){if(n(y,g))throw new l(u);return O.facade=y,r(y,g,O),O},h=function(y){return n(y,g)?y[g]:{}},f=function(y){return n(y,g)}}return cl={set:c,get:h,has:f,enforce:v,getterFor:p},cl}var hl,I_;function vn(){if(I_)return hl;I_=1;var i=No(),e=ye(),t=Mo(),r=Nt(),n=li(),s=wb(),o=e([].push),a=function(u){var l=u===1,d=u===2,c=u===3,h=u===4,f=u===6,v=u===7,p=u===5||f;return function(m,g,y,O){for(var b=r(m),S=t(b),$=n(S),w=i(g,y),_=0,E=O||s,I=l?E(m,$):d||v?E(m,0):void 0,T,P;$>_;_++)if((p||_ in S)&&(T=S[_],P=w(T,_,b),u))if(l)I[_]=P;else if(P)switch(u){case 3:return!0;case 5:return T;case 6:return _;case 2:o(I,T)}else switch(u){case 4:return!1;case 7:o(I,T)}return f?-1:c||h?h:I}};return hl={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},hl}var $_;function Ij(){if($_)return e_;$_=1;var i=Q(),e=Me(),t=dt(),r=ye(),n=dn(),s=Ae(),o=un(),a=de(),u=ze(),l=Je(),d=dr(),c=ur(),h=mb(),f=Cr(),v=ms(),p=Os(),m=Bo(),g=Lo(),y=bk(),O=zo(),b=ko(),S=wt(),$=Sb(),w=pb(),_=$s(),E=Ob(),I=cn(),T=jo(),P=Ss(),R=Ao(),C=Ke(),M=Wo(),K=Oe(),j=_k(),J=di(),ee=Ts(),ce=vn().forEach,W=T("hidden"),ue="Symbol",fe="prototype",Ee=ee.set,Pt=ee.getterFor(ue),me=Object[fe],Qe=e.Symbol,Rt=Qe&&Qe[fe],va=e.RangeError,pa=e.TypeError,Nr=e.QObject,Dn=b.f,et=S.f,Mn=y.f,ga=w.f,An=r([].push),Fe=I("symbols"),qt=I("op-symbols"),ya=I("wks"),Fr=!Nr||!Nr[fe]||!Nr[fe].findChild,kn=function(G,N,F){var B=Dn(me,N);B&&delete me[N],et(G,N,F),B&&G!==me&&et(me,N,B)},Br=s&&a(function(){return p(et({},"a",{get:function(){return et(this,"a",{value:7}).a}})).a!==7})?kn:et,jr=function(G,N){var F=Fe[G]=p(Rt);return Ee(F,{type:ue,tag:G,description:N}),s||(F.description=N),F},Kt=function(N,F,B){N===me&&Kt(qt,F,B),d(N);var U=h(F);return d(B),u(Fe,U)?(B.enumerable?(u(N,W)&&N[W][U]&&(N[W][U]=!1),B=p(B,{enumerable:v(0,!1)})):(u(N,W)||et(N,W,v(1,p(null))),N[W][U]=!0),Br(N,U,B)):et(N,U,B)},Lr=function(N,F){d(N);var B=c(F),U=m(B).concat(Bn(B));return ce(U,function(le){(!s||t(zr,B,le))&&Kt(N,le,B[le])}),N},ma=function(N,F){return F===void 0?p(N):Lr(p(N),F)},zr=function(N){var F=h(N),B=t(ga,this,F);return this===me&&u(Fe,F)&&!u(qt,F)?!1:B||!u(this,F)||!u(Fe,F)||u(this,W)&&this[W][F]?B:!0},Nn=function(N,F){var B=c(N),U=h(F);if(!(B===me&&u(Fe,U)&&!u(qt,U))){var le=Dn(B,U);return le&&u(Fe,U)&&!(u(B,W)&&B[W][U])&&(le.enumerable=!0),le}},Fn=function(N){var F=Mn(c(N)),B=[];return ce(F,function(U){!u(Fe,U)&&!u(P,U)&&An(B,U)}),B},Bn=function(G){var N=G===me,F=Mn(N?qt:c(G)),B=[];return ce(F,function(U){u(Fe,U)&&(!N||u(me,U))&&An(B,Fe[U])}),B};return o||(Qe=function(){if(l(Rt,this))throw new pa("Symbol is not a constructor");var N=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),F=R(N),B=function(U){var le=this===void 0?e:this;le===me&&t(B,qt,U),u(le,W)&&u(le[W],F)&&(le[W][F]=!1);var jn=v(1,U);try{Br(le,F,jn)}catch(Ln){if(!(Ln instanceof va))throw Ln;kn(le,F,jn)}};return s&&Fr&&Br(me,F,{configurable:!0,set:B}),jr(F,N)},Rt=Qe[fe],_(Rt,"toString",function(){return Pt(this).tag}),_(Qe,"withoutSetter",function(G){return jr(R(G),G)}),w.f=zr,S.f=Kt,$.f=Lr,b.f=Nn,g.f=y.f=Fn,O.f=Bn,M.f=function(G){return jr(C(G),G)},s&&(E(Rt,"description",{configurable:!0,get:function(){return Pt(this).description}}),n||_(me,"propertyIsEnumerable",zr,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:Qe}),ce(m(ya),function(G){K(G)}),i({target:ue,stat:!0,forced:!o},{useSetter:function(){Fr=!0},useSimple:function(){Fr=!1}}),i({target:"Object",stat:!0,forced:!o,sham:!s},{create:ma,defineProperty:Kt,defineProperties:Lr,getOwnPropertyDescriptor:Nn}),i({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:Fn}),j(),J(Qe,ue),P[W]=!0,e_}var T_={},fl,P_;function wk(){if(P_)return fl;P_=1;var i=un();return fl=i&&!!Symbol.for&&!!Symbol.keyFor,fl}var R_;function $j(){if(R_)return T_;R_=1;var i=Q(),e=ft(),t=ze(),r=Cr(),n=cn(),s=wk(),o=n("string-to-symbol-registry"),a=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{for:function(u){var l=r(u);if(t(o,l))return o[l];var d=e("Symbol")(l);return o[l]=d,a[d]=l,d}}),T_}var q_={},C_;function Tj(){if(C_)return q_;C_=1;var i=Q(),e=ze(),t=ws(),r=ln(),n=cn(),s=wk(),o=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!t(u))throw new TypeError(r(u)+" is not a symbol");if(e(o,u))return o[u]}}),q_}var x_={},vl,D_;function Pj(){if(D_)return vl;D_=1;var i=ye(),e=Es(),t=je(),r=ar(),n=Cr(),s=i([].push);return vl=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,u=[],l=0;l<a;l++){var d=o[l];typeof d=="string"?s(u,d):(typeof d=="number"||r(d)==="Number"||r(d)==="String")&&s(u,n(d))}var c=u.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var p=0;p<c;p++)if(u[p]===f)return v}}},vl}var M_;function Ek(){if(M_)return x_;M_=1;var i=Q(),e=ft(),t=Do(),r=dt(),n=ye(),s=de(),o=je(),a=ws(),u=Is(),l=Pj(),d=un(),c=String,h=e("JSON","stringify"),f=n(/./.exec),v=n("".charAt),p=n("".charCodeAt),m=n("".replace),g=n(1.1.toString),y=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,S=!d||s(function(){var E=e("Symbol")("stringify detection");return h([E])!=="[null]"||h({a:E})!=="{}"||h(Object(E))!=="{}"}),$=s(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),w=function(E,I){var T=u(arguments),P=l(I);if(!(!o(P)&&(E===void 0||a(E))))return T[1]=function(R,C){if(o(P)&&(C=r(P,this,c(R),C)),!a(C))return C},t(h,null,T)},_=function(E,I,T){var P=v(T,I-1),R=v(T,I+1);return f(O,E)&&!f(b,R)||f(b,E)&&!f(O,P)?"\\u"+g(p(E,0),16):E};return h&&i({target:"JSON",stat:!0,arity:3,forced:S||$},{stringify:function(I,T,P){var R=u(arguments),C=t(S?w:h,null,R);return $&&typeof C=="string"?m(C,y,_):C}}),x_}var A_={},k_;function Rj(){if(k_)return A_;k_=1;var i=Q(),e=un(),t=de(),r=zo(),n=Nt(),s=!e||t(function(){r.f(1)});return i({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var u=r.f;return u?u(n(a)):[]}}),A_}var N_;function Sk(){return N_||(N_=1,Ij(),$j(),Tj(),Ek(),Rj()),Q0}var F_={},B_;function Ok(){if(B_)return F_;B_=1;var i=Oe();return i("asyncDispose"),F_}var j_={},L_;function qj(){if(L_)return j_;L_=1;var i=Oe();return i("asyncIterator"),j_}var z_={},W_;function Ik(){if(W_)return z_;W_=1;var i=Oe();return i("dispose"),z_}var H_={},G_;function Cj(){if(G_)return H_;G_=1;var i=Oe();return i("hasInstance"),H_}var U_={},V_;function xj(){if(V_)return U_;V_=1;var i=Oe();return i("isConcatSpreadable"),U_}var K_={},Y_;function $k(){if(Y_)return K_;Y_=1;var i=Oe();return i("iterator"),K_}var X_={},Z_;function Dj(){if(Z_)return X_;Z_=1;var i=Oe();return i("match"),X_}var J_={},Q_;function Mj(){if(Q_)return J_;Q_=1;var i=Oe();return i("matchAll"),J_}var ew={},tw;function Aj(){if(tw)return ew;tw=1;var i=Oe();return i("replace"),ew}var rw={},iw;function kj(){if(iw)return rw;iw=1;var i=Oe();return i("search"),rw}var nw={},sw;function Nj(){if(sw)return nw;sw=1;var i=Oe();return i("species"),nw}var ow={},aw;function Fj(){if(aw)return ow;aw=1;var i=Oe();return i("split"),ow}var uw={},lw;function Tk(){if(lw)return uw;lw=1;var i=Oe(),e=_k();return i("toPrimitive"),e(),uw}var dw={},cw;function Bj(){if(cw)return dw;cw=1;var i=ft(),e=Oe(),t=di();return e("toStringTag"),t(i("Symbol"),"Symbol"),dw}var hw={},fw;function jj(){if(fw)return hw;fw=1;var i=Oe();return i("unscopables"),hw}var vw={},pw;function Lj(){if(pw)return vw;pw=1;var i=Me(),e=di();return e(i.JSON,"JSON",!0),vw}var pl,gw;function zj(){if(gw)return pl;gw=1,gk(),Sk(),Ok(),qj(),Ik(),Cj(),xj(),$k(),Dj(),Mj(),Aj(),kj(),Nj(),Fj(),Tk(),Bj(),jj(),Lj();var i=Le();return pl=i.Symbol,pl}var yw={},gl,mw;function Wj(){return mw||(mw=1,gl=function(){}),gl}var yl,bw;function pn(){return bw||(bw=1,yl={}),yl}var ml,_w;function Hj(){if(_w)return ml;_w=1;var i=Ae(),e=ze(),t=Function.prototype,r=i&&Object.getOwnPropertyDescriptor,n=e(t,"name"),s=n&&(function(){}).name==="something",o=n&&(!i||i&&r(t,"name").configurable);return ml={EXISTS:n,PROPER:s,CONFIGURABLE:o},ml}var bl,ww;function Gj(){if(ww)return bl;ww=1;var i=de();return bl=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),bl}var _l,Ew;function Pk(){if(Ew)return _l;Ew=1;var i=ze(),e=je(),t=Nt(),r=jo(),n=Gj(),s=r("IE_PROTO"),o=Object,a=o.prototype;return _l=n?o.getPrototypeOf:function(u){var l=t(u);if(i(l,s))return l[s];var d=l.constructor;return e(d)&&l instanceof d?d.prototype:l instanceof o?a:null},_l}var wl,Sw;function Rk(){if(Sw)return wl;Sw=1;var i=de(),e=je(),t=ct(),r=Os(),n=Pk(),s=$s(),o=Ke(),a=dn(),u=o("iterator"),l=!1,d,c,h;[].keys&&(h=[].keys(),"next"in h?(c=n(n(h)),c!==Object.prototype&&(d=c)):l=!0);var f=!t(d)||i(function(){var v={};return d[u].call(v)!==v});return f?d={}:a&&(d=r(d)),e(d[u])||s(d,u,function(){return this}),wl={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:l},wl}var El,Ow;function Uj(){if(Ow)return El;Ow=1;var i=Rk().IteratorPrototype,e=Os(),t=ms(),r=di(),n=pn(),s=function(){return this};return El=function(o,a,u,l){var d=a+" Iterator";return o.prototype=e(i,{next:t(+!l,u)}),r(o,d,!1,!0),n[d]=s,o},El}var Sl,Iw;function Vj(){if(Iw)return Sl;Iw=1;var i=ye(),e=lr();return Sl=function(t,r,n){try{return i(e(Object.getOwnPropertyDescriptor(t,r)[n]))}catch{}},Sl}var Ol,$w;function Kj(){if($w)return Ol;$w=1;var i=ct();return Ol=function(e){return i(e)||e===null},Ol}var Il,Tw;function Yj(){if(Tw)return Il;Tw=1;var i=Kj(),e=String,t=TypeError;return Il=function(r){if(i(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},Il}var $l,Pw;function Xj(){if(Pw)return $l;Pw=1;var i=Vj(),e=ct(),t=ui(),r=Yj();return $l=Object.setPrototypeOf||("__proto__"in{}?function(){var n=!1,s={},o;try{o=i(Object.prototype,"__proto__","set"),o(s,[]),n=s instanceof Array}catch{}return function(u,l){return t(u),r(l),e(u)&&(n?o(u,l):u.__proto__=l),u}}():void 0),$l}var Tl,Rw;function Ib(){if(Rw)return Tl;Rw=1;var i=Q(),e=dt(),t=dn(),r=Hj(),n=je(),s=Uj(),o=Pk(),a=Xj(),u=di(),l=hn(),d=$s(),c=Ke(),h=pn(),f=Rk(),v=r.PROPER,p=r.CONFIGURABLE,m=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,y=c("iterator"),O="keys",b="values",S="entries",$=function(){return this};return Tl=function(w,_,E,I,T,P,R){s(E,_,I);var C=function(Ee){if(Ee===T&&ee)return ee;if(!g&&Ee&&Ee in j)return j[Ee];switch(Ee){case O:return function(){return new E(this,Ee)};case b:return function(){return new E(this,Ee)};case S:return function(){return new E(this,Ee)}}return function(){return new E(this)}},M=_+" Iterator",K=!1,j=w.prototype,J=j[y]||j["@@iterator"]||T&&j[T],ee=!g&&J||C(T),ce=_==="Array"&&j.entries||J,W,ue,fe;if(ce&&(W=o(ce.call(new w)),W!==Object.prototype&&W.next&&(!t&&o(W)!==m&&(a?a(W,m):n(W[y])||d(W,y,$)),u(W,M,!0,!0),t&&(h[M]=$))),v&&T===b&&J&&J.name!==b&&(!t&&p?l(j,"name",b):(K=!0,ee=function(){return e(J,this)})),T)if(ue={values:C(b),keys:P?ee:C(O),entries:C(S)},R)for(fe in ue)(g||K||!(fe in j))&&d(j,fe,ue[fe]);else i({target:_,proto:!0,forced:g||K},ue);return(!t||R)&&j[y]!==ee&&d(j,y,ee,{name:T}),h[_]=ee,ue},Tl}var Pl,qw;function $b(){return qw||(qw=1,Pl=function(i,e){return{value:i,done:e}}),Pl}var Rl,Cw;function xr(){if(Cw)return Rl;Cw=1;var i=ur(),e=Wj(),t=pn(),r=Ts(),n=wt().f,s=Ib(),o=$b(),a=dn(),u=Ae(),l="Array Iterator",d=r.set,c=r.getterFor(l);Rl=s(Array,"Array",function(f,v){d(this,{type:l,target:i(f),index:0,kind:v})},function(){var f=c(this),v=f.target,p=f.index++;if(!v||p>=v.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(p,!1);case"values":return o(v[p],!1)}return o([p,v[p]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&u&&h.name!=="values")try{n(h,"name",{value:"values"})}catch{}return Rl}var ql,xw;function Zj(){return xw||(xw=1,ql={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),ql}var Dw;function Dr(){if(Dw)return yw;Dw=1,xr();var i=Zj(),e=Me(),t=di(),r=pn();for(var n in i)t(e[n],n),r[n]=r.Array;return yw}var Cl,Mw;function Jj(){if(Mw)return Cl;Mw=1;var i=zj();return Dr(),Cl=i,Cl}var Aw={},kw;function Qj(){if(kw)return Aw;kw=1;var i=Ke(),e=wt().f,t=i("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),Aw}var Nw={},Fw;function e3(){return Fw||(Fw=1,Ok()),Nw}var Bw={},jw;function t3(){return jw||(jw=1,Ik()),Bw}var Lw={},zw;function r3(){if(zw)return Lw;zw=1;var i=Oe();return i("metadata"),Lw}var xl,Ww;function i3(){if(Ww)return xl;Ww=1;var i=Jj();return Qj(),e3(),t3(),r3(),xl=i,xl}var Hw={},Dl,Gw;function qk(){if(Gw)return Dl;Gw=1;var i=ft(),e=ye(),t=i("Symbol"),r=t.keyFor,n=e(t.prototype.valueOf);return Dl=t.isRegisteredSymbol||function(o){try{return r(n(o))!==void 0}catch{return!1}},Dl}var Uw;function n3(){if(Uw)return Hw;Uw=1;var i=Q(),e=qk();return i({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Hw}var Vw={},Ml,Kw;function Ck(){if(Kw)return Ml;Kw=1;for(var i=cn(),e=ft(),t=ye(),r=ws(),n=Ke(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),u=t(s.prototype.valueOf),l=i("wks"),d=0,c=a(s),h=c.length;d<h;d++)try{var f=c[d];r(s[f])&&n(f)}catch{}return Ml=function(p){if(o&&o(p))return!0;try{for(var m=u(p),g=0,y=a(l),O=y.length;g<O;g++)if(l[y[g]]==m)return!0}catch{}return!1},Ml}var Yw;function s3(){if(Yw)return Vw;Yw=1;var i=Q(),e=Ck();return i({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Vw}var Xw={},Zw;function o3(){if(Zw)return Xw;Zw=1;var i=Oe();return i("customMatcher"),Xw}var Jw={},Qw;function a3(){if(Qw)return Jw;Qw=1;var i=Oe();return i("observable"),Jw}var eE={},tE;function u3(){if(tE)return eE;tE=1;var i=Q(),e=qk();return i({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),eE}var rE={},iE;function l3(){if(iE)return rE;iE=1;var i=Q(),e=Ck();return i({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),rE}var nE={},sE;function d3(){if(sE)return nE;sE=1;var i=Oe();return i("matcher"),nE}var oE={},aE;function c3(){if(aE)return oE;aE=1;var i=Oe();return i("metadataKey"),oE}var uE={},lE;function h3(){if(lE)return uE;lE=1;var i=Oe();return i("patternMatch"),uE}var dE={},cE;function f3(){if(cE)return dE;cE=1;var i=Oe();return i("replaceAll"),dE}var Al,hE;function v3(){if(hE)return Al;hE=1;var i=i3();return n3(),s3(),o3(),a3(),u3(),l3(),d3(),c3(),h3(),f3(),Al=i,Al}var kl,fE;function p3(){return fE||(fE=1,kl=v3()),kl}var g3=p3(),ro=ae(g3),vE={},Nl,pE;function y3(){if(pE)return Nl;pE=1;var i=ye(),e=fn(),t=Cr(),r=ui(),n=i("".charAt),s=i("".charCodeAt),o=i("".slice),a=function(u){return function(l,d){var c=t(r(l)),h=e(d),f=c.length,v,p;return h<0||h>=f?u?"":void 0:(v=s(c,h),v<55296||v>56319||h+1===f||(p=s(c,h+1))<56320||p>57343?u?n(c,h):v:u?o(c,h,h+2):(v-55296<<10)+(p-56320)+65536)}};return Nl={codeAt:a(!1),charAt:a(!0)},Nl}var gE;function Ho(){if(gE)return vE;gE=1;var i=y3().charAt,e=Cr(),t=Ts(),r=Ib(),n=$b(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(u){o(this,{type:s,string:e(u),index:0})},function(){var l=a(this),d=l.string,c=l.index,h;return c>=d.length?n(void 0,!0):(h=i(d,c),l.index+=h.length,n(h,!1))}),vE}var Fl,yE;function m3(){if(yE)return Fl;yE=1,xr(),Ho(),$k();var i=Wo();return Fl=i.f("iterator"),Fl}var Bl,mE;function xk(){if(mE)return Bl;mE=1;var i=m3();return Dr(),Bl=i,Bl}var jl,bE;function b3(){if(bE)return jl;bE=1;var i=xk();return jl=i,jl}var Ll,_E;function _3(){if(_E)return Ll;_E=1;var i=b3();return Ll=i,Ll}var zl,wE;function w3(){return wE||(wE=1,zl=_3()),zl}var E3=w3(),S3=ae(E3);function ns(i){"@babel/helpers - typeof";return ns=typeof ro=="function"&&typeof S3=="symbol"?function(e){return typeof e}:function(e){return e&&typeof ro=="function"&&e.constructor===ro&&e!==ro.prototype?"symbol":typeof e},ns(i)}var Wl,EE;function O3(){if(EE)return Wl;EE=1,Tk();var i=Wo();return Wl=i.f("toPrimitive"),Wl}var Hl,SE;function I3(){if(SE)return Hl;SE=1;var i=O3();return Hl=i,Hl}var Gl,OE;function $3(){if(OE)return Gl;OE=1;var i=I3();return Gl=i,Gl}var Ul,IE;function T3(){if(IE)return Ul;IE=1;var i=$3();return Ul=i,Ul}var Vl,$E;function P3(){return $E||($E=1,Vl=T3()),Vl}var R3=P3(),q3=ae(R3);function C3(i,e){if(ns(i)!="object"||!i)return i;var t=i[q3];if(t!==void 0){var r=t.call(i,e);if(ns(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function x3(i){var e=C3(i,"string");return ns(e)=="symbol"?e:e+""}function br(i,e,t){return(e=x3(e))in i?gj(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var TE={},Kl,PE;function D3(){if(PE)return Kl;PE=1;var i=ye(),e=lr(),t=ct(),r=ze(),n=Is(),s=ys(),o=Function,a=i([].concat),u=i([].join),l={},d=function(c,h,f){if(!r(l,h)){for(var v=[],p=0;p<h;p++)v[p]="a["+p+"]";l[h]=o("C,a","return new C("+u(v,",")+")")}return l[h](c,f)};return Kl=s?o.bind:function(h){var f=e(this),v=f.prototype,p=n(arguments,1),m=function(){var y=a(p,n(arguments));return this instanceof m?d(f,y.length,y):f.apply(h,y)};return t(v)&&(m.prototype=v),m},Kl}var RE;function M3(){if(RE)return TE;RE=1;var i=Q(),e=D3();return i({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),TE}var Yl,qE;function Et(){if(qE)return Yl;qE=1;var i=Me(),e=Le();return Yl=function(t,r){var n=e[t+"Prototype"],s=n&&n[r];if(s)return s;var o=i[t],a=o&&o.prototype;return a&&a[r]},Yl}var Xl,CE;function A3(){if(CE)return Xl;CE=1,M3();var i=Et();return Xl=i("Function","bind"),Xl}var Zl,xE;function k3(){if(xE)return Zl;xE=1;var i=Je(),e=A3(),t=Function.prototype;return Zl=function(r){var n=r.bind;return r===t||i(t,r)&&n===t.bind?e:n},Zl}var Jl,DE;function N3(){if(DE)return Jl;DE=1;var i=k3();return Jl=i,Jl}var Ql,ME;function F3(){return ME||(ME=1,Ql=N3()),Ql}var B3=F3(),j3=ae(B3),AE={},ed,kE;function L3(){if(kE)return ed;kE=1;var i=lr(),e=Nt(),t=Mo(),r=li(),n=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(u,l,d,c){var h=e(u),f=t(h),v=r(h);if(i(l),v===0&&d<2)throw new n(s);var p=a?v-1:0,m=a?-1:1;if(d<2)for(;;){if(p in f){c=f[p],p+=m;break}if(p+=m,a?p<0:v<=p)throw new n(s)}for(;a?p>=0:v>p;p+=m)p in f&&(c=l(c,f[p],p,h));return c}};return ed={left:o(!1),right:o(!0)},ed}var td,NE;function Go(){if(NE)return td;NE=1;var i=de();return td=function(e,t){var r=[][e];return!!r&&i(function(){r.call(null,t||function(){return 1},1)})},td}var rd,FE;function Dk(){if(FE)return rd;FE=1;var i=Me(),e=an(),t=ar(),r=function(n){return e.slice(0,n.length)===n};return rd=function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":i.Bun&&typeof Bun.version=="string"?"BUN":i.Deno&&typeof Deno.version=="object"?"DENO":t(i.process)==="process"?"NODE":i.window&&i.document?"BROWSER":"REST"}(),rd}var id,BE;function z3(){if(BE)return id;BE=1;var i=Dk();return id=i==="NODE",id}var jE;function W3(){if(jE)return AE;jE=1;var i=Q(),e=L3().left,t=Go(),r=_s(),n=z3(),s=!n&&r>79&&r<83,o=s||!t("reduce");return i({target:"Array",proto:!0,forced:o},{reduce:function(u){var l=arguments.length;return e(this,u,l,l>1?arguments[1]:void 0)}}),AE}var nd,LE;function H3(){if(LE)return nd;LE=1,W3();var i=Et();return nd=i("Array","reduce"),nd}var sd,zE;function G3(){if(zE)return sd;zE=1;var i=Je(),e=H3(),t=Array.prototype;return sd=function(r){var n=r.reduce;return r===t||i(t,r)&&n===t.reduce?e:n},sd}var od,WE;function U3(){if(WE)return od;WE=1;var i=G3();return od=i,od}var ad,HE;function V3(){return HE||(HE=1,ad=U3()),ad}var K3=V3(),Y3=ae(K3),GE={},UE;function X3(){if(UE)return GE;UE=1;var i=Q(),e=vn().filter,t=Fo(),r=t("filter");return i({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),GE}var ud,VE;function Z3(){if(VE)return ud;VE=1,X3();var i=Et();return ud=i("Array","filter"),ud}var ld,KE;function J3(){if(KE)return ld;KE=1;var i=Je(),e=Z3(),t=Array.prototype;return ld=function(r){var n=r.filter;return r===t||i(t,r)&&n===t.filter?e:n},ld}var dd,YE;function Q3(){if(YE)return dd;YE=1;var i=J3();return dd=i,dd}var cd,XE;function eL(){return XE||(XE=1,cd=Q3()),cd}var tL=eL(),Mi=ae(tL),ZE={},JE;function rL(){if(JE)return ZE;JE=1;var i=Q(),e=vn().map,t=Fo(),r=t("map");return i({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),ZE}var hd,QE;function iL(){if(QE)return hd;QE=1,rL();var i=Et();return hd=i("Array","map"),hd}var fd,eS;function nL(){if(eS)return fd;eS=1;var i=Je(),e=iL(),t=Array.prototype;return fd=function(r){var n=r.map;return r===t||i(t,r)&&n===t.map?e:n},fd}var vd,tS;function sL(){if(tS)return vd;tS=1;var i=nL();return vd=i,vd}var pd,rS;function oL(){return rS||(rS=1,pd=sL()),pd}var aL=oL(),Bt=ae(aL),gd={exports:{}},iS;function uL(){return iS||(iS=1,function(i){function e(r){if(r)return t(r);this._callbacks=new Map}function t(r){return Object.assign(r,e.prototype),r._callbacks=new Map,r}e.prototype.on=function(r,n){const s=this._callbacks.get(r)??[];return s.push(n),this._callbacks.set(r,s),this},e.prototype.once=function(r,n){const s=(...o)=>{this.off(r,s),n.apply(this,o)};return s.fn=n,this.on(r,s),this},e.prototype.off=function(r,n){if(r===void 0&&n===void 0)return this._callbacks.clear(),this;if(n===void 0)return this._callbacks.delete(r),this;const s=this._callbacks.get(r);if(s){for(const[o,a]of s.entries())if(a===n||a.fn===n){s.splice(o,1);break}s.length===0?this._callbacks.delete(r):this._callbacks.set(r,s)}return this},e.prototype.emit=function(r,...n){const s=this._callbacks.get(r);if(s){const o=[...s];for(const a of o)a.apply(this,n)}return this},e.prototype.listeners=function(r){return this._callbacks.get(r)??[]},e.prototype.listenerCount=function(r){if(r)return this.listeners(r).length;let n=0;for(const s of this._callbacks.values())n+=s.length;return n},e.prototype.hasListeners=function(r){return this.listenerCount(r)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,i.exports=e}(gd)),gd.exports}var lL=uL(),dL=ae(lL);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function At(){return At=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},At.apply(this,arguments)}function St(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function io(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var zm;typeof Object.assign!="function"?zm=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])}return t}:zm=Object.assign;var ti=zm,nS=["","webkit","Moz","MS","ms","o"],cL=typeof document>"u"?{style:{}}:document.createElement("div"),hL="function",Ai=Math.round,ri=Math.abs,Tb=Date.now;function Uo(i,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),s=0;s<nS.length;){if(t=nS[s],r=t?t+n:e,r in i)return r;s++}}var tr;typeof window>"u"?tr={}:tr=window;var Mk=Uo(cL.style,"touchAction"),Ak=Mk!==void 0;function fL(){if(!Ak)return!1;var i={},e=tr.CSS&&tr.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=e?tr.CSS.supports("touch-action",t):!0}),i}var kk="compute",Nk="auto",Wm="manipulation",Zr="none",ss="pan-x",os="pan-y",no=fL(),vL=/mobile|tablet|ip(ad|hone|od)|android/i,Fk="ontouchstart"in tr,pL=Uo(tr,"PointerEvent")!==void 0,gL=Fk&&vL.test(navigator.userAgent),Ps="touch",yL="pen",Pb="mouse",mL="kinect",bL=25,st=1,ci=2,xe=4,ut=8,mo=1,Rs=2,qs=4,Cs=8,Ki=16,Ht=Rs|qs,Jr=Cs|Ki,Bk=Ht|Jr,jk=["x","y"],bo=["clientX","clientY"];function rr(i,e,t){var r;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(r=0;r<i.length;)e.call(t,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&e.call(t,i[r],r,i)}function Vo(i,e){return typeof i===hL?i.apply(e&&e[0]||void 0,e):i}function Ur(i,e){return i.indexOf(e)>-1}function _L(i){if(Ur(i,Zr))return Zr;var e=Ur(i,ss),t=Ur(i,os);return e&&t?Zr:e||t?e?ss:os:Ur(i,Wm)?Wm:Nk}var Lk=function(){function i(t,r){this.manager=t,this.set(r)}var e=i.prototype;return e.set=function(r){r===kk&&(r=this.compute()),Ak&&this.manager.element.style&&no[r]&&(this.manager.element.style[Mk]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return rr(this.manager.recognizers,function(n){Vo(n.options.enable,[n])&&(r=r.concat(n.getTouchAction()))}),_L(r.join(" "))},e.preventDefaults=function(r){var n=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var o=this.actions,a=Ur(o,Zr)&&!no[Zr],u=Ur(o,os)&&!no[os],l=Ur(o,ss)&&!no[ss];if(a){var d=r.pointers.length===1,c=r.distance<2,h=r.deltaTime<250;if(d&&c&&h)return}if(!(l&&u)&&(a||u&&s&Ht||l&&s&Jr))return this.preventSrc(n)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},i}();function Rb(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function zk(i){var e=i.length;if(e===1)return{x:Ai(i[0].clientX),y:Ai(i[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=i[n].clientX,r+=i[n].clientY,n++;return{x:Ai(t/e),y:Ai(r/e)}}function sS(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:Ai(i.pointers[t].clientX),clientY:Ai(i.pointers[t].clientY)},t++;return{timeStamp:Tb(),pointers:e,center:zk(e),deltaX:i.deltaX,deltaY:i.deltaY}}function _o(i,e,t){t||(t=jk);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.sqrt(r*r+n*n)}function Hm(i,e,t){t||(t=jk);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.atan2(n,r)*180/Math.PI}function Wk(i,e){return i===e?mo:ri(i)>=ri(e)?i<0?Rs:qs:e<0?Cs:Ki}function wL(i,e){var t=e.center,r=i.offsetDelta||{},n=i.prevDelta||{},s=i.prevInput||{};(e.eventType===st||s.eventType===xe)&&(n=i.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=i.offsetDelta={x:t.x,y:t.y}),e.deltaX=n.x+(t.x-r.x),e.deltaY=n.y+(t.y-r.y)}function Hk(i,e,t){return{x:e/i||0,y:t/i||0}}function EL(i,e){return _o(e[0],e[1],bo)/_o(i[0],i[1],bo)}function SL(i,e){return Hm(e[1],e[0],bo)+Hm(i[1],i[0],bo)}function OL(i,e){var t=i.lastInterval||e,r=e.timeStamp-t.timeStamp,n,s,o,a;if(e.eventType!==ut&&(r>bL||t.velocity===void 0)){var u=e.deltaX-t.deltaX,l=e.deltaY-t.deltaY,d=Hk(r,u,l);s=d.x,o=d.y,n=ri(d.x)>ri(d.y)?d.x:d.y,a=Wk(u,l),i.lastInterval=e}else n=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=n,e.velocityX=s,e.velocityY=o,e.direction=a}function IL(i,e){var t=i.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=sS(e)),n>1&&!t.firstMultiple?t.firstMultiple=sS(e):n===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,u=e.center=zk(r);e.timeStamp=Tb(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Hm(a,u),e.distance=_o(a,u),wL(t,e),e.offsetDirection=Wk(e.deltaX,e.deltaY);var l=Hk(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=ri(l.x)>ri(l.y)?l.x:l.y,e.scale=o?EL(o.pointers,r):1,e.rotation=o?SL(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,OL(t,e);var d=i.element,c=e.srcEvent,h;c.composedPath?h=c.composedPath()[0]:c.path?h=c.path[0]:h=c.target,Rb(h,d)&&(d=h),e.target=d}function $L(i,e,t){var r=t.pointers.length,n=t.changedPointers.length,s=e&st&&r-n===0,o=e&(xe|ut)&&r-n===0;t.isFirst=!!s,t.isFinal=!!o,s&&(i.session={}),t.eventType=e,IL(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function as(i){return i.trim().split(/\s+/g)}function Kn(i,e,t){rr(as(e),function(r){i.addEventListener(r,t,!1)})}function Yn(i,e,t){rr(as(e),function(r){i.removeEventListener(r,t,!1)})}function oS(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var gn=function(){function i(t,r){var n=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){Vo(t.options.enable,[t])&&n.handler(s)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Kn(this.element,this.evEl,this.domHandler),this.evTarget&&Kn(this.target,this.evTarget,this.domHandler),this.evWin&&Kn(oS(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Yn(this.element,this.evEl,this.domHandler),this.evTarget&&Yn(this.target,this.evTarget,this.domHandler),this.evWin&&Yn(oS(this.element),this.evWin,this.domHandler)},i}();function ii(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var r=0;r<i.length;){if(t&&i[r][t]==e||!t&&i[r]===e)return r;r++}return-1}var TL={pointerdown:st,pointermove:ci,pointerup:xe,pointercancel:ut,pointerout:ut},PL={2:Ps,3:yL,4:Pb,5:mL},Gk="pointerdown",Uk="pointermove pointerup pointercancel";tr.MSPointerEvent&&!tr.PointerEvent&&(Gk="MSPointerDown",Uk="MSPointerMove MSPointerUp MSPointerCancel");var Vk=function(i){St(e,i);function e(){var r,n=e.prototype;return n.evEl=Gk,n.evWin=Uk,r=i.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(n){var s=this.store,o=!1,a=n.type.toLowerCase().replace("ms",""),u=TL[a],l=PL[n.pointerType]||n.pointerType,d=l===Ps,c=ii(s,n.pointerId,"pointerId");u&st&&(n.button===0||d)?c<0&&(s.push(n),c=s.length-1):u&(xe|ut)&&(o=!0),!(c<0)&&(s[c]=n,this.callback(this.manager,u,{pointers:s,changedPointers:[n],pointerType:l,srcEvent:n}),o&&s.splice(c,1))},e}(gn);function us(i){return Array.prototype.slice.call(i,0)}function qb(i,e,t){for(var r=[],n=[],s=0;s<i.length;){var o=e?i[s][e]:i[s];ii(n,o)<0&&r.push(i[s]),n[s]=o,s++}return t&&(e?r=r.sort(function(a,u){return a[e]>u[e]}):r=r.sort()),r}var RL={touchstart:st,touchmove:ci,touchend:xe,touchcancel:ut},qL="touchstart touchmove touchend touchcancel",Cb=function(i){St(e,i);function e(){var r;return e.prototype.evTarget=qL,r=i.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(n){var s=RL[n.type],o=CL.call(this,n,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Ps,srcEvent:n})},e}(gn);function CL(i,e){var t=us(i.touches),r=this.targetIds;if(e&(st|ci)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var n,s,o=us(i.changedTouches),a=[],u=this.target;if(s=t.filter(function(l){return Rb(l.target,u)}),e===st)for(n=0;n<s.length;)r[s[n].identifier]=!0,n++;for(n=0;n<o.length;)r[o[n].identifier]&&a.push(o[n]),e&(xe|ut)&&delete r[o[n].identifier],n++;if(a.length)return[qb(s.concat(a),"identifier",!0),a]}var xL={mousedown:st,mousemove:ci,mouseup:xe},DL="mousedown",ML="mousemove mouseup",xb=function(i){St(e,i);function e(){var r,n=e.prototype;return n.evEl=DL,n.evWin=ML,r=i.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(n){var s=xL[n.type];s&st&&n.button===0&&(this.pressed=!0),s&ci&&n.which!==1&&(s=xe),this.pressed&&(s&xe&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[n],changedPointers:[n],pointerType:Pb,srcEvent:n}))},e}(gn),AL=2500,aS=25;function uS(i){var e=i.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},n=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=n.indexOf(r);a>-1&&n.splice(a,1)};setTimeout(s,AL)}}function kL(i,e){i&st?(this.primaryTouch=e.changedPointers[0].identifier,uS.call(this,e)):i&(xe|ut)&&uS.call(this,e)}function NL(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],s=Math.abs(e-n.x),o=Math.abs(t-n.y);if(s<=aS&&o<=aS)return!0}return!1}var Kk=function(){var i=function(e){St(t,e);function t(n,s){var o;return o=e.call(this,n,s)||this,o.handler=function(a,u,l){var d=l.pointerType===Ps,c=l.pointerType===Pb;if(!(c&&l.sourceCapabilities&&l.sourceCapabilities.firesTouchEvents)){if(d)kL.call(io(io(o)),u,l);else if(c&&NL.call(io(io(o)),l))return;o.callback(a,u,l)}},o.touch=new Cb(o.manager,o.handler),o.mouse=new xb(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(gn);return i}();function FL(i){var e,t=i.options.inputClass;return t?e=t:pL?e=Vk:gL?e=Cb:Fk?e=Kk:e=xb,new e(i,$L)}function ki(i,e,t){return Array.isArray(i)?(rr(i,t[e],t),!0):!1}var co=1,mt=2,Yi=4,_r=8,ir=_r,ls=16,jt=32,BL=1;function jL(){return BL++}function so(i,e){var t=e.manager;return t?t.get(i):i}function lS(i){return i&ls?"cancel":i&_r?"end":i&Yi?"move":i&mt?"start":""}var xs=function(){function i(t){t===void 0&&(t={}),this.options=At({enable:!0},t),this.id=jL(),this.manager=null,this.state=co,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(r){return ti(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(ki(r,"recognizeWith",this))return this;var n=this.simultaneous;return r=so(r,this),n[r.id]||(n[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return ki(r,"dropRecognizeWith",this)?this:(r=so(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(ki(r,"requireFailure",this))return this;var n=this.requireFail;return r=so(r,this),ii(n,r)===-1&&(n.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(ki(r,"dropRequireFailure",this))return this;r=so(r,this);var n=ii(this.requireFail,r);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var n=this,s=this.state;function o(a){n.manager.emit(a,r)}s<_r&&o(n.options.event+lS(s)),o(n.options.event),r.additionalEvent&&o(r.additionalEvent),s>=_r&&o(n.options.event+lS(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=jt},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(jt|co)))return!1;r++}return!0},e.recognize=function(r){var n=ti({},r);if(!Vo(this.options.enable,[this,n])){this.reset(),this.state=jt;return}this.state&(ir|ls|jt)&&(this.state=co),this.state=this.process(n),this.state&(mt|Yi|_r|ls)&&this.tryEmit(n)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},i}(),Gm=function(i){St(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,At({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var t=e.prototype;return t.getTouchAction=function(){return[Wm]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,u=n.distance<o.threshold,l=n.deltaTime<o.time;if(this.reset(),n.eventType&st&&this.count===0)return this.failTimeout();if(u&&l&&a){if(n.eventType!==xe)return this.failTimeout();var d=this.pTime?n.timeStamp-this.pTime<o.interval:!0,c=!this.pCenter||_o(this.pCenter,n.center)<o.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!c||!d?this.count=1:this.count+=1,this._input=n;var h=this.count%o.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=ir,s.tryEmit()},o.interval),mt):ir}return jt},t.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=jt},this.options.interval),jt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===ir&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(xs),Xi=function(i){St(e,i);function e(r){return r===void 0&&(r={}),i.call(this,At({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(n){var s=this.options.pointers;return s===0||n.pointers.length===s},t.process=function(n){var s=this.state,o=n.eventType,a=s&(mt|Yi),u=this.attrTest(n);return a&&(o&ut||!u)?s|ls:a||u?o&xe?s|_r:s&mt?s|Yi:mt:jt},e}(xs);function Yk(i){return i===Ki?"down":i===Cs?"up":i===Rs?"left":i===qs?"right":""}var Db=function(i){St(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,At({event:"pan",threshold:10,pointers:1,direction:Bk},r))||this,n.pX=null,n.pY=null,n}var t=e.prototype;return t.getTouchAction=function(){var n=this.options.direction,s=[];return n&Ht&&s.push(os),n&Jr&&s.push(ss),s},t.directionTest=function(n){var s=this.options,o=!0,a=n.distance,u=n.direction,l=n.deltaX,d=n.deltaY;return u&s.direction||(s.direction&Ht?(u=l===0?mo:l<0?Rs:qs,o=l!==this.pX,a=Math.abs(n.deltaX)):(u=d===0?mo:d<0?Cs:Ki,o=d!==this.pY,a=Math.abs(n.deltaY))),n.direction=u,o&&a>s.threshold&&u&s.direction},t.attrTest=function(n){return Xi.prototype.attrTest.call(this,n)&&(this.state&mt||!(this.state&mt)&&this.directionTest(n))},t.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var s=Yk(n.direction);s&&(n.additionalEvent=this.options.event+s),i.prototype.emit.call(this,n)},e}(Xi),Xk=function(i){St(e,i);function e(r){return r===void 0&&(r={}),i.call(this,At({event:"swipe",threshold:10,velocity:.3,direction:Ht|Jr,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return Db.prototype.getTouchAction.call(this)},t.attrTest=function(n){var s=this.options.direction,o;return s&(Ht|Jr)?o=n.overallVelocity:s&Ht?o=n.overallVelocityX:s&Jr&&(o=n.overallVelocityY),i.prototype.attrTest.call(this,n)&&s&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&ri(o)>this.options.velocity&&n.eventType&xe},t.emit=function(n){var s=Yk(n.offsetDirection);s&&this.manager.emit(this.options.event+s,n),this.manager.emit(this.options.event,n)},e}(Xi),Zk=function(i){St(e,i);function e(r){return r===void 0&&(r={}),i.call(this,At({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Zr]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&mt)},t.emit=function(n){if(n.scale!==1){var s=n.scale<1?"in":"out";n.additionalEvent=this.options.event+s}i.prototype.emit.call(this,n)},e}(Xi),Jk=function(i){St(e,i);function e(r){return r===void 0&&(r={}),i.call(this,At({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Zr]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&mt)},e}(Xi),Qk=function(i){St(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,At({event:"press",pointers:1,time:251,threshold:9},r))||this,n._timer=null,n._input=null,n}var t=e.prototype;return t.getTouchAction=function(){return[Nk]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,u=n.distance<o.threshold,l=n.deltaTime>o.time;if(this._input=n,!u||!a||n.eventType&(xe|ut)&&!l)this.reset();else if(n.eventType&st)this.reset(),this._timer=setTimeout(function(){s.state=ir,s.tryEmit()},o.time);else if(n.eventType&xe)return ir;return jt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(n){this.state===ir&&(n&&n.eventType&xe?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=Tb(),this.manager.emit(this.options.event,this._input)))},e}(xs),eN={domEvents:!1,touchAction:kk,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},dS=[[Jk,{enable:!1}],[Zk,{enable:!1},["rotate"]],[Xk,{direction:Ht}],[Db,{direction:Ht},["swipe"]],[Gm],[Gm,{event:"doubletap",taps:2},["tap"]],[Qk]],LL=1,cS=2;function hS(i,e){var t=i.element;if(t.style){var r;rr(i.options.cssProps,function(n,s){r=Uo(t.style,s),e?(i.oldCssProps[r]=t.style[r],t.style[r]=n):t.style[r]=i.oldCssProps[r]||""}),e||(i.oldCssProps={})}}function zL(i,e){var t=document.createEvent("Event");t.initEvent(i,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var fS=function(){function i(t,r){var n=this;this.options=ti({},eN,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=FL(this),this.touchAction=new Lk(this,this.options.touchAction),hS(this,!0),rr(this.options.recognizers,function(s){var o=n.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=i.prototype;return e.set=function(r){return ti(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?cS:LL},e.recognize=function(r){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&ir)&&(n.curRecognizer=null,a=null);for(var u=0;u<o.length;)s=o[u],n.stopped!==cS&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(mt|Yi|_r)&&(n.curRecognizer=s,a=s),u++}},e.get=function(r){if(r instanceof xs)return r;for(var n=this.recognizers,s=0;s<n.length;s++)if(n[s].options.event===r)return n[s];return null},e.add=function(r){if(ki(r,"add",this))return this;var n=this.get(r.options.event);return n&&this.remove(n),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(ki(r,"remove",this))return this;var n=this.get(r);if(r){var s=this.recognizers,o=ii(s,n);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,n){if(r===void 0||n===void 0)return this;var s=this.handlers;return rr(as(r),function(o){s[o]=s[o]||[],s[o].push(n)}),this},e.off=function(r,n){if(r===void 0)return this;var s=this.handlers;return rr(as(r),function(o){n?s[o]&&s[o].splice(ii(s[o],n),1):delete s[o]}),this},e.emit=function(r,n){this.options.domEvents&&zL(r,n);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){n.type=r,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](n),o++}},e.destroy=function(){this.element&&hS(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i}(),WL={touchstart:st,touchmove:ci,touchend:xe,touchcancel:ut},HL="touchstart",GL="touchstart touchmove touchend touchcancel",UL=function(i){St(e,i);function e(){var r,n=e.prototype;return n.evTarget=HL,n.evWin=GL,r=i.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(n){var s=WL[n.type];if(s===st&&(this.started=!0),!!this.started){var o=VL.call(this,n,s);s&(xe|ut)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Ps,srcEvent:n})}},e}(gn);function VL(i,e){var t=us(i.touches),r=us(i.changedTouches);return e&(xe|ut)&&(t=qb(t.concat(r),"identifier",!0)),[t,r]}function tN(i,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),s=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),i.apply(this,arguments)}}var rN=tN(function(i,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&i[r[n]]===void 0)&&(i[r[n]]=e[r[n]]),n++;return i},"extend","Use `assign`."),KL=tN(function(i,e){return rN(i,e,!0)},"merge","Use `assign`.");function YL(i,e,t){var r=e.prototype,n;n=i.prototype=Object.create(r),n.constructor=i,n._super=r,t&&ti(n,t)}function vS(i,e){return function(){return i.apply(e,arguments)}}var XL=function(){var i=function(t,r){return r===void 0&&(r={}),new fS(t,At({recognizers:dS.concat()},r))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=Bk,i.DIRECTION_DOWN=Ki,i.DIRECTION_LEFT=Rs,i.DIRECTION_RIGHT=qs,i.DIRECTION_UP=Cs,i.DIRECTION_HORIZONTAL=Ht,i.DIRECTION_VERTICAL=Jr,i.DIRECTION_NONE=mo,i.DIRECTION_DOWN=Ki,i.INPUT_START=st,i.INPUT_MOVE=ci,i.INPUT_END=xe,i.INPUT_CANCEL=ut,i.STATE_POSSIBLE=co,i.STATE_BEGAN=mt,i.STATE_CHANGED=Yi,i.STATE_ENDED=_r,i.STATE_RECOGNIZED=ir,i.STATE_CANCELLED=ls,i.STATE_FAILED=jt,i.Manager=fS,i.Input=gn,i.TouchAction=Lk,i.TouchInput=Cb,i.MouseInput=xb,i.PointerEventInput=Vk,i.TouchMouseInput=Kk,i.SingleTouchInput=UL,i.Recognizer=xs,i.AttrRecognizer=Xi,i.Tap=Gm,i.Pan=Db,i.Swipe=Xk,i.Pinch=Zk,i.Rotate=Jk,i.Press=Qk,i.on=Kn,i.off=Yn,i.each=rr,i.merge=KL,i.extend=rN,i.bindFn=vS,i.assign=ti,i.inherit=YL,i.bindFn=vS,i.prefixed=Uo,i.toArray=us,i.inArray=ii,i.uniqueArray=qb,i.splitStr=as,i.boolOrFn=Vo,i.hasParent=Rb,i.addEventListeners=Kn,i.removeEventListeners=Yn,i.defaults=ti({},eN,{preset:dS}),i}();/**
 * vis-util
 * https://github.com/visjs/vis-util
 *
 * utilitie collection for visjs
 *
 * @version 6.0.0
 * @date    2025-07-12T18:02:43.836Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */const iN=Symbol("DELETE");function ZL(i,...e){return nN({},i,...e)}function nN(...i){const e=wo(...i);return oN(e),e}function wo(...i){if(i.length<2)return i[0];if(i.length>2)return wo(nN(i[0],i[1]),...i.slice(2));const e=i[0],t=i[1];if(e instanceof Date&&t instanceof Date)return e.setTime(t.getTime()),e;for(const r of Reflect.ownKeys(t))Object.prototype.propertyIsEnumerable.call(t,r)&&(t[r]===iN?delete e[r]:e[r]!==null&&t[r]!==null&&typeof e[r]=="object"&&typeof t[r]=="object"&&!Array.isArray(e[r])&&!Array.isArray(t[r])?e[r]=wo(e[r],t[r]):e[r]=sN(t[r]));return e}function sN(i){return Array.isArray(i)?i.map(e=>sN(e)):typeof i=="object"&&i!==null?i instanceof Date?new Date(i.getTime()):wo({},i):i}function oN(i){for(const e of Object.keys(i))i[e]===iN?delete i[e]:typeof i[e]=="object"&&i[e]!==null&&oN(i[e])}function JL(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}const QL=typeof window<"u"?window.Hammer||XL:function(){return JL()};function Jt(i){this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const e=QL(this._dom.overlay);e.on("tap",this._onTapOverlay.bind(this)),this._cleanupQueue.push(()=>{e.destroy()}),["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(r=>{e.on(r,n=>{n.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=r=>{ez(r.target,i)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=r=>{("key"in r?r.key==="Escape":r.keyCode===27)&&this.deactivate()}}dL(Jt.prototype);Jt.current=null;Jt.prototype.destroy=function(){this.deactivate();for(const i of this._cleanupQueue.splice(0).reverse())i()};Jt.prototype.activate=function(){Jt.current&&Jt.current.deactivate(),Jt.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Jt.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Jt.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};function ez(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}var yd,pS;function tz(){if(pS)return yd;pS=1,Sk();var i=Le();return yd=i.Object.getOwnPropertySymbols,yd}var md,gS;function rz(){if(gS)return md;gS=1;var i=tz();return md=i,md}var bd,yS;function iz(){return yS||(yS=1,bd=rz()),bd}var nz=iz(),mS=ae(nz),_d={exports:{}},bS={},_S;function sz(){if(_S)return bS;_S=1;var i=Q(),e=de(),t=ur(),r=ko().f,n=Ae(),s=!n||e(function(){r(1)});return i({target:"Object",stat:!0,forced:s,sham:!n},{getOwnPropertyDescriptor:function(a,u){return r(t(a),u)}}),bS}var wS;function oz(){if(wS)return _d.exports;wS=1,sz();var i=Le(),e=i.Object,t=_d.exports=function(n,s){return e.getOwnPropertyDescriptor(n,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),_d.exports}var wd,ES;function az(){if(ES)return wd;ES=1;var i=oz();return wd=i,wd}var Ed,SS;function uz(){return SS||(SS=1,Ed=az()),Ed}var lz=uz(),aN=ae(lz),OS={},Sd,IS;function dz(){if(IS)return Sd;IS=1;var i=vn().forEach,e=Go(),t=e("forEach");return Sd=t?[].forEach:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)},Sd}var $S;function cz(){if($S)return OS;$S=1;var i=Q(),e=dz();return i({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),OS}var Od,TS;function hz(){if(TS)return Od;TS=1,cz();var i=Et();return Od=i("Array","forEach"),Od}var Id,PS;function fz(){if(PS)return Id;PS=1;var i=hz();return Id=i,Id}var $d,RS;function vz(){if(RS)return $d;RS=1;var i=qr(),e=ze(),t=Je(),r=fz(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return $d=function(o){var a=o.forEach;return o===n||t(n,o)&&a===n.forEach||e(s,i(o))?r:a},$d}var Td,qS;function pz(){return qS||(qS=1,Td=vz()),Td}var gz=pz(),Zi=ae(gz),CS={},Pd,xS;function yz(){if(xS)return Pd;xS=1;var i=ft(),e=ye(),t=Lo(),r=zo(),n=dr(),s=e([].concat);return Pd=i("Reflect","ownKeys")||function(a){var u=t.f(n(a)),l=r.f;return l?s(u,l(a)):u},Pd}var DS;function mz(){if(DS)return CS;DS=1;var i=Q(),e=Ae(),t=yz(),r=ur(),n=ko(),s=bb();return i({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var u=r(a),l=n.f,d=t(u),c={},h=0,f,v;d.length>h;)v=l(u,f=d[h++]),v!==void 0&&s(c,f,v);return c}}),CS}var Rd,MS;function bz(){if(MS)return Rd;MS=1,mz();var i=Le();return Rd=i.Object.getOwnPropertyDescriptors,Rd}var qd,AS;function _z(){if(AS)return qd;AS=1;var i=bz();return qd=i,qd}var Cd,kS;function wz(){return kS||(kS=1,Cd=_z()),Cd}var Ez=wz(),NS=ae(Ez),xd={exports:{}},FS={},BS;function Sz(){if(BS)return FS;BS=1;var i=Q(),e=Ae(),t=Sb().f;return i({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),FS}var jS;function Oz(){if(jS)return xd.exports;jS=1,Sz();var i=Le(),e=i.Object,t=xd.exports=function(n,s){return e.defineProperties(n,s)};return e.defineProperties.sham&&(t.sham=!0),xd.exports}var Dd,LS;function Iz(){if(LS)return Dd;LS=1;var i=Oz();return Dd=i,Dd}var Md,zS;function $z(){return zS||(zS=1,Md=Iz()),Md}var Tz=$z(),Pz=ae(Tz),Ad,WS;function Rz(){return WS||(WS=1,Ad=fk()),Ad}var qz=Rz(),Cz=ae(qz),HS={},GS;function xz(){if(GS)return HS;GS=1;var i=Q(),e=Es();return i({target:"Array",stat:!0},{isArray:e}),HS}var kd,US;function Dz(){if(US)return kd;US=1,xz();var i=Le();return kd=i.Array.isArray,kd}var Nd,VS;function Mz(){if(VS)return Nd;VS=1;var i=Dz();return Nd=i,Nd}var Fd,KS;function Az(){return KS||(KS=1,Fd=Mz()),Fd}var kz=Az(),Wr=ae(kz),YS={},XS={},Bd={exports:{}},jd,ZS;function Nz(){if(ZS)return jd;ZS=1;var i=de();return jd=i(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),jd}var Ld,JS;function Fz(){if(JS)return Ld;JS=1;var i=de(),e=ct(),t=ar(),r=Nz(),n=Object.isExtensible,s=i(function(){});return Ld=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:n?n(a):!0}:n,Ld}var zd,QS;function Bz(){if(QS)return zd;QS=1;var i=de();return zd=!i(function(){return Object.isExtensible(Object.preventExtensions({}))}),zd}var eO;function uN(){if(eO)return Bd.exports;eO=1;var i=Q(),e=ye(),t=Ss(),r=ct(),n=ze(),s=wt().f,o=Lo(),a=bk(),u=Fz(),l=Ao(),d=Bz(),c=!1,h=l("meta"),f=0,v=function(b){s(b,h,{value:{objectID:"O"+f++,weakData:{}}})},p=function(b,S){if(!r(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!n(b,h)){if(!u(b))return"F";if(!S)return"E";v(b)}return b[h].objectID},m=function(b,S){if(!n(b,h)){if(!u(b))return!0;if(!S)return!1;v(b)}return b[h].weakData},g=function(b){return d&&c&&u(b)&&!n(b,h)&&v(b),b},y=function(){O.enable=function(){},c=!0;var b=o.f,S=e([].splice),$={};$[h]=1,b($).length&&(o.f=function(w){for(var _=b(w),E=0,I=_.length;E<I;E++)if(_[E]===h){S(_,E,1);break}return _},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},O=Bd.exports={enable:y,fastKey:p,getWeakData:m,onFreeze:g};return t[h]=!0,Bd.exports}var Wd,tO;function jz(){if(tO)return Wd;tO=1;var i=Ke(),e=pn(),t=i("iterator"),r=Array.prototype;return Wd=function(n){return n!==void 0&&(e.Array===n||r[t]===n)},Wd}var Hd,rO;function lN(){if(rO)return Hd;rO=1;var i=qr(),e=gb(),t=bs(),r=pn(),n=Ke(),s=n("iterator");return Hd=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[i(o)]},Hd}var Gd,iO;function dN(){if(iO)return Gd;iO=1;var i=dt(),e=lr(),t=dr(),r=ln(),n=lN(),s=TypeError;return Gd=function(o,a){var u=arguments.length<2?n(o):a;if(e(u))return t(i(u,o));throw new s(r(o)+" is not iterable")},Gd}var Ud,nO;function Mb(){if(nO)return Ud;nO=1;var i=dt(),e=dr(),t=gb();return Ud=function(r,n,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(n==="throw")throw s;return s}o=i(o,r)}catch(u){a=!0,o=u}if(n==="throw")throw s;if(a)throw o;return e(o),s},Ud}var Vd,sO;function Ab(){if(sO)return Vd;sO=1;var i=No(),e=dt(),t=dr(),r=ln(),n=jz(),s=li(),o=Je(),a=dN(),u=lN(),l=Mb(),d=TypeError,c=function(f,v){this.stopped=f,this.result=v},h=c.prototype;return Vd=function(f,v,p){var m=p&&p.that,g=!!(p&&p.AS_ENTRIES),y=!!(p&&p.IS_RECORD),O=!!(p&&p.IS_ITERATOR),b=!!(p&&p.INTERRUPTED),S=i(v,m),$,w,_,E,I,T,P,R=function(M){return $&&l($,"normal"),new c(!0,M)},C=function(M){return g?(t(M),b?S(M[0],M[1],R):S(M[0],M[1])):b?S(M,R):S(M)};if(y)$=f.iterator;else if(O)$=f;else{if(w=u(f),!w)throw new d(r(f)+" is not iterable");if(n(w)){for(_=0,E=s(f);E>_;_++)if(I=C(f[_]),I&&o(h,I))return I;return new c(!1)}$=a(f,w)}for(T=y?f.next:$.next;!(P=e(T,$)).done;){try{I=C(P.value)}catch(M){l($,"throw",M)}if(typeof I=="object"&&I&&o(h,I))return I}return new c(!1)},Vd}var Kd,oO;function cN(){if(oO)return Kd;oO=1;var i=Je(),e=TypeError;return Kd=function(t,r){if(i(r,t))return t;throw new e("Incorrect invocation")},Kd}var Yd,aO;function hN(){if(aO)return Yd;aO=1;var i=Q(),e=Me(),t=uN(),r=de(),n=hn(),s=Ab(),o=cN(),a=je(),u=ct(),l=bs(),d=di(),c=wt().f,h=vn().forEach,f=Ae(),v=Ts(),p=v.set,m=v.getterFor;return Yd=function(g,y,O){var b=g.indexOf("Map")!==-1,S=g.indexOf("Weak")!==-1,$=b?"set":"add",w=e[g],_=w&&w.prototype,E={},I;if(!f||!a(w)||!(S||_.forEach&&!r(function(){new w().entries().next()})))I=O.getConstructor(y,g,b,$),t.enable();else{I=y(function(R,C){p(o(R,T),{type:g,collection:new w}),l(C)||s(C,R[$],{that:R,AS_ENTRIES:b})});var T=I.prototype,P=m(g);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var C=R==="add"||R==="set";R in _&&!(S&&R==="clear")&&n(T,R,function(M,K){var j=P(this).collection;if(!C&&S&&!u(M))return R==="get"?void 0:!1;var J=j[R](M===0?0:M,K);return C?this:J})}),S||c(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d(I,g,!1,!0),E[g]=I,i({global:!0,forced:!0},E),S||O.setStrong(I,g,b),I},Yd}var Xd,uO;function Lz(){if(uO)return Xd;uO=1;var i=$s();return Xd=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:i(e,n,t[n],r);return e},Xd}var Zd,lO;function zz(){if(lO)return Zd;lO=1;var i=ft(),e=Ob(),t=Ke(),r=Ae(),n=t("species");return Zd=function(s){var o=i(s);r&&o&&!o[n]&&e(o,n,{configurable:!0,get:function(){return this}})},Zd}var Jd,dO;function fN(){if(dO)return Jd;dO=1;var i=Os(),e=Ob(),t=Lz(),r=No(),n=cN(),s=bs(),o=Ab(),a=Ib(),u=$b(),l=zz(),d=Ae(),c=uN().fastKey,h=Ts(),f=h.set,v=h.getterFor;return Jd={getConstructor:function(p,m,g,y){var O=p(function(_,E){n(_,b),f(_,{type:m,index:i(null),first:null,last:null,size:0}),d||(_.size=0),s(E)||o(E,_[y],{that:_,AS_ENTRIES:g})}),b=O.prototype,S=v(m),$=function(_,E,I){var T=S(_),P=w(_,E),R,C;return P?P.value=I:(T.last=P={index:C=c(E,!0),key:E,value:I,previous:R=T.last,next:null,removed:!1},T.first||(T.first=P),R&&(R.next=P),d?T.size++:_.size++,C!=="F"&&(T.index[C]=P)),_},w=function(_,E){var I=S(_),T=c(E),P;if(T!=="F")return I.index[T];for(P=I.first;P;P=P.next)if(P.key===E)return P};return t(b,{clear:function(){for(var E=this,I=S(E),T=I.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;I.first=I.last=null,I.index=i(null),d?I.size=0:E.size=0},delete:function(_){var E=this,I=S(E),T=w(E,_);if(T){var P=T.next,R=T.previous;delete I.index[T.index],T.removed=!0,R&&(R.next=P),P&&(P.previous=R),I.first===T&&(I.first=P),I.last===T&&(I.last=R),d?I.size--:E.size--}return!!T},forEach:function(E){for(var I=S(this),T=r(E,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:I.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(E){return!!w(this,E)}}),t(b,g?{get:function(E){var I=w(this,E);return I&&I.value},set:function(E,I){return $(this,E===0?0:E,I)}}:{add:function(E){return $(this,E=E===0?0:E,E)}}),d&&e(b,"size",{configurable:!0,get:function(){return S(this).size}}),O},setStrong:function(p,m,g){var y=m+" Iterator",O=v(m),b=v(y);a(p,m,function(S,$){f(this,{type:y,target:S,state:O(S),kind:$,last:null})},function(){for(var S=b(this),$=S.kind,w=S.last;w&&w.removed;)w=w.previous;return!S.target||!(S.last=w=w?w.next:S.state.first)?(S.target=null,u(void 0,!0)):u($==="keys"?w.key:$==="values"?w.value:[w.key,w.value],!1)},g?"entries":"values",!g,!0),l(m)}},Jd}var cO;function Wz(){if(cO)return XS;cO=1;var i=hN(),e=fN();return i("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),XS}var hO;function Hz(){return hO||(hO=1,Wz()),YS}var fO={},Qd,vO;function vN(){return vO||(vO=1,Qd=function(i,e){return e===1?function(t,r){return t[i](r)}:function(t,r,n){return t[i](r,n)}}),Qd}var ec,pO;function Gz(){if(pO)return ec;pO=1;var i=ft(),e=vN(),t=i("Map");return ec={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},ec}var gO;function Uz(){if(gO)return fO;gO=1;var i=Q(),e=ye(),t=lr(),r=ui(),n=Ab(),s=Gz(),o=dn(),a=de(),u=s.Map,l=s.has,d=s.get,c=s.set,h=e([].push),f=o||a(function(){return u.groupBy("ab",function(v){return v}).get("a").length!==1});return i({target:"Map",stat:!0,forced:o||f},{groupBy:function(p,m){r(p),t(m);var g=new u,y=0;return n(p,function(O){var b=m(O,y++);l(g,b)?h(d(g,b),O):c(g,b,[O])}),g}}),fO}var tc,yO;function Vz(){if(yO)return tc;yO=1,xr(),Hz(),Uz(),Ho();var i=Le();return tc=i.Map,tc}var rc,mO;function Kz(){if(mO)return rc;mO=1;var i=Vz();return Dr(),rc=i,rc}var ic,bO;function Yz(){return bO||(bO=1,ic=Kz()),ic}var Xz=Yz(),pN=ae(Xz),_O={},wO;function Zz(){if(wO)return _O;wO=1;var i=Q(),e=vn().some,t=Go(),r=t("some");return i({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),_O}var nc,EO;function Jz(){if(EO)return nc;EO=1,Zz();var i=Et();return nc=i("Array","some"),nc}var sc,SO;function Qz(){if(SO)return sc;SO=1;var i=Je(),e=Jz(),t=Array.prototype;return sc=function(r){var n=r.some;return r===t||i(t,r)&&n===t.some?e:n},sc}var oc,OO;function e4(){if(OO)return oc;OO=1;var i=Qz();return oc=i,oc}var ac,IO;function t4(){return IO||(IO=1,ac=e4()),ac}var r4=t4(),i4=ae(r4),$O={},uc,TO;function n4(){if(TO)return uc;TO=1;var i=Ae(),e=ye(),t=dt(),r=de(),n=Bo(),s=zo(),o=pb(),a=Nt(),u=Mo(),l=Object.assign,d=Object.defineProperty,c=e([].concat);return uc=!l||r(function(){if(i&&l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),p="abcdefghijklmnopqrst";return h[v]=7,p.split("").forEach(function(m){f[m]=m}),l({},h)[v]!==7||n(l({},f)).join("")!==p})?function(f,v){for(var p=a(f),m=arguments.length,g=1,y=s.f,O=o.f;m>g;)for(var b=u(arguments[g++]),S=y?c(n(b),y(b)):n(b),$=S.length,w=0,_;$>w;)_=S[w++],(!i||t(O,b,_))&&(p[_]=b[_]);return p}:l,uc}var PO;function s4(){if(PO)return $O;PO=1;var i=Q(),e=n4();return i({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),$O}var lc,RO;function o4(){if(RO)return lc;RO=1,s4();var i=Le();return lc=i.Object.assign,lc}var dc,qO;function a4(){if(qO)return dc;qO=1;var i=o4();return dc=i,dc}var cc,CO;function u4(){return CO||(CO=1,cc=a4()),cc}var l4=u4(),d4=ae(l4),hc,xO;function c4(){if(xO)return hc;xO=1,gk();var i=Et();return hc=i("Array","concat"),hc}var fc,DO;function h4(){if(DO)return fc;DO=1;var i=Je(),e=c4(),t=Array.prototype;return fc=function(r){var n=r.concat;return r===t||i(t,r)&&n===t.concat?e:n},fc}var vc,MO;function f4(){if(MO)return vc;MO=1;var i=h4();return vc=i,vc}var pc,AO;function v4(){return AO||(AO=1,pc=f4()),pc}var p4=v4(),g4=ae(p4),gc,kO;function y4(){if(kO)return gc;kO=1,xr();var i=Et();return gc=i("Array","keys"),gc}var yc,NO;function m4(){if(NO)return yc;NO=1;var i=y4();return yc=i,yc}var mc,FO;function b4(){if(FO)return mc;FO=1,Dr();var i=qr(),e=ze(),t=Je(),r=m4(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return mc=function(o){var a=o.keys;return o===n||t(n,o)&&a===n.keys||e(s,i(o))?r:a},mc}var bc,BO;function _4(){return BO||(BO=1,bc=b4()),bc}var w4=_4(),qi=ae(w4),jO={},LO;function E4(){if(LO)return jO;LO=1;var i=Q(),e=Nt(),t=Bo(),r=de(),n=r(function(){t(1)});return i({target:"Object",stat:!0,forced:n},{keys:function(o){return t(e(o))}}),jO}var _c,zO;function S4(){if(zO)return _c;zO=1,E4();var i=Le();return _c=i.Object.keys,_c}var wc,WO;function O4(){if(WO)return wc;WO=1;var i=S4();return wc=i,wc}var Ec,HO;function I4(){return HO||(HO=1,Ec=O4()),Ec}var $4=I4(),gN=ae($4),GO={},Sc,UO;function yN(){if(UO)return Sc;UO=1;var i=ln(),e=TypeError;return Sc=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+i(r)+" of "+i(t))},Sc}var Oc,VO;function T4(){if(VO)return Oc;VO=1;var i=Is(),e=Math.floor,t=function(r,n){var s=r.length;if(s<8)for(var o=1,a,u;o<s;){for(u=o,a=r[o];u&&n(r[u-1],a)>0;)r[u]=r[--u];u!==o++&&(r[u]=a)}else for(var l=e(s/2),d=t(i(r,0,l),n),c=t(i(r,l),n),h=d.length,f=c.length,v=0,p=0;v<h||p<f;)r[v+p]=v<h&&p<f?n(d[v],c[p])<=0?d[v++]:c[p++]:v<h?d[v++]:c[p++];return r};return Oc=t,Oc}var Ic,KO;function P4(){if(KO)return Ic;KO=1;var i=an(),e=i.match(/firefox\/(\d+)/i);return Ic=!!e&&+e[1],Ic}var $c,YO;function R4(){if(YO)return $c;YO=1;var i=an();return $c=/MSIE|Trident/.test(i),$c}var Tc,XO;function q4(){if(XO)return Tc;XO=1;var i=an(),e=i.match(/AppleWebKit\/(\d+)\./);return Tc=!!e&&+e[1],Tc}var ZO;function C4(){if(ZO)return GO;ZO=1;var i=Q(),e=ye(),t=lr(),r=Nt(),n=li(),s=yN(),o=Cr(),a=de(),u=T4(),l=Go(),d=P4(),c=R4(),h=_s(),f=q4(),v=[],p=e(v.sort),m=e(v.push),g=a(function(){v.sort(void 0)}),y=a(function(){v.sort(null)}),O=l("sort"),b=!a(function(){if(h)return h<70;if(!(d&&d>3)){if(c)return!0;if(f)return f<603;var w="",_,E,I,T;for(_=65;_<76;_++){switch(E=String.fromCharCode(_),_){case 66:case 69:case 70:case 72:I=3;break;case 68:case 71:I=4;break;default:I=2}for(T=0;T<47;T++)v.push({k:E+T,v:I})}for(v.sort(function(P,R){return R.v-P.v}),T=0;T<v.length;T++)E=v[T].k.charAt(0),w.charAt(w.length-1)!==E&&(w+=E);return w!=="DGBEFHACIJK"}}),S=g||!y||!O||!b,$=function(w){return function(_,E){return E===void 0?-1:_===void 0?1:w!==void 0?+w(_,E)||0:o(_)>o(E)?1:-1}};return i({target:"Array",proto:!0,forced:S},{sort:function(_){_!==void 0&&t(_);var E=r(this);if(b)return _===void 0?p(E):p(E,_);var I=[],T=n(E),P,R;for(R=0;R<T;R++)R in E&&m(I,E[R]);for(u(I,$(_)),P=n(I),R=0;R<P;)E[R]=I[R++];for(;R<T;)s(E,R++);return E}}),GO}var Pc,JO;function x4(){if(JO)return Pc;JO=1,C4();var i=Et();return Pc=i("Array","sort"),Pc}var Rc,QO;function D4(){if(QO)return Rc;QO=1;var i=Je(),e=x4(),t=Array.prototype;return Rc=function(r){var n=r.sort;return r===t||i(t,r)&&n===t.sort?e:n},Rc}var qc,eI;function M4(){if(eI)return qc;eI=1;var i=D4();return qc=i,qc}var Cc,tI;function A4(){return tI||(tI=1,Cc=M4()),Cc}var k4=A4(),Um=ae(k4),xc,rI;function N4(){if(rI)return xc;rI=1,xr();var i=Et();return xc=i("Array","values"),xc}var Dc,iI;function F4(){if(iI)return Dc;iI=1;var i=N4();return Dc=i,Dc}var Mc,nI;function B4(){if(nI)return Mc;nI=1,Dr();var i=qr(),e=ze(),t=Je(),r=F4(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Mc=function(o){var a=o.values;return o===n||t(n,o)&&a===n.values||e(s,i(o))?r:a},Mc}var Ac,sI;function j4(){return sI||(sI=1,Ac=B4()),Ac}var L4=j4(),oI=ae(L4),aI={},kc,uI;function z4(){if(uI)return kc;uI=1;var i=fn(),e=Cr(),t=ui(),r=RangeError;return kc=function(s){var o=e(t(this)),a="",u=i(s);if(u<0||u===1/0)throw new r("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(o+=o))u&1&&(a+=o);return a},kc}var Nc,lI;function W4(){if(lI)return Nc;lI=1;var i=ye(),e=vk(),t=Cr(),r=z4(),n=ui(),s=i(r),o=i("".slice),a=Math.ceil,u=function(l){return function(d,c,h){var f=t(n(d)),v=e(c),p=f.length,m=h===void 0?" ":t(h),g,y;return v<=p||m===""?f:(g=v-p,y=s(m,a(g/m.length)),y.length>g&&(y=o(y,0,g)),l?f+y:y+f)}};return Nc={start:u(!1),end:u(!0)},Nc}var Fc,dI;function H4(){if(dI)return Fc;dI=1;var i=ye(),e=de(),t=W4().start,r=RangeError,n=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,u=i(o.getTime),l=i(o.getUTCDate),d=i(o.getUTCFullYear),c=i(o.getUTCHours),h=i(o.getUTCMilliseconds),f=i(o.getUTCMinutes),v=i(o.getUTCMonth),p=i(o.getUTCSeconds);return Fc=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!n(u(this)))throw new r("Invalid time value");var g=this,y=d(g),O=h(g),b=y<0?"-":y>9999?"+":"";return b+t(s(y),b?6:4,0)+"-"+t(v(g)+1,2,0)+"-"+t(l(g),2,0)+"T"+t(c(g),2,0)+":"+t(f(g),2,0)+":"+t(p(g),2,0)+"."+t(O,3,0)+"Z"}:a,Fc}var cI;function G4(){if(cI)return aI;cI=1;var i=Q(),e=dt(),t=Nt(),r=lk(),n=H4(),s=ar(),o=de(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return i({target:"Date",proto:!0,forced:a},{toJSON:function(l){var d=t(this),c=r(d,"number");return typeof c=="number"&&!isFinite(c)?null:!("toISOString"in d)&&s(d)==="Date"?e(n,d):d.toISOString()}}),aI}var Bc,hI;function U4(){if(hI)return Bc;hI=1,G4(),Ek();var i=Le(),e=Do();return i.JSON||(i.JSON={stringify:JSON.stringify}),Bc=function(r,n,s){return e(i.JSON.stringify,null,arguments)},Bc}var jc,fI;function V4(){if(fI)return jc;fI=1;var i=U4();return jc=i,jc}var Lc,vI;function K4(){return vI||(vI=1,Lc=V4()),Lc}var Y4=K4(),X4=ae(Y4),zc,pI;function Z4(){return pI||(pI=1,zc=xk()),zc}var J4=Z4(),Ni=ae(J4),Wc,gI;function Q4(){if(gI)return Wc;gI=1,xr();var i=Et();return Wc=i("Array","entries"),Wc}var Hc,yI;function e6(){if(yI)return Hc;yI=1;var i=Q4();return Hc=i,Hc}var Gc,mI;function t6(){if(mI)return Gc;mI=1,Dr();var i=qr(),e=ze(),t=Je(),r=e6(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Gc=function(o){var a=o.entries;return o===n||t(n,o)&&a===n.entries||e(s,i(o))?r:a},Gc}var Uc,bI;function r6(){return bI||(bI=1,Uc=t6()),Uc}var i6=r6(),n6=ae(i6);const Ge=[];for(let i=0;i<256;++i)Ge.push((i+256).toString(16).slice(1));function s6(i,e=0){return(Ge[i[e+0]]+Ge[i[e+1]]+Ge[i[e+2]]+Ge[i[e+3]]+"-"+Ge[i[e+4]]+Ge[i[e+5]]+"-"+Ge[i[e+6]]+Ge[i[e+7]]+"-"+Ge[i[e+8]]+Ge[i[e+9]]+"-"+Ge[i[e+10]]+Ge[i[e+11]]+Ge[i[e+12]]+Ge[i[e+13]]+Ge[i[e+14]]+Ge[i[e+15]]).toLowerCase()}let Vc;const o6=new Uint8Array(16);function a6(){if(!Vc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Vc=crypto.getRandomValues.bind(crypto)}return Vc(o6)}const u6=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var _I={randomUUID:u6};function l6(i,e,t){if(_I.randomUUID&&!i)return _I.randomUUID();i=i||{};const r=i.random??i.rng?.()??a6();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,s6(r)}function wI(i){return typeof i=="string"||typeof i=="number"}var EI={},SI={},Kc,OI;function d6(){if(OI)return Kc;OI=1;var i=TypeError;return Kc=function(e,t){if(e<t)throw new i("Not enough arguments");return e},Kc}var Yc,II;function mN(){if(II)return Yc;II=1;var i=Me(),e=Do(),t=je(),r=Dk(),n=an(),s=Is(),o=d6(),a=i.Function,u=/MSIE .\./.test(n)||r==="BUN"&&function(){var l=i.Bun.version.split(".");return l.length<3||l[0]==="0"&&(l[1]<3||l[1]==="3"&&l[2]==="0")}();return Yc=function(l,d){var c=d?2:1;return u?function(h,f){var v=o(arguments.length,1)>c,p=t(h)?h:a(h),m=v?s(arguments,c):[],g=v?function(){e(p,this,m)}:p;return d?l(g,f):l(g)}:l},Yc}var $I;function c6(){if($I)return SI;$I=1;var i=Q(),e=Me(),t=mN(),r=t(e.setInterval,!0);return i({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),SI}var TI={},PI;function h6(){if(PI)return TI;PI=1;var i=Q(),e=Me(),t=mN(),r=t(e.setTimeout,!0);return i({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),TI}var RI;function f6(){return RI||(RI=1,c6(),h6()),EI}var Xc,qI;function v6(){if(qI)return Xc;qI=1,f6();var i=Le();return Xc=i.setTimeout,Xc}var Zc,CI;function p6(){return CI||(CI=1,Zc=v6()),Zc}var g6=p6(),y6=ae(g6),xI={},Jc,DI;function m6(){if(DI)return Jc;DI=1;var i=Ae(),e=Es(),t=TypeError,r=Object.getOwnPropertyDescriptor,n=i&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return Jc=n?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Jc}var MI;function b6(){if(MI)return xI;MI=1;var i=Q(),e=Nt(),t=yk(),r=fn(),n=li(),s=m6(),o=pk(),a=wb(),u=bb(),l=yN(),d=Fo(),c=d("splice"),h=Math.max,f=Math.min;return i({target:"Array",proto:!0,forced:!c},{splice:function(p,m){var g=e(this),y=n(g),O=t(p,y),b=arguments.length,S,$,w,_,E,I;for(b===0?S=$=0:b===1?(S=0,$=y-O):(S=b-2,$=f(h(r(m),0),y-O)),o(y+S-$),w=a(g,$),_=0;_<$;_++)E=O+_,E in g&&u(w,_,g[E]);if(w.length=$,S<$){for(_=O;_<y-$;_++)E=_+$,I=_+S,E in g?g[I]=g[E]:l(g,I);for(_=y;_>y-$+S;_--)l(g,_-1)}else if(S>$)for(_=y-$;_>O;_--)E=_+$-1,I=_+S-1,E in g?g[I]=g[E]:l(g,I);for(_=0;_<S;_++)g[_+O]=arguments[_+2];return s(g,y-$+S),w}}),xI}var Qc,AI;function _6(){if(AI)return Qc;AI=1,b6();var i=Et();return Qc=i("Array","splice"),Qc}var eh,kI;function w6(){if(kI)return eh;kI=1;var i=Je(),e=_6(),t=Array.prototype;return eh=function(r){var n=r.splice;return r===t||i(t,r)&&n===t.splice?e:n},eh}var th,NI;function E6(){if(NI)return th;NI=1;var i=w6();return th=i,th}var rh,FI;function S6(){return FI||(FI=1,rh=E6()),rh}var O6=S6(),I6=ae(O6);class kb{constructor(e){br(this,"_queue",[]),br(this,"_timeout",null),br(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const r=new kb(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{r.flush()};const n=[{name:"flush",original:void 0}];if(t&&t.replace)for(let s=0;s<t.replace.length;s++){const o=t.replace[s];n.push({name:o,original:e[o]}),r.replace(e,o)}return r._extended={object:e,methods:n},r}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let r=0;r<t.length;r++){const n=t[r];n.original?e[n.name]=n.original:delete e[n.name]}this._extended=null}}replace(e,t){const r=this,n=e[t];if(!n)throw new Error("Method "+t+" undefined");e[t]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];r.queue({args:o,fn:n,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=y6(()=>{this.flush()},this.delay))}flush(){var e,t;Zi(e=I6(t=this._queue).call(t,0)).call(e,r=>{r.fn.apply(r.context||r.fn,r.args||[])})}}class Eo{constructor(){br(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),br(this,"subscribe",Eo.prototype.on),br(this,"unsubscribe",Eo.prototype.off)}_trigger(e,t,r){var n;if(e==="*")throw new Error("Cannot trigger event *");Zi(n=[...this._subscribers[e],...this._subscribers["*"]]).call(n,s=>{s(e,t,r??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){var r;this._subscribers[e]=Mi(r=this._subscribers[e]).call(r,n=>n!==t)}get testLeakSubscribers(){return this._subscribers}}var BI={},jI;function $6(){if(jI)return BI;jI=1;var i=Q(),e=Ae(),t=Os();return i({target:"Object",stat:!0,sham:!e},{create:t}),BI}var ih,LI;function T6(){if(LI)return ih;LI=1,$6();var i=Le(),e=i.Object;return ih=function(r,n){return e.create(r,n)},ih}var nh,zI;function P6(){if(zI)return nh;zI=1;var i=T6();return nh=i,nh}var sh,WI;function R6(){return WI||(WI=1,sh=P6()),sh}var q6=R6(),C6=ae(q6),HI={},GI={},UI;function x6(){if(UI)return GI;UI=1;var i=hN(),e=fN();return i("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),GI}var VI;function D6(){return VI||(VI=1,x6()),HI}var KI={},oh,YI;function hi(){if(YI)return oh;YI=1;var i=ln(),e=TypeError;return oh=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(i(t)+" is not a set")},oh}var ah,XI;function fi(){if(XI)return ah;XI=1;var i=ft(),e=vN(),t=i("Set"),r=t.prototype;return ah={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},ah}var uh,ZI;function vi(){if(ZI)return uh;ZI=1;var i=dt();return uh=function(e,t,r){for(var n=r?e:e.iterator,s=e.next,o,a;!(o=i(s,n)).done;)if(a=t(o.value),a!==void 0)return a},uh}var lh,JI;function Ds(){if(JI)return lh;JI=1;var i=vi();return lh=function(e,t,r){return r?i(e.keys(),t,!0):e.forEach(t)},lh}var dh,QI;function Nb(){if(QI)return dh;QI=1;var i=fi(),e=Ds(),t=i.Set,r=i.add;return dh=function(n){var s=new t;return e(n,function(o){r(s,o)}),s},dh}var ch,e$;function Ms(){return e$||(e$=1,ch=function(i){return i.size}),ch}var hh,t$;function M6(){return t$||(t$=1,hh=function(i){return{iterator:i,next:i.next,done:!1}}),hh}var fh,r$;function pi(){if(r$)return fh;r$=1;var i=lr(),e=dr(),t=dt(),r=fn(),n=M6(),s="Invalid size",o=RangeError,a=TypeError,u=Math.max,l=function(d,c){this.set=d,this.size=u(c,0),this.has=i(d.has),this.keys=i(d.keys)};return l.prototype={getIterator:function(){return n(e(t(this.keys,this.set)))},includes:function(d){return t(this.has,this.set,d)}},fh=function(d){e(d);var c=+d.size;if(c!==c)throw new a(s);var h=r(c);if(h<0)throw new o(s);return new l(d,h)},fh}var vh,i$;function A6(){if(i$)return vh;i$=1;var i=hi(),e=fi(),t=Nb(),r=Ms(),n=pi(),s=Ds(),o=vi(),a=e.has,u=e.remove;return vh=function(d){var c=i(this),h=n(d),f=t(c);return r(c)<=h.size?s(c,function(v){h.includes(v)&&u(f,v)}):o(h.getIterator(),function(v){a(f,v)&&u(f,v)}),f},vh}var ph,n$;function gi(){return n$||(n$=1,ph=function(){return!1}),ph}var s$;function k6(){if(s$)return KI;s$=1;var i=Q(),e=A6(),t=de(),r=gi(),n=!r("difference",function(o){return o.size===0}),s=n||t(function(){var o={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var l=u++>1;return a.has(1)&&a.clear(),{done:l,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return i({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),KI}var o$={},gh,a$;function N6(){if(a$)return gh;a$=1;var i=hi(),e=fi(),t=Ms(),r=pi(),n=Ds(),s=vi(),o=e.Set,a=e.add,u=e.has;return gh=function(d){var c=i(this),h=r(d),f=new o;return t(c)>h.size?s(h.getIterator(),function(v){u(c,v)&&a(f,v)}):n(c,function(v){h.includes(v)&&a(f,v)}),f},gh}var u$;function F6(){if(u$)return o$;u$=1;var i=Q(),e=de(),t=N6(),r=gi(),n=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return i({target:"Set",proto:!0,real:!0,forced:n},{intersection:t}),o$}var l$={},yh,d$;function B6(){if(d$)return yh;d$=1;var i=hi(),e=fi().has,t=Ms(),r=pi(),n=Ds(),s=vi(),o=Mb();return yh=function(u){var l=i(this),d=r(u);if(t(l)<=d.size)return n(l,function(h){if(d.includes(h))return!1},!0)!==!1;var c=d.getIterator();return s(c,function(h){if(e(l,h))return o(c,"normal",!1)})!==!1},yh}var c$;function j6(){if(c$)return l$;c$=1;var i=Q(),e=B6(),t=gi(),r=!t("isDisjointFrom",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),l$}var h$={},mh,f$;function L6(){if(f$)return mh;f$=1;var i=hi(),e=Ms(),t=Ds(),r=pi();return mh=function(s){var o=i(this),a=r(s);return e(o)>a.size?!1:t(o,function(u){if(!a.includes(u))return!1},!0)!==!1},mh}var v$;function z6(){if(v$)return h$;v$=1;var i=Q(),e=L6(),t=gi(),r=!t("isSubsetOf",function(n){return n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),h$}var p$={},bh,g$;function W6(){if(g$)return bh;g$=1;var i=hi(),e=fi().has,t=Ms(),r=pi(),n=vi(),s=Mb();return bh=function(a){var u=i(this),l=r(a);if(t(u)<l.size)return!1;var d=l.getIterator();return n(d,function(c){if(!e(u,c))return s(d,"normal",!1)})!==!1},bh}var y$;function H6(){if(y$)return p$;y$=1;var i=Q(),e=W6(),t=gi(),r=!t("isSupersetOf",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),p$}var m$={},_h,b$;function G6(){if(b$)return _h;b$=1;var i=hi(),e=fi(),t=Nb(),r=pi(),n=vi(),s=e.add,o=e.has,a=e.remove;return _h=function(l){var d=i(this),c=r(l).getIterator(),h=t(d);return n(c,function(f){o(d,f)?a(h,f):s(h,f)}),h},_h}var wh,_$;function bN(){return _$||(_$=1,wh=function(i){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[i](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),wh}var w$;function U6(){if(w$)return m$;w$=1;var i=Q(),e=G6(),t=bN(),r=gi(),n=!r("symmetricDifference")||!t("symmetricDifference");return i({target:"Set",proto:!0,real:!0,forced:n},{symmetricDifference:e}),m$}var E$={},Eh,S$;function V6(){if(S$)return Eh;S$=1;var i=hi(),e=fi().add,t=Nb(),r=pi(),n=vi();return Eh=function(o){var a=i(this),u=r(o).getIterator(),l=t(a);return n(u,function(d){e(l,d)}),l},Eh}var O$;function K6(){if(O$)return E$;O$=1;var i=Q(),e=V6(),t=bN(),r=gi(),n=!r("union")||!t("union");return i({target:"Set",proto:!0,real:!0,forced:n},{union:e}),E$}var Sh,I$;function Y6(){if(I$)return Sh;I$=1,xr(),D6(),k6(),F6(),j6(),z6(),H6(),U6(),K6(),Ho();var i=Le();return Sh=i.Set,Sh}var Oh,$$;function X6(){if($$)return Oh;$$=1;var i=Y6();return Dr(),Oh=i,Oh}var Ih,T$;function Z6(){return T$||(T$=1,Ih=X6()),Ih}var J6=Z6(),$h=ae(J6),Th,P$;function Q6(){if(P$)return Th;P$=1,xr(),Ho();var i=dN();return Th=i,Th}var Ph,R$;function e8(){if(R$)return Ph;R$=1;var i=Q6();return Dr(),Ph=i,Ph}var Rh,q$;function t8(){if(q$)return Rh;q$=1;var i=e8();return Rh=i,Rh}var qh,C$;function r8(){if(C$)return qh;C$=1;var i=t8();return qh=i,qh}var Ch,x$;function i8(){return x$||(x$=1,Ch=r8()),Ch}var xh,D$;function n8(){return D$||(D$=1,xh=i8()),xh}var s8=n8(),Dh=ae(s8);class Vr{constructor(e){this._pairs=e}*[Ni](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Bt(e=[...this._pairs]).call(e,t=>t[0])}toItemArray(){var e;return Bt(e=[...this._pairs]).call(e,t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=C6(null);for(const[t,r]of this._pairs)e[t]=r;return e}toMap(){return new pN(this._pairs)}toIdSet(){return new $h(this.toIdArray())}toItemSet(){return new $h(this.toItemArray())}cache(){return new Vr([...this._pairs])}distinct(e){const t=new $h;for(const[r,n]of this._pairs)t.add(e(n,r));return t}filter(e){const t=this._pairs;return new Vr({*[Ni](){for(const[r,n]of t)e(n,r)&&(yield[r,n])}})}forEach(e){for(const[t,r]of this._pairs)e(r,t)}map(e){const t=this._pairs;return new Vr({*[Ni](){for(const[r,n]of t)yield[r,e(n,r)]}})}max(e){const t=Dh(this._pairs);let r=t.next();if(r.done)return null;let n=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,u=e(a,o);u>s&&(s=u,n=a)}return n}min(e){const t=Dh(this._pairs);let r=t.next();if(r.done)return null;let n=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,u=e(a,o);u<s&&(s=u,n=a)}return n}reduce(e,t){for(const[r,n]of this._pairs)t=e(t,n,r);return t}sort(e){return new Vr({[Ni]:()=>{var t;return Dh(Um(t=[...this._pairs]).call(t,(r,n)=>{let[s,o]=r,[a,u]=n;return e(o,u,s,a)}))}})}}function M$(i,e){var t=gN(i);if(mS){var r=mS(i);e&&(r=Mi(r).call(r,function(n){return aN(i,n).enumerable})),t.push.apply(t,r)}return t}function A$(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?Zi(t=M$(Object(n),!0)).call(t,function(s){br(i,s,n[s])}):NS?Pz(i,NS(n)):Zi(r=M$(Object(n))).call(r,function(s){Cz(i,s,aN(n,s))})}return i}function o8(i,e){return i[e]==null&&(i[e]=l6()),i}class So extends Eo{get idProp(){return this._idProp}constructor(e,t){super(),br(this,"_queue",null),e&&!Wr(e)&&(t=e,e=[]),this._options=t||{},this._data=new pN,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(t)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=kb.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,t){const r=[];let n;if(Wr(e)){const s=Bt(e).call(e,o=>o[this._idProp]);if(i4(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)n=this._addItem(e[o]),r.push(n)}else if(e&&typeof e=="object")n=this._addItem(e),r.push(n);else throw new Error("Unknown dataType");return r.length&&this._trigger("add",{items:r},t),r}update(e,t){const r=[],n=[],s=[],o=[],a=this._idProp,u=l=>{const d=l[a];if(d!=null&&this._data.has(d)){const c=l,h=d4({},this._data.get(d)),f=this._updateItem(c);n.push(f),o.push(c),s.push(h)}else{const c=this._addItem(l);r.push(c)}};if(Wr(e))for(let l=0,d=e.length;l<d;l++)e[l]&&typeof e[l]=="object"?u(e[l]):console.warn("Ignoring input item, which is not an object at index "+l);else if(e&&typeof e=="object")u(e);else throw new Error("Unknown dataType");if(r.length&&this._trigger("add",{items:r},t),n.length){const l={items:n,oldData:s,data:o};this._trigger("update",l,t)}return g4(r).call(r,n)}updateOnly(e,t){var r;Wr(e)||(e=[e]);const n=Bt(r=Bt(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(r,s=>{let{oldData:o,update:a}=s;const u=o[this._idProp],l=ZL(o,a);return this._data.set(u,l),{id:u,oldData:o,updatedData:l}});if(n.length){const s={items:Bt(n).call(n,o=>o.id),oldData:Bt(n).call(n,o=>o.oldData),data:Bt(n).call(n,o=>o.updatedData)};return this._trigger("update",s,t),s.items}else return[]}get(e,t){let r,n,s;wI(e)?(r=e,s=t):Wr(e)?(n=e,s=t):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&Mi(s),u=[];let l,d,c;if(r!=null)l=this._data.get(r),l&&a&&!a(l)&&(l=void 0);else if(n!=null)for(let f=0,v=n.length;f<v;f++)l=this._data.get(n[f]),l!=null&&(!a||a(l))&&u.push(l);else{var h;d=[...qi(h=this._data).call(h)];for(let f=0,v=d.length;f<v;f++)c=d[f],l=this._data.get(c),l!=null&&(!a||a(l))&&u.push(l)}if(s&&s.order&&r==null&&this._sort(u,s.order),s&&s.fields){const f=s.fields;if(r!=null&&l!=null)l=this._filterFields(l,f);else for(let v=0,p=u.length;v<p;v++)u[v]=this._filterFields(u[v],f)}if(o=="Object"){const f={};for(let v=0,p=u.length;v<p;v++){const m=u[v],g=m[this._idProp];f[g]=m}return f}else return r!=null?l??null:u}getIds(e){const t=this._data,r=e&&Mi(e),n=e&&e.order,s=[...qi(t).call(t)],o=[];if(r)if(n){const a=[];for(let u=0,l=s.length;u<l;u++){const d=s[u],c=this._data.get(d);c!=null&&r(c)&&a.push(c)}this._sort(a,n);for(let u=0,l=a.length;u<l;u++)o.push(a[u][this._idProp])}else for(let a=0,u=s.length;a<u;a++){const l=s[a],d=this._data.get(l);d!=null&&r(d)&&o.push(d[this._idProp])}else if(n){const a=[];for(let u=0,l=s.length;u<l;u++){const d=s[u];a.push(t.get(d))}this._sort(a,n);for(let u=0,l=a.length;u<l;u++)o.push(a[u][this._idProp])}else for(let a=0,u=s.length;a<u;a++){const l=s[a],d=t.get(l);d!=null&&o.push(d[this._idProp])}return o}getDataSet(){return this}forEach(e,t){const r=t&&Mi(t),n=this._data,s=[...qi(n).call(n)];if(t&&t.order){const o=this.get(t);for(let a=0,u=o.length;a<u;a++){const l=o[a],d=l[this._idProp];e(l,d)}}else for(let o=0,a=s.length;o<a;o++){const u=s[o],l=this._data.get(u);l!=null&&(!r||r(l))&&e(l,u)}}map(e,t){const r=t&&Mi(t),n=[],s=this._data,o=[...qi(s).call(s)];for(let a=0,u=o.length;a<u;a++){const l=o[a],d=this._data.get(l);d!=null&&(!r||r(d))&&n.push(e(d,l))}return t&&t.order&&this._sort(n,t.order),n}_filterFields(e,t){var r;return e&&Y3(r=Wr(t)?t:gN(t)).call(r,(n,s)=>(n[s]=e[s],n),{})}_sort(e,t){if(typeof t=="string"){const r=t;Um(e).call(e,(n,s)=>{const o=n[r],a=s[r];return o>a?1:o<a?-1:0})}else if(typeof t=="function")Um(e).call(e,t);else throw new TypeError("Order must be a function or a string")}remove(e,t){const r=[],n=[],s=Wr(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const u=this._remove(s[o]);if(u){const l=u[this._idProp];l!=null&&(r.push(l),n.push(u))}}return r.length&&this._trigger("remove",{items:r,oldData:n},t),r}_remove(e){let t;if(wI(e)?t=e:e&&typeof e=="object"&&(t=e[this._idProp]),t!=null&&this._data.has(t)){const r=this._data.get(t)||null;return this._data.delete(t),--this.length,r}return null}clear(e){var t;const r=[...qi(t=this._data).call(t)],n=[];for(let s=0,o=r.length;s<o;s++)n.push(this._data.get(r[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:r,oldData:n},e),r}max(e){let t=null,r=null;for(const s of oI(n=this._data).call(n)){var n;const o=s[e];typeof o=="number"&&(r==null||o>r)&&(t=s,r=o)}return t||null}min(e){let t=null,r=null;for(const s of oI(n=this._data).call(n)){var n;const o=s[e];typeof o=="number"&&(r==null||o<r)&&(t=s,r=o)}return t||null}distinct(e){const t=this._data,r=[...qi(t).call(t)],n=[];let s=0;for(let o=0,a=r.length;o<a;o++){const u=r[o],d=t.get(u)[e];let c=!1;for(let h=0;h<s;h++)if(n[h]==d){c=!0;break}!c&&d!==void 0&&(n[s]=d,s++)}return n}_addItem(e){const t=o8(e,this._idProp),r=t[this._idProp];if(this._data.has(r))throw new Error("Cannot add item: item with id "+r+" already exists");return this._data.set(r,t),++this.length,r}_updateItem(e){const t=e[this._idProp];if(t==null)throw new Error("Cannot update item: item has no id (item: "+X4(e)+")");const r=this._data.get(t);if(!r)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,A$(A$({},r),e)),t}stream(e){if(e){const r=this._data;return new Vr({*[Ni](){for(const n of e){const s=r.get(n);s!=null&&(yield[n,s])}}})}else{var t;return new Vr({[Ni]:j3(t=n6(this._data)).call(t,this._data)})}}get testLeakData(){return this._data}get testLeakIdProp(){return this._idProp}get testLeakOptions(){return this._options}get testLeakQueue(){return this._queue}set testLeakQueue(e){this._queue=e}}function a8(i,e){return typeof e=="object"&&e!==null&&i===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof Zi(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Bt(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function _N(i,e){return typeof e=="object"&&e!==null&&i===e.idProp&&typeof Zi(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Bt(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&a8(i,e.getDataSet())}console.warn("You're running a development build.");/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.1
 * @date    2025-07-13T08:15:32.270Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var k$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Y(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var N$={},Wn,F$;function we(){if(F$)return Wn;F$=1;var i=function(e){return e&&e.Math===Math&&e};return Wn=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof k$=="object"&&k$)||i(typeof Wn=="object"&&Wn)||function(){return this}()||Function("return this")(),Wn}var Mh,B$;function se(){return B$||(B$=1,Mh=function(i){try{return!!i()}catch{return!0}}),Mh}var Ah,j$;function As(){if(j$)return Ah;j$=1;var i=se();return Ah=!i(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Ah}var kh,L$;function Ko(){if(L$)return kh;L$=1;var i=As(),e=Function.prototype,t=e.apply,r=e.call;return kh=typeof Reflect=="object"&&Reflect.apply||(i?r.bind(t):function(){return r.apply(t,arguments)}),kh}var Nh,z$;function oe(){if(z$)return Nh;z$=1;var i=As(),e=Function.prototype,t=e.call,r=i&&e.bind.bind(t,t);return Nh=i?r:function(n){return function(){return t.apply(n,arguments)}},Nh}var Fh,W$;function Ut(){if(W$)return Fh;W$=1;var i=oe(),e=i({}.toString),t=i("".slice);return Fh=function(r){return t(e(r),8,-1)},Fh}var Bh,H$;function Fb(){if(H$)return Bh;H$=1;var i=Ut(),e=oe();return Bh=function(t){if(i(t)==="Function")return e(t)},Bh}var jh,G$;function We(){if(G$)return jh;G$=1;var i=typeof document=="object"&&document.all;return jh=typeof i>"u"&&i!==void 0?function(e){return typeof e=="function"||e===i}:function(e){return typeof e=="function"},jh}var Lh={},zh,U$;function Pe(){if(U$)return zh;U$=1;var i=se();return zh=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),zh}var Wh,V$;function ht(){if(V$)return Wh;V$=1;var i=As(),e=Function.prototype.call;return Wh=i?e.bind(e):function(){return e.apply(e,arguments)},Wh}var Hh={},K$;function Yo(){if(K$)return Hh;K$=1;var i={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!i.call({1:2},1);return Hh.f=t?function(n){var s=e(this,n);return!!s&&s.enumerable}:i,Hh}var Gh,Y$;function ks(){return Y$||(Y$=1,Gh=function(i,e){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:e}}),Gh}var Uh,X$;function Xo(){if(X$)return Uh;X$=1;var i=oe(),e=se(),t=Ut(),r=Object,n=i("".split);return Uh=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?n(s,""):r(s)}:r,Uh}var Vh,Z$;function yn(){return Z$||(Z$=1,Vh=function(i){return i==null}),Vh}var Kh,J$;function cr(){if(J$)return Kh;J$=1;var i=yn(),e=TypeError;return Kh=function(t){if(i(t))throw new e("Can't call method on "+t);return t},Kh}var Yh,Q$;function Ft(){if(Q$)return Yh;Q$=1;var i=Xo(),e=cr();return Yh=function(t){return i(e(t))},Yh}var Xh,eT;function He(){if(eT)return Xh;eT=1;var i=We();return Xh=function(e){return typeof e=="object"?e!==null:i(e)},Xh}var Zh,tT;function he(){return tT||(tT=1,Zh={}),Zh}var Jh,rT;function vt(){if(rT)return Jh;rT=1;var i=he(),e=we(),t=We(),r=function(n){return t(n)?n:void 0};return Jh=function(n,s){return arguments.length<2?r(i[n])||r(e[n]):i[n]&&i[n][s]||e[n]&&e[n][s]},Jh}var Qh,iT;function ke(){if(iT)return Qh;iT=1;var i=oe();return Qh=i({}.isPrototypeOf),Qh}var ef,nT;function mn(){if(nT)return ef;nT=1;var i=we(),e=i.navigator,t=e&&e.userAgent;return ef=t?String(t):"",ef}var tf,sT;function Ns(){if(sT)return tf;sT=1;var i=we(),e=mn(),t=i.process,r=i.Deno,n=t&&t.versions||r&&r.version,s=n&&n.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),tf=a,tf}var rf,oT;function bn(){if(oT)return rf;oT=1;var i=Ns(),e=se(),t=we(),r=t.String;return rf=!!Object.getOwnPropertySymbols&&!e(function(){var n=Symbol("symbol detection");return!r(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&i&&i<41}),rf}var nf,aT;function wN(){if(aT)return nf;aT=1;var i=bn();return nf=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol",nf}var sf,uT;function Fs(){if(uT)return sf;uT=1;var i=vt(),e=We(),t=ke(),r=wN(),n=Object;return sf=r?function(s){return typeof s=="symbol"}:function(s){var o=i("Symbol");return e(o)&&t(o.prototype,n(s))},sf}var of,lT;function _n(){if(lT)return of;lT=1;var i=String;return of=function(e){try{return i(e)}catch{return"Object"}},of}var af,dT;function hr(){if(dT)return af;dT=1;var i=We(),e=_n(),t=TypeError;return af=function(r){if(i(r))return r;throw new t(e(r)+" is not a function")},af}var uf,cT;function Bb(){if(cT)return uf;cT=1;var i=hr(),e=yn();return uf=function(t,r){var n=t[r];return e(n)?void 0:i(n)},uf}var lf,hT;function u8(){if(hT)return lf;hT=1;var i=ht(),e=We(),t=He(),r=TypeError;return lf=function(n,s){var o,a;if(s==="string"&&e(o=n.toString)&&!t(a=i(o,n))||e(o=n.valueOf)&&!t(a=i(o,n))||s!=="string"&&e(o=n.toString)&&!t(a=i(o,n)))return a;throw new r("Can't convert object to primitive value")},lf}var df={exports:{}},cf,fT;function wn(){return fT||(fT=1,cf=!0),cf}var hf,vT;function l8(){if(vT)return hf;vT=1;var i=we(),e=Object.defineProperty;return hf=function(t,r){try{e(i,t,{value:r,configurable:!0,writable:!0})}catch{i[t]=r}return r},hf}var pT;function jb(){if(pT)return df.exports;pT=1;var i=wn(),e=we(),t=l8(),r="__core-js_shared__",n=df.exports=e[r]||t(r,{});return(n.versions||(n.versions=[])).push({version:"3.44.0",mode:i?"pure":"global",copyright:"© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),df.exports}var ff,gT;function En(){if(gT)return ff;gT=1;var i=jb();return ff=function(e,t){return i[e]||(i[e]=t||{})},ff}var vf,yT;function Ot(){if(yT)return vf;yT=1;var i=cr(),e=Object;return vf=function(t){return e(i(t))},vf}var pf,mT;function Ye(){if(mT)return pf;mT=1;var i=oe(),e=Ot(),t=i({}.hasOwnProperty);return pf=Object.hasOwn||function(n,s){return t(e(n),s)},pf}var gf,bT;function Zo(){if(bT)return gf;bT=1;var i=oe(),e=0,t=Math.random(),r=i(1.1.toString);return gf=function(n){return"Symbol("+(n===void 0?"":n)+")_"+r(++e+t,36)},gf}var yf,_T;function Ne(){if(_T)return yf;_T=1;var i=we(),e=En(),t=Ye(),r=Zo(),n=bn(),s=wN(),o=i.Symbol,a=e("wks"),u=s?o.for||o:o&&o.withoutSetter||r;return yf=function(l){return t(a,l)||(a[l]=n&&t(o,l)?o[l]:u("Symbol."+l)),a[l]},yf}var mf,wT;function EN(){if(wT)return mf;wT=1;var i=ht(),e=He(),t=Fs(),r=Bb(),n=u8(),s=Ne(),o=TypeError,a=s("toPrimitive");return mf=function(u,l){if(!e(u)||t(u))return u;var d=r(u,a),c;if(d){if(l===void 0&&(l="default"),c=i(d,u,l),!e(c)||t(c))return c;throw new o("Can't convert object to primitive value")}return l===void 0&&(l="number"),n(u,l)},mf}var bf,ET;function Lb(){if(ET)return bf;ET=1;var i=EN(),e=Fs();return bf=function(t){var r=i(t,"string");return e(r)?r:r+""},bf}var _f,ST;function SN(){if(ST)return _f;ST=1;var i=we(),e=He(),t=i.document,r=e(t)&&e(t.createElement);return _f=function(n){return r?t.createElement(n):{}},_f}var wf,OT;function ON(){if(OT)return wf;OT=1;var i=Pe(),e=se(),t=SN();return wf=!i&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),wf}var IT;function Jo(){if(IT)return Lh;IT=1;var i=Pe(),e=ht(),t=Yo(),r=ks(),n=Ft(),s=Lb(),o=Ye(),a=ON(),u=Object.getOwnPropertyDescriptor;return Lh.f=i?u:function(d,c){if(d=n(d),c=s(c),a)try{return u(d,c)}catch{}if(o(d,c))return r(!e(t.f,d,c),d[c])},Lh}var Ef,$T;function d8(){if($T)return Ef;$T=1;var i=se(),e=We(),t=/#|\.prototype\./,r=function(u,l){var d=s[n(u)];return d===a?!0:d===o?!1:e(l)?i(l):!!l},n=r.normalize=function(u){return String(u).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return Ef=r,Ef}var Sf,TT;function Qo(){if(TT)return Sf;TT=1;var i=Fb(),e=hr(),t=As(),r=i(i.bind);return Sf=function(n,s){return e(n),s===void 0?n:t?r(n,s):function(){return n.apply(s,arguments)}},Sf}var Of={},If,PT;function IN(){if(PT)return If;PT=1;var i=Pe(),e=se();return If=i&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),If}var $f,RT;function Vt(){if(RT)return $f;RT=1;var i=He(),e=String,t=TypeError;return $f=function(r){if(i(r))return r;throw new t(e(r)+" is not an object")},$f}var qT;function It(){if(qT)return Of;qT=1;var i=Pe(),e=ON(),t=IN(),r=Vt(),n=Lb(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u="enumerable",l="configurable",d="writable";return Of.f=i?t?function(h,f,v){if(r(h),f=n(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&d in v&&!v[d]){var p=a(h,f);p&&p[d]&&(h[f]=v.value,v={configurable:l in v?v[l]:p[l],enumerable:u in v?v[u]:p[u],writable:!1})}return o(h,f,v)}:o:function(h,f,v){if(r(h),f=n(f),r(v),e)try{return o(h,f,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(h[f]=v.value),h},Of}var Tf,CT;function Sn(){if(CT)return Tf;CT=1;var i=Pe(),e=It(),t=ks();return Tf=i?function(r,n,s){return e.f(r,n,t(1,s))}:function(r,n,s){return r[n]=s,r},Tf}var Pf,xT;function H(){if(xT)return Pf;xT=1;var i=we(),e=Ko(),t=Fb(),r=We(),n=Jo().f,s=d8(),o=he(),a=Qo(),u=Sn(),l=Ye(),d=function(c){var h=function(f,v,p){if(this instanceof h){switch(arguments.length){case 0:return new c;case 1:return new c(f);case 2:return new c(f,v)}return new c(f,v,p)}return e(c,this,arguments)};return h.prototype=c.prototype,h};return Pf=function(c,h){var f=c.target,v=c.global,p=c.stat,m=c.proto,g=v?i:p?i[f]:i[f]&&i[f].prototype,y=v?o:o[f]||u(o,f,{})[f],O=y.prototype,b,S,$,w,_,E,I,T,P;for(w in h)b=s(v?w:f+(p?".":"#")+w,c.forced),S=!b&&g&&l(g,w),E=y[w],S&&(c.dontCallGetSet?(P=n(g,w),I=P&&P.value):I=g[w]),_=S&&I?I:h[w],!(!b&&!m&&typeof E==typeof _)&&(c.bind&&S?T=a(_,i):c.wrap&&S?T=d(_):m&&r(_)?T=t(_):T=_,(c.sham||_&&_.sham||E&&E.sham)&&u(T,"sham",!0),u(y,w,T),m&&($=f+"Prototype",l(o,$)||u(o,$,{}),u(o[$],w,_),c.real&&O&&(b||!O[w])&&u(O,w,_)))},Pf}var Rf,DT;function c8(){if(DT)return Rf;DT=1;var i=Math.ceil,e=Math.floor;return Rf=Math.trunc||function(r){var n=+r;return(n>0?e:i)(n)},Rf}var qf,MT;function On(){if(MT)return qf;MT=1;var i=c8();return qf=function(e){var t=+e;return t!==t||t===0?0:i(t)},qf}var Cf,AT;function ea(){if(AT)return Cf;AT=1;var i=On(),e=Math.max,t=Math.min;return Cf=function(r,n){var s=i(r);return s<0?e(s+n,0):t(s,n)},Cf}var xf,kT;function $N(){if(kT)return xf;kT=1;var i=On(),e=Math.min;return xf=function(t){var r=i(t);return r>0?e(r,9007199254740991):0},xf}var Df,NT;function fr(){if(NT)return Df;NT=1;var i=$N();return Df=function(e){return i(e.length)},Df}var Mf,FT;function zb(){if(FT)return Mf;FT=1;var i=Ft(),e=ea(),t=fr(),r=function(n){return function(s,o,a){var u=i(s),l=t(u);if(l===0)return!n&&-1;var d=e(a,l),c;if(n&&o!==o){for(;l>d;)if(c=u[d++],c!==c)return!0}else for(;l>d;d++)if((n||d in u)&&u[d]===o)return n||d||0;return!n&&-1}};return Mf={includes:r(!0),indexOf:r(!1)},Mf}var Af,BT;function Bs(){return BT||(BT=1,Af={}),Af}var kf,jT;function TN(){if(jT)return kf;jT=1;var i=oe(),e=Ye(),t=Ft(),r=zb().indexOf,n=Bs(),s=i([].push);return kf=function(o,a){var u=t(o),l=0,d=[],c;for(c in u)!e(n,c)&&e(u,c)&&s(d,c);for(;a.length>l;)e(u,c=a[l++])&&(~r(d,c)||s(d,c));return d},kf}var Nf,LT;function Wb(){return LT||(LT=1,Nf=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Nf}var Ff,zT;function js(){if(zT)return Ff;zT=1;var i=TN(),e=Wb();return Ff=Object.keys||function(r){return i(r,e)},Ff}var Bf={},WT;function ta(){return WT||(WT=1,Bf.f=Object.getOwnPropertySymbols),Bf}var jf,HT;function h8(){if(HT)return jf;HT=1;var i=Pe(),e=oe(),t=ht(),r=se(),n=js(),s=ta(),o=Yo(),a=Ot(),u=Xo(),l=Object.assign,d=Object.defineProperty,c=e([].concat);return jf=!l||r(function(){if(i&&l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),p="abcdefghijklmnopqrst";return h[v]=7,p.split("").forEach(function(m){f[m]=m}),l({},h)[v]!==7||n(l({},f)).join("")!==p})?function(f,v){for(var p=a(f),m=arguments.length,g=1,y=s.f,O=o.f;m>g;)for(var b=u(arguments[g++]),S=y?c(n(b),y(b)):n(b),$=S.length,w=0,_;$>w;)_=S[w++],(!i||t(O,b,_))&&(p[_]=b[_]);return p}:l,jf}var GT;function f8(){if(GT)return N$;GT=1;var i=H(),e=h8();return i({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),N$}var Lf,UT;function v8(){if(UT)return Lf;UT=1,f8();var i=he();return Lf=i.Object.assign,Lf}var zf,VT;function p8(){if(VT)return zf;VT=1;var i=v8();return zf=i,zf}var Wf,KT;function g8(){return KT||(KT=1,Wf=p8()),Wf}var y8=g8(),Ve=Y(y8),YT={},Hf,XT;function In(){if(XT)return Hf;XT=1;var i=oe();return Hf=i([].slice),Hf}var Gf,ZT;function m8(){if(ZT)return Gf;ZT=1;var i=oe(),e=hr(),t=He(),r=Ye(),n=In(),s=As(),o=Function,a=i([].concat),u=i([].join),l={},d=function(c,h,f){if(!r(l,h)){for(var v=[],p=0;p<h;p++)v[p]="a["+p+"]";l[h]=o("C,a","return new C("+u(v,",")+")")}return l[h](c,f)};return Gf=s?o.bind:function(h){var f=e(this),v=f.prototype,p=n(arguments,1),m=function(){var y=a(p,n(arguments));return this instanceof m?d(f,y.length,y):f.apply(h,y)};return t(v)&&(m.prototype=v),m},Gf}var JT;function b8(){if(JT)return YT;JT=1;var i=H(),e=m8();return i({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),YT}var Uf,QT;function Xe(){if(QT)return Uf;QT=1;var i=we(),e=he();return Uf=function(t,r){var n=e[t+"Prototype"],s=n&&n[r];if(s)return s;var o=i[t],a=o&&o.prototype;return a&&a[r]},Uf}var Vf,eP;function _8(){if(eP)return Vf;eP=1,b8();var i=Xe();return Vf=i("Function","bind"),Vf}var Kf,tP;function w8(){if(tP)return Kf;tP=1;var i=ke(),e=_8(),t=Function.prototype;return Kf=function(r){var n=r.bind;return r===t||i(t,r)&&n===t.bind?e:n},Kf}var Yf,rP;function E8(){if(rP)return Yf;rP=1;var i=w8();return Yf=i,Yf}var Xf,iP;function S8(){return iP||(iP=1,Xf=E8()),Xf}var O8=S8(),A=Y(O8);function Hb(i,e,t,r){i.beginPath(),i.arc(e,t,r,0,2*Math.PI,!1),i.closePath()}function I8(i,e,t,r){i.beginPath(),i.rect(e-r,t-r,r*2,r*2),i.closePath()}function $8(i,e,t,r){i.beginPath(),r*=1.15,t+=.275*r;const n=r*2,s=n/2,o=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-s*s);i.moveTo(e,t-(a-o)),i.lineTo(e+s,t+o),i.lineTo(e-s,t+o),i.lineTo(e,t-(a-o)),i.closePath()}function T8(i,e,t,r){i.beginPath(),r*=1.15,t-=.275*r;const n=r*2,s=n/2,o=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-s*s);i.moveTo(e,t+(a-o)),i.lineTo(e+s,t-o),i.lineTo(e-s,t-o),i.lineTo(e,t+(a-o)),i.closePath()}function P8(i,e,t,r){i.beginPath(),r*=.82,t+=.1*r;for(let n=0;n<10;n++){const s=n%2===0?r*1.3:r*.5;i.lineTo(e+s*Math.sin(n*2*Math.PI/10),t-s*Math.cos(n*2*Math.PI/10))}i.closePath()}function R8(i,e,t,r){i.beginPath(),i.lineTo(e,t+r),i.lineTo(e+r,t),i.lineTo(e,t-r),i.lineTo(e-r,t),i.closePath()}function PN(i,e,t,r,n,s){const o=Math.PI/180;r-2*s<0&&(s=r/2),n-2*s<0&&(s=n/2),i.beginPath(),i.moveTo(e+s,t),i.lineTo(e+r-s,t),i.arc(e+r-s,t+s,s,o*270,o*360,!1),i.lineTo(e+r,t+n-s),i.arc(e+r-s,t+n-s,s,0,o*90,!1),i.lineTo(e+s,t+n),i.arc(e+s,t+n-s,s,o*90,o*180,!1),i.lineTo(e,t+s),i.arc(e+s,t+s,s,o*180,o*270,!1),i.closePath()}function Vm(i,e,t,r,n){const s=.5522848,o=r/2*s,a=n/2*s,u=e+r,l=t+n,d=e+r/2,c=t+n/2;i.beginPath(),i.moveTo(e,c),i.bezierCurveTo(e,c-a,d-o,t,d,t),i.bezierCurveTo(d+o,t,u,c-a,u,c),i.bezierCurveTo(u,c+a,d+o,l,d,l),i.bezierCurveTo(d-o,l,e,c+a,e,c),i.closePath()}function RN(i,e,t,r,n){const s=.3333333333333333,o=r,a=n*s,u=.5522848,l=o/2*u,d=a/2*u,c=e+o,h=t+a,f=e+o/2,v=t+a/2,p=t+(n-a/2),m=t+n;i.beginPath(),i.moveTo(c,v),i.bezierCurveTo(c,v+d,f+l,h,f,h),i.bezierCurveTo(f-l,h,e,v+d,e,v),i.bezierCurveTo(e,v-d,f-l,t,f,t),i.bezierCurveTo(f+l,t,c,v-d,c,v),i.lineTo(c,p),i.bezierCurveTo(c,p+d,f+l,m,f,m),i.bezierCurveTo(f-l,m,e,p+d,e,p),i.lineTo(e,v)}function qN(i,e,t,r,n,s){i.beginPath(),i.moveTo(e,t);const o=s.length,a=r-e,u=n-t,l=u/a;let d=Math.sqrt(a*a+u*u),c=0,h=!0,f=0,v=+s[0];for(;d>=.1;)v=+s[c++%o],v>d&&(v=d),f=Math.sqrt(v*v/(1+l*l)),f=a<0?-f:f,e+=f,t+=l*f,h===!0?i.lineTo(e,t):i.moveTo(e,t),d-=v,h=!h}function q8(i,e,t,r){i.beginPath();const n=6,s=Math.PI*2/n;i.moveTo(e+r,t);for(let o=1;o<n;o++)i.lineTo(e+r*Math.cos(s*o),t+r*Math.sin(s*o));i.closePath()}const nP={circle:Hb,dashedLine:qN,database:RN,diamond:R8,ellipse:Vm,ellipse_vis:Vm,hexagon:q8,roundRect:PN,square:I8,star:P8,triangle:$8,triangleDown:T8};function C8(i){return Object.prototype.hasOwnProperty.call(nP,i)?nP[i]:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];CanvasRenderingContext2D.prototype[i].call(e,r)}}var Zf={exports:{}},sP;function x8(){return sP||(sP=1,function(i){i.exports=e;function e(r){if(r)return t(r)}function t(r){for(var n in e.prototype)r[n]=e.prototype[n];return r}e.prototype.on=e.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(n),this},e.prototype.once=function(r,n){function s(){this.off(r,s),n.apply(this,arguments)}return s.fn=n,this.on(r,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===n||o.fn===n){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+r],this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),s=this._callbacks["$"+r],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,n)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length}}(Zf)),Zf.exports}var D8=x8(),CN=Y(D8);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function kt(){return kt=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},kt.apply(this,arguments)}function $t(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function oo(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var Km;typeof Object.assign!="function"?Km=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])}return t}:Km=Object.assign;var ni=Km,oP=["","webkit","Moz","MS","ms","o"],M8=typeof document>"u"?{style:{}}:document.createElement("div"),A8="function",Fi=Math.round,si=Math.abs,Gb=Date.now;function ra(i,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),s=0;s<oP.length;){if(t=oP[s],r=t?t+n:e,r in i)return r;s++}}var nr;typeof window>"u"?nr={}:nr=window;var xN=ra(M8.style,"touchAction"),DN=xN!==void 0;function k8(){if(!DN)return!1;var i={},e=nr.CSS&&nr.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=e?nr.CSS.supports("touch-action",t):!0}),i}var MN="compute",AN="auto",Ym="manipulation",Qr="none",ds="pan-x",cs="pan-y",ao=k8(),N8=/mobile|tablet|ip(ad|hone|od)|android/i,kN="ontouchstart"in nr,F8=ra(nr,"PointerEvent")!==void 0,B8=kN&&N8.test(navigator.userAgent),Ls="touch",j8="pen",Ub="mouse",L8="kinect",z8=25,ot=1,yi=2,De=4,lt=8,Oo=1,zs=2,Ws=4,Hs=8,Ji=16,Gt=zs|Ws,ei=Hs|Ji,NN=Gt|ei,FN=["x","y"],Io=["clientX","clientY"];function sr(i,e,t){var r;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(r=0;r<i.length;)e.call(t,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&e.call(t,i[r],r,i)}function ia(i,e){return typeof i===A8?i.apply(e&&e[0]||void 0,e):i}function Kr(i,e){return i.indexOf(e)>-1}function W8(i){if(Kr(i,Qr))return Qr;var e=Kr(i,ds),t=Kr(i,cs);return e&&t?Qr:e||t?e?ds:cs:Kr(i,Ym)?Ym:AN}var BN=function(){function i(t,r){this.manager=t,this.set(r)}var e=i.prototype;return e.set=function(r){r===MN&&(r=this.compute()),DN&&this.manager.element.style&&ao[r]&&(this.manager.element.style[xN]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return sr(this.manager.recognizers,function(n){ia(n.options.enable,[n])&&(r=r.concat(n.getTouchAction()))}),W8(r.join(" "))},e.preventDefaults=function(r){var n=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var o=this.actions,a=Kr(o,Qr)&&!ao[Qr],u=Kr(o,cs)&&!ao[cs],l=Kr(o,ds)&&!ao[ds];if(a){var d=r.pointers.length===1,c=r.distance<2,h=r.deltaTime<250;if(d&&c&&h)return}if(!(l&&u)&&(a||u&&s&Gt||l&&s&ei))return this.preventSrc(n)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},i}();function Vb(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function jN(i){var e=i.length;if(e===1)return{x:Fi(i[0].clientX),y:Fi(i[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=i[n].clientX,r+=i[n].clientY,n++;return{x:Fi(t/e),y:Fi(r/e)}}function aP(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:Fi(i.pointers[t].clientX),clientY:Fi(i.pointers[t].clientY)},t++;return{timeStamp:Gb(),pointers:e,center:jN(e),deltaX:i.deltaX,deltaY:i.deltaY}}function $o(i,e,t){t||(t=FN);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.sqrt(r*r+n*n)}function Xm(i,e,t){t||(t=FN);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.atan2(n,r)*180/Math.PI}function LN(i,e){return i===e?Oo:si(i)>=si(e)?i<0?zs:Ws:e<0?Hs:Ji}function H8(i,e){var t=e.center,r=i.offsetDelta||{},n=i.prevDelta||{},s=i.prevInput||{};(e.eventType===ot||s.eventType===De)&&(n=i.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=i.offsetDelta={x:t.x,y:t.y}),e.deltaX=n.x+(t.x-r.x),e.deltaY=n.y+(t.y-r.y)}function zN(i,e,t){return{x:e/i||0,y:t/i||0}}function G8(i,e){return $o(e[0],e[1],Io)/$o(i[0],i[1],Io)}function U8(i,e){return Xm(e[1],e[0],Io)+Xm(i[1],i[0],Io)}function V8(i,e){var t=i.lastInterval||e,r=e.timeStamp-t.timeStamp,n,s,o,a;if(e.eventType!==lt&&(r>z8||t.velocity===void 0)){var u=e.deltaX-t.deltaX,l=e.deltaY-t.deltaY,d=zN(r,u,l);s=d.x,o=d.y,n=si(d.x)>si(d.y)?d.x:d.y,a=LN(u,l),i.lastInterval=e}else n=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=n,e.velocityX=s,e.velocityY=o,e.direction=a}function K8(i,e){var t=i.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=aP(e)),n>1&&!t.firstMultiple?t.firstMultiple=aP(e):n===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,u=e.center=jN(r);e.timeStamp=Gb(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Xm(a,u),e.distance=$o(a,u),H8(t,e),e.offsetDirection=LN(e.deltaX,e.deltaY);var l=zN(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=si(l.x)>si(l.y)?l.x:l.y,e.scale=o?G8(o.pointers,r):1,e.rotation=o?U8(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,V8(t,e);var d=i.element,c=e.srcEvent,h;c.composedPath?h=c.composedPath()[0]:c.path?h=c.path[0]:h=c.target,Vb(h,d)&&(d=h),e.target=d}function Y8(i,e,t){var r=t.pointers.length,n=t.changedPointers.length,s=e&ot&&r-n===0,o=e&(De|lt)&&r-n===0;t.isFirst=!!s,t.isFinal=!!o,s&&(i.session={}),t.eventType=e,K8(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function hs(i){return i.trim().split(/\s+/g)}function Xn(i,e,t){sr(hs(e),function(r){i.addEventListener(r,t,!1)})}function Zn(i,e,t){sr(hs(e),function(r){i.removeEventListener(r,t,!1)})}function uP(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var $n=function(){function i(t,r){var n=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){ia(t.options.enable,[t])&&n.handler(s)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Xn(this.element,this.evEl,this.domHandler),this.evTarget&&Xn(this.target,this.evTarget,this.domHandler),this.evWin&&Xn(uP(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Zn(this.element,this.evEl,this.domHandler),this.evTarget&&Zn(this.target,this.evTarget,this.domHandler),this.evWin&&Zn(uP(this.element),this.evWin,this.domHandler)},i}();function oi(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var r=0;r<i.length;){if(t&&i[r][t]==e||!t&&i[r]===e)return r;r++}return-1}var X8={pointerdown:ot,pointermove:yi,pointerup:De,pointercancel:lt,pointerout:lt},Z8={2:Ls,3:j8,4:Ub,5:L8},WN="pointerdown",HN="pointermove pointerup pointercancel";nr.MSPointerEvent&&!nr.PointerEvent&&(WN="MSPointerDown",HN="MSPointerMove MSPointerUp MSPointerCancel");var GN=function(i){$t(e,i);function e(){var r,n=e.prototype;return n.evEl=WN,n.evWin=HN,r=i.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(n){var s=this.store,o=!1,a=n.type.toLowerCase().replace("ms",""),u=X8[a],l=Z8[n.pointerType]||n.pointerType,d=l===Ls,c=oi(s,n.pointerId,"pointerId");u&ot&&(n.button===0||d)?c<0&&(s.push(n),c=s.length-1):u&(De|lt)&&(o=!0),!(c<0)&&(s[c]=n,this.callback(this.manager,u,{pointers:s,changedPointers:[n],pointerType:l,srcEvent:n}),o&&s.splice(c,1))},e}($n);function fs(i){return Array.prototype.slice.call(i,0)}function Kb(i,e,t){for(var r=[],n=[],s=0;s<i.length;){var o=e?i[s][e]:i[s];oi(n,o)<0&&r.push(i[s]),n[s]=o,s++}return t&&(e?r=r.sort(function(a,u){return a[e]>u[e]}):r=r.sort()),r}var J8={touchstart:ot,touchmove:yi,touchend:De,touchcancel:lt},Q8="touchstart touchmove touchend touchcancel",Yb=function(i){$t(e,i);function e(){var r;return e.prototype.evTarget=Q8,r=i.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(n){var s=J8[n.type],o=eW.call(this,n,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Ls,srcEvent:n})},e}($n);function eW(i,e){var t=fs(i.touches),r=this.targetIds;if(e&(ot|yi)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var n,s,o=fs(i.changedTouches),a=[],u=this.target;if(s=t.filter(function(l){return Vb(l.target,u)}),e===ot)for(n=0;n<s.length;)r[s[n].identifier]=!0,n++;for(n=0;n<o.length;)r[o[n].identifier]&&a.push(o[n]),e&(De|lt)&&delete r[o[n].identifier],n++;if(a.length)return[Kb(s.concat(a),"identifier",!0),a]}var tW={mousedown:ot,mousemove:yi,mouseup:De},rW="mousedown",iW="mousemove mouseup",Xb=function(i){$t(e,i);function e(){var r,n=e.prototype;return n.evEl=rW,n.evWin=iW,r=i.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(n){var s=tW[n.type];s&ot&&n.button===0&&(this.pressed=!0),s&yi&&n.which!==1&&(s=De),this.pressed&&(s&De&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[n],changedPointers:[n],pointerType:Ub,srcEvent:n}))},e}($n),nW=2500,lP=25;function dP(i){var e=i.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},n=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=n.indexOf(r);a>-1&&n.splice(a,1)};setTimeout(s,nW)}}function sW(i,e){i&ot?(this.primaryTouch=e.changedPointers[0].identifier,dP.call(this,e)):i&(De|lt)&&dP.call(this,e)}function oW(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],s=Math.abs(e-n.x),o=Math.abs(t-n.y);if(s<=lP&&o<=lP)return!0}return!1}var UN=function(){var i=function(e){$t(t,e);function t(n,s){var o;return o=e.call(this,n,s)||this,o.handler=function(a,u,l){var d=l.pointerType===Ls,c=l.pointerType===Ub;if(!(c&&l.sourceCapabilities&&l.sourceCapabilities.firesTouchEvents)){if(d)sW.call(oo(oo(o)),u,l);else if(c&&oW.call(oo(oo(o)),l))return;o.callback(a,u,l)}},o.touch=new Yb(o.manager,o.handler),o.mouse=new Xb(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}($n);return i}();function aW(i){var e,t=i.options.inputClass;return t?e=t:F8?e=GN:B8?e=Yb:kN?e=UN:e=Xb,new e(i,Y8)}function Bi(i,e,t){return Array.isArray(i)?(sr(i,t[e],t),!0):!1}var ho=1,bt=2,Qi=4,wr=8,or=wr,vs=16,Lt=32,uW=1;function lW(){return uW++}function uo(i,e){var t=e.manager;return t?t.get(i):i}function cP(i){return i&vs?"cancel":i&wr?"end":i&Qi?"move":i&bt?"start":""}var Gs=function(){function i(t){t===void 0&&(t={}),this.options=kt({enable:!0},t),this.id=lW(),this.manager=null,this.state=ho,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(r){return ni(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(Bi(r,"recognizeWith",this))return this;var n=this.simultaneous;return r=uo(r,this),n[r.id]||(n[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return Bi(r,"dropRecognizeWith",this)?this:(r=uo(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(Bi(r,"requireFailure",this))return this;var n=this.requireFail;return r=uo(r,this),oi(n,r)===-1&&(n.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(Bi(r,"dropRequireFailure",this))return this;r=uo(r,this);var n=oi(this.requireFail,r);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var n=this,s=this.state;function o(a){n.manager.emit(a,r)}s<wr&&o(n.options.event+cP(s)),o(n.options.event),r.additionalEvent&&o(r.additionalEvent),s>=wr&&o(n.options.event+cP(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=Lt},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(Lt|ho)))return!1;r++}return!0},e.recognize=function(r){var n=ni({},r);if(!ia(this.options.enable,[this,n])){this.reset(),this.state=Lt;return}this.state&(or|vs|Lt)&&(this.state=ho),this.state=this.process(n),this.state&(bt|Qi|wr|vs)&&this.tryEmit(n)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},i}(),Zm=function(i){$t(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,kt({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var t=e.prototype;return t.getTouchAction=function(){return[Ym]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,u=n.distance<o.threshold,l=n.deltaTime<o.time;if(this.reset(),n.eventType&ot&&this.count===0)return this.failTimeout();if(u&&l&&a){if(n.eventType!==De)return this.failTimeout();var d=this.pTime?n.timeStamp-this.pTime<o.interval:!0,c=!this.pCenter||$o(this.pCenter,n.center)<o.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!c||!d?this.count=1:this.count+=1,this._input=n;var h=this.count%o.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=or,s.tryEmit()},o.interval),bt):or}return Lt},t.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=Lt},this.options.interval),Lt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===or&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Gs),en=function(i){$t(e,i);function e(r){return r===void 0&&(r={}),i.call(this,kt({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(n){var s=this.options.pointers;return s===0||n.pointers.length===s},t.process=function(n){var s=this.state,o=n.eventType,a=s&(bt|Qi),u=this.attrTest(n);return a&&(o&lt||!u)?s|vs:a||u?o&De?s|wr:s&bt?s|Qi:bt:Lt},e}(Gs);function VN(i){return i===Ji?"down":i===Hs?"up":i===zs?"left":i===Ws?"right":""}var Zb=function(i){$t(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,kt({event:"pan",threshold:10,pointers:1,direction:NN},r))||this,n.pX=null,n.pY=null,n}var t=e.prototype;return t.getTouchAction=function(){var n=this.options.direction,s=[];return n&Gt&&s.push(cs),n&ei&&s.push(ds),s},t.directionTest=function(n){var s=this.options,o=!0,a=n.distance,u=n.direction,l=n.deltaX,d=n.deltaY;return u&s.direction||(s.direction&Gt?(u=l===0?Oo:l<0?zs:Ws,o=l!==this.pX,a=Math.abs(n.deltaX)):(u=d===0?Oo:d<0?Hs:Ji,o=d!==this.pY,a=Math.abs(n.deltaY))),n.direction=u,o&&a>s.threshold&&u&s.direction},t.attrTest=function(n){return en.prototype.attrTest.call(this,n)&&(this.state&bt||!(this.state&bt)&&this.directionTest(n))},t.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var s=VN(n.direction);s&&(n.additionalEvent=this.options.event+s),i.prototype.emit.call(this,n)},e}(en),KN=function(i){$t(e,i);function e(r){return r===void 0&&(r={}),i.call(this,kt({event:"swipe",threshold:10,velocity:.3,direction:Gt|ei,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return Zb.prototype.getTouchAction.call(this)},t.attrTest=function(n){var s=this.options.direction,o;return s&(Gt|ei)?o=n.overallVelocity:s&Gt?o=n.overallVelocityX:s&ei&&(o=n.overallVelocityY),i.prototype.attrTest.call(this,n)&&s&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&si(o)>this.options.velocity&&n.eventType&De},t.emit=function(n){var s=VN(n.offsetDirection);s&&this.manager.emit(this.options.event+s,n),this.manager.emit(this.options.event,n)},e}(en),YN=function(i){$t(e,i);function e(r){return r===void 0&&(r={}),i.call(this,kt({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Qr]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&bt)},t.emit=function(n){if(n.scale!==1){var s=n.scale<1?"in":"out";n.additionalEvent=this.options.event+s}i.prototype.emit.call(this,n)},e}(en),XN=function(i){$t(e,i);function e(r){return r===void 0&&(r={}),i.call(this,kt({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Qr]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&bt)},e}(en),ZN=function(i){$t(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,kt({event:"press",pointers:1,time:251,threshold:9},r))||this,n._timer=null,n._input=null,n}var t=e.prototype;return t.getTouchAction=function(){return[AN]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,u=n.distance<o.threshold,l=n.deltaTime>o.time;if(this._input=n,!u||!a||n.eventType&(De|lt)&&!l)this.reset();else if(n.eventType&ot)this.reset(),this._timer=setTimeout(function(){s.state=or,s.tryEmit()},o.time);else if(n.eventType&De)return or;return Lt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(n){this.state===or&&(n&&n.eventType&De?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=Gb(),this.manager.emit(this.options.event,this._input)))},e}(Gs),JN={domEvents:!1,touchAction:MN,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},hP=[[XN,{enable:!1}],[YN,{enable:!1},["rotate"]],[KN,{direction:Gt}],[Zb,{direction:Gt},["swipe"]],[Zm],[Zm,{event:"doubletap",taps:2},["tap"]],[ZN]],dW=1,fP=2;function vP(i,e){var t=i.element;if(t.style){var r;sr(i.options.cssProps,function(n,s){r=ra(t.style,s),e?(i.oldCssProps[r]=t.style[r],t.style[r]=n):t.style[r]=i.oldCssProps[r]||""}),e||(i.oldCssProps={})}}function cW(i,e){var t=document.createEvent("Event");t.initEvent(i,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var pP=function(){function i(t,r){var n=this;this.options=ni({},JN,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=aW(this),this.touchAction=new BN(this,this.options.touchAction),vP(this,!0),sr(this.options.recognizers,function(s){var o=n.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=i.prototype;return e.set=function(r){return ni(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?fP:dW},e.recognize=function(r){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&or)&&(n.curRecognizer=null,a=null);for(var u=0;u<o.length;)s=o[u],n.stopped!==fP&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(bt|Qi|wr)&&(n.curRecognizer=s,a=s),u++}},e.get=function(r){if(r instanceof Gs)return r;for(var n=this.recognizers,s=0;s<n.length;s++)if(n[s].options.event===r)return n[s];return null},e.add=function(r){if(Bi(r,"add",this))return this;var n=this.get(r.options.event);return n&&this.remove(n),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(Bi(r,"remove",this))return this;var n=this.get(r);if(r){var s=this.recognizers,o=oi(s,n);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,n){if(r===void 0||n===void 0)return this;var s=this.handlers;return sr(hs(r),function(o){s[o]=s[o]||[],s[o].push(n)}),this},e.off=function(r,n){if(r===void 0)return this;var s=this.handlers;return sr(hs(r),function(o){n?s[o]&&s[o].splice(oi(s[o],n),1):delete s[o]}),this},e.emit=function(r,n){this.options.domEvents&&cW(r,n);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){n.type=r,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](n),o++}},e.destroy=function(){this.element&&vP(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i}(),hW={touchstart:ot,touchmove:yi,touchend:De,touchcancel:lt},fW="touchstart",vW="touchstart touchmove touchend touchcancel",pW=function(i){$t(e,i);function e(){var r,n=e.prototype;return n.evTarget=fW,n.evWin=vW,r=i.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(n){var s=hW[n.type];if(s===ot&&(this.started=!0),!!this.started){var o=gW.call(this,n,s);s&(De|lt)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Ls,srcEvent:n})}},e}($n);function gW(i,e){var t=fs(i.touches),r=fs(i.changedTouches);return e&(De|lt)&&(t=Kb(t.concat(r),"identifier",!0)),[t,r]}function QN(i,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),s=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),i.apply(this,arguments)}}var eF=QN(function(i,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&i[r[n]]===void 0)&&(i[r[n]]=e[r[n]]),n++;return i},"extend","Use `assign`."),yW=QN(function(i,e){return eF(i,e,!0)},"merge","Use `assign`.");function mW(i,e,t){var r=e.prototype,n;n=i.prototype=Object.create(r),n.constructor=i,n._super=r,t&&ni(n,t)}function gP(i,e){return function(){return i.apply(e,arguments)}}var tF=function(){var i=function(t,r){return r===void 0&&(r={}),new pP(t,kt({recognizers:hP.concat()},r))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=NN,i.DIRECTION_DOWN=Ji,i.DIRECTION_LEFT=zs,i.DIRECTION_RIGHT=Ws,i.DIRECTION_UP=Hs,i.DIRECTION_HORIZONTAL=Gt,i.DIRECTION_VERTICAL=ei,i.DIRECTION_NONE=Oo,i.DIRECTION_DOWN=Ji,i.INPUT_START=ot,i.INPUT_MOVE=yi,i.INPUT_END=De,i.INPUT_CANCEL=lt,i.STATE_POSSIBLE=ho,i.STATE_BEGAN=bt,i.STATE_CHANGED=Qi,i.STATE_ENDED=wr,i.STATE_RECOGNIZED=or,i.STATE_CANCELLED=vs,i.STATE_FAILED=Lt,i.Manager=pP,i.Input=$n,i.TouchAction=BN,i.TouchInput=Yb,i.MouseInput=Xb,i.PointerEventInput=GN,i.TouchMouseInput=UN,i.SingleTouchInput=pW,i.Recognizer=Gs,i.AttrRecognizer=en,i.Tap=Zm,i.Pan=Zb,i.Swipe=KN,i.Pinch=YN,i.Rotate=XN,i.Press=ZN,i.on=Xn,i.off=Zn,i.each=sr,i.merge=yW,i.extend=eF,i.bindFn=gP,i.assign=ni,i.inherit=mW,i.bindFn=gP,i.prefixed=ra,i.toArray=fs,i.inArray=oi,i.uniqueArray=Kb,i.splitStr=hs,i.boolOrFn=ia,i.hasParent=Vb,i.addEventListeners=Xn,i.removeEventListeners=Zn,i.defaults=ni({},JN,{preset:hP}),i}();tF.defaults;/**
 * vis-util
 * https://github.com/visjs/vis-util
 *
 * utilitie collection for visjs
 *
 * @version 6.0.0
 * @date    2025-07-12T18:02:43.836Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function na(...i){return bW(i.length?i:[Date.now()])}function bW(i){let[e,t,r]=_W(i),n=1;const s=()=>{const o=2091639*e+n*23283064365386963e-26;return e=t,t=r,r=o-(n=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=i,s.version="0.9",s}function _W(...i){const e=wW();let t=e(" "),r=e(" "),n=e(" ");for(let s=0;s<i.length;s++)t-=e(i[s]),t<0&&(t+=1),r-=e(i[s]),r<0&&(r+=1),n-=e(i[s]),n<0&&(n+=1);return[t,r,n]}function wW(){let i=4022871197;return function(e){const t=e.toString();for(let r=0;r<t.length;r++){i+=t.charCodeAt(r);let n=.02519603282416938*i;i=n>>>0,n-=i,n*=i,i=n>>>0,n-=i,i+=n*4294967296}return(i>>>0)*23283064365386963e-26}}function EW(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}const Jb=typeof window<"u"?window.Hammer||tF:function(){return EW()};function zt(i){this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const e=Jb(this._dom.overlay);e.on("tap",this._onTapOverlay.bind(this)),this._cleanupQueue.push(()=>{e.destroy()}),["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(r=>{e.on(r,n=>{n.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=r=>{SW(r.target,i)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=r=>{("key"in r?r.key==="Escape":r.keyCode===27)&&this.deactivate()}}CN(zt.prototype);zt.current=null;zt.prototype.destroy=function(){this.deactivate();for(const i of this._cleanupQueue.splice(0).reverse())i()};zt.prototype.activate=function(){zt.current&&zt.current.deactivate(),zt.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};zt.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};zt.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};function SW(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}const OW=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,IW=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,$W=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,TW=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function pr(i){if(i)for(;i.hasChildNodes()===!0;){const e=i.firstChild;e&&(pr(e),i.removeChild(e))}}function ji(i){return i instanceof String||typeof i=="string"}function yP(i){return typeof i=="object"&&i!==null}function ai(i,e,t,r){let n=!1;r===!0&&(n=e[t]===null&&i[t]!==void 0),n?delete i[t]:i[t]=e[t]}function rF(i,e,t=!1){for(const r in i)if(e[r]!==void 0)if(e[r]===null||typeof e[r]!="object")ai(i,e,r,t);else{const n=i[r],s=e[r];yP(n)&&yP(s)&&rF(n,s,t)}}function Tn(i,e,t,r=!1){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(let n=0;n<i.length;n++){const s=i[n];if(Object.prototype.hasOwnProperty.call(t,s))if(t[s]&&t[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?pe(e[s],t[s],!1,r):ai(e,t,s,r);else{if(Array.isArray(t[s]))throw new TypeError("Arrays are not supported by deepExtend");ai(e,t,s,r)}}return e}function To(i,e,t,r=!1){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!i.includes(n))if(t[n]&&t[n].constructor===Object)e[n]===void 0&&(e[n]={}),e[n].constructor===Object?pe(e[n],t[n]):ai(e,t,n,r);else if(Array.isArray(t[n])){e[n]=[];for(let s=0;s<t[n].length;s++)e[n].push(t[n][s])}else ai(e,t,n,r);return e}function pe(i,e,t=!1,r=!1){for(const n in e)(Object.prototype.hasOwnProperty.call(e,n)||t===!0)&&(typeof e[n]=="object"&&e[n]!==null&&Object.getPrototypeOf(e[n])===Object.prototype?i[n]===void 0?i[n]=pe({},e[n],t):typeof i[n]=="object"&&i[n]!==null&&Object.getPrototypeOf(i[n])===Object.prototype?pe(i[n],e[n],t):ai(i,e,n,r):Array.isArray(e[n])?i[n]=e[n].slice():ai(i,e,n,r));return i}function Po(i,e){return[...i,e]}function PW(i){return i.slice()}function RW(i){return i.getBoundingClientRect().left}function qW(i){return i.getBoundingClientRect().top}function re(i,e){if(Array.isArray(i)){const t=i.length;for(let r=0;r<t;r++)e(i[r],r,i)}else for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(i[t],t,i)}function Qb(i){let e;switch(i.length){case 3:case 4:return e=IW.exec(i),e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16)}:null;case 6:case 7:return e=OW.exec(i),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null;default:return null}}function gt(i,e){if(i.includes("rgba"))return i;if(i.includes("rgb")){const t=i.substr(i.indexOf("(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{const t=Qb(i);return t==null?i:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function iF(i,e,t){return"#"+((1<<24)+(i<<16)+(e<<8)+t).toString(16).slice(1)}function Jm(i,e){if(ji(i)){let t=i;if(sF(t)){const r=t.substr(4).substr(0,t.length-5).split(",").map(function(n){return parseInt(n)});t=iF(r[0],r[1],r[2])}if(nF(t)===!0){const r=CW(t),n={h:r.h,s:r.s*.8,v:Math.min(1,r.v*1.02)},s={h:r.h,s:Math.min(1,r.s*1.25),v:r.v*.8},o=Qm(s.h,s.s,s.v),a=Qm(n.h,n.s,n.v);return{background:t,border:o,highlight:{background:a,border:o},hover:{background:a,border:o}}}else return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else return{background:i.background||void 0,border:i.border||void 0,highlight:ji(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||void 0,border:i.highlight&&i.highlight.border||void 0},hover:ji(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||void 0,background:i.hover&&i.hover.background||void 0}}}function Un(i,e,t){i=i/255,e=e/255,t=t/255;const r=Math.min(i,Math.min(e,t)),n=Math.max(i,Math.max(e,t));if(r===n)return{h:0,s:0,v:r};const s=i===r?e-t:t===r?i-e:t-i,a=60*((i===r?3:t===r?1:5)-s/(n-r))/360,u=(n-r)/n;return{h:a,s:u,v:n}}function fo(i,e,t){let r,n,s;const o=Math.floor(i*6),a=i*6-o,u=t*(1-e),l=t*(1-a*e),d=t*(1-(1-a)*e);switch(o%6){case 0:r=t,n=d,s=u;break;case 1:r=l,n=t,s=u;break;case 2:r=u,n=t,s=d;break;case 3:r=u,n=l,s=t;break;case 4:r=d,n=u,s=t;break;case 5:r=t,n=u,s=l;break}return{r:Math.floor(r*255),g:Math.floor(n*255),b:Math.floor(s*255)}}function Qm(i,e,t){const r=fo(i,e,t);return iF(r.r,r.g,r.b)}function CW(i){const e=Qb(i);if(!e)throw new TypeError(`'${i}' is not a valid color.`);return Un(e.r,e.g,e.b)}function nF(i){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(i)}function sF(i){return $W.test(i)}function xW(i){return TW.test(i)}function Er(i){if(i===null||typeof i!="object")return null;if(i instanceof Element)return i;const e=Object.create(i);for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&typeof i[t]=="object"&&(e[t]=Er(i[t]));return e}function pt(i,e,t,r={}){const n=function(f){return f!=null},s=function(f){return f!==null&&typeof f=="object"},o=function(f){for(const v in f)if(Object.prototype.hasOwnProperty.call(f,v))return!1;return!0};if(!s(i))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!n(t))throw new Error("Parameter option must have a value");if(!s(r))throw new Error("Parameter globalOptions must be an object");const a=function(f,v,p){s(f[p])||(f[p]={});const m=v[p],g=f[p];for(const y in m)Object.prototype.hasOwnProperty.call(m,y)&&(g[y]=m[y])},u=e[t],d=s(r)&&!o(r)?r[t]:void 0,c=d?d.enabled:void 0;if(u===void 0)return;if(typeof u=="boolean"){s(i[t])||(i[t]={}),i[t].enabled=u;return}if(u===null&&!s(i[t]))if(n(d))i[t]=Object.create(d);else return;if(!s(u))return;let h=!0;u.enabled!==void 0?h=u.enabled:c!==void 0&&(h=d.enabled),a(i,e,t),i[t].enabled=h}const DW={linear(i){return i},easeInQuad(i){return i*i},easeOutQuad(i){return i*(2-i)},easeInOutQuad(i){return i<.5?2*i*i:-1+(4-2*i)*i},easeInCubic(i){return i*i*i},easeOutCubic(i){return--i*i*i+1},easeInOutCubic(i){return i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1},easeInQuart(i){return i*i*i*i},easeOutQuart(i){return 1- --i*i*i*i},easeInOutQuart(i){return i<.5?8*i*i*i*i:1-8*--i*i*i*i},easeInQuint(i){return i*i*i*i*i},easeOutQuint(i){return 1+--i*i*i*i*i},easeInOutQuint(i){return i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i}};function gr(i,e){let t;Array.isArray(e)||(e=[e]);for(const r of i)if(r){t=r[e[0]];for(let n=1;n<e.length;n++)t&&(t=t[e[n]]);if(typeof t<"u")break}return t}const MW={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let AW=class{constructor(e=1){this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return MW[e]}setColor(e,t=!0){if(e==="none")return;let r;const n=this._isColorString(e);if(n!==void 0&&(e=n),ji(e)===!0){if(sF(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if(xW(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(nF(e)===!0){const s=Qb(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(e=!0){e===!0&&(this.previousColor=Object.assign({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e,t=!0){t===!0&&(this.initialColor=Object.assign({},e)),this.color=e;const r=Un(e.r,e.g,e.b),n=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(n*r.h),a=this.centerCoordinates.y+s*Math.cos(n*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=Un(this.color.r,this.color.g,this.color.b);t.v=e/100;const r=fo(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(e=this.color){const t=Un(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const n=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,n,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),r.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new Jb(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let n,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;const u=2*Math.PI/360,l=1/360,d=1/this.r;let c;for(o=0;o<360;o++)for(a=0;a<this.r;a++)n=this.centerCoordinates.x+a*Math.sin(u*o),s=this.centerCoordinates.y+a*Math.cos(u*o),c=fo(o*l,a*d,1),e.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",e.fillRect(n-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,n=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,u=n-s,l=Math.atan2(a,u),d=.98*Math.min(Math.sqrt(a*a+u*u),o),c=Math.cos(l)*d+s,h=Math.sin(l)*d+o;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";let f=l/(2*Math.PI);f=f<0?f+1:f;const v=d/this.r,p=Un(this.color.r,this.color.g,this.color.b);p.h=f,p.s=v;const m=fo(p.h,p.s,p.v);m.a=this.color.a,this.color=m,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function eb(...i){if(i.length<1)throw new TypeError("Invalid arguments.");if(i.length===1)return document.createTextNode(i[0]);{const e=document.createElement(i[0]);return e.appendChild(eb(...i.slice(1))),e}}let kW=class{constructor(e,t,r,n=1,s=()=>!1){this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Object.assign(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new AW(n),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Array.isArray(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),e.filter!==void 0&&(this.options.filter=e.filter),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);this.options.filter===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=this.options.filter;let t=0,r=!1;for(const n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(n,[]),r=r||this._handleObject(this.configureOptions[n],[n],!0)):(e===!0||e.indexOf(n)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e,...t){if(this.allowCreation===!0){const r=document.createElement("div");return r.className="vis-configuration vis-config-item vis-config-s"+e.length,t.forEach(n=>{r.appendChild(n)}),this.domElements.push(r),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t,r=!1){const n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(eb("i","b",e))}else n.innerText=e+":";return n}_makeDropdown(e,t,r){const n=document.createElement("select");n.className="vis-configuration vis-config-select";let s=0;t!==void 0&&e.indexOf(t)!==-1&&(s=e.indexOf(t));for(let u=0;u<e.length;u++){const l=document.createElement("option");l.value=e[u],u===s&&(l.selected="selected"),l.innerText=e[u],n.appendChild(l)}const o=this;n.onchange=function(){o._update(this.value,r)};const a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,n)}_makeRange(e,t,r){const n=e[0],s=e[1],o=e[2],a=e[3],u=document.createElement("input");u.className="vis-configuration vis-config-range";try{u.type="range",u.min=s,u.max=o}catch{}u.step=a;let l="",d=0;t!==void 0?(t<0&&t*1.2<s?(u.min=Math.ceil(t*1.2),d=u.min,l="range increased"):t/1.2<s&&(u.min=Math.ceil(t/1.2),d=u.min,l="range increased"),t*1.2>o&&o!==1&&(u.max=Math.ceil(t*1.2),d=u.max,l="range increased"),u.value=t):u.value=n;const c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=u.value;const h=this;u.onchange=function(){c.value=this.value,h._update(Number(this.value),r)},u.oninput=function(){c.value=this.value};const f=this._makeLabel(r[r.length-1],r),v=this._makeItem(r,f,u,c);l!==""&&this.popupHistory[v]!==d&&(this.popupHistory[v]=d,this._setupPopup(l,v))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=e,r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){const n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,t!==void 0&&(n.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));const s=this;n.onchange=function(){s._update(this.checked,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,n)}_makeTextInput(e,t,r){const n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=t,t!==e&&this.changedOptions.push({path:r,value:t});const s=this;n.onchange=function(){s._update(this.value,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,n)}_makeColorField(e,t,r){const n=e[1],s=document.createElement("div");t=t===void 0?n:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?n:t,s.onclick=()=>{this._showColorPicker(t,s,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(n=>{const s="rgba("+n.r+","+n.g+","+n.b+","+n.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e,t=[],r=!1){let n=!1;const s=this.options.filter;let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){n=!0;const u=e[a],l=Po(t,a);if(typeof s=="function"&&(n=s(a,t),n===!1&&!Array.isArray(u)&&typeof u!="string"&&typeof u!="boolean"&&u instanceof Object&&(this.allowCreation=!1,n=this._handleObject(u,l,!0),this.allowCreation=r===!1)),n!==!1){o=!0;const d=this._getValue(l);if(Array.isArray(u))this._handleArray(u,d,l);else if(typeof u=="string")this._makeTextInput(u,d,l);else if(typeof u=="boolean")this._makeCheckbox(u,d,l);else if(u instanceof Object){if(!this.hideOption(t,a,this.moduleOptions))if(u.enabled!==void 0){const c=Po(l,"enabled"),h=this._getValue(c);if(h===!0){const f=this._makeLabel(a,l,!0);this._makeItem(l,f),o=this._handleObject(u,l)||o}else this._makeCheckbox(u,h,l)}else{const c=this._makeLabel(a,l,!0);this._makeItem(l,c),o=this._handleObject(u,l)||o}}else console.error("dont know how to handle",u,a,l)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){const r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t,r={}){let n=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(n[t[s]]===void 0&&(n[t[s]]={}),s!==t.length-1?n=n[t[s]]:n[t[s]]=e);return r}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(eb("pre","const options = "+JSON.stringify(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},NW=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=parseInt(e),this.y=parseInt(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const t=this.frame.clientHeight,r=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let u=!1,l=!0;this.y-t<this.padding&&(l=!1),this.x+r>s-this.padding&&(u=!0),u?o=this.x-r:o=this.x,l?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>n&&(a=n-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Hn=!1,mP;const tb="background: #FFeeee; color: #dd0000";let FW=class $e{static validate(e,t,r){Hn=!1,mP=t;let n=t;return r!==void 0&&(n=t[r]),$e.parse(e,n,[]),Hn}static parse(e,t,r){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&$e.check(n,e,t,r)}static check(e,t,r,n){if(r[e]===void 0&&r.__any__===void 0){$e.getSuggestion(e,r,n);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=$e.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),$e.checkFields(e,t,r,s,a,n)}static checkFields(e,t,r,n,s,o){const a=function(d){console.error("%c"+d+$e.printLocation(o,e),tb)},u=$e.getType(t[e]),l=s[u];l!==void 0?$e.getType(l)==="array"&&l.indexOf(t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+$e.print(l)+' not "'+t[e]+'". '),Hn=!0):u==="object"&&n!=="__any__"&&(o=Po(o,e),$e.parse(t[e],r[n],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+$e.print(Object.keys(s))+". Received ["+u+'] "'+t[e]+'"'),Hn=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){const n=$e.findInOptions(e,t,r,!1),s=$e.findInOptions(e,mP,[],!0),o=8,a=4;let u;n.indexMatch!==void 0?u=" in "+$e.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+`"?

`:s.distance<=a&&n.distance>s.distance?u=" in "+$e.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+$e.printLocation(s.path,s.closestMatch,""):n.distance<=o?u='. Did you mean "'+n.closestMatch+'"?'+$e.printLocation(n.path,e):u=". Did you mean one of these: "+$e.print(Object.keys(t))+$e.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+u,tb),Hn=!0}static findInOptions(e,t,r,n=!1){let s=1e9,o="",a=[];const u=e.toLowerCase();let l;for(const d in t){let c;if(t[d].__type__!==void 0&&n===!0){const h=$e.findInOptions(e,t[d],Po(r,d));s>h.distance&&(o=h.closestMatch,a=h.path,s=h.distance,l=h.indexMatch)}else d.toLowerCase().indexOf(u)!==-1&&(l=d),c=$e.levenshteinDistance(e,d),s>c&&(o=d,a=PW(r),s=c)}return{closestMatch:o,path:a,distance:s,indexMatch:l}}static printLocation(e,t,r=`Problem value found at: 
`){let n=`

`+r+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)n+="  ";n+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)n+="  ";n+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)n+="  ";n+=`}
`}return n+`

`}static print(e){return JSON.stringify(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const r=[];let n;for(n=0;n<=t.length;n++)r[n]=[n];let s;for(s=0;s<=e.length;s++)r[0][s]=s;for(n=1;n<=t.length;n++)for(s=1;s<=e.length;s++)t.charAt(n-1)==e.charAt(s-1)?r[n][s]=r[n-1][s-1]:r[n][s]=Math.min(r[n-1][s-1]+1,Math.min(r[n][s-1]+1,r[n-1][s]+1));return r[t.length][e.length]}};const BW=zt,jW=kW,Li=Jb,LW=NW,oF=tb,zW=FW;var bP={},Jf={},_P;function e1(){if(_P)return Jf;_P=1;var i=Pe(),e=IN(),t=It(),r=Vt(),n=Ft(),s=js();return Jf.f=i&&!e?Object.defineProperties:function(a,u){r(a);for(var l=n(u),d=s(u),c=d.length,h=0,f;c>h;)t.f(a,f=d[h++],l[f]);return a},Jf}var Qf,wP;function WW(){if(wP)return Qf;wP=1;var i=vt();return Qf=i("document","documentElement"),Qf}var ev,EP;function sa(){if(EP)return ev;EP=1;var i=En(),e=Zo(),t=i("keys");return ev=function(r){return t[r]||(t[r]=e(r))},ev}var tv,SP;function Us(){if(SP)return tv;SP=1;var i=Vt(),e=e1(),t=Wb(),r=Bs(),n=WW(),s=SN(),o=sa(),a=">",u="<",l="prototype",d="script",c=o("IE_PROTO"),h=function(){},f=function(y){return u+d+a+y+u+"/"+d+a},v=function(y){y.write(f("")),y.close();var O=y.parentWindow.Object;return y=null,O},p=function(){var y=s("iframe"),O="java"+d+":",b;return y.style.display="none",n.appendChild(y),y.src=String(O),b=y.contentWindow.document,b.open(),b.write(f("document.F=Object")),b.close(),b.F},m,g=function(){try{m=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&m?v(m):p():v(m);for(var y=t.length;y--;)delete g[l][t[y]];return g()};return r[c]=!0,tv=Object.create||function(O,b){var S;return O!==null?(h[l]=i(O),S=new h,h[l]=null,S[c]=O):S=g(),b===void 0?S:e.f(S,b)},tv}var OP;function HW(){if(OP)return bP;OP=1;var i=H(),e=Pe(),t=Us();return i({target:"Object",stat:!0,sham:!e},{create:t}),bP}var rv,IP;function GW(){if(IP)return rv;IP=1,HW();var i=he(),e=i.Object;return rv=function(r,n){return e.create(r,n)},rv}var iv,$P;function UW(){if($P)return iv;$P=1;var i=GW();return iv=i,iv}var nv,TP;function VW(){return TP||(TP=1,nv=UW()),nv}var KW=VW(),Jn=Y(KW),PP={},sv,RP;function Pn(){if(RP)return sv;RP=1;var i=se();return sv=function(e,t){var r=[][e];return!!r&&i(function(){r.call(null,t||function(){return 1},1)})},sv}var qP;function YW(){if(qP)return PP;qP=1;var i=H(),e=Fb(),t=zb().indexOf,r=Pn(),n=e([].indexOf),s=!!n&&1/n([1],1,-0)<0,o=s||!r("indexOf");return i({target:"Array",proto:!0,forced:o},{indexOf:function(u){var l=arguments.length>1?arguments[1]:void 0;return s?n(this,u,l)||0:t(this,u,l)}}),PP}var ov,CP;function XW(){if(CP)return ov;CP=1,YW();var i=Xe();return ov=i("Array","indexOf"),ov}var av,xP;function ZW(){if(xP)return av;xP=1;var i=ke(),e=XW(),t=Array.prototype;return av=function(r){var n=r.indexOf;return r===t||i(t,r)&&n===t.indexOf?e:n},av}var uv,DP;function JW(){if(DP)return uv;DP=1;var i=ZW();return uv=i,uv}var lv,MP;function QW(){return MP||(MP=1,lv=JW()),lv}var e9=QW(),Se=Y(e9),AP={},dv,kP;function t1(){return kP||(kP=1,dv=function(){}),dv}var NP;function t9(){if(NP)return AP;NP=1;var i=H(),e=zb().includes,t=se(),r=t1(),n=t(function(){return!Array(1).includes()});return i({target:"Array",proto:!0,forced:n},{includes:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),r("includes"),AP}var cv,FP;function r9(){if(FP)return cv;FP=1,t9();var i=Xe();return cv=i("Array","includes"),cv}var BP={},hv,jP;function i9(){if(jP)return hv;jP=1;var i=He(),e=Ut(),t=Ne(),r=t("match");return hv=function(n){var s;return i(n)&&((s=n[r])!==void 0?!!s:e(n)==="RegExp")},hv}var fv,LP;function n9(){if(LP)return fv;LP=1;var i=i9(),e=TypeError;return fv=function(t){if(i(t))throw new e("The method doesn't accept regular expressions");return t},fv}var vv,zP;function r1(){if(zP)return vv;zP=1;var i=Ne(),e=i("toStringTag"),t={};return t[e]="z",vv=String(t)==="[object z]",vv}var pv,WP;function Rn(){if(WP)return pv;WP=1;var i=r1(),e=We(),t=Ut(),r=Ne(),n=r("toStringTag"),s=Object,o=t(function(){return arguments}())==="Arguments",a=function(u,l){try{return u[l]}catch{}};return pv=i?t:function(u){var l,d,c;return u===void 0?"Undefined":u===null?"Null":typeof(d=a(l=s(u),n))=="string"?d:o?t(l):(c=t(l))==="Object"&&e(l.callee)?"Arguments":c},pv}var gv,HP;function Tt(){if(HP)return gv;HP=1;var i=Rn(),e=String;return gv=function(t){if(i(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},gv}var yv,GP;function s9(){if(GP)return yv;GP=1;var i=Ne(),e=i("match");return yv=function(t){var r=/./;try{"/./"[t](r)}catch{try{return r[e]=!1,"/./"[t](r)}catch{}}return!1},yv}var UP;function o9(){if(UP)return BP;UP=1;var i=H(),e=oe(),t=n9(),r=cr(),n=Tt(),s=s9(),o=e("".indexOf);return i({target:"String",proto:!0,forced:!s("includes")},{includes:function(u){return!!~o(n(r(this)),n(t(u)),arguments.length>1?arguments[1]:void 0)}}),BP}var mv,VP;function a9(){if(VP)return mv;VP=1,o9();var i=Xe();return mv=i("String","includes"),mv}var bv,KP;function u9(){if(KP)return bv;KP=1;var i=ke(),e=r9(),t=a9(),r=Array.prototype,n=String.prototype;return bv=function(s){var o=s.includes;return s===r||i(r,s)&&o===r.includes?e:typeof s=="string"||s===n||i(n,s)&&o===n.includes?t:o},bv}var _v,YP;function l9(){if(YP)return _v;YP=1;var i=u9();return _v=i,_v}var wv,XP;function d9(){return XP||(XP=1,wv=l9()),wv}var c9=d9(),Qn=Y(c9),ZP={},Ev,JP;function mi(){if(JP)return Ev;JP=1;var i=Ut();return Ev=Array.isArray||function(t){return i(t)==="Array"},Ev}var Sv,QP;function h9(){if(QP)return Sv;QP=1;var i=Pe(),e=mi(),t=TypeError,r=Object.getOwnPropertyDescriptor,n=i&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return Sv=n?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Sv}var Ov,eR;function aF(){if(eR)return Ov;eR=1;var i=TypeError,e=9007199254740991;return Ov=function(t){if(t>e)throw i("Maximum allowed index exceeded");return t},Ov}var Iv,tR;function f9(){if(tR)return Iv;tR=1;var i=oe(),e=We(),t=jb(),r=i(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(n){return r(n)}),Iv=t.inspectSource,Iv}var $v,rR;function uF(){if(rR)return $v;rR=1;var i=oe(),e=se(),t=We(),r=Rn(),n=vt(),s=f9(),o=function(){},a=n("Reflect","construct"),u=/^\s*(?:class|function)\b/,l=i(u.exec),d=!u.test(o),c=function(v){if(!t(v))return!1;try{return a(o,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!l(u,s(v))}catch{return!0}};return h.sham=!0,$v=!a||e(function(){var f;return c(c.call)||!c(Object)||!c(function(){f=!0})||f})?h:c,$v}var Tv,iR;function v9(){if(iR)return Tv;iR=1;var i=mi(),e=uF(),t=He(),r=Ne(),n=r("species"),s=Array;return Tv=function(o){var a;return i(o)&&(a=o.constructor,e(a)&&(a===s||i(a.prototype))?a=void 0:t(a)&&(a=a[n],a===null&&(a=void 0))),a===void 0?s:a},Tv}var Pv,nR;function i1(){if(nR)return Pv;nR=1;var i=v9();return Pv=function(e,t){return new(i(e))(t===0?0:t)},Pv}var Rv,sR;function oa(){if(sR)return Rv;sR=1;var i=Pe(),e=It(),t=ks();return Rv=function(r,n,s){i?e.f(r,n,t(0,s)):r[n]=s},Rv}var qv,oR;function lF(){if(oR)return qv;oR=1;var i=_n(),e=TypeError;return qv=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+i(r)+" of "+i(t))},qv}var Cv,aR;function Vs(){if(aR)return Cv;aR=1;var i=se(),e=Ne(),t=Ns(),r=e("species");return Cv=function(n){return t>=51||!i(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[n](Boolean).foo!==1})},Cv}var uR;function p9(){if(uR)return ZP;uR=1;var i=H(),e=Ot(),t=ea(),r=On(),n=fr(),s=h9(),o=aF(),a=i1(),u=oa(),l=lF(),d=Vs(),c=d("splice"),h=Math.max,f=Math.min;return i({target:"Array",proto:!0,forced:!c},{splice:function(p,m){var g=e(this),y=n(g),O=t(p,y),b=arguments.length,S,$,w,_,E,I;for(b===0?S=$=0:b===1?(S=0,$=y-O):(S=b-2,$=f(h(r(m),0),y-O)),o(y+S-$),w=a(g,$),_=0;_<$;_++)E=O+_,E in g&&u(w,_,g[E]);if(w.length=$,S<$){for(_=O;_<y-$;_++)E=_+$,I=_+S,E in g?g[I]=g[E]:l(g,I);for(_=y;_>y-$+S;_--)l(g,_-1)}else if(S>$)for(_=y-$;_>O;_--)E=_+$-1,I=_+S-1,E in g?g[I]=g[E]:l(g,I);for(_=0;_<S;_++)g[_+O]=arguments[_+2];return s(g,y-$+S),w}}),ZP}var xv,lR;function g9(){if(lR)return xv;lR=1,p9();var i=Xe();return xv=i("Array","splice"),xv}var Dv,dR;function y9(){if(dR)return Dv;dR=1;var i=ke(),e=g9(),t=Array.prototype;return Dv=function(r){var n=r.splice;return r===t||i(t,r)&&n===t.splice?e:n},Dv}var Mv,cR;function m9(){if(cR)return Mv;cR=1;var i=y9();return Mv=i,Mv}var Av,hR;function b9(){return hR||(hR=1,Av=m9()),Av}var _9=b9(),Sr=Y(_9),fR={},vR;function w9(){if(vR)return fR;vR=1;var i=H(),e=mi();return i({target:"Array",stat:!0},{isArray:e}),fR}var kv,pR;function E9(){if(pR)return kv;pR=1,w9();var i=he();return kv=i.Array.isArray,kv}var Nv,gR;function S9(){if(gR)return Nv;gR=1;var i=E9();return Nv=i,Nv}var Fv,yR;function O9(){return yR||(yR=1,Fv=S9()),Fv}var I9=O9(),Dt=Y(I9),mR={},Bv,bR;function Mr(){if(bR)return Bv;bR=1;var i=Qo(),e=oe(),t=Xo(),r=Ot(),n=fr(),s=i1(),o=e([].push),a=function(u){var l=u===1,d=u===2,c=u===3,h=u===4,f=u===6,v=u===7,p=u===5||f;return function(m,g,y,O){for(var b=r(m),S=t(b),$=n(S),w=i(g,y),_=0,E=O||s,I=l?E(m,$):d||v?E(m,0):void 0,T,P;$>_;_++)if((p||_ in S)&&(T=S[_],P=w(T,_,b),u))if(l)I[_]=P;else if(P)switch(u){case 3:return!0;case 5:return T;case 6:return _;case 2:o(I,T)}else switch(u){case 4:return!1;case 7:o(I,T)}return f?-1:c||h?h:I}};return Bv={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},Bv}var jv,_R;function $9(){if(_R)return jv;_R=1;var i=Mr().forEach,e=Pn(),t=e("forEach");return jv=t?[].forEach:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)},jv}var wR;function T9(){if(wR)return mR;wR=1;var i=H(),e=$9();return i({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),mR}var Lv,ER;function P9(){if(ER)return Lv;ER=1,T9();var i=Xe();return Lv=i("Array","forEach"),Lv}var zv,SR;function R9(){if(SR)return zv;SR=1;var i=P9();return zv=i,zv}var Wv,OR;function q9(){if(OR)return Wv;OR=1;var i=Rn(),e=Ye(),t=ke(),r=R9(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Wv=function(o){var a=o.forEach;return o===n||t(n,o)&&a===n.forEach||e(s,i(o))?r:a},Wv}var Hv,IR;function C9(){return IR||(IR=1,Hv=q9()),Hv}var x9=C9(),be=Y(x9);function D9(i){return mr=i,N9()}var dF={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},n1=Jn(dF);n1.color="color.color";n1.style="dashes";var rt={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},$R={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},mr="",tn=0,te="",V="",at=rt.NULL;function M9(){tn=0,te=mr.charAt(0)}function Be(){tn++,te=mr.charAt(tn)}function Ci(){return mr.charAt(tn+1)}function TR(i){var e=i.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function Ir(i,e){if(i||(i={}),e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function A9(i,e,t){for(var r=e.split("."),n=i;r.length;){var s=r.shift();r.length?(n[s]||(n[s]={}),n=n[s]):n[s]=t}}function cF(i,e){for(var t,r,n=null,s=[i],o=i;o.parent;)s.push(o.parent),o=o.parent;if(o.nodes){for(t=0,r=o.nodes.length;t<r;t++)if(e.id===o.nodes[t].id){n=o.nodes[t];break}}for(n||(n={id:e.id},i.node&&(n.attr=Ir(n.attr,i.node))),t=s.length-1;t>=0;t--){var a,u=s[t];u.nodes||(u.nodes=[]),Se(a=u.nodes).call(a,n)===-1&&u.nodes.push(n)}e.attr&&(n.attr=Ir(n.attr,e.attr))}function k9(i,e){if(i.edges||(i.edges=[]),i.edges.push(e),i.edge){var t=Ir({},i.edge);e.attr=Ir(t,e.attr)}}function hF(i,e,t,r,n){var s={from:e,to:t,type:r};return i.edge&&(s.attr=Ir({},i.edge)),s.attr=Ir(s.attr||{},n),n!=null&&n.hasOwnProperty("arrows")&&n.arrows!=null&&(s.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),s}function ge(){for(at=rt.NULL,V="";te===" "||te==="	"||te===`
`||te==="\r";)Be();do{var i=!1;if(te==="#"){for(var e=tn-1;mr.charAt(e)===" "||mr.charAt(e)==="	";)e--;if(mr.charAt(e)===`
`||mr.charAt(e)===""){for(;te!=""&&te!=`
`;)Be();i=!0}}if(te==="/"&&Ci()==="/"){for(;te!=""&&te!=`
`;)Be();i=!0}if(te==="/"&&Ci()==="*"){for(;te!="";)if(te==="*"&&Ci()==="/"){Be(),Be();break}else Be();i=!0}for(;te===" "||te==="	"||te===`
`||te==="\r";)Be()}while(i);if(te===""){at=rt.DELIMITER;return}var t=te+Ci();if($R[t]){at=rt.DELIMITER,V=t,Be(),Be();return}if($R[te]){at=rt.DELIMITER,V=te,Be();return}if(TR(te)||te==="-"){for(V+=te,Be();TR(te);)V+=te,Be();V==="false"?V=!1:V==="true"?V=!0:isNaN(Number(V))||(V=Number(V)),at=rt.IDENTIFIER;return}if(te==='"'){for(Be();te!=""&&(te!='"'||te==='"'&&Ci()==='"');)te==='"'?(V+=te,Be()):te==="\\"&&Ci()==="n"?(V+=`
`,Be()):V+=te,Be();if(te!='"')throw it('End of string " expected');Be(),at=rt.IDENTIFIER;return}for(at=rt.UNKNOWN;te!="";)V+=te,Be();throw new SyntaxError('Syntax error in part "'+gF(V,30)+'"')}function N9(){var i={};if(M9(),ge(),V==="strict"&&(i.strict=!0,ge()),(V==="graph"||V==="digraph")&&(i.type=V,ge()),at===rt.IDENTIFIER&&(i.id=V,ge()),V!="{")throw it("Angle bracket { expected");if(ge(),fF(i),V!="}")throw it("Angle bracket } expected");if(ge(),V!=="")throw it("End of file expected");return ge(),delete i.node,delete i.edge,delete i.graph,i}function fF(i){for(;V!==""&&V!="}";)F9(i),V===";"&&ge()}function F9(i){var e=vF(i);if(e){pF(i,e);return}var t=B9(i);if(!t){if(at!=rt.IDENTIFIER)throw it("Identifier expected");var r=V;if(ge(),V==="="){if(ge(),at!=rt.IDENTIFIER)throw it("Identifier expected");i[r]=V,ge()}else j9(i,r)}}function vF(i){var e=null;if(V==="subgraph"&&(e={},e.type="subgraph",ge(),at===rt.IDENTIFIER&&(e.id=V,ge())),V==="{"){if(ge(),e||(e={}),e.parent=i,e.node=i.node,e.edge=i.edge,e.graph=i.graph,fF(e),V!="}")throw it("Angle bracket } expected");ge(),delete e.node,delete e.edge,delete e.graph,delete e.parent,i.subgraphs||(i.subgraphs=[]),i.subgraphs.push(e)}return e}function B9(i){return V==="node"?(ge(),i.node=es(),"node"):V==="edge"?(ge(),i.edge=es(),"edge"):V==="graph"?(ge(),i.graph=es(),"graph"):null}function j9(i,e){var t={id:e},r=es();r&&(t.attr=r),cF(i,t),pF(i,e)}function pF(i,e){for(;V==="->"||V==="--";){var t,r=V;ge();var n=vF(i);if(n)t=n;else{if(at!=rt.IDENTIFIER)throw it("Identifier or subgraph expected");t=V,cF(i,{id:t}),ge()}var s=es(),o=hF(i,e,t,r,s);k9(i,o),e=t}}function es(){for(var i,e=null,t={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},n=new Array,s=new Array;V==="[";){for(ge(),e={};V!==""&&V!="]";){if(at!=rt.IDENTIFIER)throw it("Attribute name expected");var o=V;if(ge(),V!="=")throw it("Equal sign = expected");if(ge(),at!=rt.IDENTIFIER)throw it("Attribute value expected");var a=V;o==="style"&&(a=t[a]);var u;o==="arrowhead"&&(u=r[a],o="arrows",a={to:{enabled:!0,type:u}}),o==="arrowtail"&&(u=r[a],o="arrows",a={from:{enabled:!0,type:u}}),n.push({attr:e,name:o,value:a}),s.push(o),ge(),V==","&&ge()}if(V!="]")throw it("Bracket ] expected");ge()}if(Qn(s).call(s,"dir")){var l={};for(l.arrows={},i=0;i<n.length;i++)if(n[i].name==="arrows")if(n[i].value.to!=null)l.arrows.to=i;else if(n[i].value.from!=null)l.arrows.from=i;else throw it("Invalid value of arrows");else n[i].name==="dir"&&(l.dir=i);var d=n[l.dir].value;if(!Qn(s).call(s,"arrows"))if(d==="both")n.push({attr:n[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=n.length-1,n.push({attr:n[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=n.length-1;else if(d==="forward")n.push({attr:n[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=n.length-1;else if(d==="back")n.push({attr:n[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=n.length-1;else if(d==="none")n.push({attr:n[l.dir].attr,name:"arrows",value:""}),l.arrows.to=n.length-1;else throw it('Invalid dir type "'+d+'"');var c,h;if(d==="both")l.arrows.to&&l.arrows.from?(h=n[l.arrows.to].value.to.type,c=n[l.arrows.from].value.from.type,n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}},Sr(n).call(n,l.arrows.from,1)):l.arrows.to?(h=n[l.arrows.to].value.to.type,c="arrow",n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="arrow",c=n[l.arrows.from].value.from.type,n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}});else if(d==="back")l.arrows.to&&l.arrows.from?(h="",c=n[l.arrows.from].value.from.type,n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.to?(h="",c="arrow",l.arrows.from=l.arrows.to,n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="",c=n[l.arrows.from].value.from.type,n[l.arrows.to]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{from:{enabled:!0,type:n[l.arrows.from].value.from.type}}};else if(d==="none"){var f;l.arrows.to?f=l.arrows.to:f=l.arrows.from,n[f]={attr:n[f].attr,name:n[f].name,value:""}}else if(d==="forward")l.arrows.to&&l.arrows.from?(h=n[l.arrows.to].value.to.type,c="",n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.to?(h=n[l.arrows.to].value.to.type,c="",n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="arrow",c="",l.arrows.to=l.arrows.from,n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:n[l.arrows.to].value.to.type}}};else throw it('Invalid dir type "'+d+'"');Sr(n).call(n,l.dir,1)}var v;if(Qn(s).call(s,"penwidth")){var p=[];for(v=n.length,i=0;i<v;i++)n[i].name!=="width"&&(n[i].name==="penwidth"&&(n[i].name="width"),p.push(n[i]));n=p}for(v=n.length,i=0;i<v;i++)A9(n[i].attr,n[i].name,n[i].value);return e}function it(i){return new SyntaxError(i+', got "'+gF(V,30)+'" (char '+tn+")")}function gF(i,e){return i.length<=e?i:i.substr(0,27)+"..."}function L9(i,e,t){Dt(i)?be(i).call(i,function(r){Dt(e)?be(e).call(e,function(n){t(r,n)}):t(r,e)}):Dt(e)?be(e).call(e,function(r){t(i,r)}):t(i,e)}function Gv(i,e,t){for(var r=e.split("."),n=r.pop(),s=i,o=0;o<r.length;o++){var a=r[o];a in s||(s[a]={}),s=s[a]}return s[n]=t,i}function PR(i,e){var t={};for(var r in i)if(i.hasOwnProperty(r)){var n=e[r];Dt(n)?be(n).call(n,function(s){Gv(t,s,i[r])}):typeof n=="string"?Gv(t,n,i[r]):Gv(t,r,i[r])}return t}function z9(i){var e=D9(i),t={nodes:[],edges:[],options:{}};if(e.nodes){var r;be(r=e.nodes).call(r,function(o){var a={id:o.id,label:String(o.label||o.id)};Ir(a,PR(o.attr,dF)),a.image&&(a.shape="image"),t.nodes.push(a)})}if(e.edges){var n,s=function(o){var a={from:o.from,to:o.to};return Ir(a,PR(o.attr,n1)),a.arrows==null&&o.type==="->"&&(a.arrows="to"),a};be(n=e.edges).call(n,function(o){var a,u;if(o.from instanceof Object?a=o.from.nodes:a={id:o.from},o.to instanceof Object?u=o.to.nodes:u={id:o.to},o.from instanceof Object&&o.from.edges){var l;be(l=o.from.edges).call(l,function(c){var h=s(c);t.edges.push(h)})}if(L9(a,u,function(c,h){var f=hF(t,c.id,h.id,o.type,o.attr),v=s(f);t.edges.push(v)}),o.to instanceof Object&&o.to.edges){var d;be(d=o.to.edges).call(d,function(c){var h=s(c);t.edges.push(h)})}})}return e.attr&&(t.options=e.attr),t}var RR={},qR;function W9(){if(qR)return RR;qR=1;var i=H(),e=Mr().map,t=Vs(),r=t("map");return i({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),RR}var Uv,CR;function H9(){if(CR)return Uv;CR=1,W9();var i=Xe();return Uv=i("Array","map"),Uv}var Vv,xR;function G9(){if(xR)return Vv;xR=1;var i=ke(),e=H9(),t=Array.prototype;return Vv=function(r){var n=r.map;return r===t||i(t,r)&&n===t.map?e:n},Vv}var Kv,DR;function U9(){if(DR)return Kv;DR=1;var i=G9();return Kv=i,Kv}var Yv,MR;function V9(){return MR||(MR=1,Yv=U9()),Yv}var K9=V9(),ps=Y(K9);function Y9(i,e){var t;const r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(r.nodes.fixed=e.fixed),e.parseColor!=null&&(r.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(r.edges.inheritColor=e.inheritColor));const n=i.edges,s=ps(n).call(n,a=>{const u={from:a.source,id:a.id,to:a.target};return a.attributes!=null&&(u.attributes=a.attributes),a.label!=null&&(u.label=a.label),a.attributes!=null&&a.attributes.title!=null&&(u.title=a.attributes.title),a.type==="Directed"&&(u.arrows="to"),a.color&&r.edges.inheritColor===!1&&(u.color=a.color),u});return{nodes:ps(t=i.nodes).call(t,a=>{const u={id:a.id,fixed:r.nodes.fixed&&a.x!=null&&a.y!=null};return a.attributes!=null&&(u.attributes=a.attributes),a.label!=null&&(u.label=a.label),a.size!=null&&(u.size=a.size),a.attributes!=null&&a.attributes.title!=null&&(u.title=a.attributes.title),a.title!=null&&(u.title=a.title),a.x!=null&&(u.x=a.x),a.y!=null&&(u.y=a.y),a.color!=null&&(r.nodes.parseColor===!0?u.color=a.color:u.color={background:a.color,border:a.color,highlight:{background:a.color,border:a.color},hover:{background:a.color,border:a.color}}),u}),edges:s}}const X9={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},Z9={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufügen",addNode:"Knoten hinzufügen",back:"Zurück",close:"Schließen",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",del:"Lösche Auswahl",deleteClusterError:"Cluster können nicht gelöscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster können nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},J9={addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",addEdge:"Añadir arista",addNode:"Añadir nodo",back:"Atrás",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selección",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},Q9={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},eH={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},tH={addDescription:"Clique em um espaço em branco para adicionar um novo nó",addEdge:"Adicionar aresta",addNode:"Adicionar nó",back:"Voltar",close:"Fechar",createEdgeError:"Não foi possível linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters não puderam ser removidos.",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",edit:"Editar",editClusterError:"Clusters não puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",editNode:"Editar nó"},rH={addDescription:"Кликните в свободное место, чтобы добавить новый узел.",addEdge:"Добавить ребро",addNode:"Добавить узел",back:"Назад",close:"Закрывать",createEdgeError:"Невозможно соединить ребра в кластер.",del:"Удалить выбранное",deleteClusterError:"Кластеры не могут быть удалены",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",edit:"Редактировать",editClusterError:"Кластеры недоступны для редактирования.",editEdge:"Редактировать ребро",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",editNode:"Редактировать узел"},iH={addDescription:"单击空白处放置新节点。",addEdge:"添加连接线",addNode:"添加节点",back:"返回",close:"關閉",createEdgeError:"无法将连接线连接到群集。",del:"删除选定",deleteClusterError:"无法删除群集。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",edit:"编辑",editClusterError:"无法编辑群集。",editEdge:"编辑连接线",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",editNode:"编辑节点"},nH={addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",addEdge:"Додати край",addNode:"Додати вузол",back:"Назад",close:"Закрити",createEdgeError:"Не можливо об'єднати краї в групу.",del:"Видалити обране",deleteClusterError:"Групи не можуть бути видалені.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",edit:"Редагувати",editClusterError:"Групи недоступні для редагування.",editEdge:"Редагувати край",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",editNode:"Редагувати вузол"},sH={addDescription:"Cliquez dans un endroit vide pour placer un nœud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nœud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de créer un lien vers un cluster.",del:"Effacer la sélection",deleteClusterError:"Les clusters ne peuvent pas être effacés.",edgeDescription:"Cliquez sur un nœud et glissez le lien vers un autre nœud pour les connecter.",edit:"Éditer",editClusterError:"Les clusters ne peuvent pas être édités.",editEdge:"Éditer le lien",editEdgeDescription:"Cliquez sur les points de contrôle et glissez-les pour connecter un nœud.",editNode:"Éditer le nœud"},oH={addDescription:"Kluknutím do prázdného prostoru můžete přidat nový vrchol.",addEdge:"Přidat hranu",addNode:"Přidat vrchol",back:"Zpět",close:"Zavřít",createEdgeError:"Nelze připojit hranu ke shluku.",del:"Smazat výběr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Přetažením z jednoho vrcholu do druhého můžete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Přetažením kontrolního vrcholu hrany ji můžete připojit k jinému vrcholu.",editNode:"Upravit vrchol"};var aH=Object.freeze({__proto__:null,cn:iH,cs:oH,de:Z9,en:X9,es:J9,fr:sH,it:Q9,nl:eH,pt:tH,ru:rH,uk:nH}),AR={},kR;function yF(){if(kR)return AR;kR=1;var i=H(),e=se(),t=mi(),r=He(),n=Ot(),s=fr(),o=aF(),a=oa(),u=i1(),l=Vs(),d=Ne(),c=Ns(),h=d("isConcatSpreadable"),f=c>=51||!e(function(){var m=[];return m[h]=!1,m.concat()[0]!==m}),v=function(m){if(!r(m))return!1;var g=m[h];return g!==void 0?!!g:t(m)},p=!f||!l("concat");return i({target:"Array",proto:!0,arity:1,forced:p},{concat:function(g){var y=n(this),O=u(y,0),b=0,S,$,w,_,E;for(S=-1,w=arguments.length;S<w;S++)if(E=S===-1?y:arguments[S],v(E))for(_=s(E),o(b+_),$=0;$<_;$++,b++)$ in E&&a(O,b,E[$]);else o(b+1),a(O,b++,E);return O.length=b,O}}),AR}var Xv,NR;function uH(){if(NR)return Xv;NR=1,yF();var i=Xe();return Xv=i("Array","concat"),Xv}var Zv,FR;function lH(){if(FR)return Zv;FR=1;var i=ke(),e=uH(),t=Array.prototype;return Zv=function(r){var n=r.concat;return r===t||i(t,r)&&n===t.concat?e:n},Zv}var Jv,BR;function dH(){if(BR)return Jv;BR=1;var i=lH();return Jv=i,Jv}var Qv,jR;function cH(){return jR||(jR=1,Qv=dH()),Qv}var hH=cH(),fH=Y(hH);function vH(i,e){try{const[r,n]=e.split(/[-_ /]/,2),s=r!=null?r.toLowerCase():null,o=n!=null?n.toUpperCase():null;if(s&&o){const a=s+"-"+o;if(Object.prototype.hasOwnProperty.call(i,a))return a;var t;console.warn(fH(t="Unknown variant ".concat(o," of language ")).call(t,s,"."))}if(s){const a=s;if(Object.prototype.hasOwnProperty.call(i,a))return a;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(r){return console.error(r),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class pH{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,t=this.image.height;this.width=e,this.height=t;const r=Math.floor(t/2),n=Math.floor(t/4),s=Math.floor(t/8),o=Math.floor(t/16),a=Math.floor(e/2),u=Math.floor(e/4),l=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*u,this.canvas.height=r,this.coordinates=[[0,0,a,r],[a,0,u,n],[a,n,l,s],[5*l,n,d,o]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(let r=1;r<this.NUM_ITERATIONS;r++){const n=this.coordinates[r-1],s=this.coordinates[r];e.drawImage(this.canvas,n[0],n[1],n[2],n[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,t,r,n,s,o){if(this.initialized())if(t>2){t*=.5;let a=0;for(;t>2&&a<this.NUM_ITERATIONS;)t*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);const u=this.coordinates[a];e.drawImage(this.canvas,u[0],u[1],u[2],u[3],r,n,s,o)}else e.drawImage(this.image,r,n,s,o)}}class gH{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,t,r){if(!(e===void 0||r===void 0)){if(t===void 0){console.warn("No broken url image defined");return}r.image.onerror=()=>{console.error("Could not load brokenImage:",t)},r.image.src=t}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,t){const r=this.images[e];if(r)return r;const n=new pH;return this.images[e]=n,n.image.onload=()=>{this._fixImageCoordinates(n.image),n.init(),this._redrawWithImage(n)},n.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,t,n)},n.image.src=e,n}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var ep,LR;function qn(){return LR||(LR=1,ep={}),ep}var tp,zR;function mF(){if(zR)return tp;zR=1;var i=we(),e=We(),t=i.WeakMap;return tp=e(t)&&/native code/.test(String(t)),tp}var rp,WR;function bi(){if(WR)return rp;WR=1;var i=mF(),e=we(),t=He(),r=Sn(),n=Ye(),s=jb(),o=sa(),a=Bs(),u="Object already initialized",l=e.TypeError,d=e.WeakMap,c,h,f,v=function(y){return f(y)?h(y):c(y,{})},p=function(y){return function(O){var b;if(!t(O)||(b=h(O)).type!==y)throw new l("Incompatible receiver, "+y+" required");return b}};if(i||s.state){var m=s.state||(s.state=new d);m.get=m.get,m.has=m.has,m.set=m.set,c=function(y,O){if(m.has(y))throw new l(u);return O.facade=y,m.set(y,O),O},h=function(y){return m.get(y)||{}},f=function(y){return m.has(y)}}else{var g=o("state");a[g]=!0,c=function(y,O){if(n(y,g))throw new l(u);return O.facade=y,r(y,g,O),O},h=function(y){return n(y,g)?y[g]:{}},f=function(y){return n(y,g)}}return rp={set:c,get:h,has:f,enforce:v,getterFor:p},rp}var ip,HR;function yH(){if(HR)return ip;HR=1;var i=Pe(),e=Ye(),t=Function.prototype,r=i&&Object.getOwnPropertyDescriptor,n=e(t,"name"),s=n&&(function(){}).name==="something",o=n&&(!i||i&&r(t,"name").configurable);return ip={EXISTS:n,PROPER:s,CONFIGURABLE:o},ip}var np,GR;function mH(){if(GR)return np;GR=1;var i=se();return np=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),np}var sp,UR;function s1(){if(UR)return sp;UR=1;var i=Ye(),e=We(),t=Ot(),r=sa(),n=mH(),s=r("IE_PROTO"),o=Object,a=o.prototype;return sp=n?o.getPrototypeOf:function(u){var l=t(u);if(i(l,s))return l[s];var d=l.constructor;return e(d)&&l instanceof d?d.prototype:l instanceof o?a:null},sp}var op,VR;function Ks(){if(VR)return op;VR=1;var i=Sn();return op=function(e,t,r,n){return n&&n.enumerable?e[t]=r:i(e,t,r),e},op}var ap,KR;function bF(){if(KR)return ap;KR=1;var i=se(),e=We(),t=He(),r=Us(),n=s1(),s=Ks(),o=Ne(),a=wn(),u=o("iterator"),l=!1,d,c,h;[].keys&&(h=[].keys(),"next"in h?(c=n(n(h)),c!==Object.prototype&&(d=c)):l=!0);var f=!t(d)||i(function(){var v={};return d[u].call(v)!==v});return f?d={}:a&&(d=r(d)),e(d[u])||s(d,u,function(){return this}),ap={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:l},ap}var up,YR;function bH(){if(YR)return up;YR=1;var i=r1(),e=Rn();return up=i?{}.toString:function(){return"[object "+e(this)+"]"},up}var lp,XR;function _i(){if(XR)return lp;XR=1;var i=r1(),e=It().f,t=Sn(),r=Ye(),n=bH(),s=Ne(),o=s("toStringTag");return lp=function(a,u,l,d){var c=l?a:a&&a.prototype;c&&(r(c,o)||e(c,o,{configurable:!0,value:u}),d&&!i&&t(c,"toString",n))},lp}var dp,ZR;function _H(){if(ZR)return dp;ZR=1;var i=bF().IteratorPrototype,e=Us(),t=ks(),r=_i(),n=qn(),s=function(){return this};return dp=function(o,a,u,l){var d=a+" Iterator";return o.prototype=e(i,{next:t(+!l,u)}),r(o,d,!1,!0),n[d]=s,o},dp}var cp,JR;function wH(){if(JR)return cp;JR=1;var i=oe(),e=hr();return cp=function(t,r,n){try{return i(e(Object.getOwnPropertyDescriptor(t,r)[n]))}catch{}},cp}var hp,QR;function EH(){if(QR)return hp;QR=1;var i=He();return hp=function(e){return i(e)||e===null},hp}var fp,eq;function SH(){if(eq)return fp;eq=1;var i=EH(),e=String,t=TypeError;return fp=function(r){if(i(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},fp}var vp,tq;function OH(){if(tq)return vp;tq=1;var i=wH(),e=He(),t=cr(),r=SH();return vp=Object.setPrototypeOf||("__proto__"in{}?function(){var n=!1,s={},o;try{o=i(Object.prototype,"__proto__","set"),o(s,[]),n=s instanceof Array}catch{}return function(u,l){return t(u),r(l),e(u)&&(n?o(u,l):u.__proto__=l),u}}():void 0),vp}var pp,rq;function o1(){if(rq)return pp;rq=1;var i=H(),e=ht(),t=wn(),r=yH(),n=We(),s=_H(),o=s1(),a=OH(),u=_i(),l=Sn(),d=Ks(),c=Ne(),h=qn(),f=bF(),v=r.PROPER,p=r.CONFIGURABLE,m=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,y=c("iterator"),O="keys",b="values",S="entries",$=function(){return this};return pp=function(w,_,E,I,T,P,R){s(E,_,I);var C=function(Ee){if(Ee===T&&ee)return ee;if(!g&&Ee&&Ee in j)return j[Ee];switch(Ee){case O:return function(){return new E(this,Ee)};case b:return function(){return new E(this,Ee)};case S:return function(){return new E(this,Ee)}}return function(){return new E(this)}},M=_+" Iterator",K=!1,j=w.prototype,J=j[y]||j["@@iterator"]||T&&j[T],ee=!g&&J||C(T),ce=_==="Array"&&j.entries||J,W,ue,fe;if(ce&&(W=o(ce.call(new w)),W!==Object.prototype&&W.next&&(!t&&o(W)!==m&&(a?a(W,m):n(W[y])||d(W,y,$)),u(W,M,!0,!0),t&&(h[M]=$))),v&&T===b&&J&&J.name!==b&&(!t&&p?l(j,"name",b):(K=!0,ee=function(){return e(J,this)})),T)if(ue={values:C(b),keys:P?ee:C(O),entries:C(S)},R)for(fe in ue)(g||K||!(fe in j))&&d(j,fe,ue[fe]);else i({target:_,proto:!0,forced:g||K},ue);return(!t||R)&&j[y]!==ee&&d(j,y,ee,{name:T}),h[_]=ee,ue},pp}var gp,iq;function a1(){return iq||(iq=1,gp=function(i,e){return{value:i,done:e}}),gp}var yp,nq;function Cn(){if(nq)return yp;nq=1;var i=Ft(),e=t1(),t=qn(),r=bi(),n=It().f,s=o1(),o=a1(),a=wn(),u=Pe(),l="Array Iterator",d=r.set,c=r.getterFor(l);yp=s(Array,"Array",function(f,v){d(this,{type:l,target:i(f),index:0,kind:v})},function(){var f=c(this),v=f.target,p=f.index++;if(!v||p>=v.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(p,!1);case"values":return o(v[p],!1)}return o([p,v[p]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&u&&h.name!=="values")try{n(h,"name",{value:"values"})}catch{}return yp}var sq={},oq={},mp={exports:{}},bp={},aq;function aa(){if(aq)return bp;aq=1;var i=TN(),e=Wb(),t=e.concat("length","prototype");return bp.f=Object.getOwnPropertyNames||function(n){return i(n,t)},bp}var _p={},uq;function u1(){if(uq)return _p;uq=1;var i=Ut(),e=Ft(),t=aa().f,r=In(),n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(n)}};return _p.f=function(a){return n&&i(a)==="Window"?s(a):t(e(a))},_p}var wp,lq;function IH(){if(lq)return wp;lq=1;var i=se();return wp=i(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),wp}var Ep,dq;function $H(){if(dq)return Ep;dq=1;var i=se(),e=He(),t=Ut(),r=IH(),n=Object.isExtensible,s=i(function(){});return Ep=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:n?n(a):!0}:n,Ep}var Sp,cq;function _F(){if(cq)return Sp;cq=1;var i=se();return Sp=!i(function(){return Object.isExtensible(Object.preventExtensions({}))}),Sp}var hq;function ua(){if(hq)return mp.exports;hq=1;var i=H(),e=oe(),t=Bs(),r=He(),n=Ye(),s=It().f,o=aa(),a=u1(),u=$H(),l=Zo(),d=_F(),c=!1,h=l("meta"),f=0,v=function(b){s(b,h,{value:{objectID:"O"+f++,weakData:{}}})},p=function(b,S){if(!r(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!n(b,h)){if(!u(b))return"F";if(!S)return"E";v(b)}return b[h].objectID},m=function(b,S){if(!n(b,h)){if(!u(b))return!0;if(!S)return!1;v(b)}return b[h].weakData},g=function(b){return d&&c&&u(b)&&!n(b,h)&&v(b),b},y=function(){O.enable=function(){},c=!0;var b=o.f,S=e([].splice),$={};$[h]=1,b($).length&&(o.f=function(w){for(var _=b(w),E=0,I=_.length;E<I;E++)if(_[E]===h){S(_,E,1);break}return _},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},O=mp.exports={enable:y,fastKey:p,getWeakData:m,onFreeze:g};return t[h]=!0,mp.exports}var Op,fq;function TH(){if(fq)return Op;fq=1;var i=Ne(),e=qn(),t=i("iterator"),r=Array.prototype;return Op=function(n){return n!==void 0&&(e.Array===n||r[t]===n)},Op}var Ip,vq;function wF(){if(vq)return Ip;vq=1;var i=Rn(),e=Bb(),t=yn(),r=qn(),n=Ne(),s=n("iterator");return Ip=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[i(o)]},Ip}var $p,pq;function PH(){if(pq)return $p;pq=1;var i=ht(),e=hr(),t=Vt(),r=_n(),n=wF(),s=TypeError;return $p=function(o,a){var u=arguments.length<2?n(o):a;if(e(u))return t(i(u,o));throw new s(r(o)+" is not iterable")},$p}var Tp,gq;function l1(){if(gq)return Tp;gq=1;var i=ht(),e=Vt(),t=Bb();return Tp=function(r,n,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(n==="throw")throw s;return s}o=i(o,r)}catch(u){a=!0,o=u}if(n==="throw")throw s;if(a)throw o;return e(o),s},Tp}var Pp,yq;function la(){if(yq)return Pp;yq=1;var i=Qo(),e=ht(),t=Vt(),r=_n(),n=TH(),s=fr(),o=ke(),a=PH(),u=wF(),l=l1(),d=TypeError,c=function(f,v){this.stopped=f,this.result=v},h=c.prototype;return Pp=function(f,v,p){var m=p&&p.that,g=!!(p&&p.AS_ENTRIES),y=!!(p&&p.IS_RECORD),O=!!(p&&p.IS_ITERATOR),b=!!(p&&p.INTERRUPTED),S=i(v,m),$,w,_,E,I,T,P,R=function(M){return $&&l($,"normal"),new c(!0,M)},C=function(M){return g?(t(M),b?S(M[0],M[1],R):S(M[0],M[1])):b?S(M,R):S(M)};if(y)$=f.iterator;else if(O)$=f;else{if(w=u(f),!w)throw new d(r(f)+" is not iterable");if(n(w)){for(_=0,E=s(f);E>_;_++)if(I=C(f[_]),I&&o(h,I))return I;return new c(!1)}$=a(f,w)}for(T=y?f.next:$.next;!(P=e(T,$)).done;){try{I=C(P.value)}catch(M){l($,"throw",M)}if(typeof I=="object"&&I&&o(h,I))return I}return new c(!1)},Pp}var Rp,mq;function d1(){if(mq)return Rp;mq=1;var i=ke(),e=TypeError;return Rp=function(t,r){if(i(r,t))return t;throw new e("Incorrect invocation")},Rp}var qp,bq;function c1(){if(bq)return qp;bq=1;var i=H(),e=we(),t=ua(),r=se(),n=Sn(),s=la(),o=d1(),a=We(),u=He(),l=yn(),d=_i(),c=It().f,h=Mr().forEach,f=Pe(),v=bi(),p=v.set,m=v.getterFor;return qp=function(g,y,O){var b=g.indexOf("Map")!==-1,S=g.indexOf("Weak")!==-1,$=b?"set":"add",w=e[g],_=w&&w.prototype,E={},I;if(!f||!a(w)||!(S||_.forEach&&!r(function(){new w().entries().next()})))I=O.getConstructor(y,g,b,$),t.enable();else{I=y(function(R,C){p(o(R,T),{type:g,collection:new w}),l(C)||s(C,R[$],{that:R,AS_ENTRIES:b})});var T=I.prototype,P=m(g);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var C=R==="add"||R==="set";R in _&&!(S&&R==="clear")&&n(T,R,function(M,K){var j=P(this).collection;if(!C&&S&&!u(M))return R==="get"?void 0:!1;var J=j[R](M===0?0:M,K);return C?this:J})}),S||c(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d(I,g,!1,!0),E[g]=I,i({global:!0,forced:!0},E),S||O.setStrong(I,g,b),I},qp}var Cp,_q;function h1(){if(_q)return Cp;_q=1;var i=It();return Cp=function(e,t,r){return i.f(e,t,r)},Cp}var xp,wq;function f1(){if(wq)return xp;wq=1;var i=Ks();return xp=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:i(e,n,t[n],r);return e},xp}var Dp,Eq;function RH(){if(Eq)return Dp;Eq=1;var i=vt(),e=h1(),t=Ne(),r=Pe(),n=t("species");return Dp=function(s){var o=i(s);r&&o&&!o[n]&&e(o,n,{configurable:!0,get:function(){return this}})},Dp}var Mp,Sq;function EF(){if(Sq)return Mp;Sq=1;var i=Us(),e=h1(),t=f1(),r=Qo(),n=d1(),s=yn(),o=la(),a=o1(),u=a1(),l=RH(),d=Pe(),c=ua().fastKey,h=bi(),f=h.set,v=h.getterFor;return Mp={getConstructor:function(p,m,g,y){var O=p(function(_,E){n(_,b),f(_,{type:m,index:i(null),first:null,last:null,size:0}),d||(_.size=0),s(E)||o(E,_[y],{that:_,AS_ENTRIES:g})}),b=O.prototype,S=v(m),$=function(_,E,I){var T=S(_),P=w(_,E),R,C;return P?P.value=I:(T.last=P={index:C=c(E,!0),key:E,value:I,previous:R=T.last,next:null,removed:!1},T.first||(T.first=P),R&&(R.next=P),d?T.size++:_.size++,C!=="F"&&(T.index[C]=P)),_},w=function(_,E){var I=S(_),T=c(E),P;if(T!=="F")return I.index[T];for(P=I.first;P;P=P.next)if(P.key===E)return P};return t(b,{clear:function(){for(var E=this,I=S(E),T=I.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;I.first=I.last=null,I.index=i(null),d?I.size=0:E.size=0},delete:function(_){var E=this,I=S(E),T=w(E,_);if(T){var P=T.next,R=T.previous;delete I.index[T.index],T.removed=!0,R&&(R.next=P),P&&(P.previous=R),I.first===T&&(I.first=P),I.last===T&&(I.last=R),d?I.size--:E.size--}return!!T},forEach:function(E){for(var I=S(this),T=r(E,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:I.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(E){return!!w(this,E)}}),t(b,g?{get:function(E){var I=w(this,E);return I&&I.value},set:function(E,I){return $(this,E===0?0:E,I)}}:{add:function(E){return $(this,E=E===0?0:E,E)}}),d&&e(b,"size",{configurable:!0,get:function(){return S(this).size}}),O},setStrong:function(p,m,g){var y=m+" Iterator",O=v(m),b=v(y);a(p,m,function(S,$){f(this,{type:y,target:S,state:O(S),kind:$,last:null})},function(){for(var S=b(this),$=S.kind,w=S.last;w&&w.removed;)w=w.previous;return!S.target||!(S.last=w=w?w.next:S.state.first)?(S.target=null,u(void 0,!0)):u($==="keys"?w.key:$==="values"?w.value:[w.key,w.value],!1)},g?"entries":"values",!g,!0),l(m)}},Mp}var Oq;function qH(){if(Oq)return oq;Oq=1;var i=c1(),e=EF();return i("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),oq}var Iq;function CH(){return Iq||(Iq=1,qH()),sq}var $q={},Ap,Tq;function SF(){return Tq||(Tq=1,Ap=function(i,e){return e===1?function(t,r){return t[i](r)}:function(t,r,n){return t[i](r,n)}}),Ap}var kp,Pq;function xH(){if(Pq)return kp;Pq=1;var i=vt(),e=SF(),t=i("Map");return kp={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},kp}var Rq;function DH(){if(Rq)return $q;Rq=1;var i=H(),e=oe(),t=hr(),r=cr(),n=la(),s=xH(),o=wn(),a=se(),u=s.Map,l=s.has,d=s.get,c=s.set,h=e([].push),f=o||a(function(){return u.groupBy("ab",function(v){return v}).get("a").length!==1});return i({target:"Map",stat:!0,forced:o||f},{groupBy:function(p,m){r(p),t(m);var g=new u,y=0;return n(p,function(O){var b=m(O,y++);l(g,b)?h(d(g,b),O):c(g,b,[O])}),g}}),$q}var qq={},Np,Cq;function MH(){if(Cq)return Np;Cq=1;var i=oe(),e=On(),t=Tt(),r=cr(),n=i("".charAt),s=i("".charCodeAt),o=i("".slice),a=function(u){return function(l,d){var c=t(r(l)),h=e(d),f=c.length,v,p;return h<0||h>=f?u?"":void 0:(v=s(c,h),v<55296||v>56319||h+1===f||(p=s(c,h+1))<56320||p>57343?u?n(c,h):v:u?o(c,h,h+2):(v-55296<<10)+(p-56320)+65536)}};return Np={codeAt:a(!1),charAt:a(!0)},Np}var xq;function v1(){if(xq)return qq;xq=1;var i=MH().charAt,e=Tt(),t=bi(),r=o1(),n=a1(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(u){o(this,{type:s,string:e(u),index:0})},function(){var l=a(this),d=l.string,c=l.index,h;return c>=d.length?n(void 0,!0):(h=i(d,c),l.index+=h.length,n(h,!1))}),qq}var Fp,Dq;function AH(){if(Dq)return Fp;Dq=1,Cn(),CH(),DH(),v1();var i=he();return Fp=i.Map,Fp}var Mq={},Bp,Aq;function kH(){return Aq||(Aq=1,Bp={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Bp}var kq;function xn(){if(kq)return Mq;kq=1,Cn();var i=kH(),e=we(),t=_i(),r=qn();for(var n in i)t(e[n],n),r[n]=r.Array;return Mq}var jp,Nq;function NH(){if(Nq)return jp;Nq=1;var i=AH();return xn(),jp=i,jp}var Lp,Fq;function FH(){return Fq||(Fq=1,Lp=NH()),Lp}var BH=FH(),p1=Y(BH);class jH{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Ve(this.options,this.defaultOptions)}setOptions(e){const t=["useDefaultGroups"];if(e!==void 0){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Se(t).call(t,r)===-1){const n=e[r];this.add(r,n)}}}clear(){this._groups=new p1,this._groupNames=[]}get(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this._groups.get(e);if(r===void 0&&t)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const n=this._groupIndex%this._groupNames.length;++this._groupIndex,r={},r.color=this._groups.get(this._groupNames[n]),this._groups.set(e,r)}else{const n=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,r={},r.color=this._defaultGroups[n],this._groups.set(e,r)}return r}add(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}var Bq={},jq;function LH(){if(jq)return Bq;jq=1;var i=H();return i({target:"Number",stat:!0},{isNaN:function(t){return t!==t}}),Bq}var zp,Lq;function zH(){if(Lq)return zp;Lq=1,LH();var i=he();return zp=i.Number.isNaN,zp}var Wp,zq;function WH(){if(zq)return Wp;zq=1;var i=zH();return Wp=i,Wp}var Hp,Wq;function HH(){return Wq||(Wq=1,Hp=WH()),Hp}var GH=HH(),rb=Y(GH),Hq={},Gp,Gq;function UH(){if(Gq)return Gp;Gq=1;var i=we(),e=i.isFinite;return Gp=Number.isFinite||function(r){return typeof r=="number"&&e(r)},Gp}var Uq;function VH(){if(Uq)return Hq;Uq=1;var i=H(),e=UH();return i({target:"Number",stat:!0},{isFinite:e}),Hq}var Up,Vq;function KH(){if(Vq)return Up;Vq=1,VH();var i=he();return Up=i.Number.isFinite,Up}var Vp,Kq;function YH(){if(Kq)return Vp;Kq=1;var i=KH();return Vp=i,Vp}var Kp,Yq;function XH(){return Yq||(Yq=1,Kp=YH()),Kp}var ZH=XH(),Yr=Y(ZH),Xq={},Zq;function JH(){if(Zq)return Xq;Zq=1;var i=H(),e=Ot(),t=js(),r=se(),n=r(function(){t(1)});return i({target:"Object",stat:!0,forced:n},{keys:function(o){return t(e(o))}}),Xq}var Yp,Jq;function QH(){if(Jq)return Yp;Jq=1,JH();var i=he();return Yp=i.Object.keys,Yp}var Xp,Qq;function e7(){if(Qq)return Xp;Qq=1;var i=QH();return Xp=i,Xp}var Zp,eC;function t7(){return eC||(eC=1,Zp=e7()),Zp}var r7=t7(),Ce=Y(r7),tC={},rC;function i7(){if(rC)return tC;rC=1;var i=H(),e=Mr().some,t=Pn(),r=t("some");return i({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),tC}var Jp,iC;function n7(){if(iC)return Jp;iC=1,i7();var i=Xe();return Jp=i("Array","some"),Jp}var Qp,nC;function s7(){if(nC)return Qp;nC=1;var i=ke(),e=n7(),t=Array.prototype;return Qp=function(r){var n=r.some;return r===t||i(t,r)&&n===t.some?e:n},Qp}var eg,sC;function o7(){if(sC)return eg;sC=1;var i=s7();return eg=i,eg}var tg,oC;function a7(){return oC||(oC=1,tg=o7()),tg}var u7=a7(),l7=Y(u7),aC={},uC={},rg,lC;function OF(){if(lC)return rg;lC=1;var i=we(),e=mn(),t=Ut(),r=function(n){return e.slice(0,n.length)===n};return rg=function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":i.Bun&&typeof Bun.version=="string"?"BUN":i.Deno&&typeof Deno.version=="object"?"DENO":t(i.process)==="process"?"NODE":i.window&&i.document?"BROWSER":"REST"}(),rg}var ig,dC;function d7(){if(dC)return ig;dC=1;var i=TypeError;return ig=function(e,t){if(e<t)throw new i("Not enough arguments");return e},ig}var ng,cC;function IF(){if(cC)return ng;cC=1;var i=we(),e=Ko(),t=We(),r=OF(),n=mn(),s=In(),o=d7(),a=i.Function,u=/MSIE .\./.test(n)||r==="BUN"&&function(){var l=i.Bun.version.split(".");return l.length<3||l[0]==="0"&&(l[1]<3||l[1]==="3"&&l[2]==="0")}();return ng=function(l,d){var c=d?2:1;return u?function(h,f){var v=o(arguments.length,1)>c,p=t(h)?h:a(h),m=v?s(arguments,c):[],g=v?function(){e(p,this,m)}:p;return d?l(g,f):l(g)}:l},ng}var hC;function c7(){if(hC)return uC;hC=1;var i=H(),e=we(),t=IF(),r=t(e.setInterval,!0);return i({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),uC}var fC={},vC;function h7(){if(vC)return fC;vC=1;var i=H(),e=we(),t=IF(),r=t(e.setTimeout,!0);return i({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),fC}var pC;function $F(){return pC||(pC=1,c7(),h7()),aC}var sg,gC;function f7(){if(gC)return sg;gC=1,$F();var i=he();return sg=i.setTimeout,sg}var og,yC;function v7(){return yC||(yC=1,og=f7()),og}var p7=v7(),zi=Y(p7),ag={exports:{}},mC={},bC;function g7(){if(bC)return mC;bC=1;var i=H(),e=Pe(),t=It().f;return i({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),mC}var _C;function y7(){if(_C)return ag.exports;_C=1,g7();var i=he(),e=i.Object,t=ag.exports=function(n,s,o){return e.defineProperty(n,s,o)};return e.defineProperty.sham&&(t.sham=!0),ag.exports}var ug,wC;function TF(){if(wC)return ug;wC=1;var i=y7();return ug=i,ug}var lg,EC;function m7(){if(EC)return lg;EC=1;var i=TF();return lg=i,lg}var dg,SC;function b7(){if(SC)return dg;SC=1;var i=m7();return dg=i,dg}var cg,OC;function _7(){return OC||(OC=1,cg=b7()),cg}var w7=_7(),E7=Y(w7),IC={},$C={},hg={},TC;function da(){if(TC)return hg;TC=1;var i=Ne();return hg.f=i,hg}var fg,PC;function Ie(){if(PC)return fg;PC=1;var i=he(),e=Ye(),t=da(),r=It().f;return fg=function(n){var s=i.Symbol||(i.Symbol={});e(s,n)||r(s,n,{value:t.f(n)})},fg}var vg,RC;function PF(){if(RC)return vg;RC=1;var i=ht(),e=vt(),t=Ne(),r=Ks();return vg=function(){var n=e("Symbol"),s=n&&n.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(u){return i(o,this)},{arity:1})},vg}var qC;function S7(){if(qC)return $C;qC=1;var i=H(),e=we(),t=ht(),r=oe(),n=wn(),s=Pe(),o=bn(),a=se(),u=Ye(),l=ke(),d=Vt(),c=Ft(),h=Lb(),f=Tt(),v=ks(),p=Us(),m=js(),g=aa(),y=u1(),O=ta(),b=Jo(),S=It(),$=e1(),w=Yo(),_=Ks(),E=h1(),I=En(),T=sa(),P=Bs(),R=Zo(),C=Ne(),M=da(),K=Ie(),j=PF(),J=_i(),ee=bi(),ce=Mr().forEach,W=T("hidden"),ue="Symbol",fe="prototype",Ee=ee.set,Pt=ee.getterFor(ue),me=Object[fe],Qe=e.Symbol,Rt=Qe&&Qe[fe],va=e.RangeError,pa=e.TypeError,Nr=e.QObject,Dn=b.f,et=S.f,Mn=y.f,ga=w.f,An=r([].push),Fe=I("symbols"),qt=I("op-symbols"),ya=I("wks"),Fr=!Nr||!Nr[fe]||!Nr[fe].findChild,kn=function(G,N,F){var B=Dn(me,N);B&&delete me[N],et(G,N,F),B&&G!==me&&et(me,N,B)},Br=s&&a(function(){return p(et({},"a",{get:function(){return et(this,"a",{value:7}).a}})).a!==7})?kn:et,jr=function(G,N){var F=Fe[G]=p(Rt);return Ee(F,{type:ue,tag:G,description:N}),s||(F.description=N),F},Kt=function(N,F,B){N===me&&Kt(qt,F,B),d(N);var U=h(F);return d(B),u(Fe,U)?(B.enumerable?(u(N,W)&&N[W][U]&&(N[W][U]=!1),B=p(B,{enumerable:v(0,!1)})):(u(N,W)||et(N,W,v(1,p(null))),N[W][U]=!0),Br(N,U,B)):et(N,U,B)},Lr=function(N,F){d(N);var B=c(F),U=m(B).concat(Bn(B));return ce(U,function(le){(!s||t(zr,B,le))&&Kt(N,le,B[le])}),N},ma=function(N,F){return F===void 0?p(N):Lr(p(N),F)},zr=function(N){var F=h(N),B=t(ga,this,F);return this===me&&u(Fe,F)&&!u(qt,F)?!1:B||!u(this,F)||!u(Fe,F)||u(this,W)&&this[W][F]?B:!0},Nn=function(N,F){var B=c(N),U=h(F);if(!(B===me&&u(Fe,U)&&!u(qt,U))){var le=Dn(B,U);return le&&u(Fe,U)&&!(u(B,W)&&B[W][U])&&(le.enumerable=!0),le}},Fn=function(N){var F=Mn(c(N)),B=[];return ce(F,function(U){!u(Fe,U)&&!u(P,U)&&An(B,U)}),B},Bn=function(G){var N=G===me,F=Mn(N?qt:c(G)),B=[];return ce(F,function(U){u(Fe,U)&&(!N||u(me,U))&&An(B,Fe[U])}),B};return o||(Qe=function(){if(l(Rt,this))throw new pa("Symbol is not a constructor");var N=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),F=R(N),B=function(U){var le=this===void 0?e:this;le===me&&t(B,qt,U),u(le,W)&&u(le[W],F)&&(le[W][F]=!1);var jn=v(1,U);try{Br(le,F,jn)}catch(Ln){if(!(Ln instanceof va))throw Ln;kn(le,F,jn)}};return s&&Fr&&Br(me,F,{configurable:!0,set:B}),jr(F,N)},Rt=Qe[fe],_(Rt,"toString",function(){return Pt(this).tag}),_(Qe,"withoutSetter",function(G){return jr(R(G),G)}),w.f=zr,S.f=Kt,$.f=Lr,b.f=Nn,g.f=y.f=Fn,O.f=Bn,M.f=function(G){return jr(C(G),G)},s&&(E(Rt,"description",{configurable:!0,get:function(){return Pt(this).description}}),n||_(me,"propertyIsEnumerable",zr,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:Qe}),ce(m(ya),function(G){K(G)}),i({target:ue,stat:!0,forced:!o},{useSetter:function(){Fr=!0},useSimple:function(){Fr=!1}}),i({target:"Object",stat:!0,forced:!o,sham:!s},{create:ma,defineProperty:Kt,defineProperties:Lr,getOwnPropertyDescriptor:Nn}),i({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:Fn}),j(),J(Qe,ue),P[W]=!0,$C}var CC={},pg,xC;function RF(){if(xC)return pg;xC=1;var i=bn();return pg=i&&!!Symbol.for&&!!Symbol.keyFor,pg}var DC;function O7(){if(DC)return CC;DC=1;var i=H(),e=vt(),t=Ye(),r=Tt(),n=En(),s=RF(),o=n("string-to-symbol-registry"),a=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{for:function(u){var l=r(u);if(t(o,l))return o[l];var d=e("Symbol")(l);return o[l]=d,a[d]=l,d}}),CC}var MC={},AC;function I7(){if(AC)return MC;AC=1;var i=H(),e=Ye(),t=Fs(),r=_n(),n=En(),s=RF(),o=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!t(u))throw new TypeError(r(u)+" is not a symbol");if(e(o,u))return o[u]}}),MC}var kC={},gg,NC;function $7(){if(NC)return gg;NC=1;var i=oe(),e=mi(),t=We(),r=Ut(),n=Tt(),s=i([].push);return gg=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,u=[],l=0;l<a;l++){var d=o[l];typeof d=="string"?s(u,d):(typeof d=="number"||r(d)==="Number"||r(d)==="String")&&s(u,n(d))}var c=u.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var p=0;p<c;p++)if(u[p]===f)return v}}},gg}var FC;function qF(){if(FC)return kC;FC=1;var i=H(),e=vt(),t=Ko(),r=ht(),n=oe(),s=se(),o=We(),a=Fs(),u=In(),l=$7(),d=bn(),c=String,h=e("JSON","stringify"),f=n(/./.exec),v=n("".charAt),p=n("".charCodeAt),m=n("".replace),g=n(1.1.toString),y=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,S=!d||s(function(){var E=e("Symbol")("stringify detection");return h([E])!=="[null]"||h({a:E})!=="{}"||h(Object(E))!=="{}"}),$=s(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),w=function(E,I){var T=u(arguments),P=l(I);if(!(!o(P)&&(E===void 0||a(E))))return T[1]=function(R,C){if(o(P)&&(C=r(P,this,c(R),C)),!a(C))return C},t(h,null,T)},_=function(E,I,T){var P=v(T,I-1),R=v(T,I+1);return f(O,E)&&!f(b,R)||f(b,E)&&!f(O,P)?"\\u"+g(p(E,0),16):E};return h&&i({target:"JSON",stat:!0,arity:3,forced:S||$},{stringify:function(I,T,P){var R=u(arguments),C=t(S?w:h,null,R);return $&&typeof C=="string"?m(C,y,_):C}}),kC}var BC={},jC;function T7(){if(jC)return BC;jC=1;var i=H(),e=bn(),t=se(),r=ta(),n=Ot(),s=!e||t(function(){r.f(1)});return i({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var u=r.f;return u?u(n(a)):[]}}),BC}var LC;function CF(){return LC||(LC=1,S7(),O7(),I7(),qF(),T7()),IC}var zC={},WC;function xF(){if(WC)return zC;WC=1;var i=Ie();return i("asyncDispose"),zC}var HC={},GC;function P7(){if(GC)return HC;GC=1;var i=Ie();return i("asyncIterator"),HC}var UC={},VC;function DF(){if(VC)return UC;VC=1;var i=Ie();return i("dispose"),UC}var KC={},YC;function R7(){if(YC)return KC;YC=1;var i=Ie();return i("hasInstance"),KC}var XC={},ZC;function q7(){if(ZC)return XC;ZC=1;var i=Ie();return i("isConcatSpreadable"),XC}var JC={},QC;function MF(){if(QC)return JC;QC=1;var i=Ie();return i("iterator"),JC}var ex={},tx;function C7(){if(tx)return ex;tx=1;var i=Ie();return i("match"),ex}var rx={},ix;function x7(){if(ix)return rx;ix=1;var i=Ie();return i("matchAll"),rx}var nx={},sx;function D7(){if(sx)return nx;sx=1;var i=Ie();return i("replace"),nx}var ox={},ax;function M7(){if(ax)return ox;ax=1;var i=Ie();return i("search"),ox}var ux={},lx;function A7(){if(lx)return ux;lx=1;var i=Ie();return i("species"),ux}var dx={},cx;function k7(){if(cx)return dx;cx=1;var i=Ie();return i("split"),dx}var hx={},fx;function AF(){if(fx)return hx;fx=1;var i=Ie(),e=PF();return i("toPrimitive"),e(),hx}var vx={},px;function N7(){if(px)return vx;px=1;var i=vt(),e=Ie(),t=_i();return e("toStringTag"),t(i("Symbol"),"Symbol"),vx}var gx={},yx;function F7(){if(yx)return gx;yx=1;var i=Ie();return i("unscopables"),gx}var mx={},bx;function B7(){if(bx)return mx;bx=1;var i=we(),e=_i();return e(i.JSON,"JSON",!0),mx}var yg,_x;function j7(){if(_x)return yg;_x=1,yF(),CF(),xF(),P7(),DF(),R7(),q7(),MF(),C7(),x7(),D7(),M7(),A7(),k7(),AF(),N7(),F7(),B7();var i=he();return yg=i.Symbol,yg}var mg,wx;function L7(){if(wx)return mg;wx=1;var i=j7();return xn(),mg=i,mg}var Ex={},Sx;function z7(){if(Sx)return Ex;Sx=1;var i=Ne(),e=It().f,t=i("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),Ex}var Ox={},Ix;function W7(){return Ix||(Ix=1,xF()),Ox}var $x={},Tx;function H7(){return Tx||(Tx=1,DF()),$x}var Px={},Rx;function G7(){if(Rx)return Px;Rx=1;var i=Ie();return i("metadata"),Px}var bg,qx;function U7(){if(qx)return bg;qx=1;var i=L7();return z7(),W7(),H7(),G7(),bg=i,bg}var Cx={},_g,xx;function kF(){if(xx)return _g;xx=1;var i=vt(),e=oe(),t=i("Symbol"),r=t.keyFor,n=e(t.prototype.valueOf);return _g=t.isRegisteredSymbol||function(o){try{return r(n(o))!==void 0}catch{return!1}},_g}var Dx;function V7(){if(Dx)return Cx;Dx=1;var i=H(),e=kF();return i({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Cx}var Mx={},wg,Ax;function NF(){if(Ax)return wg;Ax=1;for(var i=En(),e=vt(),t=oe(),r=Fs(),n=Ne(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),u=t(s.prototype.valueOf),l=i("wks"),d=0,c=a(s),h=c.length;d<h;d++)try{var f=c[d];r(s[f])&&n(f)}catch{}return wg=function(p){if(o&&o(p))return!0;try{for(var m=u(p),g=0,y=a(l),O=y.length;g<O;g++)if(l[y[g]]==m)return!0}catch{}return!1},wg}var kx;function K7(){if(kx)return Mx;kx=1;var i=H(),e=NF();return i({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Mx}var Nx={},Fx;function Y7(){if(Fx)return Nx;Fx=1;var i=Ie();return i("customMatcher"),Nx}var Bx={},jx;function X7(){if(jx)return Bx;jx=1;var i=Ie();return i("observable"),Bx}var Lx={},zx;function Z7(){if(zx)return Lx;zx=1;var i=H(),e=kF();return i({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Lx}var Wx={},Hx;function J7(){if(Hx)return Wx;Hx=1;var i=H(),e=NF();return i({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Wx}var Gx={},Ux;function Q7(){if(Ux)return Gx;Ux=1;var i=Ie();return i("matcher"),Gx}var Vx={},Kx;function eG(){if(Kx)return Vx;Kx=1;var i=Ie();return i("metadataKey"),Vx}var Yx={},Xx;function tG(){if(Xx)return Yx;Xx=1;var i=Ie();return i("patternMatch"),Yx}var Zx={},Jx;function rG(){if(Jx)return Zx;Jx=1;var i=Ie();return i("replaceAll"),Zx}var Eg,Qx;function iG(){if(Qx)return Eg;Qx=1;var i=U7();return V7(),K7(),Y7(),X7(),Z7(),J7(),Q7(),eG(),tG(),rG(),Eg=i,Eg}var Sg,e2;function nG(){return e2||(e2=1,Sg=iG()),Sg}var sG=nG(),lo=Y(sG),Og,t2;function oG(){if(t2)return Og;t2=1,Cn(),v1(),MF();var i=da();return Og=i.f("iterator"),Og}var Ig,r2;function aG(){if(r2)return Ig;r2=1;var i=oG();return xn(),Ig=i,Ig}var $g,i2;function uG(){if(i2)return $g;i2=1;var i=aG();return $g=i,$g}var Tg,n2;function lG(){if(n2)return Tg;n2=1;var i=uG();return Tg=i,Tg}var Pg,s2;function dG(){return s2||(s2=1,Pg=lG()),Pg}var cG=dG(),hG=Y(cG);function gs(i){"@babel/helpers - typeof";return gs=typeof lo=="function"&&typeof hG=="symbol"?function(e){return typeof e}:function(e){return e&&typeof lo=="function"&&e.constructor===lo&&e!==lo.prototype?"symbol":typeof e},gs(i)}var Rg,o2;function fG(){if(o2)return Rg;o2=1,AF();var i=da();return Rg=i.f("toPrimitive"),Rg}var qg,a2;function vG(){if(a2)return qg;a2=1;var i=fG();return qg=i,qg}var Cg,u2;function pG(){if(u2)return Cg;u2=1;var i=vG();return Cg=i,Cg}var xg,l2;function gG(){if(l2)return xg;l2=1;var i=pG();return xg=i,xg}var Dg,d2;function yG(){return d2||(d2=1,Dg=gG()),Dg}var mG=yG(),bG=Y(mG);function _G(i,e){if(gs(i)!="object"||!i)return i;var t=i[bG];if(t!==void 0){var r=t.call(i,e);if(gs(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function wG(i){var e=_G(i,"string");return gs(e)=="symbol"?e:e+""}function Qt(i,e,t){return(e=wG(e))in i?E7(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var c2={},Mg,h2;function g1(){return h2||(h2=1,Mg=`	
\v\f\r                　\u2028\u2029\uFEFF`),Mg}var Ag,f2;function FF(){if(f2)return Ag;f2=1;var i=oe(),e=cr(),t=Tt(),r=g1(),n=i("".replace),s=RegExp("^["+r+"]+"),o=RegExp("(^|[^"+r+"])["+r+"]+$"),a=function(u){return function(l){var d=t(e(l));return u&1&&(d=n(d,s,"")),u&2&&(d=n(d,o,"$1")),d}};return Ag={start:a(1),end:a(2),trim:a(3)},Ag}var kg,v2;function EG(){if(v2)return kg;v2=1;var i=we(),e=se(),t=oe(),r=Tt(),n=FF().trim,s=g1(),o=i.parseInt,a=i.Symbol,u=a&&a.iterator,l=/^[+-]?0x/i,d=t(l.exec),c=o(s+"08")!==8||o(s+"0x16")!==22||u&&!e(function(){o(Object(u))});return kg=c?function(f,v){var p=n(r(f));return o(p,v>>>0||(d(l,p)?16:10))}:o,kg}var p2;function SG(){if(p2)return c2;p2=1;var i=H(),e=EG();return i({global:!0,forced:parseInt!==e},{parseInt:e}),c2}var Ng,g2;function OG(){if(g2)return Ng;g2=1,SG();var i=he();return Ng=i.parseInt,Ng}var Fg,y2;function IG(){if(y2)return Fg;y2=1;var i=OG();return Fg=i,Fg}var Bg,m2;function $G(){return m2||(m2=1,Bg=IG()),Bg}var TG=$G(),b2=Y(TG),_2={},jg,w2;function PG(){if(w2)return jg;w2=1;var i=we(),e=se(),t=oe(),r=Tt(),n=FF().trim,s=g1(),o=t("".charAt),a=i.parseFloat,u=i.Symbol,l=u&&u.iterator,d=1/a(s+"-0")!==-1/0||l&&!e(function(){a(Object(l))});return jg=d?function(h){var f=n(r(h)),v=a(f);return v===0&&o(f,0)==="-"?-0:v}:a,jg}var E2;function RG(){if(E2)return _2;E2=1;var i=H(),e=PG();return i({global:!0,forced:parseFloat!==e},{parseFloat:e}),_2}var Lg,S2;function qG(){if(S2)return Lg;S2=1,RG();var i=he();return Lg=i.parseFloat,Lg}var zg,O2;function CG(){if(O2)return zg;O2=1;var i=qG();return zg=i,zg}var Wg,I2;function xG(){return I2||(I2=1,Wg=CG()),Wg}var DG=xG(),BF=Y(DG),$2={},T2;function MG(){if(T2)return $2;T2=1;var i=H(),e=Mr().filter,t=Vs(),r=t("filter");return i({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),$2}var Hg,P2;function AG(){if(P2)return Hg;P2=1,MG();var i=Xe();return Hg=i("Array","filter"),Hg}var Gg,R2;function kG(){if(R2)return Gg;R2=1;var i=ke(),e=AG(),t=Array.prototype;return Gg=function(r){var n=r.filter;return r===t||i(t,r)&&n===t.filter?e:n},Gg}var Ug,q2;function NG(){if(q2)return Ug;q2=1;var i=kG();return Ug=i,Ug}var Vg,C2;function FG(){return C2||(C2=1,Vg=NG()),Vg}var BG=FG(),vr=Y(BG),x2={},D2;function jG(){if(D2)return x2;D2=1;var i=H(),e=se(),t=u1().f,r=e(function(){return!Object.getOwnPropertyNames(1)});return i({target:"Object",stat:!0,forced:r},{getOwnPropertyNames:t}),x2}var Kg,M2;function LG(){if(M2)return Kg;M2=1,jG();var i=he(),e=i.Object;return Kg=function(r){return e.getOwnPropertyNames(r)},Kg}var Yg,A2;function zG(){if(A2)return Yg;A2=1;var i=LG();return Yg=i,Yg}var Xg,k2;function WG(){return k2||(k2=1,Xg=zG()),Xg}var HG=WG(),GG=Y(HG),Zg,N2;function UG(){if(N2)return Zg;N2=1,CF();var i=he();return Zg=i.Object.getOwnPropertySymbols,Zg}var Jg,F2;function VG(){if(F2)return Jg;F2=1;var i=UG();return Jg=i,Jg}var Qg,B2;function KG(){return B2||(B2=1,Qg=VG()),Qg}var YG=KG(),$r=Y(YG),ey={exports:{}},j2={},L2;function XG(){if(L2)return j2;L2=1;var i=H(),e=se(),t=Ft(),r=Jo().f,n=Pe(),s=!n||e(function(){r(1)});return i({target:"Object",stat:!0,forced:s,sham:!n},{getOwnPropertyDescriptor:function(a,u){return r(t(a),u)}}),j2}var z2;function ZG(){if(z2)return ey.exports;z2=1,XG();var i=he(),e=i.Object,t=ey.exports=function(n,s){return e.getOwnPropertyDescriptor(n,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),ey.exports}var ty,W2;function JG(){if(W2)return ty;W2=1;var i=ZG();return ty=i,ty}var ry,H2;function QG(){return H2||(H2=1,ry=JG()),ry}var eU=QG(),Ar=Y(eU),G2={},iy,U2;function tU(){if(U2)return iy;U2=1;var i=vt(),e=oe(),t=aa(),r=ta(),n=Vt(),s=e([].concat);return iy=i("Reflect","ownKeys")||function(a){var u=t.f(n(a)),l=r.f;return l?s(u,l(a)):u},iy}var V2;function rU(){if(V2)return G2;V2=1;var i=H(),e=Pe(),t=tU(),r=Ft(),n=Jo(),s=oa();return i({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var u=r(a),l=n.f,d=t(u),c={},h=0,f,v;d.length>h;)v=l(u,f=d[h++]),v!==void 0&&s(c,f,v);return c}}),G2}var ny,K2;function iU(){if(K2)return ny;K2=1,rU();var i=he();return ny=i.Object.getOwnPropertyDescriptors,ny}var sy,Y2;function nU(){if(Y2)return sy;Y2=1;var i=iU();return sy=i,sy}var oy,X2;function sU(){return X2||(X2=1,oy=nU()),oy}var oU=sU(),Tr=Y(oU),ay={exports:{}},Z2={},J2;function aU(){if(J2)return Z2;J2=1;var i=H(),e=Pe(),t=e1().f;return i({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),Z2}var Q2;function uU(){if(Q2)return ay.exports;Q2=1,aU();var i=he(),e=i.Object,t=ay.exports=function(n,s){return e.defineProperties(n,s)};return e.defineProperties.sham&&(t.sham=!0),ay.exports}var uy,eD;function lU(){if(eD)return uy;eD=1;var i=uU();return uy=i,uy}var ly,tD;function dU(){return tD||(tD=1,ly=lU()),ly}var cU=dU(),ca=Y(cU),dy,rD;function hU(){return rD||(rD=1,dy=TF()),dy}var fU=hU(),ha=Y(fU);function y1(i,e){const t=["node","edge","label"];let r=!0;const n=gr(e,"chosen");if(typeof n=="boolean")r=n;else if(typeof n=="object"){if(Se(t).call(t,i)===-1)throw new Error("choosify: subOption '"+i+"' should be one of '"+t.join("', '")+"'");const s=gr(e,["chosen",i]);(typeof s=="boolean"||typeof s=="function")&&(r=s)}return r}function ib(i,e,t){if(i.width<=0||i.height<=0)return!1;if(t!==void 0){const s={x:e.x-t.x,y:e.y-t.y};if(t.angle!==0){const o=-t.angle;e={x:Math.cos(o)*s.x-Math.sin(o)*s.y,y:Math.sin(o)*s.x+Math.cos(o)*s.y}}else e=s}const r=i.x+i.width,n=i.y+i.width;return i.left<e.x&&r>e.x&&i.top<e.y&&n>e.y}function Ro(i){return typeof i=="string"&&i!==""}function jF(i,e,t,r){let n=r.x,s=r.y;if(typeof r.distanceToBorder=="function"){const o=r.distanceToBorder(i,e),a=Math.sin(e)*o,u=Math.cos(e)*o;u===o?(n+=o,s=r.y):a===o?(n=r.x,s-=o):(n+=u,s-=a)}else r.shape.width>r.shape.height?(n=r.x+r.shape.width*.5,s=r.y-t):(n=r.x+t,s=r.y-r.shape.height*.5);return{x:n,y:s}}var iD={},nD;function vU(){if(nD)return iD;nD=1;var i=H(),e=mi(),t=uF(),r=He(),n=ea(),s=fr(),o=Ft(),a=oa(),u=Ne(),l=Vs(),d=In(),c=l("slice"),h=u("species"),f=Array,v=Math.max;return i({target:"Array",proto:!0,forced:!c},{slice:function(m,g){var y=o(this),O=s(y),b=n(m,O),S=n(g===void 0?O:g,O),$,w,_;if(e(y)&&($=y.constructor,t($)&&($===f||e($.prototype))?$=void 0:r($)&&($=$[h],$===null&&($=void 0)),$===f||$===void 0))return d(y,b,S);for(w=new($===void 0?f:$)(v(S-b,0)),_=0;b<S;b++,_++)b in y&&a(w,_,y[b]);return w.length=_,w}}),iD}var cy,sD;function pU(){if(sD)return cy;sD=1,vU();var i=Xe();return cy=i("Array","slice"),cy}var hy,oD;function gU(){if(oD)return hy;oD=1;var i=ke(),e=pU(),t=Array.prototype;return hy=function(r){var n=r.slice;return r===t||i(t,r)&&n===t.slice?e:n},hy}var fy,aD;function yU(){if(aD)return fy;aD=1;var i=gU();return fy=i,fy}var vy,uD;function mU(){return uD||(uD=1,vy=yU()),vy}var bU=mU(),Di=Y(bU),py,lD;function _U(){if(lD)return py;lD=1,Cn();var i=Xe();return py=i("Array","values"),py}var gy,dD;function wU(){if(dD)return gy;dD=1;var i=_U();return gy=i,gy}var yy,cD;function EU(){if(cD)return yy;cD=1,xn();var i=Rn(),e=Ye(),t=ke(),r=wU(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return yy=function(o){var a=o.values;return o===n||t(n,o)&&a===n.values||e(s,i(o))?r:a},yy}var my,hD;function SU(){return hD||(hD=1,my=EU()),my}var OU=SU(),LF=Y(OU);class IU{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let n=t;(t===void 0||t==="")&&(n=" ");const s=this.measureText(n,r),o=Ve({},LF(s));o.text=t,o.width=s.width,o.mod=r,(t===void 0||t==="")&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t)}newLine(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const t=this.lines[e];let r=0;if(t.blocks!==void 0)for(let n=0;n<t.blocks.length;n++){const s=t.blocks[n];r<s.height&&(r=s.height)}t.height=r}}determineLabelSize(){let e=0,t=0;for(let r=0;r<this.lines.length;r++){const n=this.lines[r];n.width>e&&(e=n.width),t+=n.height}this.width=e,this.height=t}removeEmptyBlocks(){const e=[];for(let t=0;t<this.lines.length;t++){const r=this.lines[t];if(r.blocks.length===0||t===this.lines.length-1&&r.width===0)continue;const n={};Ve(n,r),n.blocks=[];let s;const o=[];for(let a=0;a<r.blocks.length;a++){const u=r.blocks[a];u.width!==0?o.push(u):s===void 0&&(s=u)}o.length===0&&s!==void 0&&o.push(s),n.blocks=o,e.push(n)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const $U={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class fD{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,t){return!this.mono&&!this[e]&&this.match(t)?(this.setTag(e),!0):!1}match(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[r,n]=this.prepareRegExp(e),s=r.test(this.text.substr(this.position,n));return s&&t&&(this.position+=n-1),s}parseEndTag(e,t,r){let n=this.mod()===e;return e==="mono"?n=n&&this.mono:n=n&&!this.mono,n&&this.match(t)?(r!==void 0?(this.position===this.text.length-1||this.match(r,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,t){return this.match(e)?(this.add(t),this.position+=length-1,!0):!1}prepareRegExp(e){let t,r;if(e instanceof RegExp)r=e,t=1;else{const n=$U[e];n!==void 0?r=n:r=new RegExp(e),t=e.length}return[r,t]}}class TU{constructor(e,t,r,n){this.ctx=e,this.parent=t,this.selected=r,this.hover=n;const s=(o,a)=>{if(o===void 0)return 0;const u=this.parent.getFormattingValues(e,r,n,a);let l=0;return o!==""&&(l=this.ctx.measureText(o).width),{width:l,values:u}};this.lines=new IU(s)}process(e){if(!Ro(e))return this.lines.finalize();const t=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const r=String(e).split(`
`),n=r.length;if(t.multi)for(let s=0;s<n;s++){const o=this.splitBlocks(r[s],t.multi);if(o!==void 0){if(o.length===0){this.lines.newLine("");continue}if(t.maxWdt>0)for(let a=0;a<o.length;a++){const u=o[a].mod,l=o[a].text;this.splitStringIntoLines(l,u,!0)}else for(let a=0;a<o.length;a++){const u=o[a].mod,l=o[a].text;this.lines.append(l,u)}this.lines.newLine()}}else if(t.maxWdt>0)for(let s=0;s<n;s++)this.splitStringIntoLines(r[s]);else for(let s=0;s<n;s++)this.lines.newLine(r[s]);return this.lines.finalize()}decodeMarkupSystem(e){let t="none";return e==="markdown"||e==="md"?t="markdown":(e===!0||e==="html")&&(t="html"),t}splitHtmlBlocks(e){const t=new fD(e),r=n=>/&/.test(n)?(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0):!1;for(;t.position<t.text.length;){const n=t.text.charAt(t.position);t.parseWS(n)||/</.test(n)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||r(n)||t.add(n),t.position++}return t.emitBlock(),t.blocks}splitMarkdownBlocks(e){const t=new fD(e);let r=!0;const n=s=>/\\/.test(s)?(t.position<this.text.length+1&&(t.position++,s=this.text.charAt(t.position),/ \t/.test(s)?t.spacing=!0:(t.add(s),r=!1)),!0):!1;for(;t.position<t.text.length;){const s=t.text.charAt(t.position);t.parseWS(s)||n(s)||(r||t.spacing)&&(t.parseStartTag("bold","*")||t.parseStartTag("ital","_")||t.parseStartTag("mono","`"))||t.parseEndTag("bold","*","afterBold")||t.parseEndTag("ital","_","afterItal")||t.parseEndTag("mono","`","afterMono")||(t.add(s),r=!1),t.position++}return t.emitBlock(),t.blocks}splitBlocks(e,t){const r=this.decodeMarkupSystem(t);if(r==="none")return[{text:e,mod:"normal"}];if(r==="markdown")return this.splitMarkdownBlocks(e);if(r==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}getLongestFit(e){let t="",r=0;for(;r<e.length;){const s=t+(t===""?"":" ")+e[r];if(this.overMaxWidth(s))break;t=s,r++}return r}getLongestFitWord(e){let t=0;for(;t<e.length&&!this.overMaxWidth(Di(e).call(e,0,t));)t++;return t}splitStringIntoLines(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let n=e.split("\r");for(;n.length>0;){let s=this.getLongestFit(n);if(s===0){const o=n[0],a=this.getLongestFitWord(o);this.lines.newLine(Di(o).call(o,0,a),t),n[0]=Di(o).call(o,a)}else{let o=s;n[s-1]===" "?s--:n[o]===" "&&o++;const a=Di(n).call(n,0,s).join("");s==n.length&&r?this.lines.append(a,t):this.lines.newLine(a,t),n=Di(n).call(n,o)}}}}const Gn=["bold","ital","boldital","mono"];class Wi{constructor(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Ro(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const t=e.font.size;t!==void 0&&(this.baseSize=t)}}}initFontOptions(e){if(re(Gn,t=>{this.fontOptions[t]={}}),Wi.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}re(e,(t,r)=>{t!=null&&typeof t!="object"&&(this.fontOptions[r]=t)})}static parseFontString(e,t){if(!t||typeof t!="string")return!1;const r=t.split(" ");return e.size=+r[0].replace("px",""),e.face=r[1],e.color=r[2],!0}constrain(e){const t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},r=gr(e,"widthConstraint");if(typeof r=="number")t.maxWdt=Number(r),t.minWdt=Number(r);else if(typeof r=="object"){const s=gr(e,["widthConstraint","maximum"]);typeof s=="number"&&(t.maxWdt=Number(s));const o=gr(e,["widthConstraint","minimum"]);typeof o=="number"&&(t.minWdt=Number(o))}const n=gr(e,"heightConstraint");if(typeof n=="number")t.minHgt=Number(n);else if(typeof n=="object"){const s=gr(e,["heightConstraint","minimum"]);typeof s=="number"&&(t.minHgt=Number(s));const o=gr(e,["heightConstraint","valign"]);typeof o=="string"&&(o==="top"||o==="bottom")&&(t.valign=o)}return t}update(e,t){this.setOptions(e,!0),this.propagateFonts(t),pe(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=y1("label",t)}adjustSizes(e){const t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);const r=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=r)}addFontOptionsToPile(e,t){for(let r=0;r<t.length;++r)this.addFontToPile(e,t[r])}addFontToPile(e,t){if(t===void 0||t.font===void 0||t.font===null)return;const r=t.font;e.push(r)}getBasicOptions(e){const t={};for(let r=0;r<e.length;++r){let n=e[r];const s={};Wi.parseFontString(s,n)&&(n=s),re(n,(o,a)=>{o!==void 0&&(Object.prototype.hasOwnProperty.call(t,a)||(Se(Gn).call(Gn,a)!==-1?t[a]={}:t[a]=o))})}return t}getFontOption(e,t,r){let n;for(let s=0;s<e.length;++s){const o=e[s];if(Object.prototype.hasOwnProperty.call(o,t)){if(n=o[t],n==null)continue;const a={};if(Wi.parseFontString(a,n)&&(n=a),Object.prototype.hasOwnProperty.call(n,r))return n[r]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,r))return this.fontOptions[r];throw new Error("Did not find value for multi-font for property: '"+r+"'")}getFontOptions(e,t){const r={},n=["color","size","face","mod","vadjust"];for(let s=0;s<n.length;++s){const o=n[s];r[o]=this.getFontOption(e,t,o)}return r}propagateFonts(e){const t=[];this.addFontOptionsToPile(t,e),this.fontOptions=this.getBasicOptions(t);for(let r=0;r<Gn.length;++r){const n=Gn[r],s=this.fontOptions[n],o=this.getFontOptions(t,n);re(o,(a,u)=>{s[u]=a}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,t,r,n,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,n,s,t,r,o),this._drawBackground(e),this._drawText(e,t,this.size.yLine,o,a))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}_drawText(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[t,r]=this._setAlignment(e,t,r,n),e.textAlign="left",t=t-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(r-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(r+=(this.size.height-this.size.labelHeight)/2));for(let o=0;o<this.lineCount;o++){const a=this.lines[o];if(a&&a.blocks){let u=0;this.isEdgeLabel||this.fontOptions.align==="center"?u+=(this.size.width-a.width)/2:this.fontOptions.align==="right"&&(u+=this.size.width-a.width);for(let l=0;l<a.blocks.length;l++){const d=a.blocks[l];e.font=d.font;const[c,h]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=h,e.lineJoin="round"),e.fillStyle=c,d.strokeWidth>0&&e.strokeText(d.text,t+u,r+d.vadjust),e.fillText(d.text,t+u,r+d.vadjust),u+=d.width}r+=a.height}}}_setAlignment(e,t,r,n){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){t=0,r=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",r-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",r+=2*s):e.textBaseline="middle"}else e.textBaseline=n;return[t,r]}_getColor(e,t,r){let n=e||"#000000",s=r||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){const o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));n=gt(n,o),s=gt(s,o)}return[n,s]}getTextSize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,t,r),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let t=this.size.left,r=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":t=s,r=-this.size.height*.5;break;case"top":t=s,r=-(this.size.height+2);break;case"bottom":t=s,r=2;break}}return{left:t,top:r,width:this.size.width,height:this.size.height}}calculateLabelSize(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,t,r),this.size.left=n-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,o==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,t,r,n){const s=function(u,l,d){return l==="normal"?d==="mod"?"":u[d]:u[l][d]!==void 0?u[l][d]:u[d]},o={color:s(this.fontOptions,n,"color"),size:s(this.fontOptions,n,"size"),face:s(this.fontOptions,n,"face"),mod:s(this.fontOptions,n,"mod"),vadjust:s(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||r)&&(n==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?o.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(o,this.elementOptions.id,t,r));let a="";return o.mod!==void 0&&o.mod!==""&&(a+=o.mod+" "),a+=o.size+"px "+o.face,e.font=a.replace(/"/g,""),o.font=e.font,o.height=o.size,o}differentState(e,t){return e!==this.selectedState||t!==this.hoverState}_processLabelText(e,t,r,n){return new TU(e,this,t,r).process(n)}_processLabel(e,t,r){if(this.labelDirty===!1&&!this.differentState(t,r))return;const n=this._processLabelText(e,t,r,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=t,this.hoverState=r,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}var vD={},by,pD;function PU(){if(pD)return by;pD=1;var i=Ot(),e=ea(),t=fr();return by=function(n){for(var s=i(this),o=t(s),a=arguments.length,u=e(a>1?arguments[1]:void 0,o),l=a>2?arguments[2]:void 0,d=l===void 0?o:e(l,o);d>u;)s[u++]=n;return s},by}var gD;function RU(){if(gD)return vD;gD=1;var i=H(),e=PU(),t=t1();return i({target:"Array",proto:!0},{fill:e}),t("fill"),vD}var _y,yD;function qU(){if(yD)return _y;yD=1,RU();var i=Xe();return _y=i("Array","fill"),_y}var wy,mD;function CU(){if(mD)return wy;mD=1;var i=ke(),e=qU(),t=Array.prototype;return wy=function(r){var n=r.fill;return r===t||i(t,r)&&n===t.fill?e:n},wy}var Ey,bD;function xU(){if(bD)return Ey;bD=1;var i=CU();return Ey=i,Ey}var Sy,_D;function DU(){return _D||(_D=1,Sy=xU()),Sy}var MU=DU(),fa=Y(MU);class wi{constructor(e,t,r){this.body=t,this.labelModule=r,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,t){const r=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}enableShadow(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,t){if(t.borderDashes!==!1)if(e.setLineDash!==void 0){let r=t.borderDashes;r===!0&&(r=[5,15]),e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}disableBorderDashes(e,t){t.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}needsRefresh(e,t){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,t)}initContextForDraw(e,t){const r=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,r),e.strokeStyle=t.borderColor,e.fillStyle=t.color}performStroke(e,t){const r=t.borderWidth/this.body.view.scale;e.save(),r>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}performFill(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),fa(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,t,r,n,s){r!==void 0&&this.resize(r,n,s),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,t,r,n,s){this._updateBoundingBox(e,t,r,n,s)}getDimensionsFromLabel(e,t,r){this.textSize=this.labelModule.getTextSize(e,t,r);let n=this.textSize.width,s=this.textSize.height;const o=14;return n===0&&(n=o,s=o),{width:n,height:s}}}let AU=class extends wi{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const n=this.getDimensionsFromLabel(e,t,r);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,o),PN(e,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(t,r,e,n,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,s)}updateBoundingBox(e,t,r,n,s){this._updateBoundingBox(e,t,r,n,s);const o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}distanceToBorder(e,t){e&&this.resize(e);const r=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}};class m1 extends wi{constructor(e,t,r){super(e,t,r),this.labelOffset=0,this.selected=!1}setOptions(e,t,r){this.options=e,t===void 0&&r===void 0||this.setImages(t,r)}setImages(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}switchImages(e){const t=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&t){const r=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=r}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const t=this.options.imagePadding;typeof t=="object"?(e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left):(e.top=t,e.right=t,e.bottom=t,e.left=t)}return e}_resizeImage(){let e,t;if(this.options.shapeProperties.useImageSize===!1){let r=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?r=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),e=this.options.size*2*r,t=this.options.size*2*n}else{const r=this._getImagePadding();e=this.imageObj.width+r.left+r.right,t=this.imageObj.height+r.top+r.bottom}this.width=e,this.height=t,this.radius=.5*this.width}_drawRawCircle(e,t,r,n){this.initContextForDraw(e,n),Hb(e,t,r,n.size),this.performFill(e,n)}_drawImageAtPosition(e,t){if(this.imageObj.width!=0){e.globalAlpha=t.opacity!==void 0?t.opacity:1,this.enableShadow(e,t);let r=1;this.options.shapeProperties.interpolation===!0&&(r=this.imageObj.width/this.width/this.body.view.scale);const n=this._getImagePadding(),s=this.left+n.left,o=this.top+n.top,a=this.width-n.left-n.right,u=this.height-n.top-n.bottom;this.imageObj.drawImageAtPosition(e,r,s,o,a,u),this.disableShadow(e,t)}}_drawImageLabel(e,t,r,n,s){let o=0;if(this.height!==void 0){o=this.height*.5;const u=this.labelModule.getTextSize(e,n,s);u.lineCount>=1&&(o+=u.height/2)}const a=r+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(e,t,a,n,s,"hanging")}}let kU=class extends m1{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const n=this.getDimensionsFromLabel(e,t,r),s=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this._drawRawCircle(e,t,r,o),this.updateBoundingBox(t,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,r,n,s)}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class NU extends m1{constructor(e,t,r,n,s){super(e,t,r),this.setImages(n,s)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,n,s,o){this.switchImages(n),this.resize();let a=t,u=r;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,u+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this._drawRawCircle(e,a,u,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,a,u,n,s),this.updateBoundingBox(t,r)}updateBoundingBox(e,t){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=t,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=t+this.options.size*2):(this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class kr extends wi{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,r)){var s,o;this.labelModule.getTextSize(e,t,r);const a=2*n.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:a,this.height=(o=this.customSizeHeight)!==null&&o!==void 0?o:a,this.radius=.5*this.width}}_drawShape(e,t,r,n,s,o,a,u){return this.resize(e,o,a,u),this.left=n-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,u),C8(t)(e,n,s,u.size),this.performFill(e,u),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,n,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,o,a,n,s,"hanging");const l=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,n,l,o,a,"hanging")}this.updateBoundingBox(n,s)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function wD(i,e){var t=Ce(i);if($r){var r=$r(i);e&&(r=vr(r).call(r,function(n){return Ar(i,n).enumerable})),t.push.apply(t,r)}return t}function FU(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?be(t=wD(Object(n),!0)).call(t,function(s){Qt(i,s,n[s])}):Tr?ca(i,Tr(n)):be(r=wD(Object(n))).call(r,function(s){ha(i,s,Ar(n,s))})}return i}class BU extends kr{constructor(e,t,r,n){super(e,t,r,n),this.ctxRenderer=n}draw(e,t,r,n,s,o){this.resize(e,n,s,o),this.left=t-this.width/2,this.top=r-this.height/2,e.save();const a=this.ctxRenderer({ctx:e,id:this.options.id,x:t,y:r,state:{selected:n,hover:s},style:FU({},o),label:this.options.label});if(a.drawNode!=null&&a.drawNode(),e.restore(),a.drawExternalLabel){const u=a.drawExternalLabel;a.drawExternalLabel=()=>{e.save(),u(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class jU extends wi{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){if(this.needsRefresh(t,r)){const s=this.getDimensionsFromLabel(e,t,r).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,o),RN(e,t-this.width/2,r-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,r,e,n,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let LU=class extends kr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"diamond",4,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class zU extends kr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"circle",2,t,r,n,s,o)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class ED extends wi{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const n=this.getDimensionsFromLabel(e,t,r);this.height=n.height*2,this.width=n.width+n.height,this.radius=.5*this.width}}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width*.5,this.top=r-this.height*.5,this.initContextForDraw(e,o),Vm(e,this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,r,e,n,s),this.labelModule.draw(e,t,r,n,s)}distanceToBorder(e,t){e&&this.resize(e);const r=this.width*.5,n=this.height*.5,s=Math.sin(t)*r,o=Math.cos(t)*n;return r*n/Math.sqrt(s*s+o*o)}}class WU extends wi{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,n,s,o){return this.resize(e,n,s),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=r-this.height/2,this._icon(e,t,r,n,s,o),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,r+this.height/2+5,n),this.updateBoundingBox(t,r)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=t+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,t,r,n,s,o){const a=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:n?"bold":"",(this.options.icon.weight!=null&&n?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,t,r),this.disableShadow(e,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let HU=class extends m1{constructor(e,t,r,n,s){super(e,t,r),this.setImages(n,s)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,n,s,o){e.save(),this.switchImages(n),this.resize();let a=t,u=r;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,u+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const l=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,c=(n?d:l)/this.body.view.scale;e.lineWidth=Math.min(this.width,c),e.beginPath();let h=n?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,f=n?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;o.opacity!==void 0&&(h=gt(h,o.opacity),f=gt(f,o.opacity)),e.strokeStyle=h,e.fillStyle=f,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),fa(e).call(e),this.performStroke(e,o),e.closePath()}this._drawImageAtPosition(e,o),this._drawImageLabel(e,a,u,n,s),this.updateBoundingBox(t,r),e.restore()}updateBoundingBox(e,t){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=t):(this.left=e-this.width/2,this.top=t-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class GU extends kr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"square",2,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class UU extends kr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"hexagon",4,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class VU extends kr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"star",4,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class KU extends wi{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.textSize=this.labelModule.getTextSize(e,t,r),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,s),this.disableShadow(e,o),this.updateBoundingBox(t,r,e,n,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let YU=class extends kr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"triangle",3,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class XU extends kr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"triangleDown",3,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}function SD(i,e){var t=Ce(i);if($r){var r=$r(i);e&&(r=vr(r).call(r,function(n){return Ar(i,n).enumerable})),t.push.apply(t,r)}return t}function OD(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?be(t=SD(Object(n),!0)).call(t,function(s){Qt(i,s,n[s])}):Tr?ca(i,Tr(n)):be(r=SD(Object(n))).call(r,function(s){ha(i,s,Ar(n,s))})}return i}class _e{constructor(e,t,r,n,s,o){this.options=Er(s),this.globalOptions=s,this.defaultOptions=o,this.body=t,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Wi(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var t;Se(t=this.edges).call(t,e)===-1&&this.edges.push(e)}detachEdge(e){var t;const r=Se(t=this.edges).call(t,e);if(r!=-1){var n;Sr(n=this.edges).call(n,r,1)}}setOptions(e){const t=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");_e.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=b2(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=b2(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=BF(e.value)),_e.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const r=[e,this.options,this.defaultOptions];return this.chooser=y1("node",r),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&_e.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,t,r){var n;if(r===void 0)return;const s=e.group;if(t!==void 0&&t.group!==void 0&&s!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const a=r.get(s);a.opacity!==void 0&&t.opacity===void 0&&(_e.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));const u=vr(n=GG(t)).call(n,l=>t[l]!=null);u.push("font"),To(u,e,a),e.color=Jm(e.color)}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(To(["color","fixed","shadow"],e,t,r),_e.checkMass(t),e.opacity!==void 0&&(_e.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),t.opacity!==void 0&&(_e.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!_e.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),pt(e,t,"shadow",n),t.color!==void 0&&t.color!==null){const a=Jm(t.color);rF(e.color,a)}else r===!0&&t.color===null&&(e.color=Er(n.color));t.fixed!==void 0&&t.fixed!==null&&(typeof t.fixed=="boolean"?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(t.fixed.x!==void 0&&typeof t.fixed.x=="boolean"&&(e.fixed.x=t.fixed.x),t.fixed.y!==void 0&&typeof t.fixed.y=="boolean"&&(e.fixed.y=t.fixed.y))),r===!0&&t.font===null&&(e.font=Er(n.font)),_e.updateGroupOptions(e,t,s),t.scaling!==void 0&&pt(e.scaling,t.scaling,"label",n.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const t=this.options.opacity;e.borderColor=gt(e.borderColor,t),e.color=gt(e.color,t),e.shadowColor=gt(e.shadowColor,t)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),_e.updateGroupOptions(this.options,OD(OD({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const t=this.grouplist.get(this.options.group,!1),r=[e,this.options,t,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new AU(this.options,this.body,this.labelModule);break;case"circle":this.shape=new kU(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new NU(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new BU(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new jU(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new LU(this.options,this.body,this.labelModule);break;case"dot":this.shape=new zU(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new ED(this.options,this.body,this.labelModule);break;case"icon":this.shape=new WU(this.options,this.body,this.labelModule);break;case"image":this.shape=new HU(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new GU(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new UU(this.options,this.body,this.labelModule);break;case"star":this.shape=new VU(this.options,this.body,this.labelModule);break;case"text":this.shape=new KU(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new YU(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new XU(this.options,this.body,this.labelModule);break;default:this.shape=new ED(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,t){return this.shape.distanceToBorder(e,t)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,t,r){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*o}this.options.size=this.options.scaling.min+n*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}getItemsOnPoint(e){const t=[];return this.labelModule.visible()&&ib(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),ib(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,t){if(e.mass!==void 0&&e.mass<=0){let r="";t!==void 0&&(r=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+r+", setting mass to 1.",oF),e.mass=1}}}class ZU{constructor(e,t,r,n){var s;if(this.body=e,this.images=t,this.groups=r,this.layoutEngine=n,this.body.functions.createNode=A(s=this.create).call(s,this),this.nodesListeners={add:(o,a)=>{this.add(a.items)},update:(o,a)=>{this.update(a.items,a.data,a.oldData)},remove:(o,a)=>{this.remove(a.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,a,u,l){if(a===o)return .5;{const d=1/(a-o);return Math.max(0,(l-o)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Er(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,t;this.body.emitter.on("refreshNodes",A(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",A(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",()=>{re(this.nodesListeners,(r,n)=>{this.body.data.nodes&&this.body.data.nodes.off(n,r)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(_e.parseOptions(this.options,e),e.opacity!==void 0&&(rb(e.opacity)||!Yr(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const t of Ce(this.body.nodes))this.body.nodes[t].updateLabelModule(),this.body.nodes[t].needsRefresh();if(e.size!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.nodes;if(_N("id",e))this.body.data.nodes=e;else if(Dt(e))this.body.data.nodes=new So,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new So;else throw new TypeError("Array or DataSet expected");if(r&&re(this.nodesListeners,function(n,s){r.off(s,n)}),this.body.nodes={},this.body.data.nodes){const n=this;re(this.nodesListeners,function(o,a){n.body.data.nodes.on(a,o)});const s=this.body.data.nodes.getIds();this.add(s,!0)}t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;const n=[];for(let s=0;s<e.length;s++){r=e[s];const o=this.body.data.nodes.get(r),a=this.create(o);n.push(a),this.body.nodes[r]=a}this.layoutEngine.positionInitially(n),t===!1&&this.body.emitter.emit("_dataChanged")}update(e,t,r){const n=this.body.nodes;let s=!1;for(let o=0;o<e.length;o++){const a=e[o];let u=n[a];const l=t[o];u!==void 0?u.setOptions(l)&&(s=!0):(s=!0,u=this.create(l),n[a]=u)}!s&&r!==void 0&&(s=l7(t).call(t,function(o,a){const u=r[a];return u&&u.level!==o.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const t=this.body.nodes;for(let r=0;r<e.length;r++){const n=e[r];delete t[n]}this.body.emitter.emit("_dataChanged")}create(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_e;return new t(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;re(this.body.nodes,(t,r)=>{const n=this.body.data.nodes.get(r);n!==void 0&&(e===!0&&t.setOptions({x:null,y:null}),t.setOptions({fixed:!1}),t.setOptions(n))})}getPositions(e){const t={};if(e!==void 0){if(Dt(e)===!0){for(let r=0;r<e.length;r++)if(this.body.nodes[e[r]]!==void 0){const n=this.body.nodes[e[r]];t[e[r]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];t[e]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(let r=0;r<this.body.nodeIndices.length;r++){const n=this.body.nodes[this.body.nodeIndices[r]];t[this.body.nodeIndices[r]]={x:Math.round(n.x),y:Math.round(n.y)}}return t}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],t=this.body.data.nodes.getDataSet();for(const r of t.get()){const n=r.id,s=this.body.nodes[n],o=Math.round(s.x),a=Math.round(s.y);(r.x!==o||r.y!==a)&&e.push({id:n,x:o,y:a})}t.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,t){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e],s={};for(let o=0;o<n.edges.length;o++){const a=n.edges[o];t!=="to"&&a.toId==n.id?s[a.fromId]===void 0&&(r.push(a.fromId),s[a.fromId]=!0):t!=="from"&&a.fromId==n.id&&s[a.toId]===void 0&&(r.push(a.toId),s[a.toId]=!0)}}return r}getConnectedEdges(e){const t=[];if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];for(let n=0;n<r.edges.length;n++)t.push(r.edges[n].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}moveNode(e,t,r){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(r),zi(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var ID={},Oy,$D;function JU(){if($D)return Oy;$D=1;var i=On(),e=Tt(),t=cr(),r=RangeError;return Oy=function(s){var o=e(t(this)),a="",u=i(s);if(u<0||u===1/0)throw new r("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(o+=o))u&1&&(a+=o);return a},Oy}var Iy,TD;function QU(){if(TD)return Iy;TD=1;var i=oe(),e=$N(),t=Tt(),r=JU(),n=cr(),s=i(r),o=i("".slice),a=Math.ceil,u=function(l){return function(d,c,h){var f=t(n(d)),v=e(c),p=f.length,m=h===void 0?" ":t(h),g,y;return v<=p||m===""?f:(g=v-p,y=s(m,a(g/m.length)),y.length>g&&(y=o(y,0,g)),l?f+y:y+f)}};return Iy={start:u(!1),end:u(!0)},Iy}var $y,PD;function eV(){if(PD)return $y;PD=1;var i=oe(),e=se(),t=QU().start,r=RangeError,n=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,u=i(o.getTime),l=i(o.getUTCDate),d=i(o.getUTCFullYear),c=i(o.getUTCHours),h=i(o.getUTCMilliseconds),f=i(o.getUTCMinutes),v=i(o.getUTCMonth),p=i(o.getUTCSeconds);return $y=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!n(u(this)))throw new r("Invalid time value");var g=this,y=d(g),O=h(g),b=y<0?"-":y>9999?"+":"";return b+t(s(y),b?6:4,0)+"-"+t(v(g)+1,2,0)+"-"+t(l(g),2,0)+"T"+t(c(g),2,0)+":"+t(f(g),2,0)+":"+t(p(g),2,0)+"."+t(O,3,0)+"Z"}:a,$y}var RD;function tV(){if(RD)return ID;RD=1;var i=H(),e=ht(),t=Ot(),r=EN(),n=eV(),s=Ut(),o=se(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return i({target:"Date",proto:!0,forced:a},{toJSON:function(l){var d=t(this),c=r(d,"number");return typeof c=="number"&&!isFinite(c)?null:!("toISOString"in d)&&s(d)==="Date"?e(n,d):d.toISOString()}}),ID}var Ty,qD;function rV(){if(qD)return Ty;qD=1,tV(),qF();var i=he(),e=Ko();return i.JSON||(i.JSON={stringify:JSON.stringify}),Ty=function(r,n,s){return e(i.JSON.stringify,null,arguments)},Ty}var Py,CD;function iV(){if(CD)return Py;CD=1;var i=rV();return Py=i,Py}var Ry,xD;function nV(){return xD||(xD=1,Ry=iV()),Ry}var sV=nV(),zF=Y(sV),DD={},MD;function oV(){if(MD)return DD;MD=1;var i=H(),e=Math.hypot,t=Math.abs,r=Math.sqrt,n=!!e&&e(1/0,NaN)!==1/0;return i({target:"Math",stat:!0,arity:2,forced:n},{hypot:function(o,a){for(var u=0,l=0,d=arguments.length,c=0,h,f;l<d;)h=t(arguments[l++]),c<h?(f=c/h,u=u*f*f+1,c=h):h>0?(f=h/c,u+=f*f):u+=h;return c===1/0?1/0:c*r(u)}}),DD}var qy,AD;function aV(){if(AD)return qy;AD=1,oV();var i=he();return qy=i.Math.hypot,qy}var Cy,kD;function uV(){if(kD)return Cy;kD=1;var i=aV();return Cy=i,Cy}var xy,ND;function lV(){return ND||(ND=1,xy=uV()),xy}var dV=lV(),cV=Y(dV);class Te{static transform(e,t){Dt(e)||(e=[e]);const r=t.point.x,n=t.point.y,s=t.angle,o=t.length;for(let a=0;a<e.length;++a){const u=e[a],l=u.x*Math.cos(s)-u.y*Math.sin(s),d=u.x*Math.sin(s)+u.y*Math.cos(s);u.x=r+o*l,u.y=n+o*d}}static drawPath(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length;++r)e.lineTo(t[r].x,t[r].y);e.closePath()}}let hV=class extends Te{static draw(e,t){if(t.image){e.save(),e.translate(t.point.x,t.point.y),e.rotate(Math.PI/2+t.angle);const r=t.imageWidth!=null?t.imageWidth:t.image.width,n=t.imageHeight!=null?t.imageHeight:t.image.height;t.image.drawImageAtPosition(e,1,-r/2,0,r,n),e.restore()}return!1}};class fV extends Te{static draw(e,t){const r=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Te.transform(r,t),Te.drawPath(e,r),!0}}class vV{static draw(e,t){const r=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Te.transform(r,t),Te.drawPath(e,r),!0}}class pV{static draw(e,t){const r={x:-.4,y:0};Te.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,s=t.angle-n/2,o=t.angle+n/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,s,o,!1),e.stroke(),!0}}class gV{static draw(e,t){const r={x:-.3,y:0};Te.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,s=t.angle+n/2,o=t.angle+3*n/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,s,o,!1),e.stroke(),!0}}class yV{static draw(e,t){const r=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Te.transform(r,t),Te.drawPath(e,r),!0}}class mV{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Te.transform(r,t),Te.drawPath(e,r),!0}}class bV{static draw(e,t){const r={x:-.4,y:0};return Te.transform(r,t),Hb(e,r.x,r.y,t.length*.4),!0}}class _V{static draw(e,t){const r=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Te.transform(r,t),Te.drawPath(e,r),!0}}class wV{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Te.transform(r,t),Te.drawPath(e,r),!0}}class EV{static draw(e,t){const r=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Te.transform(r,t),Te.drawPath(e,r),!0}}class SV{static draw(e,t){const r=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Te.transform(r,t),Te.drawPath(e,r),!0}}class WF{static draw(e,t){let r;switch(t.type&&(r=t.type.toLowerCase()),r){case"image":return hV.draw(e,t);case"circle":return bV.draw(e,t);case"box":return wV.draw(e,t);case"crow":return vV.draw(e,t);case"curve":return pV.draw(e,t);case"diamond":return EV.draw(e,t);case"inv_curve":return gV.draw(e,t);case"triangle":return yV.draw(e,t);case"inv_triangle":return mV.draw(e,t);case"bar":return _V.draw(e,t);case"vee":return SV.draw(e,t);case"arrow":default:return fV.draw(e,t)}}}function FD(i,e){var t=Ce(i);if($r){var r=$r(i);e&&(r=vr(r).call(r,function(n){return Ar(i,n).enumerable})),t.push.apply(t,r)}return t}function BD(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?be(t=FD(Object(n),!0)).call(t,function(s){Qt(i,s,n[s])}):Tr?ca(i,Tr(n)):be(r=FD(Object(n))).call(r,function(s){ha(i,s,Ar(n,s))})}return i}class HF{constructor(e,t,r){Qt(this,"color",{}),Qt(this,"colorDirty",!0),Qt(this,"hoverWidth",1.5),Qt(this,"selectionWidth",2),this._body=t,this._labelModule=r,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,t,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,t.dashes!==!1?this._drawDashedLine(e,t,s):this._drawLine(e,t,s)}_drawLine(e,t,r,n,s){if(this.from!=this.to)this._line(e,t,r,n,s);else{const[o,a,u]=this._getCircleData(e);this._circle(e,t,o,a,u)}}_drawDashedLine(e,t,r,n,s){e.lineCap="round";const o=Dt(t.dashes)?t.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,r);else{const[a,u,l]=this._getCircleData(e);this._circle(e,t,a,u,l)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)qN(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{const[a,u,l]=this._getCircleData(e);this._circle(e,t,a,u,l)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}findBorderPosition(e,t,r){return this.from!=this.to?this._findBorderPosition(e,t,r):this._findBorderPositionCircle(e,t,r)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var t;const[r,n]=Di(t=this._getCircleData(e)).call(t,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:.6,high:.8,direction:1})}}}_getCircleData(e){const t=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const r=jF(e,this.options.selfReference.angle,t,this.from);return[r.x,r.y,t]}_pointOnCircle(e,t,r,n){const s=n*2*Math.PI;return{x:e+r*Math.cos(s),y:t-r*Math.sin(s)}}_findBorderPositionCircle(e,t,r){const n=r.x,s=r.y;let o=r.low,a=r.high;const u=r.direction,l=10,d=this.options.selfReference.size,c=.05;let h,f=(o+a)*.5,v=0;this.options.arrowStrikethrough===!0&&(u===-1?v=this.options.endPointOffset.from:u===1&&(v=this.options.endPointOffset.to));let p=0;do{f=(o+a)*.5,h=this._pointOnCircle(n,s,d,f);const m=Math.atan2(e.y-h.y,e.x-h.x),g=e.distanceToBorder(t,m)+v,y=Math.sqrt(Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2)),O=g-y;if(Math.abs(O)<c)break;O>0?u>0?o=f:a=f:u>0?a=f:o=f,++p}while(o<=a&&p<l);return BD(BD({},h),{},{t:f})}getLineWidth(e,t){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):t===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,t){if(t.inheritsColor!==!1){if(t.inheritsColor==="both"&&this.from.id!==this.to.id){const r=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let n=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(n=gt(this.from.options.color.border,t.opacity),s=gt(this.to.options.color.border,t.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(n=this.from.options.color.border),r.addColorStop(0,n),r.addColorStop(1,s),r}return t.inheritsColor==="to"?gt(this.to.options.color.border,t.opacity):gt(this.from.options.color.border,t.opacity)}else return gt(t.color,t.opacity)}_circle(e,t,r,n,s){this.enableShadow(e,t);let o=0,a=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const u=this.options.selfReference.angle,l=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:u,high:l,direction:-1}),c=this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:u,high:l,direction:1});o=Math.atan2(d.y-n,d.x-r),a=Math.atan2(c.y-n,c.x-r)}e.beginPath(),e.arc(r,n,s,o,a,!1),e.stroke(),this.disableShadow(e,t)}getDistanceToEdge(e,t,r,n,s,o){if(this.from!=this.to)return this._getDistanceToEdge(e,t,r,n,s,o);{const[a,u,l]=this._getCircleData(void 0),d=a-s,c=u-o;return Math.abs(Math.sqrt(d*d+c*c)-l)}}_getDistanceToLine(e,t,r,n,s,o){const a=r-e,u=n-t,l=a*a+u*u;let d=((s-e)*a+(o-t)*u)/l;d>1?d=1:d<0&&(d=0);const c=e+d*a,h=t+d*u,f=c-s,v=h-o;return Math.sqrt(f*f+v*v)}getArrowData(e,t,r,n,s,o){let a,u,l,d,c,h,f;const v=o.width;t==="from"?(l=this.from,d=this.to,c=o.fromArrowScale<0,h=Math.abs(o.fromArrowScale),f=o.fromArrowType):t==="to"?(l=this.to,d=this.from,c=o.toArrowScale<0,h=Math.abs(o.toArrowScale),f=o.toArrowType):(l=this.to,d=this.from,c=o.middleArrowScale<0,h=Math.abs(o.middleArrowScale),f=o.middleArrowType);const p=15*h+3*v;if(l!=d){const O=cV(l.x-d.x,l.y-d.y),b=p/O;if(t!=="middle")if(this.options.smooth.enabled===!0){const S=this._findBorderPosition(l,e,{via:r}),$=this.getPoint(S.t+b*(t==="from"?1:-1),r);a=Math.atan2(S.y-$.y,S.x-$.x),u=S}else a=Math.atan2(l.y-d.y,l.x-d.x),u=this._findBorderPosition(l,e);else{const S=(c?-b:b)/2,$=this.getPoint(.5+S,r),w=this.getPoint(.5-S,r);a=Math.atan2($.y-w.y,$.x-w.x),u=this.getPoint(.5,r)}}else{const[O,b,S]=this._getCircleData(e);if(t==="from"){const $=this.options.selfReference.angle,w=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,e,{x:O,y:b,low:$,high:w,direction:-1});a=_.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,u=_}else if(t==="to"){const $=this.options.selfReference.angle,w=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,e,{x:O,y:b,low:$,high:w,direction:1});a=_.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,u=_}else{const $=this.options.selfReference.angle/(2*Math.PI);u=this._pointOnCircle(O,b,S,$),a=$*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const m=u.x-p*.9*Math.cos(a),g=u.y-p*.9*Math.sin(a);return{point:u,core:{x:m,y:g},angle:a,length:p,type:f}}drawArrowHead(e,t,r,n,s){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,WF.draw(e,s)&&(this.enableShadow(e,t),fa(e).call(e),this.disableShadow(e,t))}enableShadow(e,t){t.shadow===!0&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,t){if(t.background!==!1){const r={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=r.strokeStyle,e.lineWidth=r.lineWidth,e.dashes=r.dashes,this.setStrokeDashed(e,t.dashes)}}setStrokeDashed(e,t){if(t!==!1)if(e.setLineDash!==void 0){const r=Dt(t)?t:[5,5];e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function jD(i,e){var t=Ce(i);if($r){var r=$r(i);e&&(r=vr(r).call(r,function(n){return Ar(i,n).enumerable})),t.push.apply(t,r)}return t}function LD(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?be(t=jD(Object(n),!0)).call(t,function(s){Qt(i,s,n[s])}):Tr?ca(i,Tr(n)):be(r=jD(Object(n))).call(r,function(s){ha(i,s,Ar(n,s))})}return i}class b1 extends HF{constructor(e,t,r){super(e,t,r)}_findBorderPositionBezier(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const n=10,s=.2;let o=!1,a=1,u=0,l=this.to,d,c,h=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(l=this.from,o=!0,h=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(h=0);let f=0;do{c=(u+a)*.5,d=this.getPoint(c,r);const v=Math.atan2(l.y-d.y,l.x-d.x),p=l.distanceToBorder(t,v)+h,m=Math.sqrt(Math.pow(d.x-l.x,2)+Math.pow(d.y-l.y,2)),g=p-m;if(Math.abs(g)<s)break;g<0?o===!1?u=c:a=c:o===!1?a=c:u=c,++f}while(u<=a&&f<n);return LD(LD({},d),{},{t:c})}_getDistanceToBezierEdge(e,t,r,n,s,o,a){let u=1e9,l,d,c,h,f,v=e,p=t;for(d=1;d<10;d++)c=.1*d,h=Math.pow(1-c,2)*e+2*c*(1-c)*a.x+Math.pow(c,2)*r,f=Math.pow(1-c,2)*t+2*c*(1-c)*a.y+Math.pow(c,2)*n,d>0&&(l=this._getDistanceToLine(v,p,h,f,s,o),u=l<u?l:u),v=h,p=f;return u}_bezierCurve(e,t,r,n){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),r!=null&&r.x!=null?n!=null&&n.x!=null?e.bezierCurveTo(r.x,r.y,n.x,n.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(r.x,r.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,t),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){return this._getViaCoordinates()}}class zD extends b1{constructor(e,t,r){super(e,t,r),Qt(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),t===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,t=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,t,r){this._bezierCurve(e,t,r)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[r,n,s]=this._getCircleData(),o=2*Math.PI*(1-e);return{x:r+s*Math.sin(o),y:n+s-s*(1-Math.cos(o))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*t.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*t.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t,this.via)}_getDistanceToEdge(e,t,r,n,s,o){return this._getDistanceToBezierEdge(e,t,r,n,s,o,this.via)}}class WD extends b1{constructor(e,t,r){super(e,t,r)}_line(e,t,r){this._bezierCurve(e,t,r)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,t=this.options.smooth.type;let r=Math.abs(this.from.x-this.to.x),n=Math.abs(this.from.y-this.to.y);if(t==="discrete"||t==="diagonalCross"){let s,o;r<=n?s=o=e*n:s=o=e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,u=this.from.y+o;return t==="discrete"&&(r<=n?a=r<e*n?this.from.x:a:u=n<e*r?this.from.y:u),{x:a,y:u}}else if(t==="straightCross"){let s=(1-e)*r,o=(1-e)*n;return r<=n?(s=0,this.from.y<this.to.y&&(o=-o)):(this.from.x<this.to.x&&(s=-s),o=0),{x:this.to.x+s,y:this.to.y+o}}else if(t==="horizontal"){let s=(1-e)*r;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(t==="vertical"){let s=(1-e)*n;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(t==="curvedCW"){r=this.to.x-this.from.x,n=this.from.y-this.to.y;const s=Math.sqrt(r*r+n*n),o=Math.PI,u=(Math.atan2(n,r)+(e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else if(t==="curvedCCW"){r=this.to.x-this.from.x,n=this.from.y-this.to.y;const s=Math.sqrt(r*r+n*n),o=Math.PI,u=(Math.atan2(n,r)+(-e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else{let s,o;r<=n?s=o=e*n:s=o=e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,u=this.from.y+o;return r<=n?this.from.x<=this.to.x?a=this.to.x<a?this.to.x:a:a=this.to.x>a?this.to.x:a:this.from.y>=this.to.y?u=this.to.y>u?this.to.y:u:u=this.to.y<u?this.to.y:u,{x:a,y:u}}}_findBorderPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,t,r.via)}_getDistanceToEdge(e,t,r,n,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,r,n,s,o,a)}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const r=e,n=Math.pow(1-r,2)*this.fromPoint.x+2*r*(1-r)*t.x+Math.pow(r,2)*this.toPoint.x,s=Math.pow(1-r,2)*this.fromPoint.y+2*r*(1-r)*t.y+Math.pow(r,2)*this.toPoint.y;return{x:n,y:s}}}class OV extends b1{constructor(e,t,r){super(e,t,r)}_getDistanceToBezierEdge2(e,t,r,n,s,o,a,u){let l=1e9,d=e,c=t;const h=[0,0,0,0];for(let f=1;f<10;f++){const v=.1*f;h[0]=Math.pow(1-v,3),h[1]=3*v*Math.pow(1-v,2),h[2]=3*Math.pow(v,2)*(1-v),h[3]=Math.pow(v,3);const p=h[0]*e+h[1]*a.x+h[2]*u.x+h[3]*r,m=h[0]*t+h[1]*a.y+h[2]*u.y+h[3]*n;if(f>0){const g=this._getDistanceToLine(d,c,p,m,s,o);l=g<l?g:l}d=p,c=m}return l}}class HD extends OV{constructor(e,t,r){super(e,t,r)}_line(e,t,r){const n=r[0],s=r[1];this._bezierCurve(e,t,n,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,t=this.from.y-this.to.y;let r,n,s,o;const a=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(t)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(n=this.from.y,o=this.to.y,r=this.from.x-a*e,s=this.to.x+a*e):(n=this.from.y-a*t,o=this.to.y+a*t,r=this.from.x,s=this.to.x),[{x:r,y:n},{x:s,y:o}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t)}_getDistanceToEdge(e,t,r,n,s,o){let[a,u]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,t,r,n,s,o,a,u)}getPoint(e){let[t,r]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,s=[Math.pow(1-n,3),3*n*Math.pow(1-n,2),3*Math.pow(n,2)*(1-n),Math.pow(n,3)],o=s[0]*this.fromPoint.x+s[1]*t.x+s[2]*r.x+s[3]*this.toPoint.x,a=s[0]*this.fromPoint.y+s[1]*t.y+s[2]*r.y+s[3]*this.toPoint.y;return{x:o,y:a}}}class GD extends HF{constructor(e,t,r){super(e,t,r)}_line(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,t){let r=this.to,n=this.from;e.id===this.from.id&&(r=this.from,n=this.to);const s=Math.atan2(r.y-n.y,r.x-n.x),o=r.x-n.x,a=r.y-n.y,u=Math.sqrt(o*o+a*a),l=e.distanceToBorder(t,s),d=(u-l)/u;return{x:(1-d)*n.x+d*r.x,y:(1-d)*n.y+d*r.y,t:0}}_getDistanceToEdge(e,t,r,n,s,o){return this._getDistanceToLine(e,t,r,n,s,o)}}class Or{constructor(e,t,r,n,s){if(t===void 0)throw new Error("No body provided");this.options=Er(n),this.globalOptions=n,this.defaultOptions=s,this.body=t,this.imagelist=r,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Wi(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let t=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;Or.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=BF(e.value));const r=[e,this.options,this.defaultOptions];return this.chooser=y1("edge",r),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Tn(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,r),t.endPointOffset!==void 0&&t.endPointOffset.from!==void 0&&(Yr(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=n.endPointOffset.from!==void 0?n.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),t.endPointOffset!==void 0&&t.endPointOffset.to!==void 0&&(Yr(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=n.endPointOffset.to!==void 0?n.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Ro(t.label)?e.label=t.label:Ro(e.label)||(e.label=void 0),pt(e,t,"smooth",n),pt(e,t,"shadow",n),pt(e,t,"background",n),t.dashes!==void 0&&t.dashes!==null?e.dashes=t.dashes:r===!0&&t.dashes===null&&(e.dashes=Jn(n.dashes)),t.scaling!==void 0&&t.scaling!==null?(t.scaling.min!==void 0&&(e.scaling.min=t.scaling.min),t.scaling.max!==void 0&&(e.scaling.max=t.scaling.max),pt(e.scaling,t.scaling,"label",n.scaling)):r===!0&&t.scaling===null&&(e.scaling=Jn(n.scaling)),t.arrows!==void 0&&t.arrows!==null)if(typeof t.arrows=="string"){const a=t.arrows.toLowerCase();e.arrows.to.enabled=Se(a).call(a,"to")!=-1,e.arrows.middle.enabled=Se(a).call(a,"middle")!=-1,e.arrows.from.enabled=Se(a).call(a,"from")!=-1}else if(typeof t.arrows=="object")pt(e.arrows,t.arrows,"to",n.arrows),pt(e.arrows,t.arrows,"middle",n.arrows),pt(e.arrows,t.arrows,"from",n.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+zF(t.arrows));else r===!0&&t.arrows===null&&(e.arrows=Jn(n.arrows));if(t.color!==void 0&&t.color!==null){const a=ji(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,u=e.color;if(s)pe(u,n.color,!1,r);else for(const l in u)Object.prototype.hasOwnProperty.call(u,l)&&delete u[l];if(ji(u))u.color=u,u.highlight=u,u.hover=u,u.inherit=!1,a.opacity===void 0&&(u.opacity=1);else{let l=!1;a.color!==void 0&&(u.color=a.color,l=!0),a.highlight!==void 0&&(u.highlight=a.highlight,l=!0),a.hover!==void 0&&(u.hover=a.hover,l=!0),a.inherit!==void 0&&(u.inherit=a.inherit),a.opacity!==void 0&&(u.opacity=Math.min(1,Math.max(0,a.opacity))),l===!0?u.inherit=!1:u.inherit===void 0&&(u.inherit="from")}}else r===!0&&t.color===null&&(e.color=Er(n.color));r===!0&&t.font===null&&(e.font=Er(n.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,t=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,r=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,n=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:r,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const o=this.options.selectionWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const o=this.options.hoverWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let t=!1,r=!0;return this.edgeType!==void 0&&((this.edgeType instanceof zD&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof HD&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof WD&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof GD&&e.type.enabled===!1)&&(r=!1),r===!0&&(t=this.cleanup())),r===!0?e.enabled===!0?e.type==="dynamic"?(t=!0,this.edgeType=new zD(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new HD(this.options,this.body,this.labelModule):this.edgeType=new WD(this.options,this.body,this.labelModule):this.edgeType=new GD(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,t,r){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*o}this.options.width=this.options.scaling.min+n*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,r),this.drawLabel(e,r)}drawArrows(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(n.from=this.edgeType.getArrowData(e,"from",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.fromPoint=n.from.core),t.fromArrowSrc&&(n.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(n.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(n.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(n.to=this.edgeType.getArrowData(e,"to",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.toPoint=n.to.core),t.toArrowSrc&&(n.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(n.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(n.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(n.middle=this.edgeType.getArrowData(e,"middle",r,this.selected,this.hover,t),t.middleArrowSrc&&(n.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(n.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(n.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.to)}drawLabel(e,t){if(this.options.label!==void 0){const r=this.from,n=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(r.id!=n.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,t),e.save();const o=this._getRotation(e);o.angle!=0&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const o=jF(e,this.options.selfReference.angle,this.options.selfReference.size,r);s=this._pointOnCircle(o.x,o.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const t=[];if(this.labelModule.visible()){const n=this._getRotation();ib(this.labelModule.getSize(),e,n)&&t.push({edgeId:this.id,labelId:0})}const r={left:e.x,top:e.y};return this.isOverlappingWith(r)&&t.push({edgeId:this.id}),t}isOverlappingWith(e){if(this.connected){const r=this.from.x,n=this.from.y,s=this.to.x,o=this.to.y,a=e.left,u=e.top;return this.edgeType.getDistanceToEdge(r,n,s,o,a,u)<10}else return!1}_getRotation(e){const t=this.edgeType.getViaNode(),r=this.edgeType.getPoint(.5,t);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,r.x,r.y);const n={x:r.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return n;const s=this.from.y-this.to.y,o=this.from.x-this.to.x;let a=Math.atan2(s,o);return(a<-1&&o<0||a>0&&o<0)&&(a+=Math.PI),n.angle=a,n}_pointOnCircle(e,t,r,n){return{x:e+r*Math.cos(n),y:t-r*Math.sin(n)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class IV{constructor(e,t,r){var n;this.body=e,this.images=t,this.groups=r,this.body.functions.createEdge=A(n=this.create).call(n,this),this.edgesListeners={add:(s,o)=>{this.add(o.items)},update:(s,o)=>{this.update(o.items)},remove:(s,o)=>{this.remove(o.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,o,a,u){if(o===s)return .5;{const l=1/(o-s);return Math.max(0,(u-s)*l)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},pe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,t,r;this.body.emitter.on("_forceDisableDynamicCurves",function(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n==="dynamic"&&(n="continuous");let o=!1;for(const a in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,a)){const u=e.body.edges[a],l=e.body.data.edges.get(a);if(l!=null){const d=l.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(n===void 0?u.setOptions({smooth:!1}):u.setOptions({smooth:{type:n}}),o=!0)}}s===!0&&o===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",A(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",A(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{re(this.edgesListeners,(n,s)=>{this.body.data.edges&&this.body.data.edges.off(s,n)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){Or.parseOptions(this.options,e,!0,this.defaultOptions,!0);let t=!1;if(e.smooth!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&(t=this.body.edges[r].updateEdgeType()||t);if(e.font!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&this.body.edges[r].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||t===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.edges;if(_N("id",e))this.body.data.edges=e;else if(Dt(e))this.body.data.edges=new So,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new So;else throw new TypeError("Array or DataSet expected");if(r&&re(this.edgesListeners,(n,s)=>{r.off(s,n)}),this.body.edges={},this.body.data.edges){re(this.edgesListeners,(s,o)=>{this.body.data.edges.on(o,s)});const n=this.body.data.edges.getIds();this.add(n,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.edges,n=this.body.data.edges;for(let s=0;s<e.length;s++){const o=e[s],a=r[o];a&&a.disconnect();const u=n.get(o,{showInternalIds:!0});r[o]=this.create(u)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}update(e){const t=this.body.edges,r=this.body.data.edges;let n=!1;for(let s=0;s<e.length;s++){const o=e[s],a=r.get(o),u=t[o];u!==void 0?(u.disconnect(),n=u.setOptions(a)||n,u.connect()):(this.body.edges[o]=this.create(a),n=!0)}n===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const r=this.body.edges;re(e,n=>{const s=r[n];s!==void 0&&s.remove()}),t&&this.body.emitter.emit("_dataChanged")}refresh(){re(this.body.edges,(e,t)=>{const r=this.body.data.edges.get(t);r!==void 0&&e.setOptions(r)})}create(e){return new Or(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const t=this.body.nodes,r=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const n=r[e];n.from=null,n.to=null,n.connect()}}getConnectedNodes(e){const t=[];if(this.body.edges[e]!==void 0){const r=this.body.edges[e];r.fromId!==void 0&&t.push(r.fromId),r.toId!==void 0&&t.push(r.toId)}return t}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];re(this.body.edges,(t,r)=>{const n=this.body.nodes[t.toId],s=this.body.nodes[t.fromId];n!==void 0&&n.isCluster===!0||s!==void 0&&s.isCluster===!0||(n===void 0||s===void 0)&&e.push(r)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const t=this.body.edges,r=[];be(e).call(e,(n,s)=>{t[s]===void 0&&r.push(s)}),this.add(r,!0)}}var UD={},VD;function $V(){if(VD)return UD;VD=1;var i=H(),e=oe(),t=Date,r=e(t.prototype.getTime);return i({target:"Date",stat:!0},{now:function(){return r(new t)}}),UD}var Dy,KD;function TV(){if(KD)return Dy;KD=1,$V();var i=he();return Dy=i.Date.now,Dy}var My,YD;function PV(){if(YD)return My;YD=1;var i=TV();return My=i,My}var Ay,XD;function RV(){return XD||(XD=1,Ay=PV()),Ay}var qV=RV(),nb=Y(qV);class GF{constructor(e,t,r){this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(r),this._rng=na("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const t=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=r.length,s=this._formBarnesHutTree(t,r);this.barnesHutTree=s;for(let o=0;o<n;o++)e=t[r[o]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}_getForceContribution(e,t){if(e.childrenCount>0){const r=e.centerOfMass.x-t.x,n=e.centerOfMass.y-t.y,s=Math.sqrt(r*r+n*n);s*e.calcSize>this.thetaInversed?this._calculateForces(s,r,n,t,e):e.childrenCount===4?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(s,r,n,t,e)}}_calculateForces(e,t,r,n,s){e===0&&(e=.1,t=e),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const o=this.options.gravitationalConstant*s.mass*n.options.mass/Math.pow(e,3),a=t*o,u=r*o;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=u}_formBarnesHutTree(e,t){let r;const n=t.length;let s=e[t[0]].x,o=e[t[0]].y,a=e[t[0]].x,u=e[t[0]].y;for(let m=1;m<n;m++){const g=e[t[m]],y=g.x,O=g.y;g.options.mass>0&&(y<s&&(s=y),y>a&&(a=y),O<o&&(o=O),O>u&&(u=O))}const l=Math.abs(a-s)-Math.abs(u-o);l>0?(o-=.5*l,u+=.5*l):(s+=.5*l,a-=.5*l);const c=Math.max(1e-5,Math.abs(a-s)),h=.5*c,f=.5*(s+a),v=.5*(o+u),p={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-h,maxX:f+h,minY:v-h,maxY:v+h},size:c,calcSize:1/c,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(p.root);for(let m=0;m<n;m++)r=e[t[m]],r.options.mass>0&&this._placeInTree(p.root,r);return p}_updateBranchMass(e,t){const r=e.centerOfMass,n=e.mass+t.options.mass,s=1/n;r.x=r.x*e.mass+t.x*t.options.mass,r.x*=s,r.y=r.y*e.mass+t.y*t.options.mass,r.y*=s,e.mass=n;const o=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}_placeInTree(e,t,r){(r!=!0||r===void 0)&&this._updateBranchMass(e,t);const n=e.children.NW.range;let s;n.maxX>t.x?n.maxY>t.y?s="NW":s="SW":n.maxY>t.y?s="NE":s="SE",this._placeInRegion(e,t,s)}_placeInRegion(e,t,r){const n=e.children[r];switch(n.childrenCount){case 0:n.children.data=t,n.childrenCount=1,this._updateBranchMass(n,t);break;case 1:n.children.data.x===t.x&&n.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,t));break;case 4:this._placeInTree(n,t);break}}_splitBranch(e){let t=null;e.childrenCount===1&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),t!=null&&this._placeInTree(e,t)}_insertRegion(e,t){let r,n,s,o;const a=.5*e.size;switch(t){case"NW":r=e.range.minX,n=e.range.minX+a,s=e.range.minY,o=e.range.minY+a;break;case"NE":r=e.range.minX+a,n=e.range.maxX,s=e.range.minY,o=e.range.minY+a;break;case"SW":r=e.range.minX,n=e.range.minX+a,s=e.range.minY+a,o=e.range.maxY;break;case"SE":r=e.range.minX+a,n=e.range.maxX,s=e.range.minY+a,o=e.range.maxY;break}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:r,maxX:n,minY:s,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,t){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}_drawBranch(e,t,r){r===void 0&&(r="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=r,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}class CV{constructor(e,t,r){this._rng=na("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n,s,o,a,u;const l=this.body.nodes,d=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,h=this.options.nodeDistance,f=-2/3/h,v=4/3;for(let p=0;p<d.length-1;p++){a=l[d[p]];for(let m=p+1;m<d.length;m++)u=l[d[m]],e=u.x-a.x,t=u.y-a.y,r=Math.sqrt(e*e+t*t),r===0&&(r=.1*this._rng(),e=r),r<2*h&&(r<.5*h?o=1:o=f*r+v,o=o/r,n=e*o,s=t*o,c[a.id].x-=n,c[a.id].y-=s,c[u.id].x+=n,c[u.id].y+=s)}}}class xV{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,n=this.options.nodeDistance;for(let s=0;s<t.length-1;s++){const o=e[t[s]];for(let a=s+1;a<t.length;a++){const u=e[t[a]];if(o.level===u.level){const l=n+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(u.shape.radius||0)/2),d=u.x-o.x,c=u.y-o.y,h=Math.sqrt(d*d+c*c),f=.05;let v;h<l?v=-Math.pow(f*h,2)+Math.pow(f*l,2):v=0,h!==0&&(v=v/h);const p=d*v,m=c*v;r[o.id].x-=p,r[o.id].y-=m,r[u.id].x+=p,r[u.id].y+=m}}}}}class ky{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t;const r=this.physicsBody.physicsEdgeIndices,n=this.body.edges;let s,o,a;for(let u=0;u<r.length;u++)t=n[r[u]],t.connected===!0&&t.toId!==t.fromId&&this.body.nodes[t.toId]!==void 0&&this.body.nodes[t.fromId]!==void 0&&(t.edgeType.via!==void 0?(e=t.options.length===void 0?this.options.springLength:t.options.length,s=t.to,o=t.edgeType.via,a=t.from,this._calculateSpringForce(s,o,.5*e),this._calculateSpringForce(o,a,.5*e)):(e=t.options.length===void 0?this.options.springLength*1.5:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}_calculateSpringForce(e,t,r){const n=e.x-t.x,s=e.y-t.y,o=Math.max(Math.sqrt(n*n+s*s),.01),a=this.options.springConstant*(r-o)/o,u=n*a,l=s*a;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=u,this.physicsBody.forces[e.id].y+=l),this.physicsBody.forces[t.id]!==void 0&&(this.physicsBody.forces[t.id].x-=u,this.physicsBody.forces[t.id].y-=l)}}class DV{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n,s,o,a,u;const l=this.body.edges,d=.5,c=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces;for(let b=0;b<h.length;b++){const S=h[b];f[S].springFx=0,f[S].springFy=0}for(let b=0;b<c.length;b++)t=l[c[b]],t.connected===!0&&(e=t.options.length===void 0?this.options.springLength:t.options.length,r=t.from.x-t.to.x,n=t.from.y-t.to.y,u=Math.sqrt(r*r+n*n),u=u===0?.01:u,a=this.options.springConstant*(e-u)/u,s=r*a,o=n*a,t.to.level!=t.from.level?(f[t.toId]!==void 0&&(f[t.toId].springFx-=s,f[t.toId].springFy-=o),f[t.fromId]!==void 0&&(f[t.fromId].springFx+=s,f[t.fromId].springFy+=o)):(f[t.toId]!==void 0&&(f[t.toId].x-=d*s,f[t.toId].y-=d*o),f[t.fromId]!==void 0&&(f[t.fromId].x+=d*s,f[t.fromId].y+=d*o)));a=1;let v,p;for(let b=0;b<h.length;b++){const S=h[b];v=Math.min(a,Math.max(-a,f[S].springFx)),p=Math.min(a,Math.max(-a,f[S].springFy)),f[S].x+=v,f[S].y+=p}let m=0,g=0;for(let b=0;b<h.length;b++){const S=h[b];m+=f[S].x,g+=f[S].y}const y=m/h.length,O=g/h.length;for(let b=0;b<h.length;b++){const S=h[b];f[S].x-=y,f[S].y-=O}}}class vo{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n;const s=this.body.nodes,o=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces;for(let u=0;u<o.length;u++){const l=o[u];n=s[l],e=-n.x,t=-n.y,r=Math.sqrt(e*e+t*t),this._calculateForces(r,e,t,a,n)}}_calculateForces(e,t,r,n,s){const o=e===0?0:this.options.centralGravity/e;n[s.id].x=t*o,n[s.id].y=r*o}}class MV extends GF{constructor(e,t,r){super(e,t,r),this._rng=na("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,t,r,n,s){e===0&&(e=.1*this._rng(),t=e),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const o=n.edges.length+1,a=this.options.gravitationalConstant*s.mass*n.options.mass*o/Math.pow(e,2),u=t*a,l=r*a;this.physicsBody.forces[n.id].x+=u,this.physicsBody.forces[n.id].y+=l}}class AV extends vo{constructor(e,t,r){super(e,t,r)}_calculateForces(e,t,r,n,s){if(e>0){const o=s.edges.length+1,a=this.options.centralGravity*o*s.options.mass;n[s.id].x=t*a,n[s.id].y=r*a}}}class kV{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Ve(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,To(["stabilization"],this.options,e),pt(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const t=this.options.wind;t&&((typeof t.x!="number"||rb(t.x))&&(t.x=0),(typeof t.y!="number"||rb(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new MV(this.body,this.physicsBody,e),this.edgesSolver=new ky(this.body,this.physicsBody,e),this.gravitySolver=new AV(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new CV(this.body,this.physicsBody,e),this.edgesSolver=new ky(this.body,this.physicsBody,e),this.gravitySolver=new vo(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new xV(this.body,this.physicsBody,e),this.edgesSolver=new DV(this.body,this.physicsBody,e),this.gravitySolver=new vo(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new GF(this.body,this.physicsBody,e),this.edgesSolver=new ky(this.body,this.physicsBody,e),this.gravitySolver=new vo(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=A(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=nb();this.physicsTick(),(nb()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&zi(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,t=this.body.edges;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[r].id);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&t[r].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(t[r].id);for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[n]={x:0,y:0},this.physicsBody.velocities[n]===void 0&&(this.physicsBody.velocities[n]={x:0,y:0})}for(const r in this.physicsBody.velocities)e[r]===void 0&&delete this.physicsBody.velocities[r]}revert(){const e=Ce(this.previousStates),t=this.body.nodes,r=this.physicsBody.velocities;this.referenceState={};for(let n=0;n<e.length;n++){const s=e[n];t[s]!==void 0?t[s].options.physics===!0&&(this.referenceState[s]={positions:{x:t[s].x,y:t[s].y}},r[s].x=this.previousStates[s].vx,r[s].y=this.previousStates[s].vy,t[s].x=this.previousStates[s].x,t[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,t,r;const n=this.body.nodes,s=this.referenceState,o=.3;for(const a in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,a)&&n[a]!==void 0&&(e=n[a].x-s[a].positions.x,t=n[a].y-s[a].positions.y,r=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),r>o))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let t=0,r=0;const n=5;for(let s=0;s<e.length;s++){const o=e[s],a=this._performStep(o);t=Math.max(t,a),r+=a}this.adaptiveTimestepEnabled=r/e.length<n,this.stabilized=t<this.options.minVelocity}calculateComponentVelocity(e,t,r){const n=this.modelOptions.damping*e,s=(t-n)/r;e+=s*this.timestep;const o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}_performStep(e){const t=this.body.nodes[e],r=this.physicsBody.forces[e];this.options.wind&&(r.x+=this.options.wind.x,r.y+=this.options.wind.y);const n=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:n.x,vy:n.y},t.options.fixed.x===!1?(n.x=this.calculateComponentVelocity(n.x,r.x,t.options.mass),t.x+=n.x*this.timestep):(r.x=0,n.x=0),t.options.fixed.y===!1?(n.y=this.calculateComponentVelocity(n.y,r.y,t.options.mass),t.y+=n.y*this.timestep):(r.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}_freezeNodes(){const e=this.body.nodes;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){const r=e[t].options.fixed;this.freezeCache[t]={x:r.x,y:r.y},r.x=!0,r.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.freezeCache[t]!==void 0&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,zi(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,t=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&t();let r=0;for(;e()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;if(t(),e()){var n;zi(A(n=this._stabilizationBatch).call(n,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let t=0;t<this.physicsBody.physicsNodeIndices.length;t++){const r=this.physicsBody.physicsNodeIndices[t],n=this.body.nodes[r],s=this.physicsBody.forces[r],o=20,a=.03,u=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),l=Math.min(Math.max(5,u),15),d=3*l,c=Qm((180-Math.min(1,Math.max(0,a*u))*180)/360,1,1),h={x:n.x+o*s.x,y:n.y+o*s.y};e.lineWidth=l,e.strokeStyle=c,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(h.x,h.y),e.stroke();const f=Math.atan2(s.y,s.x);e.fillStyle=c,WF.draw(e,{type:"arrow",point:h,angle:f,length:d}),fa(e).call(e)}}}var ZD={},JD;function NV(){if(JD)return ZD;JD=1;var i=H(),e=oe(),t=mi(),r=e([].reverse),n=[1,2];return i({target:"Array",proto:!0,forced:String(n)===String(n.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),ZD}var Ny,QD;function FV(){if(QD)return Ny;QD=1,NV();var i=Xe();return Ny=i("Array","reverse"),Ny}var Fy,eM;function BV(){if(eM)return Fy;eM=1;var i=ke(),e=FV(),t=Array.prototype;return Fy=function(r){var n=r.reverse;return r===t||i(t,r)&&n===t.reverse?e:n},Fy}var By,tM;function jV(){if(tM)return By;tM=1;var i=BV();return By=i,By}var jy,rM;function LV(){return rM||(rM=1,jy=jV()),jy}var zV=LV(),Hi=Y(zV);const Ue=[];for(let i=0;i<256;++i)Ue.push((i+256).toString(16).slice(1));function WV(i,e=0){return(Ue[i[e+0]]+Ue[i[e+1]]+Ue[i[e+2]]+Ue[i[e+3]]+"-"+Ue[i[e+4]]+Ue[i[e+5]]+"-"+Ue[i[e+6]]+Ue[i[e+7]]+"-"+Ue[i[e+8]]+Ue[i[e+9]]+"-"+Ue[i[e+10]]+Ue[i[e+11]]+Ue[i[e+12]]+Ue[i[e+13]]+Ue[i[e+14]]+Ue[i[e+15]]).toLowerCase()}let Ly;const HV=new Uint8Array(16);function GV(){if(!Ly){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ly=crypto.getRandomValues.bind(crypto)}return Ly(HV)}const UV=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var iM={randomUUID:UV};function ts(i,e,t){if(iM.randomUUID&&!i)return iM.randomUUID();i=i||{};const r=i.random??i.rng?.()??GV();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,WV(r)}class nt{constructor(){}static getRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,n=-1e9,s=1e9,o=-1e9,a;if(t.length>0)for(let u=0;u<t.length;u++)a=e[t[u]],s>a.shape.boundingBox.left&&(s=a.shape.boundingBox.left),o<a.shape.boundingBox.right&&(o=a.shape.boundingBox.right),r>a.shape.boundingBox.top&&(r=a.shape.boundingBox.top),n<a.shape.boundingBox.bottom&&(n=a.shape.boundingBox.bottom);return s===1e9&&o===-1e9&&r===1e9&&n===-1e9&&(r=0,n=0,s=0,o=0),{minX:s,maxX:o,minY:r,maxY:n}}static getRangeCore(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,n=-1e9,s=1e9,o=-1e9,a;if(t.length>0)for(let u=0;u<t.length;u++)a=e[t[u]],s>a.x&&(s=a.x),o<a.x&&(o=a.x),r>a.y&&(r=a.y),n<a.y&&(n=a.y);return s===1e9&&o===-1e9&&r===1e9&&n===-1e9&&(r=0,n=0,s=0,o=0),{minX:s,maxX:o,minY:r,maxY:n}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,t){const r={};return t===void 0||t==="node"?(pe(r,e.options,!0),r.x=e.x,r.y=e.y,r.amountOfConnections=e.edges.length):pe(r,e.options,!0),r}}class VV extends _e{constructor(e,t,r,n,s,o){super(e,t,r,n,s,o),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const t=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!t.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],re(t.edges,r=>{delete this.containedEdges[r.id]}),re(t.containedNodes,(r,n)=>{this.containedNodes[n]=r}),t.containedNodes={},re(t.containedEdges,(r,n)=>{this.containedEdges[n]=r}),t.containedEdges={},re(t.edges,r=>{re(this.edges,n=>{var s,o;const a=Se(s=n.clusteringEdgeReplacingIds).call(s,r.id);a!==-1&&(re(r.clusteringEdgeReplacingIds,u=>{n.clusteringEdgeReplacingIds.push(u),this.body.edges[u].edgeReplacedById=n.id}),Sr(o=n.clusteringEdgeReplacingIds).call(o,a,1))})}),t.edges=[]}}class KV{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Ve(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,t){e===void 0?e=this._getHubSize():typeof e=="object"&&(t=this._checkOptions(e),e=this._getHubSize());const r=[];for(let n=0;n<this.body.nodeIndices.length;n++){const s=this.body.nodes[this.body.nodeIndices[n]];s.edges.length>=e&&r.push(s.id)}for(let n=0;n<r.length;n++)this.clusterByConnection(r[n],t,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const r={},n={};re(this.body.nodes,(s,o)=>{s.options&&e.joinCondition(s.options)===!0&&(r[o]=s,re(s.edges,a=>{this.clusteredEdges[a.id]===void 0&&(n[a.id]=a)}))}),this._cluster(r,n,e,t)}clusterByEdgeCount(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;t=this._checkOptions(t);const n=[],s={};let o,a,u;for(let l=0;l<this.body.nodeIndices.length;l++){const d={},c={},h=this.body.nodeIndices[l],f=this.body.nodes[h];if(s[h]===void 0){u=0,a=[];for(let v=0;v<f.edges.length;v++)o=f.edges[v],this.clusteredEdges[o.id]===void 0&&(o.toId!==o.fromId&&u++,a.push(o));if(u===e){const v=function(m){if(t.joinCondition===void 0||t.joinCondition===null)return!0;const g=nt.cloneOptions(m);return t.joinCondition(g)};let p=!0;for(let m=0;m<a.length;m++){o=a[m];const g=this._getConnectedId(o,h);if(v(f))c[o.id]=o,d[h]=f,d[g]=this.body.nodes[g],s[h]=!0;else{p=!1;break}}if(Ce(d).length>0&&Ce(c).length>0&&p===!0){const g=function(){for(let y=0;y<n.length;++y)for(const O in d)if(n[y].nodes[O]!==void 0)return n[y]}();if(g!==void 0){for(const y in d)g.nodes[y]===void 0&&(g.nodes[y]=d[y]);for(const y in c)g.edges[y]===void 0&&(g.edges[y]=c[y])}else n.push({nodes:d,edges:c})}}}}for(let l=0;l<n.length;l++)this._cluster(n[l].nodes,n[l].edges,t,!1);r===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,t)}clusterBridges(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,t)}clusterByConnection(e,t){var r;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];t=this._checkOptions(t,s),t.clusterNodeProperties.x===void 0&&(t.clusterNodeProperties.x=s.x),t.clusterNodeProperties.y===void 0&&(t.clusterNodeProperties.y=s.y),t.clusterNodeProperties.fixed===void 0&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=s.options.fixed.x,t.clusterNodeProperties.fixed.y=s.options.fixed.y);const o={},a={},u=s.id,l=nt.cloneOptions(s);o[u]=s;for(let c=0;c<s.edges.length;c++){const h=s.edges[c];if(this.clusteredEdges[h.id]===void 0){const f=this._getConnectedId(h,u);if(this.clusteredNodes[f]===void 0)if(f!==u)if(t.joinCondition===void 0)a[h.id]=h,o[f]=this.body.nodes[f];else{const v=nt.cloneOptions(this.body.nodes[f]);t.joinCondition(l,v)===!0&&(a[h.id]=h,o[f]=this.body.nodes[f])}else a[h.id]=h}}const d=ps(r=Ce(o)).call(r,function(c){return o[c].id});for(const c in o){if(!Object.prototype.hasOwnProperty.call(o,c))continue;const h=o[c];for(let f=0;f<h.edges.length;f++){const v=h.edges[f];Se(d).call(d,this._getConnectedId(v,h.id))>-1&&(a[v.id]=v)}}this._cluster(o,a,t,n)}_createClusterEdges(e,t,r,n){let s,o,a,u,l,d;const c=Ce(e),h=[];for(let p=0;p<c.length;p++){o=c[p],a=e[o];for(let m=0;m<a.edges.length;m++)s=a.edges[m],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?t[s.id]=s:s.toId==o?(u=r.id,l=s.fromId,d=l):(u=s.toId,l=r.id,d=u),e[d]===void 0&&h.push({edge:s,fromId:l,toId:u}))}const f=[],v=function(p){for(let m=0;m<f.length;m++){const g=f[m],y=p.fromId===g.fromId&&p.toId===g.toId,O=p.fromId===g.toId&&p.toId===g.fromId;if(y||O)return g}return null};for(let p=0;p<h.length;p++){const m=h[p],g=m.edge;let y=v(m);y===null?(y=this._createClusteredEdge(m.fromId,m.toId,g,n),f.push(y)):y.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=y.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(Ce(e).length==0||Ce(e).length==1&&r.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let o=pe({},r.clusterNodeProperties);if(r.processProperties!==void 0){const d=[];for(const h in e)if(Object.prototype.hasOwnProperty.call(e,h)){const f=nt.cloneOptions(e[h]);d.push(f)}const c=[];for(const h in t)if(Object.prototype.hasOwnProperty.call(t,h)&&h.substr(0,12)!=="clusterEdge:"){const f=nt.cloneOptions(t[h],"edge");c.push(f)}if(o=r.processProperties(o,d,c),!o)throw new Error("The processProperties function does not return properties!")}o.id===void 0&&(o.id="cluster:"+ts());const a=o.id;o.label===void 0&&(o.label="cluster");let u;o.x===void 0&&(u=this._getClusterPosition(e),o.x=u.x),o.y===void 0&&(u===void 0&&(u=this._getClusterPosition(e)),o.y=u.y),o.id=a;const l=this.body.functions.createNode(o,VV);l.containedNodes=e,l.containedEdges=t,l.clusterEdgeProperties=r.clusterEdgeProperties,this.body.nodes[o.id]=l,this._clusterEdges(e,t,o,r.clusterEdgeProperties),o.id=void 0,n===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const t=this.clusteredEdges[e.id];t!==void 0&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const t=Ce(e);let r=e[t[0]].x,n=e[t[0]].x,s=e[t[0]].y,o=e[t[0]].y,a;for(let u=1;u<t.length;u++)a=e[t[u]],r=a.x<r?a.x:r,n=a.x>n?a.x:n,s=a.y<s?a.y:s,o=a.y>o?a.y:o;return{x:.5*(r+n),y:.5*(s+o)}}openCluster(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const n=this.body.nodes[e];if(n===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(n.isCluster!==!0||n.containedNodes===void 0||n.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),o=Se(s).call(s,e)-1;if(o>=0){const d=s[o];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged");return}const a=n.containedNodes,u=n.containedEdges;if(t!==void 0&&t.releaseFunction!==void 0&&typeof t.releaseFunction=="function"){const d={},c={x:n.x,y:n.y};for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];d[f]={x:v.x,y:v.y}}const h=t.releaseFunction(c,d);for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];h[f]!==void 0&&(v.x=h[f].x===void 0?n.x:h[f].x,v.y=h[f].y===void 0?n.y:h[f].y)}}else re(a,function(d){d.options.fixed.x===!1&&(d.x=n.x),d.options.fixed.y===!1&&(d.y=n.y)});for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)){const c=this.body.nodes[d];c.vx=n.vx,c.vy=n.vy,c.setOptions({physics:!0}),delete this.clusteredNodes[d]}const l=[];for(let d=0;d<n.edges.length;d++)l.push(n.edges[d]);for(let d=0;d<l.length;d++){const c=l[d],h=this._getConnectedId(c,e),f=this.clusteredNodes[h];for(let v=0;v<c.clusteringEdgeReplacingIds.length;v++){const p=c.clusteringEdgeReplacingIds[v],m=this.body.edges[p];if(m!==void 0)if(f!==void 0){const g=this.body.nodes[f.clusterId];g.containedEdges[m.id]=m,delete u[m.id];let y=m.fromId,O=m.toId;m.toId==h?O=f.clusterId:y=f.clusterId,this._createClusteredEdge(y,O,m,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(m)}c.remove()}for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&this._restoreEdge(u[d]);delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const t=[];if(this.isCluster(e)===!0){const r=this.body.nodes[e].containedNodes;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.push(this.body.nodes[n].id)}return t}findNode(e){const t=[];let n=0,s;for(;this.clusteredNodes[e]!==void 0&&n<100;){if(s=this.body.nodes[e],s===void 0)return[];t.push(s.id),e=this.clusteredNodes[e].clusterId,n++}return s=this.body.nodes[e],s===void 0?[]:(t.push(s.id),Hi(t).call(t),t)}updateClusteredNode(e,t){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(t===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}updateEdge(e,t){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(t===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const r=this.getClusteredEdges(e);for(let n=0;n<r.length;n++)this.body.edges[r[n]].setOptions(t);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const t=[];let n=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&n<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,n++;return Hi(t).call(t),t}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const t=[e],r=[],n=[],s=100;let o=0;for(;t.length>0&&o<s;){const a=t.pop();if(a===void 0)continue;const u=this.body.edges[a];if(u===void 0)continue;o++;const l=u.clusteringEdgeReplacingIds;if(l===void 0)n.push(a);else for(let d=0;d<l.length;++d){const c=l[d];Se(t).call(t,l)!==-1||Se(r).call(r,l)!==-1||t.push(c)}r.push(a)}return n}_getConnectedId(e,t){return e.toId!=t?e.toId:(e.fromId!=t,e.fromId)}_getHubSize(){let e=0,t=0,r=0,n=0;for(let u=0;u<this.body.nodeIndices.length;u++){const l=this.body.nodes[this.body.nodeIndices[u]];l.edges.length>n&&(n=l.edges.length),e+=l.edges.length,t+=Math.pow(l.edges.length,2),r+=1}e=e/r,t=t/r;const s=t-Math.pow(e,2),o=Math.sqrt(s);let a=Math.floor(e+2*o);return a>n&&(a=n),a}_createClusteredEdge(e,t,r,n,s){const o=nt.cloneOptions(r,"edge");pe(o,n),o.from=e,o.to=t,o.id="clusterEdge:"+ts(),s!==void 0&&pe(o,s);const a=this.body.functions.createEdge(o);return a.clusteringEdgeReplacingIds=[r.id],a.connect(),this.body.edges[a.id]=a,a}_clusterEdges(e,t,r,n){if(t instanceof Or){const s=t,o={};o[s.id]=s,t=o}if(e instanceof _e){const s=e,o={};o[s.id]=s,e=o}if(r==null)throw new Error("_clusterEdges: parameter clusterNode required");n===void 0&&(n=r.clusterEdgeProperties),this._createClusterEdges(e,t,r,n);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&this.body.edges[s]!==void 0){const o=this.body.edges[s];this._backupEdgeOptions(o),o.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:r.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const t=this.clusteredNodes[e];if(t===void 0)return;const r=t.clusterId;if(r!==void 0)return this.body.nodes[r]}_filter(e,t){const r=[];return re(e,n=>{t(n)&&r.push(n)}),r}_updateState(){let e;const t=[],r={},n=u=>{re(this.body.nodes,l=>{l.isCluster===!0&&u(l)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&t.push(e)}n(function(u){for(let l=0;l<t.length;l++)delete u.containedNodes[t[l]]});for(let u=0;u<t.length;u++)delete this.clusteredNodes[t[u]];re(this.clusteredEdges,u=>{const l=this.body.edges[u];(l===void 0||!l.endPointsValid())&&(r[u]=u)}),n(function(u){re(u.containedEdges,(l,d)=>{!l.endPointsValid()&&!r[d]&&(r[d]=d)})}),re(this.body.edges,(u,l)=>{let d=!0;const c=u.clusteringEdgeReplacingIds;if(c!==void 0){let h=0;re(c,f=>{const v=this.body.edges[f];v!==void 0&&v.endPointsValid()&&(h+=1)}),d=h>0}(!u.endPointsValid()||!d)&&(r[l]=l)}),n(u=>{re(r,l=>{delete u.containedEdges[l],re(u.edges,(d,c)=>{if(d.id===l){u.edges[c]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(h){return!r[h]})}),u.edges=this._filter(u.edges,function(d){return d!==null})})}),re(r,u=>{delete this.clusteredEdges[u]}),re(r,u=>{delete this.body.edges[u]});const s=Ce(this.body.edges);re(s,u=>{const l=this.body.edges[u],d=this._isClusteredNode(l.fromId)||this._isClusteredNode(l.toId);if(d!==this._isClusteredEdge(l.id))if(d){const c=this._getClusterNodeForNode(l.fromId);c!==void 0&&this._clusterEdges(this.body.nodes[l.fromId],l,c);const h=this._getClusterNodeForNode(l.toId);h!==void 0&&this._clusterEdges(this.body.nodes[l.toId],l,h)}else delete this._clusterEdges[u],this._restoreEdge(l)});let o=!1,a=!0;for(;a;){const u=[];n(function(l){const d=Ce(l.containedNodes).length,c=l.options.allowSingleNodeCluster===!0;(c&&d<1||!c&&d<2)&&u.push(l.id)});for(let l=0;l<u.length;++l)this.openCluster(u[l],{},!1);a=u.length>0,o=o||a}o&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class YV{constructor(e,t){this.body=e,this.canvas=t,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Ve(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=zi(()=>{var t;this.zooming=!1,A(t=this._requestRedraw).call(t,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",A(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&Tn(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(A(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const t={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const r=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(r.clearRect(0,0,n,s),this.canvas.frame.clientWidth===0)return;if(r.save(),r.translate(this.body.view.translation.x,this.body.view.translation.y),r.scale(this.body.view.scale,this.body.view.scale),r.beginPath(),this.body.emitter.emit("beforeDrawing",r),r.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(r),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:o}=this._drawNodes(r,e);t.drawExternalLabels=o}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(r),t.drawExternalLabels!=null&&t.drawExternalLabels(),e===!1&&this._drawSelectionBox(r),r.beginPath(),this.body.emitter.emit("afterDrawing",r),r.closePath(),r.restore(),e===!0&&r.clearRect(0,0,n,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const t=this.body.nodes;let r;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r=t[n],r.resize(e),r.updateBoundingBox(e,r.selected));e.restore()}_drawNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.nodes,n=this.body.nodeIndices;let s;const o=[],a=[],u=20,l=this.canvas.DOMtoCanvas({x:-u,y:-u}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),c={top:l.y,left:l.x,bottom:d.y,right:d.x},h=[];for(let m=0;m<n.length;m++)if(s=r[n[m]],s.hover)a.push(n[m]);else if(s.isSelected())o.push(n[m]);else if(t===!0){const g=s.draw(e);g.drawExternalLabel!=null&&h.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(c)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&h.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let f;const v=o.length,p=a.length;for(f=0;f<v;f++){s=r[o[f]];const m=s.draw(e);m.drawExternalLabel!=null&&h.push(m.drawExternalLabel)}for(f=0;f<p;f++){s=r[a[f]];const m=s.draw(e);m.drawExternalLabel!=null&&h.push(m.drawExternalLabel)}return{drawExternalLabels:()=>{for(const m of h)m()}}}_drawEdges(e){const t=this.body.edges,r=this.body.edgeIndices;for(let n=0;n<r.length;n++){const s=t[r[n]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const t=this.body.edges,r=this.body.edgeIndices;for(let n=0;n<r.length;n++){const s=t[r[n]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,r=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var zy,nM;function XV(){if(nM)return zy;nM=1,$F();var i=he();return zy=i.setInterval,zy}var Wy,sM;function ZV(){return sM||(sM=1,Wy=XV()),Wy}var JV=ZV(),QV=Y(JV);function qo(i,e){e.inputHandler=function(t){t.isFirst&&e(t)},i.on("hammer.input",e.inputHandler)}function UF(i,e){return e.inputHandler=function(t){t.isFinal&&e(t)},i.on("hammer.input",e.inputHandler)}class eK{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Ve(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",t=>{t.width!==0&&(this.body.view.translation.x=t.width*.5),t.height!==0&&(this.body.view.translation.y=t.height*.5)}),this.body.emitter.on("setSize",A(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&Tn(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var t;if(window.ResizeObserver){const n=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;n.observe(s),this._cleanupCallbacks.push(()=>{n.unobserve(s)})}else{const n=QV(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(n)})}const r=A(t=this._onResize).call(t,this);window.addEventListener("resize",r),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",r)})}}_cleanUp(){var e,t,r;be(e=Hi(t=Sr(r=this._cleanupCallbacks).call(r,0)).call(t)).call(e,n=>{try{n()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let r=this.cameraState.scale;e!=1&&t!=1?r=this.cameraState.scale*.5*(e+t):e!=1?r=this.cameraState.scale*e:t!=1&&(r=this.cameraState.scale*t),this.body.view.scale=r;const n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Se(e).call(e,"%")!==-1||Se(e).call(e,"px")!==-1)return e;if(Se(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Li(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Li.DIRECTION_ALL}),qo(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new Li(this.frame),UF(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);let r=!1;const n=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},r=!0;else{const a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),u=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==u)&&this._getCameraState(o),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,r=!0),this.frame.canvas.height!==u&&(this.frame.canvas.height=u,r=!0)}return r===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,r}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let t=1;typeof window<"u"&&(t=window.devicePixelRatio||1);const r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function tK(i,e){const t=Ve({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},i??{});if(!Dt(t.nodes))throw new TypeError("Nodes has to be an array of ids.");if(t.nodes.length===0&&(t.nodes=e),!(typeof t.minZoomLevel=="number"&&t.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof t.maxZoomLevel=="number"&&t.minZoomLevel<=t.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return t}class rK{constructor(e,t){var r,n;this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",A(r=this.fit).call(r,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",A(n=this.releaseNode).call(n,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=tK(e,this.body.nodeIndices);const r=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;let s,o;if(r===0||n===0)o=1,s=nt.getRange(this.body.nodes,e.nodes);else if(t===!0){let l=0;for(const h in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,h)&&this.body.nodes[h].predefinedPosition===!0&&(l+=1);if(l>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=nt.getRange(this.body.nodes,e.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const c=Math.min(r/600,n/600);o*=c}else{this.body.emitter.emit("_resizeNodes"),s=nt.getRange(this.body.nodes,e.nodes);const l=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,c=r/l,h=n/d;o=c<=h?c:h}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);const u={position:nt.findCenter(s),scale:o,animation:e.animation};this.moveTo(u)}focus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const r={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=r,t.lockedOnNode=e,this.moveTo(t)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Yr(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Yr(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Yr(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Yr(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.position.x,y:t.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+r.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+r.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var n;this.viewFunction=A(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=A(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.x,y:t.y-e.y},n=this.body.view.translation,s={x:n.x+r.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+r.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const t=DW[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var r;this.viewFunction=A(r=this._lockedRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function oM(i){var e=i&&i.preventDefault||!1,t=i&&i.container||window,r={},n={keydown:{},keyup:{}},s={},o;for(o=97;o<=122;o++)s[String.fromCharCode(o)]={code:65+(o-97),shift:!1};for(o=65;o<=90;o++)s[String.fromCharCode(o)]={code:o,shift:!0};for(o=0;o<=9;o++)s[""+o]={code:48+o,shift:!1};for(o=1;o<=12;o++)s["F"+o]={code:111+o,shift:!1};for(o=0;o<=9;o++)s["num"+o]={code:96+o,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(d){l(d,"keydown")},u=function(d){l(d,"keyup")},l=function(d,c){if(n[c][d.keyCode]!==void 0){for(var h=n[c][d.keyCode],f=0;f<h.length;f++)(h[f].shift===void 0||h[f].shift==!0&&d.shiftKey==!0||h[f].shift==!1&&d.shiftKey==!1)&&h[f].fn(d);e==!0&&d.preventDefault()}};return r.bind=function(d,c,h){if(h===void 0&&(h="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);n[h][s[d].code]===void 0&&(n[h][s[d].code]=[]),n[h][s[d].code].push({fn:c,shift:s[d].shift})},r.bindAll=function(d,c){c===void 0&&(c="keydown");for(var h in s)s.hasOwnProperty(h)&&r.bind(h,d,c)},r.getKey=function(d){for(var c in s)if(s.hasOwnProperty(c)){if(d.shiftKey==!0&&s[c].shift==!0&&d.keyCode==s[c].code)return c;if(d.shiftKey==!1&&s[c].shift==!1&&d.keyCode==s[c].code)return c;if(d.keyCode==s[c].code&&c=="shift")return c}return"unknown key, currently not supported"},r.unbind=function(d,c,h){if(h===void 0&&(h="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(c!==void 0){var f=[],v=n[h][s[d].code];if(v!==void 0)for(var p=0;p<v.length;p++)v[p].fn==c&&v[p].shift==s[d].shift||f.push(n[h][s[d].code][p]);n[h][s[d].code]=f}else n[h][s[d].code]=[]},r.reset=function(){n={keydown:{},keyup:{}}},r.destroy=function(){n={keydown:{},keyup:{}},t.removeEventListener("keydown",a,!0),t.removeEventListener("keyup",u,!0)},t.addEventListener("keydown",a,!0),t.addEventListener("keyup",u,!0),r}class iK{constructor(e,t){this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],t=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);const a=new Li(this.navigationDOM[e[o]]);if(t[o]==="_fit"){var r;qo(a,A(r=this._fit).call(r,this))}else{var n;qo(a,A(n=this.bindToRedraw).call(n,this,t[o]))}this.navigationHammers.push(a)}const s=new Li(this.canvas.frame);UF(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var t;this.boundFunctions[e]=A(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,n=t/e,s=(1-n)*this.canvas.canvasViewCenter.x+r.x*n,o=(1-n)*this.canvas.canvasViewCenter.y+r.y*n;this.body.view.scale=t,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,n=t/e,s=(1-n)*this.canvas.canvasViewCenter.x+r.x*n,o=(1-n)*this.canvas.canvasViewCenter.y+r.y*n;this.body.view.scale=t,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=oM({container:window,preventDefault:!0}):this.keycharm=oM({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,t,r,n,s,o,a,u,l,d,c,h,f,v,p,m,g,y,O,b,S,$,w,_;A(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),A(t=this.keycharm).call(t,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),A(r=this.keycharm).call(r,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),A(n=this.keycharm).call(n,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),A(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),A(o=this.keycharm).call(o,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),A(a=this.keycharm).call(a,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),A(u=this.keycharm).call(u,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),A(l=this.keycharm).call(l,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),A(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),A(c=this.keycharm).call(c,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),A(h=this.keycharm).call(h,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),A(f=this.keycharm).call(f,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),A(v=this.keycharm).call(v,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),A(p=this.keycharm).call(p,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),A(m=this.keycharm).call(m,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),A(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),A(y=this.keycharm).call(y,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),A(O=this.keycharm).call(O,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),A(b=this.keycharm).call(b,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),A(S=this.keycharm).call(S,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),A($=this.keycharm).call($,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),A(w=this.keycharm).call(w,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),A(_=this.keycharm).call(_,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class nK{constructor(e,t,r){var n,s,o,a,u,l,d,c,h,f,v,p,m;this.body=e,this.canvas=t,this.selectionHandler=r,this.navigationHandler=new iK(e,t),this.body.eventListeners.onTap=A(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=A(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=A(o=this.onDoubleTap).call(o,this),this.body.eventListeners.onHold=A(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=A(u=this.onDragStart).call(u,this),this.body.eventListeners.onDrag=A(l=this.onDrag).call(l,this),this.body.eventListeners.onDragEnd=A(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=A(c=this.onMouseWheel).call(c,this),this.body.eventListeners.onPinch=A(h=this.onPinch).call(h,this),this.body.eventListeners.onMouseMove=A(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=A(v=this.onRelease).call(v,this),this.body.eventListeners.onContext=A(p=this.onContext).call(p,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=A(m=this.getPointer).call(m,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Ve(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(To(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),pt(this.options,e,"keyboard"),e.tooltip&&(Ve(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=Jm(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-RW(this.canvas.frame.canvas),y:e.y-qW(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}onDoubleTap(e){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}onHold(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=new Date().valueOf()}}onContext(e){const t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,t){const r=function(n,s){const o=[];for(let a=0;a<n.length;a++){const u=n[a];Se(s).call(s,u)===-1&&o.push(u)}return o};return{nodes:r(e.nodes,t.nodes),edges:r(e.edges,t.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Ve({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const r=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)}}else if(t!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=t.id,t.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const r of this.selectionHandler.getSelectedNodes()){const n={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(n)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const t=this.getPointer(e.center),r=this.drag.selection;if(r&&r.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,t);const n=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;be(r).call(r,o=>{const a=o.node;o.xFixed===!1&&(a.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(o.x)+n)),o.yFixed===!1&&(a.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(o.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(t.x),y:this.canvas._YconvertDOMtoCanvas(t.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const n=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+n,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var t;this.body.selectionBox.show=!1;const r=this.body.selectionBox.position,n={minX:Math.min(r.start.x,r.end.x),minY:Math.min(r.start.y,r.end.y),maxX:Math.max(r.start.x,r.end.x),maxY:Math.max(r.start.y,r.end.y)},s=vr(t=this.body.nodeIndices).call(t,a=>{const u=this.body.nodes[a];return u.x>=n.minX&&u.x<=n.maxX&&u.y>=n.minY&&u.y<=n.maxY});be(s).call(s,a=>this.selectionHandler.selectObject(this.body.nodes[a]));const o=this.getPointer(e.center);this.selectionHandler.commitAndEmit(o,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const r=this.drag.selection;r&&r.length?(be(r).call(r,function(n){n.node.options.fixed.x=n.xFixed,n.node.options.fixed.y=n.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const t=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const r=this.pinch.scale*e.scale;this.zoom(r,t)}zoom(e,t){if(this.options.zoomView===!0){const r=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let n;this.drag!==void 0&&this.drag.dragging===!0&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,o=e/r,a=(1-o)*t.x+s.x*o,u=(1-o)*t.y+s.y*o;if(this.body.view.scale=e,this.body.view.translation={x:a,y:u},n!=null){const l=this.canvas.canvasToDOM(n);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),r<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let t=this.body.view.scale;t*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const r=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,r)}e.preventDefault()}}onMouseMove(e){const t=this.getPointer({x:e.clientX,y:e.clientY});let r=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(t),this.popup.hidden===!1&&(r=!0,this.popup.setPosition(t.x+3,t.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),r===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=zi(()=>this._checkShowPopup(t),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,t)}_checkShowPopup(e){const t=this.canvas._XconvertDOMtoCanvas(e.x),r=this.canvas._YconvertDOMtoCanvas(e.y),n={left:t,top:r,right:t,bottom:r},s=this.popupObj===void 0?void 0:this.popupObj.id;let o=!1,a="node";if(this.popupObj===void 0){const u=this.body.nodeIndices,l=this.body.nodes;let d;const c=[];for(let h=0;h<u.length;h++)d=l[u[h]],d.isOverlappingWith(n)===!0&&(o=!0,d.getTitle()!==void 0&&c.push(u[h]));c.length>0&&(this.popupObj=l[c[c.length-1]],o=!0)}if(this.popupObj===void 0&&o===!1){const u=this.body.edgeIndices,l=this.body.edges;let d;const c=[];for(let h=0;h<u.length;h++)d=l[u[h]],d.isOverlappingWith(n)===!0&&d.connected===!0&&d.getTitle()!==void 0&&c.push(u[h]);c.length>0&&(this.popupObj=l[c[c.length-1]],a="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new LW(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const t=this.selectionHandler._pointerToPositionObject(e);let r=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(r=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t),r===!0)){const n=this.selectionHandler.getNodeAt(e);r=n===void 0?!1:n.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(r=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));r===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var aM={},uM={},lM;function sK(){if(lM)return uM;lM=1;var i=c1(),e=EF();return i("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),uM}var dM;function oK(){return dM||(dM=1,sK()),aM}var cM={},Hy,hM;function Ei(){if(hM)return Hy;hM=1;var i=_n(),e=TypeError;return Hy=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(i(t)+" is not a set")},Hy}var Gy,fM;function Si(){if(fM)return Gy;fM=1;var i=vt(),e=SF(),t=i("Set"),r=t.prototype;return Gy={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},Gy}var Uy,vM;function Oi(){if(vM)return Uy;vM=1;var i=ht();return Uy=function(e,t,r){for(var n=r?e:e.iterator,s=e.next,o,a;!(o=i(s,n)).done;)if(a=t(o.value),a!==void 0)return a},Uy}var Vy,pM;function Ys(){if(pM)return Vy;pM=1;var i=Oi();return Vy=function(e,t,r){return r?i(e.keys(),t,!0):e.forEach(t)},Vy}var Ky,gM;function _1(){if(gM)return Ky;gM=1;var i=Si(),e=Ys(),t=i.Set,r=i.add;return Ky=function(n){var s=new t;return e(n,function(o){r(s,o)}),s},Ky}var Yy,yM;function Xs(){return yM||(yM=1,Yy=function(i){return i.size}),Yy}var Xy,mM;function aK(){return mM||(mM=1,Xy=function(i){return{iterator:i,next:i.next,done:!1}}),Xy}var Zy,bM;function Ii(){if(bM)return Zy;bM=1;var i=hr(),e=Vt(),t=ht(),r=On(),n=aK(),s="Invalid size",o=RangeError,a=TypeError,u=Math.max,l=function(d,c){this.set=d,this.size=u(c,0),this.has=i(d.has),this.keys=i(d.keys)};return l.prototype={getIterator:function(){return n(e(t(this.keys,this.set)))},includes:function(d){return t(this.has,this.set,d)}},Zy=function(d){e(d);var c=+d.size;if(c!==c)throw new a(s);var h=r(c);if(h<0)throw new o(s);return new l(d,h)},Zy}var Jy,_M;function uK(){if(_M)return Jy;_M=1;var i=Ei(),e=Si(),t=_1(),r=Xs(),n=Ii(),s=Ys(),o=Oi(),a=e.has,u=e.remove;return Jy=function(d){var c=i(this),h=n(d),f=t(c);return r(c)<=h.size?s(c,function(v){h.includes(v)&&u(f,v)}):o(h.getIterator(),function(v){a(f,v)&&u(f,v)}),f},Jy}var Qy,wM;function $i(){return wM||(wM=1,Qy=function(){return!1}),Qy}var EM;function lK(){if(EM)return cM;EM=1;var i=H(),e=uK(),t=se(),r=$i(),n=!r("difference",function(o){return o.size===0}),s=n||t(function(){var o={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var l=u++>1;return a.has(1)&&a.clear(),{done:l,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return i({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),cM}var SM={},em,OM;function dK(){if(OM)return em;OM=1;var i=Ei(),e=Si(),t=Xs(),r=Ii(),n=Ys(),s=Oi(),o=e.Set,a=e.add,u=e.has;return em=function(d){var c=i(this),h=r(d),f=new o;return t(c)>h.size?s(h.getIterator(),function(v){u(c,v)&&a(f,v)}):n(c,function(v){h.includes(v)&&a(f,v)}),f},em}var IM;function cK(){if(IM)return SM;IM=1;var i=H(),e=se(),t=dK(),r=$i(),n=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return i({target:"Set",proto:!0,real:!0,forced:n},{intersection:t}),SM}var $M={},tm,TM;function hK(){if(TM)return tm;TM=1;var i=Ei(),e=Si().has,t=Xs(),r=Ii(),n=Ys(),s=Oi(),o=l1();return tm=function(u){var l=i(this),d=r(u);if(t(l)<=d.size)return n(l,function(h){if(d.includes(h))return!1},!0)!==!1;var c=d.getIterator();return s(c,function(h){if(e(l,h))return o(c,"normal",!1)})!==!1},tm}var PM;function fK(){if(PM)return $M;PM=1;var i=H(),e=hK(),t=$i(),r=!t("isDisjointFrom",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),$M}var RM={},rm,qM;function vK(){if(qM)return rm;qM=1;var i=Ei(),e=Xs(),t=Ys(),r=Ii();return rm=function(s){var o=i(this),a=r(s);return e(o)>a.size?!1:t(o,function(u){if(!a.includes(u))return!1},!0)!==!1},rm}var CM;function pK(){if(CM)return RM;CM=1;var i=H(),e=vK(),t=$i(),r=!t("isSubsetOf",function(n){return n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),RM}var xM={},im,DM;function gK(){if(DM)return im;DM=1;var i=Ei(),e=Si().has,t=Xs(),r=Ii(),n=Oi(),s=l1();return im=function(a){var u=i(this),l=r(a);if(t(u)<l.size)return!1;var d=l.getIterator();return n(d,function(c){if(!e(u,c))return s(d,"normal",!1)})!==!1},im}var MM;function yK(){if(MM)return xM;MM=1;var i=H(),e=gK(),t=$i(),r=!t("isSupersetOf",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),xM}var AM={},nm,kM;function mK(){if(kM)return nm;kM=1;var i=Ei(),e=Si(),t=_1(),r=Ii(),n=Oi(),s=e.add,o=e.has,a=e.remove;return nm=function(l){var d=i(this),c=r(l).getIterator(),h=t(d);return n(c,function(f){o(d,f)?a(h,f):s(h,f)}),h},nm}var sm,NM;function VF(){return NM||(NM=1,sm=function(i){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[i](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),sm}var FM;function bK(){if(FM)return AM;FM=1;var i=H(),e=mK(),t=VF(),r=$i(),n=!r("symmetricDifference")||!t("symmetricDifference");return i({target:"Set",proto:!0,real:!0,forced:n},{symmetricDifference:e}),AM}var BM={},om,jM;function _K(){if(jM)return om;jM=1;var i=Ei(),e=Si().add,t=_1(),r=Ii(),n=Oi();return om=function(o){var a=i(this),u=r(o).getIterator(),l=t(a);return n(u,function(d){e(l,d)}),l},om}var LM;function wK(){if(LM)return BM;LM=1;var i=H(),e=_K(),t=VF(),r=$i(),n=!r("union")||!t("union");return i({target:"Set",proto:!0,real:!0,forced:n},{union:e}),BM}var am,zM;function EK(){if(zM)return am;zM=1,Cn(),oK(),lK(),cK(),fK(),pK(),yK(),bK(),wK(),v1();var i=he();return am=i.Set,am}var um,WM;function SK(){if(WM)return um;WM=1;var i=EK();return xn(),um=i,um}var lm,HM;function OK(){return HM||(HM=1,lm=SK()),lm}var IK=OK(),yr=Y(IK),GM={},UM={},dm,VM;function $K(){if(VM)return dm;VM=1;var i=oe(),e=f1(),t=ua().getWeakData,r=d1(),n=Vt(),s=yn(),o=He(),a=la(),u=Mr(),l=Ye(),d=bi(),c=d.set,h=d.getterFor,f=u.find,v=u.findIndex,p=i([].splice),m=0,g=function(b){return b.frozen||(b.frozen=new y)},y=function(){this.entries=[]},O=function(b,S){return f(b.entries,function($){return $[0]===S})};return y.prototype={get:function(b){var S=O(this,b);if(S)return S[1]},has:function(b){return!!O(this,b)},set:function(b,S){var $=O(this,b);$?$[1]=S:this.entries.push([b,S])},delete:function(b){var S=v(this.entries,function($){return $[0]===b});return~S&&p(this.entries,S,1),!!~S}},dm={getConstructor:function(b,S,$,w){var _=b(function(P,R){r(P,E),c(P,{type:S,id:m++,frozen:null}),s(R)||a(R,P[w],{that:P,AS_ENTRIES:$})}),E=_.prototype,I=h(S),T=function(P,R,C){var M=I(P),K=t(n(R),!0);return K===!0?g(M).set(R,C):K[M.id]=C,P};return e(E,{delete:function(P){var R=I(this);if(!o(P))return!1;var C=t(P);return C===!0?g(R).delete(P):C&&l(C,R.id)&&delete C[R.id]},has:function(R){var C=I(this);if(!o(R))return!1;var M=t(R);return M===!0?g(C).has(R):M&&l(M,C.id)}}),e(E,$?{get:function(R){var C=I(this);if(o(R)){var M=t(R);if(M===!0)return g(C).get(R);if(M)return M[C.id]}},set:function(R,C){return T(this,R,C)}}:{add:function(R){return T(this,R,!0)}}),_}},dm}var KM;function TK(){if(KM)return UM;KM=1;var i=_F(),e=we(),t=oe(),r=f1(),n=ua(),s=c1(),o=$K(),a=He(),u=bi().enforce,l=se(),d=mF(),c=Object,h=Array.isArray,f=c.isExtensible,v=c.isFrozen,p=c.isSealed,m=c.freeze,g=c.seal,y=!e.ActiveXObject&&"ActiveXObject"in e,O,b=function(P){return function(){return P(this,arguments.length?arguments[0]:void 0)}},S=s("WeakMap",b,o),$=S.prototype,w=t($.set),_=function(){return i&&l(function(){var P=m([]);return w(new S,P,1),!v(P)})};if(d)if(y){O=o.getConstructor(b,"WeakMap",!0),n.enable();var E=t($.delete),I=t($.has),T=t($.get);r($,{delete:function(P){if(a(P)&&!f(P)){var R=u(this);return R.frozen||(R.frozen=new O),E(this,P)||R.frozen.delete(P)}return E(this,P)},has:function(R){if(a(R)&&!f(R)){var C=u(this);return C.frozen||(C.frozen=new O),I(this,R)||C.frozen.has(R)}return I(this,R)},get:function(R){if(a(R)&&!f(R)){var C=u(this);return C.frozen||(C.frozen=new O),I(this,R)?T(this,R):C.frozen.get(R)}return T(this,R)},set:function(R,C){if(a(R)&&!f(R)){var M=u(this);M.frozen||(M.frozen=new O),I(this,R)?w(this,R,C):M.frozen.set(R,C)}else w(this,R,C);return this}})}else _()&&r($,{set:function(R,C){var M;return h(R)&&(v(R)?M=m:p(R)&&(M=g)),w(this,R,C),M&&M(R),this}});return UM}var YM;function PK(){return YM||(YM=1,TK()),GM}var cm,XM;function RK(){if(XM)return cm;XM=1,Cn(),PK();var i=he();return cm=i.WeakMap,cm}var hm,ZM;function qK(){if(ZM)return hm;ZM=1;var i=RK();return xn(),hm=i,hm}var fm,JM;function CK(){return JM||(JM=1,fm=qK()),fm}var xK=CK(),Zs=Y(xK);function rs(i,e,t){DK(i,e),e.set(i,t)}function DK(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sb(i,e,t){return i.set(KF(i,e),t),t}function ve(i,e){return i.get(KF(i,e))}function KF(i,e,t){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function QM(i,e){const t=new yr;for(const r of e)i.has(r)||t.add(r);return t}var xi=new Zs,Ct=new Zs;class eA{constructor(){rs(this,xi,new yr),rs(this,Ct,new yr)}get size(){return ve(Ct,this).size}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const n of t)ve(Ct,this).add(n)}delete(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const n of t)ve(Ct,this).delete(n)}clear(){ve(Ct,this).clear()}getSelection(){return[...ve(Ct,this)]}getChanges(){return{added:[...QM(ve(xi,this),ve(Ct,this))],deleted:[...QM(ve(Ct,this),ve(xi,this))],previous:[...new yr(ve(xi,this))],current:[...new yr(ve(Ct,this))]}}commit(){const e=this.getChanges();sb(xi,this,ve(Ct,this)),sb(Ct,this,new yr(ve(xi,this)));for(const t of e.added)t.select();for(const t of e.deleted)t.unselect();return e}}var Hr=new Zs,Gr=new Zs,vm=new Zs;class MK{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};rs(this,Hr,new eA),rs(this,Gr,new eA),rs(this,vm,void 0),sb(vm,this,e)}get sizeNodes(){return ve(Hr,this).size}get sizeEdges(){return ve(Gr,this).size}getNodes(){return ve(Hr,this).getSelection()}getEdges(){return ve(Gr,this).getSelection()}addNodes(){ve(Hr,this).add(...arguments)}addEdges(){ve(Gr,this).add(...arguments)}deleteNodes(e){ve(Hr,this).delete(e)}deleteEdges(e){ve(Gr,this).delete(e)}clear(){ve(Hr,this).clear(),ve(Gr,this).clear()}commit(){const e={nodes:ve(Hr,this).commit(),edges:ve(Gr,this).commit()};for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ve(vm,this).call(this,e,...r),e}}class AK{constructor(e,t){this.body=e,this.canvas=t,this._selectionAccumulator=new MK,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Ve(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&Tn(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),r!==void 0&&(t=this.selectObject(r)),this.body.emitter.emit("_requestRedraw")}return t}selectAdditionalOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);r!==void 0&&(t=!0,r.isSelected()===!0?this.deselectObject(r):this.selectObject(r),this.body.emitter.emit("_requestRedraw"))}return t}_initBaseEvent(e,t){const r={};return r.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},r.event=e,r}generateClickEvent(e,t,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const o=this._initBaseEvent(t,r);if(s===!0)o.nodes=[],o.edges=[];else{const a=this.getSelection();o.nodes=a.nodes,o.edges=a.edges}n!==void 0&&(o.previousSelection=n),e=="click"&&(o.items=this.getClickedItems(r)),t.controlEdge!==void 0&&(o.controlEdge=t.controlEdge),this.body.emitter.emit(e,o)}selectObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof _e?(t===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const t=[],r=this.body.nodes;for(let n=0;n<this.body.nodeIndices.length;n++){const s=this.body.nodeIndices[n];r[s].isOverlappingWith(e)&&t.push(s)}return t}_pointerToPositionObject(e){const t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}getNodeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this._pointerToPositionObject(e),n=this._getAllNodesOverlappingWith(r);if(n.length>0)return t===!0?this.body.nodes[n[n.length-1]]:n[n.length-1]}_getEdgesOverlappingWith(e,t){const r=this.body.edges;for(let n=0;n<this.body.edgeIndices.length;n++){const s=this.body.edgeIndices[n];r[s].isOverlappingWith(e)&&t.push(s)}}_getAllEdgesOverlappingWith(e){const t=[];return this._getEdgesOverlappingWith(e,t),t}getEdgeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this.canvas.DOMtoCanvas(e);let n=10,s=null;const o=this.body.edges;for(let a=0;a<this.body.edgeIndices.length;a++){const u=this.body.edgeIndices[a],l=o[u];if(l.connected){const d=l.from.x,c=l.from.y,h=l.to.x,f=l.to.y,v=l.edgeType.getDistanceToEdge(d,c,h,f,r.x,r.y);v<n&&(s=u,n=v)}}if(s!==null)return t===!0?this.body.edges[s]:s}_addToHover(e){e instanceof _e?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof _e?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let t=0;t<e.edges.length;t++){const r=e.edges[t];r.hover=!0,this._addToHover(r)}}emitBlurEvent(e,t,r){const n=this._initBaseEvent(e,t);r.hover===!0&&(r.hover=!1,r instanceof _e?(n.node=r.id,this.body.emitter.emit("blurNode",n)):(n.edge=r.id,this.body.emitter.emit("blurEdge",n)))}emitHoverEvent(e,t,r){const n=this._initBaseEvent(e,t);let s=!1;return r.hover===!1&&(r.hover=!0,this._addToHover(r),s=!0,r instanceof _e?(n.node=r.id,this.body.emitter.emit("hoverNode",n)):(n.edge=r.id,this.body.emitter.emit("hoverEdge",n))),s}hoverObject(e,t){let r=this.getNodeAt(t);r===void 0&&(r=this.getEdgeAt(t));let n=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(r===void 0||r instanceof _e&&r.id!=s||r instanceof Or)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],n=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(n===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(r===void 0||r instanceof Or&&r.id!=s||r instanceof _e&&!r.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],n=!0));if(r!==void 0){const s=Ce(this.hoverObj.edges).length,o=Ce(this.hoverObj.nodes).length,a=r instanceof Or&&s===0&&o===0,u=r instanceof _e&&s===0&&o===0;(n||a||u)&&(n=this.emitHoverEvent(e,t,r)),r instanceof _e&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(r)}n===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,t){let r=!1;const n=this._selectionAccumulator.commit(),s={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,s),r=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,s),r=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),r=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),r=!0),r===!0&&this.generateClickEvent("select",t,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return ps(e=this._selectionAccumulator.getNodes()).call(e,t=>t.id)}getSelectedEdgeIds(){var e;return ps(e=this._selectionAccumulator.getEdges()).call(e,t=>t.id)}setSelection(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||t.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const r of e.nodes){const n=this.body.nodes[r];if(!n)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(n,t.highlightEdges)}if(e.edges)for(const r of e.edges){const n=this.body.edges[r];if(!n)throw new RangeError('Edge with id "'+r+'" not found');this.selectObject(n)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const t=this.canvas.DOMtoCanvas(e),r=[],n=this.body.nodeIndices,s=this.body.nodes;for(let u=n.length-1;u>=0;u--){const d=s[n[u]].getItemsOnPoint(t);r.push.apply(r,d)}const o=this.body.edgeIndices,a=this.body.edges;for(let u=o.length-1;u>=0;u--){const d=a[o[u]].getItemsOnPoint(t);r.push.apply(r,d)}return r}}var tA={},pm,rA;function kK(){if(rA)return pm;rA=1;var i=In(),e=Math.floor,t=function(r,n){var s=r.length;if(s<8)for(var o=1,a,u;o<s;){for(u=o,a=r[o];u&&n(r[u-1],a)>0;)r[u]=r[--u];u!==o++&&(r[u]=a)}else for(var l=e(s/2),d=t(i(r,0,l),n),c=t(i(r,l),n),h=d.length,f=c.length,v=0,p=0;v<h||p<f;)r[v+p]=v<h&&p<f?n(d[v],c[p])<=0?d[v++]:c[p++]:v<h?d[v++]:c[p++];return r};return pm=t,pm}var gm,iA;function NK(){if(iA)return gm;iA=1;var i=mn(),e=i.match(/firefox\/(\d+)/i);return gm=!!e&&+e[1],gm}var ym,nA;function FK(){if(nA)return ym;nA=1;var i=mn();return ym=/MSIE|Trident/.test(i),ym}var mm,sA;function BK(){if(sA)return mm;sA=1;var i=mn(),e=i.match(/AppleWebKit\/(\d+)\./);return mm=!!e&&+e[1],mm}var oA;function jK(){if(oA)return tA;oA=1;var i=H(),e=oe(),t=hr(),r=Ot(),n=fr(),s=lF(),o=Tt(),a=se(),u=kK(),l=Pn(),d=NK(),c=FK(),h=Ns(),f=BK(),v=[],p=e(v.sort),m=e(v.push),g=a(function(){v.sort(void 0)}),y=a(function(){v.sort(null)}),O=l("sort"),b=!a(function(){if(h)return h<70;if(!(d&&d>3)){if(c)return!0;if(f)return f<603;var w="",_,E,I,T;for(_=65;_<76;_++){switch(E=String.fromCharCode(_),_){case 66:case 69:case 70:case 72:I=3;break;case 68:case 71:I=4;break;default:I=2}for(T=0;T<47;T++)v.push({k:E+T,v:I})}for(v.sort(function(P,R){return R.v-P.v}),T=0;T<v.length;T++)E=v[T].k.charAt(0),w.charAt(w.length-1)!==E&&(w+=E);return w!=="DGBEFHACIJK"}}),S=g||!y||!O||!b,$=function(w){return function(_,E){return E===void 0?-1:_===void 0?1:w!==void 0?+w(_,E)||0:o(_)>o(E)?1:-1}};return i({target:"Array",proto:!0,forced:S},{sort:function(_){_!==void 0&&t(_);var E=r(this);if(b)return _===void 0?p(E):p(E,_);var I=[],T=n(E),P,R;for(R=0;R<T;R++)R in E&&m(I,E[R]);for(u(I,$(_)),P=n(I),R=0;R<P;)E[R]=I[R++];for(;R<T;)s(E,R++);return E}}),tA}var bm,aA;function LK(){if(aA)return bm;aA=1,jK();var i=Xe();return bm=i("Array","sort"),bm}var _m,uA;function zK(){if(uA)return _m;uA=1;var i=ke(),e=LK(),t=Array.prototype;return _m=function(r){var n=r.sort;return r===t||i(t,r)&&n===t.sort?e:n},_m}var wm,lA;function WK(){if(lA)return wm;lA=1;var i=zK();return wm=i,wm}var Em,dA;function HK(){return dA||(dA=1,Em=WK()),Em}var GK=HK(),Gi=Y(GK),cA={},Sm,hA;function UK(){if(hA)return Sm;hA=1;var i=Pe(),e=se(),t=oe(),r=s1(),n=js(),s=Ft(),o=Yo().f,a=t(o),u=t([].push),l=i&&e(function(){var c=Object.create(null);return c[2]=2,!a(c,2)}),d=function(c){return function(h){for(var f=s(h),v=n(f),p=l&&r(f)===null,m=v.length,g=0,y=[],O;m>g;)O=v[g++],(!i||(p?O in f:a(f,O)))&&u(y,c?[O,f[O]]:f[O]);return y}};return Sm={entries:d(!0),values:d(!1)},Sm}var fA;function VK(){if(fA)return cA;fA=1;var i=H(),e=UK().values;return i({target:"Object",stat:!0},{values:function(r){return e(r)}}),cA}var Om,vA;function KK(){if(vA)return Om;vA=1,VK();var i=he();return Om=i.Object.values,Om}var Im,pA;function YK(){if(pA)return Im;pA=1;var i=KK();return Im=i,Im}var $m,gA;function XK(){return gA||(gA=1,$m=YK()),$m}var ZK=XK(),JK=Y(ZK),yA={},Tm,mA;function QK(){if(mA)return Tm;mA=1;var i=hr(),e=Ot(),t=Xo(),r=fr(),n=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(u,l,d,c){var h=e(u),f=t(h),v=r(h);if(i(l),v===0&&d<2)throw new n(s);var p=a?v-1:0,m=a?-1:1;if(d<2)for(;;){if(p in f){c=f[p],p+=m;break}if(p+=m,a?p<0:v<=p)throw new n(s)}for(;a?p>=0:v>p;p+=m)p in f&&(c=l(c,f[p],p,h));return c}};return Tm={left:o(!1),right:o(!0)},Tm}var Pm,bA;function eY(){if(bA)return Pm;bA=1;var i=OF();return Pm=i==="NODE",Pm}var _A;function tY(){if(_A)return yA;_A=1;var i=H(),e=QK().left,t=Pn(),r=Ns(),n=eY(),s=!n&&r>79&&r<83,o=s||!t("reduce");return i({target:"Array",proto:!0,forced:o},{reduce:function(u){var l=arguments.length;return e(this,u,l,l>1?arguments[1]:void 0)}}),yA}var Rm,wA;function rY(){if(wA)return Rm;wA=1,tY();var i=Xe();return Rm=i("Array","reduce"),Rm}var qm,EA;function iY(){if(EA)return qm;EA=1;var i=ke(),e=rY(),t=Array.prototype;return qm=function(r){var n=r.reduce;return r===t||i(t,r)&&n===t.reduce?e:n},qm}var Cm,SA;function nY(){if(SA)return Cm;SA=1;var i=iY();return Cm=i,Cm}var xm,OA;function sY(){return OA||(OA=1,xm=nY()),xm}var oY=sY(),YF=Y(oY);class XF{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,t,r),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,t){this.fake_use(e,t),this.abstract()}shift(e,t){this.fake_use(e,t),this.abstract()}}class aY extends XF{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.x=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}sort(e){Gi(e).call(e,function(t,r){return t.x-r.x})}fix(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}shift(e,t){this.layout.body.nodes[e].x+=t}}class uY extends XF{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.y=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}sort(e){Gi(e).call(e,function(t,r){return t.y-r.y})}fix(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}shift(e,t){this.layout.body.nodes[e].y+=t}}var IA={},$A;function lY(){if($A)return IA;$A=1;var i=H(),e=Mr().every,t=Pn(),r=t("every");return i({target:"Array",proto:!0,forced:!r},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),IA}var Dm,TA;function dY(){if(TA)return Dm;TA=1,lY();var i=Xe();return Dm=i("Array","every"),Dm}var Mm,PA;function cY(){if(PA)return Mm;PA=1;var i=ke(),e=dY(),t=Array.prototype;return Mm=function(r){var n=r.every;return r===t||i(t,r)&&n===t.every?e:n},Mm}var Am,RA;function hY(){if(RA)return Am;RA=1;var i=cY();return Am=i,Am}var km,qA;function fY(){return qA||(qA=1,km=hY()),km}var vY=fY(),ZF=Y(vY);function pY(i,e){const t=new yr;return be(i).call(i,r=>{var n;be(n=r.edges).call(n,s=>{s.connected&&t.add(s)})}),be(t).call(t,r=>{const n=r.from.id,s=r.to.id;e[n]==null&&(e[n]=0),(e[s]==null||e[n]>=e[s])&&(e[s]=e[n]+1)}),e}function gY(i){return JF(e=>{var t,r;return ZF(t=vr(r=e.edges).call(r,n=>i.has(n.toId))).call(t,n=>n.to===e)},(e,t)=>t>e,"from",i)}function yY(i){return JF(e=>{var t,r;return ZF(t=vr(r=e.edges).call(r,n=>i.has(n.toId))).call(t,n=>n.from===e)},(e,t)=>t<e,"to",i)}function JF(i,e,t,r){var n;const s=Jn(null),o=YF(n=[...LF(r).call(r)]).call(n,(c,h)=>c+1+h.edges.length,0),a=t+"Id",u=t==="to"?1:-1;for(const[c,h]of r){if(!r.has(c)||!i(h))continue;s[c]=0;const f=[h];let v=0,p;for(;p=f.pop();){var l,d;if(!r.has(c))continue;const m=s[p.id]+u;if(be(l=vr(d=p.edges).call(d,g=>g.connected&&g.to!==g.from&&g[t]!==p&&r.has(g.toId)&&r.has(g.fromId))).call(l,g=>{const y=g[a],O=s[y];(O==null||e(m,O))&&(s[y]=m,f.push(g[t]))}),v>o)return pY(r,s);++v}}return s}class mY{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,t){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),this.parentReference[t]===void 0&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,t){t!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const t={},r=n=>{if(t[n]!==void 0)return t[n];let s=this.levels[n];if(this.childrenReference[n]){const o=this.childrenReference[n];if(o.length>0)for(let a=0;a<o.length;a++)s=Math.max(s,r(o[a]))}return t[n]=s,s};return r(e)}levelDownstream(e,t){this.levels[t.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const t=new p1;let r=0;const n=Gi(e=[...new yr(JK(this.levels))]).call(e,(s,o)=>s-o);for(const s of n)t.set(s,r++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=t.get(this.levels[s]))}getTreeSize(e,t){let r=1e9,n=-1e9,s=1e9,o=-1e9;for(const a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===t){const u=e[a];r=Math.min(u.x,r),n=Math.max(u.x,n),s=Math.min(u.y,s),o=Math.max(u.y,o)}return{min_x:r,max_x:n,min_y:s,max_y:o}}hasSameParent(e,t){const r=this.parentReference[e.id],n=this.parentReference[t.id];if(r===void 0||n===void 0)return!1;for(let s=0;s<r.length;s++)for(let o=0;o<n.length;o++)if(r[s]==n[o])return!0;return!1}inSameSubNetwork(e,t){return this.trees[e.id]===this.trees[t.id]}getLevels(){return Ce(this.distributionOrdering)}addToOrdering(e,t){this.distributionOrdering[t]===void 0&&(this.distributionOrdering[t]=[]);let r=!1;const n=this.distributionOrdering[t];for(const s in n)if(n[s]===e){r=!0;break}r||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}class bY{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+nb()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Ve(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,t){if(e!==void 0){const r=this.options.hierarchical,n=r.enabled;if(Tn(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),pt(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),r.enabled===!0)return n===!0&&this.body.emitter.emit("refresh",!0),r.direction==="RL"||r.direction==="DU"?r.levelSeparation>0&&(r.levelSeparation*=-1):r.levelSeparation<0&&(r.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(n===!0)return this.body.emitter.emit("refresh"),pe(t,this.optionsBackup)}return t}_resetRNG(e){this.initialRandomSeed=e,this._rng=na(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const t=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:t.enabled===void 0?!0:t.enabled,solver:"hierarchicalRepulsion"},t.enabled=t.enabled===void 0?!0:t.enabled,t.solver=t.solver||"barnesHut"):typeof e.physics=="object"?(t.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let r=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:r};else{const n=e.edges.smooth;n.type!==void 0&&n.type!=="dynamic"&&(r=n.type),this.optionsBackup.edges={smooth:{enabled:n.enabled===void 0?!0:n.enabled,type:n.type===void 0?"dynamic":n.type,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection===void 0?!1:n.forceDirection}},e.edges.smooth={enabled:n.enabled===void 0?!0:n.enabled,type:r,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection===void 0?!1:n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",r)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const t=e.length+50;for(let r=0;r<e.length;r++){const n=e[r],s=2*Math.PI*this._rng();n.x===void 0&&(n.x=t*Math.cos(s)),n.y===void 0&&(n.y=t*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let t=0;for(let r=0;r<e.length;r++)this.body.nodes[e[r]].predefinedPosition===!0&&(t+=1);if(t<.5*e.length){let n=0;const s=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const u=e.length;for(;e.length>s&&n<=10;){n+=1;const l=e.length;n%3===0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o);const d=e.length;if(l==d&&n%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*u)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const a=70;for(let u=0;u<e.length;u++){const l=this.body.nodes[e[u]];l.predefinedPosition===!1&&(l.x+=(.5-this._rng())*a,l.y+=(.5-this._rng())*a)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=nt.getRangeCore(this.body.nodes,this.body.nodeIndices),t=nt.findCenter(e);for(let r=0;r<this.body.nodeIndices.length;r++){const n=this.body.nodes[this.body.nodeIndices[r]];n.x-=t.x,n.y-=t.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let t=0;t<this.body.nodeIndices.length;t++)this.body.nodes[this.body.nodeIndices[t]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,t,r=!1,n=!1;this.lastNodeOnLevel={},this.hierarchical=new mY;for(t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&(e=this.body.nodes[t],e.options.level!==void 0?(r=!0,this.hierarchical.levels[t]=e.options.level):n=!0);if(n===!0&&r===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(n===!0){const o=this.options.hierarchical.sortMethod;o==="hubsize"?this._determineLevelsByHubsize():o==="directed"?this._determineLevelsDirected():o==="custom"&&this._determineLevelsCustomCallback()}for(const o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let t=!1;const r={},n=()=>{const g=o();let y=0;for(let O=0;O<g.length-1;O++){const b=g[O].max-g[O+1].min;y+=b+this.options.hierarchical.treeSpacing,s(O+1,y)}},s=(g,y)=>{const O=this.hierarchical.trees;for(const b in O)Object.prototype.hasOwnProperty.call(O,b)&&O[b]===g&&this.direction.shift(b,y)},o=()=>{const g=[];for(let y=0;y<this.hierarchical.numTrees();y++)g.push(this.direction.getTreeSize(y));return g},a=(g,y)=>{if(!y[g.id]&&(y[g.id]=!0,this.hierarchical.childrenReference[g.id])){const O=this.hierarchical.childrenReference[g.id];if(O.length>0)for(let b=0;b<O.length;b++)a(this.body.nodes[O[b]],y)}},u=function(g){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,O=1e9,b=1e9,S=1e9,$=-1e9;for(const w in g)if(Object.prototype.hasOwnProperty.call(g,w)){const _=e.body.nodes[w],E=e.hierarchical.levels[_.id],I=e.direction.getPosition(_),[T,P]=e._getSpaceAroundNode(_,g);O=Math.min(T,O),b=Math.min(P,b),E<=y&&(S=Math.min(I,S),$=Math.max(I,$))}return[S,$,O,b]},l=(g,y)=>{const O=this.hierarchical.getMaxLevel(g.id),b=this.hierarchical.getMaxLevel(y.id);return Math.min(O,b)},d=(g,y,O)=>{const b=this.hierarchical;for(let S=0;S<y.length;S++){const $=y[S],w=b.distributionOrdering[$];if(w.length>1)for(let _=0;_<w.length-1;_++){const E=w[_],I=w[_+1];b.hasSameParent(E,I)&&b.inSameSubNetwork(E,I)&&g(E,I,O)}}},c=function(g,y){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const b=e.direction.getPosition(g),S=e.direction.getPosition(y),$=Math.abs(S-b),w=e.options.hierarchical.nodeSpacing;if($>w){const _={},E={};a(g,_),a(y,E);const I=l(g,y),T=u(_,I),P=u(E,I),R=T[1],C=P[0],M=P[2];if(Math.abs(R-C)>w){let j=R-C+w;j<-M+w&&(j=-M+w),j<0&&(e._shiftBlock(y.id,j),t=!0,O===!0&&e._centerParent(y))}}},h=(g,y)=>{const O=y.id,b=y.edges,S=this.hierarchical.levels[y.id],$=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,w={},_=[];for(let M=0;M<b.length;M++){const K=b[M];if(K.toId!=K.fromId){const j=K.toId==O?K.from:K.to;w[b[M].id]=j,this.hierarchical.levels[j.id]<S&&_.push(K)}}const E=(M,K)=>{let j=0;for(let J=0;J<K.length;J++)if(w[K[J].id]!==void 0){const ee=this.direction.getPosition(w[K[J].id])-M;j+=ee/Math.sqrt(ee*ee+$)}return j},I=(M,K)=>{let j=0;for(let J=0;J<K.length;J++)if(w[K[J].id]!==void 0){const ee=this.direction.getPosition(w[K[J].id])-M;j-=$*Math.pow(ee*ee+$,-1.5)}return j},T=(M,K)=>{let j=this.direction.getPosition(y);const J={};for(let ee=0;ee<M;ee++){const ce=E(j,K),W=I(j,K),ue=40,fe=Math.max(-ue,Math.min(ue,Math.round(ce/W)));if(j=j-fe,J[j]!==void 0)break;J[j]=ee}return j},P=M=>{const K=this.direction.getPosition(y);if(r[y.id]===void 0){const ue={};a(y,ue),r[y.id]=ue}const j=u(r[y.id]),J=j[2],ee=j[3],ce=M-K;let W=0;ce>0?W=Math.min(ce,ee-this.options.hierarchical.nodeSpacing):ce<0&&(W=-Math.min(-ce,J-this.options.hierarchical.nodeSpacing)),W!=0&&(this._shiftBlock(y.id,W),t=!0)},R=M=>{const K=this.direction.getPosition(y),[j,J]=this._getSpaceAroundNode(y),ee=M-K;let ce=K;ee>0?ce=Math.min(K+(J-this.options.hierarchical.nodeSpacing),M):ee<0&&(ce=Math.max(K-(j-this.options.hierarchical.nodeSpacing),M)),ce!==K&&(this.direction.setPosition(y,ce),t=!0)};let C=T(g,_);P(C),C=T(g,b),R(C)},f=g=>{let y=this.hierarchical.getLevels();y=Hi(y).call(y);for(let O=0;O<g;O++){t=!1;for(let b=0;b<y.length;b++){const S=y[b],$=this.hierarchical.distributionOrdering[S];for(let w=0;w<$.length;w++)h(1e3,$[w])}if(t!==!0)break}},v=g=>{let y=this.hierarchical.getLevels();y=Hi(y).call(y);for(let O=0;O<g&&(t=!1,d(c,y,!0),t===!0);O++);},p=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},m=()=>{let g=this.hierarchical.getLevels();g=Hi(g).call(g);for(let y=0;y<g.length;y++){const O=g[y],b=this.hierarchical.distributionOrdering[O];for(let S=0;S<b.length;S++)this._centerParent(b[S])}};this.options.hierarchical.blockShifting===!0&&(v(5),p()),this.options.hierarchical.edgeMinimization===!0&&f(20),this.options.hierarchical.parentCentralization===!0&&m(),n()}_getSpaceAroundNode(e,t){let r=!0;t===void 0&&(r=!1);const n=this.hierarchical.levels[e.id];if(n!==void 0){const s=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[n];let u=1e9,l=1e9;if(s!==0){const d=a[s-1];if(r===!0&&t[d.id]===void 0||r===!1){const c=this.direction.getPosition(d);u=o-c}}if(s!=a.length-1){const d=a[s+1];if(r===!0&&t[d.id]===void 0||r===!1){const c=this.direction.getPosition(d);l=Math.min(l,c-o)}}return[u,l]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const t=this.hierarchical.parentReference[e.id];for(let r=0;r<t.length;r++){const n=t[r],s=this.body.nodes[n],o=this.hierarchical.childrenReference[n];if(o!==void 0){const a=this._getCenterPosition(o),u=this.direction.getPosition(s),[l,d]=this._getSpaceAroundNode(s),c=u-a;(c<0&&Math.abs(c)<d-this.options.hierarchical.nodeSpacing||c>0&&Math.abs(c)<l-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,a)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var t;let n=Ce(e[r]);n=this._indexArrayToNodes(n),Gi(t=this.direction).call(t,n);let s=0;for(let o=0;o<n.length;o++){const a=n[o];if(this.positionedNodes[a.id]===void 0){const u=this.options.hierarchical.nodeSpacing;let l=u*s;s>0&&(l=this.direction.getPosition(n[o-1])+u),this.direction.setPosition(a,l,r),this._validatePositionAndContinue(a,r,l),s++}}}}_placeBranchNodes(e,t){var r;const n=this.hierarchical.childrenReference[e];if(n===void 0)return;const s=[];for(let a=0;a<n.length;a++)s.push(this.body.nodes[n[a]]);Gi(r=this.direction).call(r,s);for(let a=0;a<s.length;a++){const u=s[a],l=this.hierarchical.levels[u.id];if(l>t&&this.positionedNodes[u.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let c;a===0?c=this.direction.getPosition(this.body.nodes[e]):c=this.direction.getPosition(s[a-1])+d,this.direction.setPosition(u,c,l),this._validatePositionAndContinue(u,l,c)}else return}const o=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],o,t)}_validatePositionAndContinue(e,t,r){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[t]!==void 0){const n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(r-n<this.options.hierarchical.nodeSpacing){const s=n+this.options.hierarchical.nodeSpacing-r,o=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(o.withChild,s)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}_indexArrayToNodes(e){const t=[];for(let r=0;r<e.length;r++)t.push(this.body.nodes[e[r]]);return t}_getDistribution(){const e={};let t,r;for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){r=this.body.nodes[t];const n=this.hierarchical.levels[t]===void 0?0:this.hierarchical.levels[t];this.direction.fix(r,n),e[n]===void 0&&(e[n]={}),e[n][t]=r}return e}_getActiveEdges(e){const t=[];return re(e.edges,r=>{var n;Se(n=this.body.edgeIndices).call(n,r.id)!==-1&&t.push(r)}),t}_getHubSizes(){const e={},t=this.body.nodeIndices;re(t,n=>{const s=this.body.nodes[n],o=this._getActiveEdges(s).length;e[o]=!0});const r=[];return re(e,n=>{r.push(Number(n))}),Gi(r).call(r,function(n,s){return s-n}),r}_determineLevelsByHubsize(){const e=(r,n)=>{this.hierarchical.levelDownstream(r,n)},t=this._getHubSizes();for(let r=0;r<t.length;++r){const n=t[r];if(n===0)break;re(this.body.nodeIndices,s=>{const o=this.body.nodes[s];n===this._getActiveEdges(o).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const t=function(n,s,o){},r=(n,s,o)=>{let a=this.hierarchical.levels[n.id];a===void 0&&(a=this.hierarchical.levels[n.id]=1e5);const u=t(nt.cloneOptions(n,"node"),nt.cloneOptions(s,"node"),nt.cloneOptions(o,"edge"));this.hierarchical.levels[s.id]=a+u};this._crawlNetwork(r),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const t=YF(e=this.body.nodeIndices).call(e,(r,n)=>(r.set(n,this.body.nodes[n]),r),new p1);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=yY(t):this.hierarchical.levels=gY(t),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(t,r)=>{this.hierarchical.levels[r.id]>this.hierarchical.levels[t.id]&&this.hierarchical.addRelation(t.id,r.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0;const r={},n=(s,o)=>{if(r[s.id]===void 0){this.hierarchical.setTreeIndex(s,o),r[s.id]=!0;let a;const u=this._getActiveEdges(s);for(let l=0;l<u.length;l++){const d=u[l];d.connected===!0&&(d.toId==s.id?a=d.from:a=d.to,s.id!=a.id&&(e(s,a,d),n(a,o)))}}};if(t===void 0){let s=0;for(let o=0;o<this.body.nodeIndices.length;o++){const a=this.body.nodeIndices[o];if(r[a]===void 0){const u=this.body.nodes[a];n(u,s),s+=1}}}else{const s=this.body.nodes[t];if(s===void 0){console.error("Node not found:",t);return}n(s)}}_shiftBlock(e,t){const r={},n=s=>{if(r[s])return;r[s]=!0,this.direction.shift(s,t);const o=this.hierarchical.childrenReference[s];if(o!==void 0)for(let a=0;a<o.length;a++)n(o[a])};n(e)}_findCommonParent(e,t){const r={},n=(o,a)=>{const u=this.hierarchical.parentReference[a];if(u!==void 0)for(let l=0;l<u.length;l++){const d=u[l];o[d]=!0,n(o,d)}},s=(o,a)=>{const u=this.hierarchical.parentReference[a];if(u!==void 0)for(let l=0;l<u.length;l++){const d=u[l];if(o[d]!==void 0)return{foundParent:d,withChild:a};const c=s(o,d);if(c.foundParent!==null)return c}return{foundParent:null,withChild:a}};return n(r,e),s(r,t)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new aY(this):this.direction=new uY(this)}_getCenterPosition(e){let t=1e9,r=-1e9;for(let n=0;n<e.length;n++){let s;if(e[n].id!==void 0)s=e[n];else{const a=e[n];s=this.body.nodes[a]}const o=this.direction.getPosition(s);t=Math.min(t,o),r=Math.max(r,o)}return .5*(t+r)}}class _Y{constructor(e,t,r,n){var s,o;this.body=e,this.canvas=t,this.selectionHandler=r,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Ve(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",A(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",A(o=this._restore).call(o,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,t,r){t!==void 0&&(t.locale!==void 0?this.options.locale=t.locale:this.options.locale=r.locale,t.locales!==void 0?this.options.locales=t.locales:this.options.locales=r.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,pe(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const r=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),s=r+n,o=this.options.locales[this.options.locale];let a=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),a=!0),this.options.addEdge!==!1&&(a===!0?this._createSeperator(1):a=!0,this._createAddEdgeButton(o)),r===1&&typeof this.options.editNode=="function"?(a===!0?this._createSeperator(2):a=!0,this._createEditNodeButton(o)):n===1&&r===0&&this.options.editEdge!==!1&&(a===!0?this._createSeperator(3):a=!0,this._createEditEdgeButton(o)),s!==0&&(r>0&&this.options.deleteNode!==!1?(a===!0&&this._createSeperator(4),this._createDeleteButton(o)):r===0&&this.options.deleteEdge!==!1&&(a===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindElementEvents(this.closeDiv,A(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",A(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t;const r=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(r),this._createSeperator(),this._createDescription(r.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,A(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",A(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const t=pe({},e.options,!1);if(t.x=e.x,t.y=e.y,this.options.editNode.length===2)this.options.editNode(t,r=>{r!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(r),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,t,r,n,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var o;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,A(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",A(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",A(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",A(r=this._dragControlNode).call(r,this)),this._temporaryBindUI("onRelease",A(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",A(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const o=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(o.from.id,o.to.id);return}if(this.guiEnabled===!0){var e;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,A(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var t,r,n,s;const o=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(o.from.x,o.from.y),u=this._getNewTargetNode(o.to.x,o.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(u.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[u.id]=u,this.body.nodeIndices.push(u.id),this._temporaryBindUI("onTouch",A(t=this._controlNodeTouch).call(t,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",A(r=this._controlNodeDragStart).call(r,this)),this._temporaryBindUI("onDrag",A(n=this._controlNodeDrag).call(n,this)),this._temporaryBindUI("onDragEnd",A(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",l=>{const d=o.edgeType.findBorderPositions(l);a.selected===!1&&(a.x=d.from.x,a.y=d.from.y),u.selected===!1&&(u.x=d.to.x,u.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),t=this.selectionHandler.getSelectedEdgeIds();let r;if(e.length>0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(r=this.options.deleteNode)}else t.length>0&&typeof this.options.deleteEdge=="function"&&(r=this.options.deleteEdge);if(typeof r=="function"){const n={nodes:e,edges:t};if(r.length===2)r(n,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(t),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,t;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(t=this.options.locales[this.options.locale])===null||t===void 0?void 0:t.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,t){const r=pe({},this.options.controlNodeStyle);r.id="targetNode"+ts(),r.hidden=!1,r.physics=!1,r.x=e,r.y=t;const n=this.body.functions.createNode(r);return n.shape.boundingBox={left:e,right:e,top:t,bottom:t},n}_createEditButton(){var e;this._clean(),this.manipulationDOM={},pr(this.editModeDiv);const t=this.options.locales[this.options.locale],r=this._createButton("editMode","vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(r),this._bindElementEvents(r,A(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(pr(this.editModeDiv),pr(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const t of Sr(e=this._domEventListenerCleanupQueue).call(e,0)){var e;t()}}_removeManipulationDOM(){this._clean(),pr(this.manipulationDiv),pr(this.editModeDiv),pr(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var t;const r=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,A(t=this.addNodeMode).call(t,this))}_createAddEdgeButton(e){var t;const r=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,A(t=this.addEdgeMode).call(t,this))}_createEditNodeButton(e){var t;const r=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,A(t=this.editNode).call(t,this))}_createEditEdgeButton(e){var t;const r=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,A(t=this.editEdgeMode).call(t,this))}_createDeleteButton(e){var t;let r;this.options.rtl?r="vis-delete-rtl":r="vis-delete";const n=this._createButton("delete",r,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,A(t=this.deleteSelected).call(t,this))}_createBackButton(e){var t;const r=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,A(t=this.showManipulatorToolbar).call(t,this))}_createButton(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=n,this.manipulationDOM[e+"Label"].innerText=r,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}_temporaryBindUI(e,t){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+zF(Ce(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const t=this.temporaryEventFunctions[e].event,r=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,r)}this.temporaryEventFunctions=[]}_bindElementEvents(e,t){const r=new Li(e,{});qo(r,t),this._domEventListenerCleanupQueue.push(()=>{r.destroy()});const n=s=>{let{keyCode:o,key:a}=s;(a==="Enter"||a===" "||o===13||o===32)&&t()};e.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",n,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const o=Se(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(o!==-1){var t;Sr(t=this.body.edgeIndices).call(t,o,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var r;delete this.body.nodes[this.temporaryIds.nodes[s]];const o=Se(r=this.body.nodeIndices).call(r,this.temporaryIds.nodes[s]);if(o!==-1){var n;Sr(n=this.body.nodeIndices).call(n,o,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ve({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),r=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const o=r.isOverlappingWith(t),a=n.isOverlappingWith(t);o===!0?(this.selectedControlNode=r,s.edgeType.from=r):a===!0&&(this.selectedControlNode=n,s.edgeType.to=n),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const t=this.body.functions.getPointer(e.center),r=this.canvas.DOMtoCanvas(t);this.selectedControlNode!==void 0?(this.selectedControlNode.x=r.x,this.selectedControlNode.y=r.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),n=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let a=s.length-1;a>=0;a--)if(s[a]!==this.selectedControlNode.id){o=this.body.nodes[s[a]];break}if(o!==void 0&&this.selectedControlNode!==void 0)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,n.to.id):this._performEditEdge(n.from.id,o.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ve({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const t=this.lastTouch,r=this.selectionHandler.getNodeAt(t);if(r!==void 0)if(r.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const n=this._getNewTargetNode(r.x,r.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);const s=this.body.functions.createEdge({id:"connectionEdge"+ts(),from:r.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let u=s.length-1;u>=0;u--){var a;if(Se(a=this.temporaryIds.nodes).call(a,s[u])===-1){o=this.body.nodes[s[u]];break}}if(e.controlEdge={from:n,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),this.temporaryIds.nodes[0]!==void 0){const u=this.body.nodes[this.temporaryIds.nodes[0]];u.x=this.canvas._XconvertDOMtoCanvas(t.x),u.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let u=s.length-1;u>=0;u--){var a;if(Se(a=this.temporaryIds.nodes).call(a,s[u])===-1){o=this.body.nodes[s[u]];break}}this._cleanupTemporaryNodesAndEdges(),o!==void 0&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[n]!==void 0&&this.body.nodes[o.id]!==void 0&&this._performAddEdge(n,o.id)),e.controlEdge={from:n,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const t=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,t,void 0,!0)}_performAddNode(e){const t={id:ts(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(t,r=>{r!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(t),this.showManipulatorToolbar()}_performAddEdge(e,t){const r={from:e,to:t};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(r,n=>{n!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,t){const r={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let n=this.options.editEdge;if(typeof n=="object"&&(n=n.editWithoutDrag),typeof n=="function")if(n.length===2)n(r,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[r.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const k="string",D="boolean",q="number",Vn="array",z="object",QF="dom",wY="any",Nm=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Fm={borderWidth:{number:q},borderWidthSelected:{number:q,undefined:"undefined"},brokenImage:{string:k,undefined:"undefined"},chosen:{label:{boolean:D,function:"function"},node:{boolean:D,function:"function"},__type__:{object:z,boolean:D}},color:{border:{string:k},background:{string:k},highlight:{border:{string:k},background:{string:k},__type__:{object:z,string:k}},hover:{border:{string:k},background:{string:k},__type__:{object:z,string:k}},__type__:{object:z,string:k}},opacity:{number:q,undefined:"undefined"},fixed:{x:{boolean:D},y:{boolean:D},__type__:{object:z,boolean:D}},font:{align:{string:k},color:{string:k},size:{number:q},face:{string:k},background:{string:k},strokeWidth:{number:q},strokeColor:{string:k},vadjust:{number:q},multi:{boolean:D,string:k},bold:{color:{string:k},size:{number:q},face:{string:k},mod:{string:k},vadjust:{number:q},__type__:{object:z,string:k}},boldital:{color:{string:k},size:{number:q},face:{string:k},mod:{string:k},vadjust:{number:q},__type__:{object:z,string:k}},ital:{color:{string:k},size:{number:q},face:{string:k},mod:{string:k},vadjust:{number:q},__type__:{object:z,string:k}},mono:{color:{string:k},size:{number:q},face:{string:k},mod:{string:k},vadjust:{number:q},__type__:{object:z,string:k}},__type__:{object:z,string:k}},group:{string:k,number:q,undefined:"undefined"},heightConstraint:{minimum:{number:q},valign:{string:k},__type__:{object:z,boolean:D,number:q}},hidden:{boolean:D},icon:{face:{string:k},code:{string:k},size:{number:q},color:{string:k},weight:{string:k,number:q},__type__:{object:z}},id:{string:k,number:q},image:{selected:{string:k,undefined:"undefined"},unselected:{string:k,undefined:"undefined"},__type__:{object:z,string:k}},imagePadding:{top:{number:q},right:{number:q},bottom:{number:q},left:{number:q},__type__:{object:z,number:q}},label:{string:k,undefined:"undefined"},labelHighlightBold:{boolean:D},level:{number:q,undefined:"undefined"},margin:{top:{number:q},right:{number:q},bottom:{number:q},left:{number:q},__type__:{object:z,number:q}},mass:{number:q},physics:{boolean:D},scaling:{min:{number:q},max:{number:q},label:{enabled:{boolean:D},min:{number:q},max:{number:q},maxVisible:{number:q},drawThreshold:{number:q},__type__:{object:z,boolean:D}},customScalingFunction:{function:"function"},__type__:{object:z}},shadow:{enabled:{boolean:D},color:{string:k},size:{number:q},x:{number:q},y:{number:q},__type__:{object:z,boolean:D}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:D,array:Vn},borderRadius:{number:q},interpolation:{boolean:D},useImageSize:{boolean:D},useBorderWithImage:{boolean:D},coordinateOrigin:{string:["center","top-left"]},__type__:{object:z}},size:{number:q},title:{string:k,dom:QF,undefined:"undefined"},value:{number:q,undefined:"undefined"},widthConstraint:{minimum:{number:q},maximum:{number:q},__type__:{object:z,boolean:D,number:q}},x:{number:q},y:{number:q},__type__:{object:z}},EY={configure:{enabled:{boolean:D},filter:{boolean:D,string:k,array:Vn,function:"function"},container:{dom:QF},showButton:{boolean:D},__type__:{object:z,boolean:D,string:k,array:Vn,function:"function"}},edges:{arrows:{to:{enabled:{boolean:D},scaleFactor:{number:q},type:{string:Nm},imageHeight:{number:q},imageWidth:{number:q},src:{string:k},__type__:{object:z,boolean:D}},middle:{enabled:{boolean:D},scaleFactor:{number:q},type:{string:Nm},imageWidth:{number:q},imageHeight:{number:q},src:{string:k},__type__:{object:z,boolean:D}},from:{enabled:{boolean:D},scaleFactor:{number:q},type:{string:Nm},imageWidth:{number:q},imageHeight:{number:q},src:{string:k},__type__:{object:z,boolean:D}},__type__:{string:["from","to","middle"],object:z}},endPointOffset:{from:{number:q},to:{number:q},__type__:{object:z,number:q}},arrowStrikethrough:{boolean:D},background:{enabled:{boolean:D},color:{string:k},size:{number:q},dashes:{boolean:D,array:Vn},__type__:{object:z,boolean:D}},chosen:{label:{boolean:D,function:"function"},edge:{boolean:D,function:"function"},__type__:{object:z,boolean:D}},color:{color:{string:k},highlight:{string:k},hover:{string:k},inherit:{string:["from","to","both"],boolean:D},opacity:{number:q},__type__:{object:z,string:k}},dashes:{boolean:D,array:Vn},font:{color:{string:k},size:{number:q},face:{string:k},background:{string:k},strokeWidth:{number:q},strokeColor:{string:k},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:q},multi:{boolean:D,string:k},bold:{color:{string:k},size:{number:q},face:{string:k},mod:{string:k},vadjust:{number:q},__type__:{object:z,string:k}},boldital:{color:{string:k},size:{number:q},face:{string:k},mod:{string:k},vadjust:{number:q},__type__:{object:z,string:k}},ital:{color:{string:k},size:{number:q},face:{string:k},mod:{string:k},vadjust:{number:q},__type__:{object:z,string:k}},mono:{color:{string:k},size:{number:q},face:{string:k},mod:{string:k},vadjust:{number:q},__type__:{object:z,string:k}},__type__:{object:z,string:k}},hidden:{boolean:D},hoverWidth:{function:"function",number:q},label:{string:k,undefined:"undefined"},labelHighlightBold:{boolean:D},length:{number:q,undefined:"undefined"},physics:{boolean:D},scaling:{min:{number:q},max:{number:q},label:{enabled:{boolean:D},min:{number:q},max:{number:q},maxVisible:{number:q},drawThreshold:{number:q},__type__:{object:z,boolean:D}},customScalingFunction:{function:"function"},__type__:{object:z}},selectionWidth:{function:"function",number:q},selfReferenceSize:{number:q},selfReference:{size:{number:q},angle:{number:q},renderBehindTheNode:{boolean:D},__type__:{object:z}},shadow:{enabled:{boolean:D},color:{string:k},size:{number:q},x:{number:q},y:{number:q},__type__:{object:z,boolean:D}},smooth:{enabled:{boolean:D},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:q},forceDirection:{string:["horizontal","vertical","none"],boolean:D},__type__:{object:z,boolean:D}},title:{string:k,undefined:"undefined"},width:{number:q},widthConstraint:{maximum:{number:q},__type__:{object:z,boolean:D,number:q}},value:{number:q,undefined:"undefined"},__type__:{object:z}},groups:{useDefaultGroups:{boolean:D},__any__:Fm,__type__:{object:z}},interaction:{dragNodes:{boolean:D},dragView:{boolean:D},hideEdgesOnDrag:{boolean:D},hideEdgesOnZoom:{boolean:D},hideNodesOnDrag:{boolean:D},hover:{boolean:D},keyboard:{enabled:{boolean:D},speed:{x:{number:q},y:{number:q},zoom:{number:q},__type__:{object:z}},bindToWindow:{boolean:D},autoFocus:{boolean:D},__type__:{object:z,boolean:D}},multiselect:{boolean:D},navigationButtons:{boolean:D},selectable:{boolean:D},selectConnectedEdges:{boolean:D},hoverConnectedEdges:{boolean:D},tooltipDelay:{number:q},zoomView:{boolean:D},zoomSpeed:{number:q},__type__:{object:z}},layout:{randomSeed:{undefined:"undefined",number:q,string:k},improvedLayout:{boolean:D},clusterThreshold:{number:q},hierarchical:{enabled:{boolean:D},levelSeparation:{number:q},nodeSpacing:{number:q},treeSpacing:{number:q},blockShifting:{boolean:D},edgeMinimization:{boolean:D},parentCentralization:{boolean:D},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:z,boolean:D}},__type__:{object:z}},manipulation:{enabled:{boolean:D},initiallyActive:{boolean:D},addNode:{boolean:D,function:"function"},addEdge:{boolean:D,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:z,boolean:D,function:"function"}},deleteNode:{boolean:D,function:"function"},deleteEdge:{boolean:D,function:"function"},controlNodeStyle:Fm,__type__:{object:z,boolean:D}},nodes:Fm,physics:{enabled:{boolean:D},barnesHut:{theta:{number:q},gravitationalConstant:{number:q},centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:z}},forceAtlas2Based:{theta:{number:q},gravitationalConstant:{number:q},centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:z}},repulsion:{centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},nodeDistance:{number:q},damping:{number:q},__type__:{object:z}},hierarchicalRepulsion:{centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},nodeDistance:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:z}},maxVelocity:{number:q},minVelocity:{number:q},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:D},iterations:{number:q},updateInterval:{number:q},onlyDynamicEdges:{boolean:D},fit:{boolean:D},__type__:{object:z,boolean:D}},timestep:{number:q},adaptiveTimestep:{boolean:D},wind:{x:{number:q},y:{number:q},__type__:{object:z}},__type__:{object:z,boolean:D}},autoResize:{boolean:D},clickToUse:{boolean:D},locale:{string:k},locales:{__any__:{any:wY},__type__:{object:z}},height:{string:k},width:{string:k},__type__:{object:z}},eB={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},SY=(i,e,t)=>{var r;return!!(Qn(i).call(i,"physics")&&Qn(r=eB.physics.solver).call(r,e)&&t.physics.solver!==e&&e!=="wind")};class OY{constructor(){}getDistances(e,t,r){const n={},s=e.edges;for(let a=0;a<t.length;a++){const u=t[a],l={};n[u]=l;for(let d=0;d<t.length;d++)l[t[d]]=a==d?0:1e9}for(let a=0;a<r.length;a++){const u=s[r[a]];u.connected===!0&&n[u.fromId]!==void 0&&n[u.toId]!==void 0&&(n[u.fromId][u.toId]=1,n[u.toId][u.fromId]=1)}const o=t.length;for(let a=0;a<o;a++){const u=t[a],l=n[u];for(let d=0;d<o-1;d++){const c=t[d],h=n[c];for(let f=d+1;f<o;f++){const v=t[f],p=n[v],m=Math.min(h[v],h[u]+l[v]);h[v]=m,p[c]=m}}}return n}}class IY{constructor(e,t,r){this.body=e,this.springLength=t,this.springConstant=r,this.distanceSolver=new OY}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const n=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();const s=.01,o=1;let a=0;const u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),l=5;let d=1e9,c=0,h=0,f=0,v=0,p=0;for(;d>s&&a<u;)for(a+=1,[c,d,h,f]=this._getHighestEnergyNode(r),v=d,p=0;v>o&&p<l;)p+=1,this._moveNode(c,h,f),[v,h,f]=this._getEnergy(c)}_getHighestEnergyNode(e){const t=this.body.nodeIndices,r=this.body.nodes;let n=0,s=t[0],o=0,a=0;for(let u=0;u<t.length;u++){const l=t[u];if(r[l].predefinedPosition!==!0||r[l].isCluster===!0&&e===!0||r[l].options.fixed.x!==!0||r[l].options.fixed.y!==!0){const[d,c,h]=this._getEnergy(l);n<d&&(n=d,s=l,o=c,a=h)}}return[s,n,o,a]}_getEnergy(e){const[t,r]=this.E_sums[e];return[Math.sqrt(t**2+r**2),t,r]}_moveNode(e,t,r){const n=this.body.nodeIndices,s=this.body.nodes;let o=0,a=0,u=0;const l=s[e].x,d=s[e].y,c=this.K_matrix[e],h=this.L_matrix[e];for(let b=0;b<n.length;b++){const S=n[b];if(S!==e){const $=s[S].x,w=s[S].y,_=c[S],E=h[S],I=1/((l-$)**2+(d-w)**2)**1.5;o+=_*(1-E*(d-w)**2*I),a+=_*(E*(l-$)*(d-w)*I),u+=_*(1-E*(l-$)**2*I)}}const f=o,v=a,p=t,m=u,g=r,y=(p/f+g/v)/(v/f-m/v),O=-(v*y+p)/f;s[e].x+=O,s[e].y+=y,this._updateE_matrix(e)}_createL_matrix(e){const t=this.body.nodeIndices,r=this.springLength;this.L_matrix=[];for(let n=0;n<t.length;n++){this.L_matrix[t[n]]={};for(let s=0;s<t.length;s++)this.L_matrix[t[n]][t[s]]=r*e[t[n]][t[s]]}}_createK_matrix(e){const t=this.body.nodeIndices,r=this.springConstant;this.K_matrix=[];for(let n=0;n<t.length;n++){this.K_matrix[t[n]]={};for(let s=0;s<t.length;s++)this.K_matrix[t[n]][t[s]]=r*e[t[n]][t[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(let r=0;r<e.length;r++)this.E_matrix[e[r]]=[];for(let r=0;r<e.length;r++){const n=e[r],s=t[n].x,o=t[n].y;let a=0,u=0;for(let l=r;l<e.length;l++){const d=e[l];if(d!==n){const c=t[d].x,h=t[d].y,f=1/Math.sqrt((s-c)**2+(o-h)**2);this.E_matrix[n][l]=[this.K_matrix[n][d]*(s-c-this.L_matrix[n][d]*(s-c)*f),this.K_matrix[n][d]*(o-h-this.L_matrix[n][d]*(o-h)*f)],this.E_matrix[d][r]=this.E_matrix[n][l],a+=this.E_matrix[n][l][0],u+=this.E_matrix[n][l][1]}}this.E_sums[n]=[a,u]}}_updateE_matrix(e){const t=this.body.nodeIndices,r=this.body.nodes,n=this.E_matrix[e],s=this.K_matrix[e],o=this.L_matrix[e],a=r[e].x,u=r[e].y;let l=0,d=0;for(let c=0;c<t.length;c++){const h=t[c];if(h!==e){const f=n[c],v=f[0],p=f[1],m=r[h].x,g=r[h].y,y=1/Math.sqrt((a-m)**2+(u-g)**2),O=s[h]*(a-m-o[h]*(a-m)*y),b=s[h]*(u-g-o[h]*(u-g)*y);n[c]=[O,b],l+=O,d+=b;const S=this.E_sums[h];S[0]+=O-v,S[1]+=b-p}}this.E_sums[e]=[l,d]}}function L(i,e,t){var r,n,s,o;if(!(this instanceof L))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:aH,clickToUse:!1},Ve(this.options,this.defaultOptions),this.body={container:i,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:A(r=this.on).call(r,this),off:A(n=this.off).call(n,this),emit:A(s=this.emit).call(s,this),once:A(o=this.once).call(o,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new gH(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new jH,this.canvas=new eK(this.body),this.selectionHandler=new AK(this.body,this.canvas),this.interactionHandler=new nK(this.body,this.canvas,this.selectionHandler),this.view=new rK(this.body,this.canvas),this.renderer=new YV(this.body,this.canvas),this.physics=new kV(this.body),this.layoutEngine=new bY(this.body),this.clustering=new KV(this.body),this.manipulation=new _Y(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new ZU(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new IV(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new IY(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}CN(L.prototype);L.prototype.setOptions=function(i){if(i===null&&(i=void 0),i!==void 0){if(zW.validate(i,EY)===!0&&console.error("%cErrors have been found in the supplied options object.",oF),Tn(["locale","locales","clickToUse"],this.options,i),i.locale!==void 0&&(i.locale=vH(i.locales||this.options.locales,i.locale)),i=this.layoutEngine.setOptions(i.layout,i),this.canvas.setOptions(i),this.groups.setOptions(i.groups),this.nodesHandler.setOptions(i.nodes),this.edgesHandler.setOptions(i.edges),this.physics.setOptions(i.physics),this.manipulation.setOptions(i.manipulation,i,this.options),this.interactionHandler.setOptions(i.interaction),this.renderer.setOptions(i.interaction),this.selectionHandler.setOptions(i.interaction),i.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in i&&(this.configurator||(this.configurator=new jW(this,this.body.container,eB,this.canvas.pixelRatio,SY)),this.configurator.setOptions(i.configure)),this.configurator&&this.configurator.options.enabled===!0){const r={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};pe(r.nodes,this.nodesHandler.options),pe(r.edges,this.edgesHandler.options),pe(r.layout,this.layoutEngine.options),pe(r.interaction,this.selectionHandler.options),pe(r.interaction,this.renderer.options),pe(r.interaction,this.interactionHandler.options),pe(r.manipulation,this.manipulation.options),pe(r.physics,this.physics.options),pe(r.global,this.canvas.options),pe(r.global,this.options),this.configurator.setModuleOptions(r)}i.clickToUse!==void 0?i.clickToUse===!0?this.activator===void 0&&(this.activator=new BW(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};L.prototype._updateVisibleIndices=function(){const i=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&!this.clustering._isClusteredNode(t)&&i[t].options.hidden===!1&&this.body.nodeIndices.push(i[t].id);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t],n=i[r.fromId],s=i[r.toId],o=n!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(t)&&r.options.hidden===!1&&o&&n.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(r.id)}};L.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};L.prototype.setData=function(i){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),i&&i.dot&&(i.nodes||i.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(i&&i.options),i&&i.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=z9(i.dot);this.setData(e);return}else if(i&&i.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=Y9(i.gephi);this.setData(e);return}else this.nodesHandler.setData(i&&i.nodes,!0),this.edgesHandler.setData(i&&i.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};L.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const i in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,i)&&delete this.body.nodes[i];for(const i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&delete this.body.edges[i];pr(this.body.container)};L.prototype._updateValueRange=function(i){let e,t,r,n=0;for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){const s=i[e].getValue();s!==void 0&&(t=t===void 0?s:Math.min(s,t),r=r===void 0?s:Math.max(s,r),n+=s)}if(t!==void 0&&r!==void 0)for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&i[e].setValueRange(t,r,n)};L.prototype.isActive=function(){return!this.activator||this.activator.active};L.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};L.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};L.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};L.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};L.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};L.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};L.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};L.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};L.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};L.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};L.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};L.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};L.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};L.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};L.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};L.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};L.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};L.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};L.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};L.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};L.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};L.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};L.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};L.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};L.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};L.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};L.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};L.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};L.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};L.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};L.prototype.getConnectedNodes=function(i){return this.body.nodes[i]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};L.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};L.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};L.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};L.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};L.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};L.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};L.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};L.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};L.prototype.getNodeAt=function(){const i=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i};L.prototype.getEdgeAt=function(){const i=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i};L.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};L.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};L.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};L.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};L.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};L.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};L.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};L.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};L.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};L.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};L.prototype.getOptionsFromConfigurator=function(){let i={};return this.configurator&&(i=this.configurator.getOptions.apply(this.configurator)),i};export{So as D,L as N,ne as c,TY as u};
