import{d as H,z as K,f as A,o as b,aw as W,b as q,w as F,g as f,ad as _,ah as y,e as I,v as Z,x as J,X as x}from"./modules/vue-D7qVVHN8.js";import{u as $,f as Q}from"./slidev/context-C0usrB2M.js";import{_ as tt}from"./slidev/VClicks-DtYu-pN1.js";import{I as et}from"./slidev/default-DL7a3kIL.js";import"./index-CKuAn_xA.js";import"./monaco/bundled-types-BsYbCBMl.js";import"./modules/file-saver-DnRyLYBS.js";import"./modules/shiki-BvV9XJHR.js";var w=(s=>(s[s.Border=-1]="Border",s[s.Data=0]="Data",s[s.Function=1]="Function",s[s.Position=2]="Position",s[s.Timing=3]="Timing",s[s.Alignment=4]="Alignment",s))(w||{}),nt=Object.defineProperty,st=(s,t,e)=>t in s?nt(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e,E=(s,t,e)=>(st(s,typeof t!="symbol"?t+"":t,e),e);const ot=[0,1],O=[1,0],L=[2,3],T=[3,2],it={L:ot,M:O,Q:L,H:T},rt=/^[0-9]*$/,lt=/^[A-Z0-9 $%*+.\/:-]*$/,v="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",B=1,N=40,S=3,at=3,P=40,ct=10,U=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],D=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];class ht{constructor(t,e,n,o){if(this.version=t,this.ecc=e,E(this,"size"),E(this,"mask"),E(this,"modules",[]),E(this,"types",[]),t<B||t>N)throw new RangeError("Version value out of range");if(o<-1||o>7)throw new RangeError("Mask value out of range");this.size=t*4+17;const i=Array.from({length:this.size},()=>!1);for(let l=0;l<this.size;l++)this.modules.push(i.slice()),this.types.push(i.map(()=>0));this.drawFunctionPatterns();const r=this.addEccAndInterleave(n);if(this.drawCodewords(r),o===-1){let l=1e9;for(let a=0;a<8;a++){this.applyMask(a),this.drawFormatBits(a);const c=this.getPenaltyScore();c<l&&(o=a,l=c),this.applyMask(a)}}this.mask=o,this.applyMask(o),this.drawFormatBits(o)}getModule(t,e){return t>=0&&t<this.size&&e>=0&&e<this.size&&this.modules[e][t]}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2===0,w.Timing),this.setFunctionModule(n,6,n%2===0,w.Timing);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const t=this.getAlignmentPatternPositions(),e=t.length;for(let n=0;n<e;n++)for(let o=0;o<e;o++)n===0&&o===0||n===0&&o===e-1||n===e-1&&o===0||this.drawAlignmentPattern(t[n],t[o]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(t){const e=this.ecc[1]<<3|t;let n=e;for(let i=0;i<10;i++)n=n<<1^(n>>>9)*1335;const o=(e<<10|n)^21522;for(let i=0;i<=5;i++)this.setFunctionModule(8,i,m(o,i));this.setFunctionModule(8,7,m(o,6)),this.setFunctionModule(8,8,m(o,7)),this.setFunctionModule(7,8,m(o,8));for(let i=9;i<15;i++)this.setFunctionModule(14-i,8,m(o,i));for(let i=0;i<8;i++)this.setFunctionModule(this.size-1-i,8,m(o,i));for(let i=8;i<15;i++)this.setFunctionModule(8,this.size-15+i,m(o,i));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let t=this.version;for(let n=0;n<12;n++)t=t<<1^(t>>>11)*7973;const e=this.version<<12|t;for(let n=0;n<18;n++){const o=m(e,n),i=this.size-11+n%3,r=Math.floor(n/3);this.setFunctionModule(i,r,o),this.setFunctionModule(r,i,o)}}drawFinderPattern(t,e){for(let n=-4;n<=4;n++)for(let o=-4;o<=4;o++){const i=Math.max(Math.abs(o),Math.abs(n)),r=t+o,l=e+n;r>=0&&r<this.size&&l>=0&&l<this.size&&this.setFunctionModule(r,l,i!==2&&i!==4,w.Position)}}drawAlignmentPattern(t,e){for(let n=-2;n<=2;n++)for(let o=-2;o<=2;o++)this.setFunctionModule(t+o,e+n,Math.max(Math.abs(o),Math.abs(n))!==1,w.Alignment)}setFunctionModule(t,e,n,o=w.Function){this.modules[e][t]=n,this.types[e][t]=o}addEccAndInterleave(t){const e=this.version,n=this.ecc;if(t.length!==z(e,n))throw new RangeError("Invalid argument");const o=D[n[0]][e],i=U[n[0]][e],r=Math.floor(C(e)/8),l=o-r%o,a=Math.floor(r/o),c=[],d=bt(i);for(let u=0,p=0;u<o;u++){const M=t.slice(p,p+a-i+(u<l?0:1));p+=M.length;const j=_t(M,d);u<l&&M.push(0),c.push(M.concat(j))}const h=[];for(let u=0;u<c[0].length;u++)c.forEach((p,M)=>{(u!==a-i||M>=l)&&h.push(p[u])});return h}drawCodewords(t){if(t.length!==Math.floor(C(this.version)/8))throw new RangeError("Invalid argument");let e=0;for(let n=this.size-1;n>=1;n-=2){n===6&&(n=5);for(let o=0;o<this.size;o++)for(let i=0;i<2;i++){const r=n-i,a=(n+1&2)===0?this.size-1-o:o;!this.types[a][r]&&e<t.length*8&&(this.modules[a][r]=m(t[e>>>3],7-(e&7)),e++)}}}applyMask(t){if(t<0||t>7)throw new RangeError("Mask value out of range");for(let e=0;e<this.size;e++)for(let n=0;n<this.size;n++){let o;switch(t){case 0:o=(n+e)%2===0;break;case 1:o=e%2===0;break;case 2:o=n%3===0;break;case 3:o=(n+e)%3===0;break;case 4:o=(Math.floor(n/3)+Math.floor(e/2))%2===0;break;case 5:o=n*e%2+n*e%3===0;break;case 6:o=(n*e%2+n*e%3)%2===0;break;case 7:o=((n+e)%2+n*e%3)%2===0;break;default:throw new Error("Unreachable")}!this.types[e][n]&&o&&(this.modules[e][n]=!this.modules[e][n])}}getPenaltyScore(){let t=0;for(let i=0;i<this.size;i++){let r=!1,l=0;const a=[0,0,0,0,0,0,0];for(let c=0;c<this.size;c++)this.modules[i][c]===r?(l++,l===5?t+=S:l>5&&t++):(this.finderPenaltyAddHistory(l,a),r||(t+=this.finderPenaltyCountPatterns(a)*P),r=this.modules[i][c],l=1);t+=this.finderPenaltyTerminateAndCount(r,l,a)*P}for(let i=0;i<this.size;i++){let r=!1,l=0;const a=[0,0,0,0,0,0,0];for(let c=0;c<this.size;c++)this.modules[c][i]===r?(l++,l===5?t+=S:l>5&&t++):(this.finderPenaltyAddHistory(l,a),r||(t+=this.finderPenaltyCountPatterns(a)*P),r=this.modules[c][i],l=1);t+=this.finderPenaltyTerminateAndCount(r,l,a)*P}for(let i=0;i<this.size-1;i++)for(let r=0;r<this.size-1;r++){const l=this.modules[i][r];l===this.modules[i][r+1]&&l===this.modules[i+1][r]&&l===this.modules[i+1][r+1]&&(t+=at)}let e=0;for(const i of this.modules)e=i.reduce((r,l)=>r+(l?1:0),e);const n=this.size*this.size,o=Math.ceil(Math.abs(e*20-n*10)/n)-1;return t+=o*ct,t}getAlignmentPatternPositions(){if(this.version===1)return[];{const t=Math.floor(this.version/7)+2,e=this.version===32?26:Math.ceil((this.version*4+4)/(t*2-2))*2,n=[6];for(let o=this.size-7;n.length<t;o-=e)n.splice(1,0,o);return n}}finderPenaltyCountPatterns(t){const e=t[1],n=e>0&&t[2]===e&&t[3]===e*3&&t[4]===e&&t[5]===e;return(n&&t[0]>=e*4&&t[6]>=e?1:0)+(n&&t[6]>=e*4&&t[0]>=e?1:0)}finderPenaltyTerminateAndCount(t,e,n){return t&&(this.finderPenaltyAddHistory(e,n),e=0),e+=this.size,this.finderPenaltyAddHistory(e,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(t,e){e[0]===0&&(t+=this.size),e.pop(),e.unshift(t)}}function g(s,t,e){if(t<0||t>31||s>>>t)throw new RangeError("Value out of range");for(let n=t-1;n>=0;n--)e.push(s>>>n&1)}function m(s,t){return(s>>>t&1)!==0}class k{constructor(t,e,n){if(this.mode=t,this.numChars=e,this.bitData=n,e<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}getData(){return this.bitData.slice()}}const ut=[1,10,12,14],ft=[2,9,11,13],dt=[4,8,16,16];function V(s,t){return s[Math.floor((t+7)/17)+1]}function Y(s){const t=[];for(const e of s)g(e,8,t);return new k(dt,s.length,t)}function mt(s){if(!G(s))throw new RangeError("String contains non-numeric characters");const t=[];for(let e=0;e<s.length;){const n=Math.min(s.length-e,3);g(Number.parseInt(s.substring(e,e+n),10),n*3+1,t),e+=n}return new k(ut,s.length,t)}function gt(s){if(!X(s))throw new RangeError("String contains unencodable characters in alphanumeric mode");const t=[];let e;for(e=0;e+2<=s.length;e+=2){let n=v.indexOf(s.charAt(e))*45;n+=v.indexOf(s.charAt(e+1)),g(n,11,t)}return e<s.length&&g(v.indexOf(s.charAt(e)),6,t),new k(ft,s.length,t)}function pt(s){return s===""?[]:G(s)?[mt(s)]:X(s)?[gt(s)]:[Y(Mt(s))]}function G(s){return rt.test(s)}function X(s){return lt.test(s)}function wt(s,t){let e=0;for(const n of s){const o=V(n.mode,t);if(n.numChars>=1<<o)return Number.POSITIVE_INFINITY;e+=4+o+n.bitData.length}return e}function Mt(s){s=encodeURI(s);const t=[];for(let e=0;e<s.length;e++)s.charAt(e)!=="%"?t.push(s.charCodeAt(e)):(t.push(Number.parseInt(s.substring(e+1,e+3),16)),e+=2);return t}function C(s){if(s<B||s>N)throw new RangeError("Version number out of range");let t=(16*s+128)*s+64;if(s>=2){const e=Math.floor(s/7)+2;t-=(25*e-10)*e-55,s>=7&&(t-=36)}return t}function z(s,t){return Math.floor(C(s)/8)-U[t[0]][s]*D[t[0]][s]}function bt(s){if(s<1||s>255)throw new RangeError("Degree out of range");const t=[];for(let n=0;n<s-1;n++)t.push(0);t.push(1);let e=1;for(let n=0;n<s;n++){for(let o=0;o<t.length;o++)t[o]=R(t[o],e),o+1<t.length&&(t[o]^=t[o+1]);e=R(e,2)}return t}function _t(s,t){const e=t.map(n=>0);for(const n of s){const o=n^e.shift();e.push(0),t.forEach((i,r)=>e[r]^=R(i,o))}return e}function R(s,t){if(s>>>8||t>>>8)throw new RangeError("Byte out of range");let e=0;for(let n=7;n>=0;n--)e=e<<1^(e>>>7)*285,e^=(t>>>n&1)*s;return e}function Et(s,t,e=1,n=40,o=-1,i=!0){if(!(B<=e&&e<=n&&n<=N)||o<-1||o>7)throw new RangeError("Invalid value");let r,l;for(r=e;;r++){const h=z(r,t)*8,u=wt(s,r);if(u<=h){l=u;break}if(r>=n)throw new RangeError("Data too long")}for(const h of[O,L,T])i&&l<=z(r,h)*8&&(t=h);const a=[];for(const h of s){g(h.mode[0],4,a),g(h.numChars,V(h.mode,r),a);for(const u of h.getData())a.push(u)}const c=z(r,t)*8;g(0,Math.min(4,c-a.length),a),g(0,(8-a.length%8)%8,a);for(let h=236;a.length<c;h^=253)g(h,8,a);const d=Array.from({length:Math.ceil(a.length/8)},()=>0);return a.forEach((h,u)=>d[u>>>3]|=h<<7-(u&7)),new ht(r,t,d,o)}function Pt(s,t){const{ecc:e="L",boostEcc:n=!1,minVersion:o=1,maxVersion:i=40,maskPattern:r=-1,border:l=1}=t||{},a=typeof s=="string"?pt(s):Array.isArray(s)?[Y(s)]:void 0;if(!a)throw new Error(`uqr only supports encoding string and binary data, but got: ${typeof s}`);const c=Et(a,it[e],o,i,r,n),d=At({version:c.version,maskPattern:c.mask,size:c.size,data:c.modules,types:c.types},l);return t?.invert&&(d.data=d.data.map(h=>h.map(u=>!u))),t?.onEncoded?.(d),d}function At(s,t=1){if(!t)return s;const{size:e}=s,n=e+t*2;s.size=n,s.data.forEach(i=>{for(let r=0;r<t;r++)i.unshift(!1),i.push(!1)});for(let i=0;i<t;i++)s.data.unshift(Array.from({length:n},r=>!1)),s.data.push(Array.from({length:n},r=>!1));const o=w.Border;s.types.forEach(i=>{for(let r=0;r<t;r++)i.unshift(o),i.push(o)});for(let i=0;i<t;i++)s.types.unshift(Array.from({length:n},r=>o)),s.types.push(Array.from({length:n},r=>o));return s}function zt(s,t={}){const e=Pt(s,t),{pixelSize:n=10,whiteColor:o="white",blackColor:i="black"}=t,r=e.size*n,l=e.size*n;let a=`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 ${l} ${r}">`;const c=[];for(let d=0;d<e.size;d++)for(let h=0;h<e.size;h++){const u=h*n,p=d*n;e.data[d][h]&&c.push(`M${u},${p}h${n}v${n}h-${n}z`)}return a+=`<rect fill="${o}" width="${l}" height="${r}"/>`,a+=`<path fill="${i}" d="${c.join("")}"/>`,a+="</svg>",a}const yt=["innerHTML"],vt=H({__name:"QRCode",props:{text:{},white:{},black:{}},setup(s){$();const t=s,e=K(()=>zt(t.text,{whiteColor:t.white,blackColor:t.black}));return(n,o)=>(b(),A("div",{innerHTML:e.value},null,8,yt))}}),Ct={"text-4xl":""},Rt={grid:"~ cols-2 gap4 items-center justify-center",px25:"","h-95":""},Bt={"text-sm":"",flex:"~ col items-center"},Lt={__name:"slides.md__slidev_24",setup(s){const{$clicksContext:t,$frontmatter:e}=$();return t.setup(),(n,o)=>{const i=tt,r=vt,l=W("click");return b(),q(et,Z(J(x(Q)(x(e),23))),{default:F(()=>[f("h1",null,[o[1]||(o[1]=_("附录：🦀 Rust Linter ",-1)),y((b(),A("span",Ct,o[0]||(o[0]=[_(" - ",-1),f("span",{"font-800":"","text-blue3":""},[f("span",{"hue-rotate-180":""},"🦀"),_(" 为时尚早")],-1)]))),[[l]])]),f("div",Rt,[f("div",null,[y((b(),A("div",null,o[2]||(o[2]=[_("Rust 工具链仍面临的问题",-1)]))),[[l]]),I(i,null,{default:F(()=>o[3]||(o[3]=[f("ul",null,[f("li",null,[f("p",null,"插件系统")]),f("li",null,[f("p",null,"多语言支持")]),f("li",null,[f("p",null,"自定义规则")]),f("li",null,[f("p",null,"灵活性 >>> 运行速度")]),f("li",null,[f("p",null,"基于类型的规则")])],-1)])),_:1,__:[3]})]),y((b(),A("div",Bt,[o[4]||(o[4]=f("p",null,[f("a",{"text-2xl":"",href:"https://chatgpt.com/share/674e8ffc-822c-800b-bb35-bca788ce6241",target:"_blank"},"ChatGPT 的总结")],-1)),I(r,{"w-40":"","mix-blend-lighten":"",text:"https://chatgpt.com/share/674e8ffc-822c-800b-bb35-bca788ce6241"})])),[[l]])])]),_:1},16)}}};export{Lt as default};
