import{_ as k}from"./TipBox-4ozA1Ytr.js";import{_}from"./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-Dou-7Fiv.js";import{_ as f}from"./slidev/VClick-Bcn65lX6.js";import{aJ as h,b as o,o as a,w as i,g as s,e as l,ah as g,ad as e,m as D,v,x as E,T as r}from"./modules/vue-B-fmssg7.js";import{I as A}from"./slidev/default-C0KMRbrY.js";import{u as B,f as C}from"./slidev/context-CYeO_eVZ.js";import"./modules/unplugin-icons-CUVip_bv.js";import"./index-BcOfTSxE.js";import"./modules/shiki-CN6D5Xmh.js";import"./slidev/VClicks-BOr5XBTy.js";const I={__name:"slides.md__slidev_28",setup(x){const{$clicksContext:p,$frontmatter:d}=B();return p.setup(),(y,n)=>{const t=f,c=_,u=k,m=h("click");return a(),o(A,v(E(r(C)(r(d),27))),{default:i(()=>[n[4]||(n[4]=s("h2",null,[s("code",null,"onScopeDispose")],-1)),l(t,null,{default:i(()=>n[0]||(n[0]=[s("p",null,[e("让 Composables 更好地与 "),s("code",null,"effectScope"),e(" 一起工作，可以将 "),s("code",null,"onUnmounted"),e(" 替换为 "),s("code",null,"onScopeDispose"),e("：")],-1)])),_:1,__:[0]}),l(t,null,{default:i(()=>[l(c,D({},{title:"",ranges:[]}),{default:i(()=>n[1]||(n[1]=[s("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[s("code",{class:"language-diff"},[s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"export function useEventListener(name, handler) {")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"  window.addEventListener(name, handler)")]),e(`
`),s("span",{class:"line"}),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#FDAEB7","--shiki-light":"#B31D28"}},"- onUnmounted(() => {")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#85E89D","--shiki-light":"#22863A"}},"+ onScopeDispose(() => {")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"    window.removeEventListener(name, handler)")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"  })")]),e(`
`),s("span",{class:"line"},[s("span",{style:{"--shiki-dark":"#DBD7CAEE","--shiki-light":"#393A34"}},"}")])])],-1)])),_:1,__:[1]},16),n[2]||(n[2]=s("p",null,"这样可以在作用域被销毁时调用清理函数。",-1))]),_:1,__:[2]}),g((a(),o(u,null,{default:i(()=>n[3]||(n[3]=[s("ul",null,[s("li",null,[e("一个组件可以被理解为一个特殊的 "),s("strong",null,"作用域")]),s("li",null,[s("code",null,"onUnmounted"),e(" 可以被理解为一个特殊 "),s("code",null,"onScopeDispose")])],-1)])),_:1,__:[3]})),[[m]])]),_:1,__:[4]},16)}}};export{I as default};
