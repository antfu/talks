import{_ as v5}from"./slidev/CodeBlockWrapper.vue_vue_type_script_setup_true_lang-CPhc3pgf.js";import{T as p5,d as LA,r as $1,z as Gr,aa as g5,P as y5,f as zA,o as bo,n as m5,G as T1,b as WA,ax as b5,w as P1,g as x,e as R1,ai as _5,m as w5,af as Te,v as E5,x as S5,X as C1}from"./modules/vue-CYQbXD9o.js";import{j as O5,h as I5,i as $5}from"./monaco/bundled-types-DDZHlegv.js";import{x as db,a8 as T5,a6 as P5}from"./index-zdr6VJco.js";import{I as R5}from"./slidev/default-D3UW9fJj.js";import"./modules/unplugin-icons-BBqzyWAJ.js";import"./modules/file-saver-DnRyLYBS.js";import"./modules/shiki-e49g69mC.js";function C5(){return{isColorSchemaConfigured:$5,isDark:I5,toggleDark:O5}}const{min:q5,max:x5}=Math,Qr=(i,e=0,t=1)=>q5(x5(e,i),t),cb=i=>{i._clipped=!1,i._unclipped=i.slice(0);for(let e=0;e<=3;e++)e<3?((i[e]<0||i[e]>255)&&(i._clipped=!0),i[e]=Qr(i[e],0,255)):e===3&&(i[e]=Qr(i[e],0,1));return i},HA={};for(let i of["Boolean","Number","String","Function","Array","Date","RegExp","Undefined","Null"])HA[`[object ${i}]`]=i.toLowerCase();function se(i){return HA[Object.prototype.toString.call(i)]||"object"}const J=(i,e=null)=>i.length>=3?Array.prototype.slice.call(i):se(i[0])=="object"&&e?e.split("").filter(t=>i[0][t]!==void 0).map(t=>i[0][t]):i[0].slice(0),an=i=>{if(i.length<2)return null;const e=i.length-1;return se(i[e])=="string"?i[e].toLowerCase():null},{PI:Ao,min:GA,max:VA}=Math,bt=i=>Math.round(i*100)/100,Wm=i=>Math.round(i*100)/100,Jt=Ao*2,Sa=Ao/3,k5=Ao/180,D5=180/Ao;function UA(i){return[...i.slice(0,3).reverse(),...i.slice(3)]}const Z={format:{},autodetect:[]};class k{constructor(...e){const t=this;if(se(e[0])==="object"&&e[0].constructor&&e[0].constructor===this.constructor)return e[0];let r=an(e),n=!1;if(!r){n=!0,Z.sorted||(Z.autodetect=Z.autodetect.sort((s,o)=>o.p-s.p),Z.sorted=!0);for(let s of Z.autodetect)if(r=s.test(...e),r)break}if(Z.format[r]){const s=Z.format[r].apply(null,n?e:e.slice(0,-1));t._rgb=cb(s)}else throw new Error("unknown format: "+e);t._rgb.length===3&&t._rgb.push(1)}toString(){return se(this.hex)=="function"?this.hex():`[${this._rgb.join(",")}]`}}const A5="3.1.2",ee=(...i)=>new k(...i);ee.version=A5;const Yi={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},M5=/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/,F5=/^#?([A-Fa-f0-9]{8}|[A-Fa-f0-9]{4})$/,KA=i=>{if(i.match(M5)){(i.length===4||i.length===7)&&(i=i.substr(1)),i.length===3&&(i=i.split(""),i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]);const e=parseInt(i,16),t=e>>16,r=e>>8&255,n=e&255;return[t,r,n,1]}if(i.match(F5)){(i.length===5||i.length===9)&&(i=i.substr(1)),i.length===4&&(i=i.split(""),i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]+i[3]+i[3]);const e=parseInt(i,16),t=e>>24&255,r=e>>16&255,n=e>>8&255,s=Math.round((e&255)/255*100)/100;return[t,r,n,s]}throw new Error(`unknown hex color: ${i}`)},{round:ro}=Math,YA=(...i)=>{let[e,t,r,n]=J(i,"rgba"),s=an(i)||"auto";n===void 0&&(n=1),s==="auto"&&(s=n<1?"rgba":"rgb"),e=ro(e),t=ro(t),r=ro(r);let a="000000"+(e<<16|t<<8|r).toString(16);a=a.substr(a.length-6);let u="0"+ro(n*255).toString(16);switch(u=u.substr(u.length-2),s.toLowerCase()){case"rgba":return`#${a}${u}`;case"argb":return`#${u}${a}`;default:return`#${a}`}};k.prototype.name=function(){const i=YA(this._rgb,"rgb");for(let e of Object.keys(Yi))if(Yi[e]===i)return e.toLowerCase();return i};Z.format.named=i=>{if(i=i.toLowerCase(),Yi[i])return KA(Yi[i]);throw new Error("unknown color name: "+i)};Z.autodetect.push({p:5,test:(i,...e)=>{if(!e.length&&se(i)==="string"&&Yi[i.toLowerCase()])return"named"}});k.prototype.alpha=function(i,e=!1){return i!==void 0&&se(i)==="number"?e?(this._rgb[3]=i,this):new k([this._rgb[0],this._rgb[1],this._rgb[2],i],"rgb"):this._rgb[3]};k.prototype.clipped=function(){return this._rgb._clipped||!1};const Gt={Kn:18,labWhitePoint:"d65",Xn:.95047,Yn:1,Zn:1.08883,kE:216/24389,kKE:8,kK:24389/27,RefWhiteRGB:{X:.95047,Y:1,Z:1.08883},MtxRGB2XYZ:{m00:.4124564390896922,m01:.21267285140562253,m02:.0193338955823293,m10:.357576077643909,m11:.715152155287818,m12:.11919202588130297,m20:.18043748326639894,m21:.07217499330655958,m22:.9503040785363679},MtxXYZ2RGB:{m00:3.2404541621141045,m01:-.9692660305051868,m02:.055643430959114726,m10:-1.5371385127977166,m11:1.8760108454466942,m12:-.2040259135167538,m20:-.498531409556016,m21:.041556017530349834,m22:1.0572251882231791},As:.9414285350000001,Bs:1.040417467,Cs:1.089532651,MtxAdaptMa:{m00:.8951,m01:-.7502,m02:.0389,m10:.2664,m11:1.7135,m12:-.0685,m20:-.1614,m21:.0367,m22:1.0296},MtxAdaptMaI:{m00:.9869929054667123,m01:.43230526972339456,m02:-.008528664575177328,m10:-.14705425642099013,m11:.5183602715367776,m12:.04004282165408487,m20:.15996265166373125,m21:.0492912282128556,m22:.9684866957875502}},N5=new Map([["a",[1.0985,.35585]],["b",[1.0985,.35585]],["c",[.98074,1.18232]],["d50",[.96422,.82521]],["d55",[.95682,.92149]],["d65",[.95047,1.08883]],["e",[1,1,1]],["f2",[.99186,.67393]],["f7",[.95041,1.08747]],["f11",[1.00962,.6435]],["icc",[.96422,.82521]]]);function Qt(i){const e=N5.get(String(i).toLowerCase());if(!e)throw new Error("unknown Lab illuminant "+i);Gt.labWhitePoint=i,Gt.Xn=e[0],Gt.Zn=e[1]}function as(){return Gt.labWhitePoint}const hb=(...i)=>{i=J(i,"lab");const[e,t,r]=i,[n,s,o]=B5(e,t,r),[a,u,l]=XA(n,s,o);return[a,u,l,i.length>3?i[3]:1]},B5=(i,e,t)=>{const{kE:r,kK:n,kKE:s,Xn:o,Yn:a,Zn:u}=Gt,l=(i+16)/116,d=.002*e+l,c=l-.005*t,h=d*d*d,f=c*c*c,v=h>r?h:(116*d-16)/n,g=i>s?Math.pow((i+16)/116,3):i/n,_=f>r?f:(116*c-16)/n,y=v*o,p=g*a,O=_*u;return[y,p,O]},Oa=i=>{const e=Math.sign(i);return i=Math.abs(i),(i<=.0031308?i*12.92:1.055*Math.pow(i,1/2.4)-.055)*e},XA=(i,e,t)=>{const{MtxAdaptMa:r,MtxAdaptMaI:n,MtxXYZ2RGB:s,RefWhiteRGB:o,Xn:a,Yn:u,Zn:l}=Gt,d=a*r.m00+u*r.m10+l*r.m20,c=a*r.m01+u*r.m11+l*r.m21,h=a*r.m02+u*r.m12+l*r.m22,f=o.X*r.m00+o.Y*r.m10+o.Z*r.m20,v=o.X*r.m01+o.Y*r.m11+o.Z*r.m21,g=o.X*r.m02+o.Y*r.m12+o.Z*r.m22,_=(i*r.m00+e*r.m10+t*r.m20)*(f/d),y=(i*r.m01+e*r.m11+t*r.m21)*(v/c),p=(i*r.m02+e*r.m12+t*r.m22)*(g/h),O=_*n.m00+y*n.m10+p*n.m20,m=_*n.m01+y*n.m11+p*n.m21,S=_*n.m02+y*n.m12+p*n.m22,$=Oa(O*s.m00+m*s.m10+S*s.m20),w=Oa(O*s.m01+m*s.m11+S*s.m21),b=Oa(O*s.m02+m*s.m12+S*s.m22);return[$*255,w*255,b*255]},fb=(...i)=>{const[e,t,r,...n]=J(i,"rgb"),[s,o,a]=ZA(e,t,r),[u,l,d]=j5(s,o,a);return[u,l,d,...n.length>0&&n[0]<1?[n[0]]:[]]};function j5(i,e,t){const{Xn:r,Yn:n,Zn:s,kE:o,kK:a}=Gt,u=i/r,l=e/n,d=t/s,c=u>o?Math.pow(u,1/3):(a*u+16)/116,h=l>o?Math.pow(l,1/3):(a*l+16)/116,f=d>o?Math.pow(d,1/3):(a*d+16)/116;return[116*h-16,500*(c-h),200*(h-f)]}function Ia(i){const e=Math.sign(i);return i=Math.abs(i),(i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4))*e}const ZA=(i,e,t)=>{i=Ia(i/255),e=Ia(e/255),t=Ia(t/255);const{MtxRGB2XYZ:r,MtxAdaptMa:n,MtxAdaptMaI:s,Xn:o,Yn:a,Zn:u,As:l,Bs:d,Cs:c}=Gt;let h=i*r.m00+e*r.m10+t*r.m20,f=i*r.m01+e*r.m11+t*r.m21,v=i*r.m02+e*r.m12+t*r.m22;const g=o*n.m00+a*n.m10+u*n.m20,_=o*n.m01+a*n.m11+u*n.m21,y=o*n.m02+a*n.m12+u*n.m22;let p=h*n.m00+f*n.m10+v*n.m20,O=h*n.m01+f*n.m11+v*n.m21,m=h*n.m02+f*n.m12+v*n.m22;return p*=g/l,O*=_/d,m*=y/c,h=p*s.m00+O*s.m10+m*s.m20,f=p*s.m01+O*s.m11+m*s.m21,v=p*s.m02+O*s.m12+m*s.m22,[h,f,v]};k.prototype.lab=function(){return fb(this._rgb)};const L5=(...i)=>new k(...i,"lab");Object.assign(ee,{lab:L5,getLabWhitePoint:as,setLabWhitePoint:Qt});Z.format.lab=hb;Z.autodetect.push({p:2,test:(...i)=>{if(i=J(i,"lab"),se(i)==="array"&&i.length===3)return"lab"}});k.prototype.darken=function(i=1){const e=this,t=e.lab();return t[0]-=Gt.Kn*i,new k(t,"lab").alpha(e.alpha(),!0)};k.prototype.brighten=function(i=1){return this.darken(-i)};k.prototype.darker=k.prototype.darken;k.prototype.brighter=k.prototype.brighten;k.prototype.get=function(i){const[e,t]=i.split("."),r=this[e]();if(t){const n=e.indexOf(t)-(e.substr(0,2)==="ok"?2:0);if(n>-1)return r[n];throw new Error(`unknown channel ${t} in mode ${e}`)}else return r};const{pow:z5}=Math,W5=1e-7,H5=20;k.prototype.luminance=function(i,e="rgb"){if(i!==void 0&&se(i)==="number"){if(i===0)return new k([0,0,0,this._rgb[3]],"rgb");if(i===1)return new k([255,255,255,this._rgb[3]],"rgb");let t=this.luminance(),r=H5;const n=(o,a)=>{const u=o.interpolate(a,.5,e),l=u.luminance();return Math.abs(i-l)<W5||!r--?u:l>i?n(o,u):n(u,a)},s=(t>i?n(new k([0,0,0]),this):n(this,new k([255,255,255]))).rgb();return new k([...s,this._rgb[3]])}return G5(...this._rgb.slice(0,3))};const G5=(i,e,t)=>(i=$a(i),e=$a(e),t=$a(t),.2126*i+.7152*e+.0722*t),$a=i=>(i/=255,i<=.03928?i/12.92:z5((i+.055)/1.055,2.4)),Qe={},Xi=(i,e,t=.5,...r)=>{let n=r[0]||"lrgb";if(!Qe[n]&&!r.length&&(n=Object.keys(Qe)[0]),!Qe[n])throw new Error(`interpolation mode ${n} is not defined`);return se(i)!=="object"&&(i=new k(i)),se(e)!=="object"&&(e=new k(e)),Qe[n](i,e,t).alpha(i.alpha()+t*(e.alpha()-i.alpha()))};k.prototype.mix=k.prototype.interpolate=function(i,e=.5,...t){return Xi(this,i,e,...t)};k.prototype.premultiply=function(i=!1){const e=this._rgb,t=e[3];return i?(this._rgb=[e[0]*t,e[1]*t,e[2]*t,t],this):new k([e[0]*t,e[1]*t,e[2]*t,t],"rgb")};const{sin:V5,cos:U5}=Math,JA=(...i)=>{let[e,t,r]=J(i,"lch");return isNaN(r)&&(r=0),r=r*k5,[e,U5(r)*t,V5(r)*t]},vb=(...i)=>{i=J(i,"lch");const[e,t,r]=i,[n,s,o]=JA(e,t,r),[a,u,l]=hb(n,s,o);return[a,u,l,i.length>3?i[3]:1]},K5=(...i)=>{const e=UA(J(i,"hcl"));return vb(...e)},{sqrt:Y5,atan2:X5,round:Z5}=Math,QA=(...i)=>{const[e,t,r]=J(i,"lab"),n=Y5(t*t+r*r);let s=(X5(r,t)*D5+360)%360;return Z5(n*1e4)===0&&(s=Number.NaN),[e,n,s]},pb=(...i)=>{const[e,t,r,...n]=J(i,"rgb"),[s,o,a]=fb(e,t,r),[u,l,d]=QA(s,o,a);return[u,l,d,...n.length>0&&n[0]<1?[n[0]]:[]]};k.prototype.lch=function(){return pb(this._rgb)};k.prototype.hcl=function(){return UA(pb(this._rgb))};const J5=(...i)=>new k(...i,"lch"),Q5=(...i)=>new k(...i,"hcl");Object.assign(ee,{lch:J5,hcl:Q5});Z.format.lch=vb;Z.format.hcl=K5;["lch","hcl"].forEach(i=>Z.autodetect.push({p:2,test:(...e)=>{if(e=J(e,i),se(e)==="array"&&e.length===3)return i}}));k.prototype.saturate=function(i=1){const e=this,t=e.lch();return t[1]+=Gt.Kn*i,t[1]<0&&(t[1]=0),new k(t,"lch").alpha(e.alpha(),!0)};k.prototype.desaturate=function(i=1){return this.saturate(-i)};k.prototype.set=function(i,e,t=!1){const[r,n]=i.split("."),s=this[r]();if(n){const o=r.indexOf(n)-(r.substr(0,2)==="ok"?2:0);if(o>-1){if(se(e)=="string")switch(e.charAt(0)){case"+":s[o]+=+e;break;case"-":s[o]+=+e;break;case"*":s[o]*=+e.substr(1);break;case"/":s[o]/=+e.substr(1);break;default:s[o]=+e}else if(se(e)==="number")s[o]=e;else throw new Error("unsupported value for Color.set");const a=new k(s,r);return t?(this._rgb=a._rgb,this):a}throw new Error(`unknown channel ${n} in mode ${r}`)}else return s};k.prototype.tint=function(i=.5,...e){return Xi(this,"white",i,...e)};k.prototype.shade=function(i=.5,...e){return Xi(this,"black",i,...e)};const eB=(i,e,t)=>{const r=i._rgb,n=e._rgb;return new k(r[0]+t*(n[0]-r[0]),r[1]+t*(n[1]-r[1]),r[2]+t*(n[2]-r[2]),"rgb")};Qe.rgb=eB;const{sqrt:Ta,pow:Ci}=Math,tB=(i,e,t)=>{const[r,n,s]=i._rgb,[o,a,u]=e._rgb;return new k(Ta(Ci(r,2)*(1-t)+Ci(o,2)*t),Ta(Ci(n,2)*(1-t)+Ci(a,2)*t),Ta(Ci(s,2)*(1-t)+Ci(u,2)*t),"rgb")};Qe.lrgb=tB;const rB=(i,e,t)=>{const r=i.lab(),n=e.lab();return new k(r[0]+t*(n[0]-r[0]),r[1]+t*(n[1]-r[1]),r[2]+t*(n[2]-r[2]),"lab")};Qe.lab=rB;const un=(i,e,t,r)=>{let n,s;r==="hsl"?(n=i.hsl(),s=e.hsl()):r==="hsv"?(n=i.hsv(),s=e.hsv()):r==="hcg"?(n=i.hcg(),s=e.hcg()):r==="hsi"?(n=i.hsi(),s=e.hsi()):r==="lch"||r==="hcl"?(r="hcl",n=i.hcl(),s=e.hcl()):r==="oklch"&&(n=i.oklch().reverse(),s=e.oklch().reverse());let o,a,u,l,d,c;(r.substr(0,1)==="h"||r==="oklch")&&([o,u,d]=n,[a,l,c]=s);let h,f,v,g;return!isNaN(o)&&!isNaN(a)?(a>o&&a-o>180?g=a-(o+360):a<o&&o-a>180?g=a+360-o:g=a-o,f=o+t*g):isNaN(o)?isNaN(a)?f=Number.NaN:(f=a,(d==1||d==0)&&r!="hsv"&&(h=l)):(f=o,(c==1||c==0)&&r!="hsv"&&(h=u)),h===void 0&&(h=u+t*(l-u)),v=d+t*(c-d),r==="oklch"?new k([v,h,f],r):new k([f,h,v],r)},eM=(i,e,t)=>un(i,e,t,"lch");Qe.lch=eM;Qe.hcl=eM;const iB=i=>{if(se(i)=="number"&&i>=0&&i<=16777215){const e=i>>16,t=i>>8&255,r=i&255;return[e,t,r,1]}throw new Error("unknown num color: "+i)},nB=(...i)=>{const[e,t,r]=J(i,"rgb");return(e<<16)+(t<<8)+r};k.prototype.num=function(){return nB(this._rgb)};const sB=(...i)=>new k(...i,"num");Object.assign(ee,{num:sB});Z.format.num=iB;Z.autodetect.push({p:5,test:(...i)=>{if(i.length===1&&se(i[0])==="number"&&i[0]>=0&&i[0]<=16777215)return"num"}});const oB=(i,e,t)=>{const r=i.num(),n=e.num();return new k(r+t*(n-r),"num")};Qe.num=oB;const{floor:aB}=Math,uB=(...i)=>{i=J(i,"hcg");let[e,t,r]=i,n,s,o;r=r*255;const a=t*255;if(t===0)n=s=o=r;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const u=aB(e),l=e-u,d=r*(1-t),c=d+a*(1-l),h=d+a*l,f=d+a;switch(u){case 0:[n,s,o]=[f,h,d];break;case 1:[n,s,o]=[c,f,d];break;case 2:[n,s,o]=[d,f,h];break;case 3:[n,s,o]=[d,c,f];break;case 4:[n,s,o]=[h,d,f];break;case 5:[n,s,o]=[f,d,c];break}}return[n,s,o,i.length>3?i[3]:1]},lB=(...i)=>{const[e,t,r]=J(i,"rgb"),n=GA(e,t,r),s=VA(e,t,r),o=s-n,a=o*100/255,u=n/(255-o)*100;let l;return o===0?l=Number.NaN:(e===s&&(l=(t-r)/o),t===s&&(l=2+(r-e)/o),r===s&&(l=4+(e-t)/o),l*=60,l<0&&(l+=360)),[l,a,u]};k.prototype.hcg=function(){return lB(this._rgb)};const dB=(...i)=>new k(...i,"hcg");ee.hcg=dB;Z.format.hcg=uB;Z.autodetect.push({p:1,test:(...i)=>{if(i=J(i,"hcg"),se(i)==="array"&&i.length===3)return"hcg"}});const cB=(i,e,t)=>un(i,e,t,"hcg");Qe.hcg=cB;const{cos:qi}=Math,hB=(...i)=>{i=J(i,"hsi");let[e,t,r]=i,n,s,o;return isNaN(e)&&(e=0),isNaN(t)&&(t=0),e>360&&(e-=360),e<0&&(e+=360),e/=360,e<1/3?(o=(1-t)/3,n=(1+t*qi(Jt*e)/qi(Sa-Jt*e))/3,s=1-(o+n)):e<2/3?(e-=1/3,n=(1-t)/3,s=(1+t*qi(Jt*e)/qi(Sa-Jt*e))/3,o=1-(n+s)):(e-=2/3,s=(1-t)/3,o=(1+t*qi(Jt*e)/qi(Sa-Jt*e))/3,n=1-(s+o)),n=Qr(r*n*3),s=Qr(r*s*3),o=Qr(r*o*3),[n*255,s*255,o*255,i.length>3?i[3]:1]},{min:fB,sqrt:vB,acos:pB}=Math,gB=(...i)=>{let[e,t,r]=J(i,"rgb");e/=255,t/=255,r/=255;let n;const s=fB(e,t,r),o=(e+t+r)/3,a=o>0?1-s/o:0;return a===0?n=NaN:(n=(e-t+(e-r))/2,n/=vB((e-t)*(e-t)+(e-r)*(t-r)),n=pB(n),r>t&&(n=Jt-n),n/=Jt),[n*360,a,o]};k.prototype.hsi=function(){return gB(this._rgb)};const yB=(...i)=>new k(...i,"hsi");ee.hsi=yB;Z.format.hsi=hB;Z.autodetect.push({p:2,test:(...i)=>{if(i=J(i,"hsi"),se(i)==="array"&&i.length===3)return"hsi"}});const mB=(i,e,t)=>un(i,e,t,"hsi");Qe.hsi=mB;const Hm=(...i)=>{i=J(i,"hsl");const[e,t,r]=i;let n,s,o;if(t===0)n=s=o=r*255;else{const a=[0,0,0],u=[0,0,0],l=r<.5?r*(1+t):r+t-r*t,d=2*r-l,c=e/360;a[0]=c+1/3,a[1]=c,a[2]=c-1/3;for(let h=0;h<3;h++)a[h]<0&&(a[h]+=1),a[h]>1&&(a[h]-=1),6*a[h]<1?u[h]=d+(l-d)*6*a[h]:2*a[h]<1?u[h]=l:3*a[h]<2?u[h]=d+(l-d)*(2/3-a[h])*6:u[h]=d;[n,s,o]=[u[0]*255,u[1]*255,u[2]*255]}return i.length>3?[n,s,o,i[3]]:[n,s,o,1]},tM=(...i)=>{i=J(i,"rgba");let[e,t,r]=i;e/=255,t/=255,r/=255;const n=GA(e,t,r),s=VA(e,t,r),o=(s+n)/2;let a,u;return s===n?(a=0,u=Number.NaN):a=o<.5?(s-n)/(s+n):(s-n)/(2-s-n),e==s?u=(t-r)/(s-n):t==s?u=2+(r-e)/(s-n):r==s&&(u=4+(e-t)/(s-n)),u*=60,u<0&&(u+=360),i.length>3&&i[3]!==void 0?[u,a,o,i[3]]:[u,a,o]};k.prototype.hsl=function(){return tM(this._rgb)};const bB=(...i)=>new k(...i,"hsl");ee.hsl=bB;Z.format.hsl=Hm;Z.autodetect.push({p:2,test:(...i)=>{if(i=J(i,"hsl"),se(i)==="array"&&i.length===3)return"hsl"}});const _B=(i,e,t)=>un(i,e,t,"hsl");Qe.hsl=_B;const{floor:wB}=Math,EB=(...i)=>{i=J(i,"hsv");let[e,t,r]=i,n,s,o;if(r*=255,t===0)n=s=o=r;else{e===360&&(e=0),e>360&&(e-=360),e<0&&(e+=360),e/=60;const a=wB(e),u=e-a,l=r*(1-t),d=r*(1-t*u),c=r*(1-t*(1-u));switch(a){case 0:[n,s,o]=[r,c,l];break;case 1:[n,s,o]=[d,r,l];break;case 2:[n,s,o]=[l,r,c];break;case 3:[n,s,o]=[l,d,r];break;case 4:[n,s,o]=[c,l,r];break;case 5:[n,s,o]=[r,l,d];break}}return[n,s,o,i.length>3?i[3]:1]},{min:SB,max:OB}=Math,IB=(...i)=>{i=J(i,"rgb");let[e,t,r]=i;const n=SB(e,t,r),s=OB(e,t,r),o=s-n;let a,u,l;return l=s/255,s===0?(a=Number.NaN,u=0):(u=o/s,e===s&&(a=(t-r)/o),t===s&&(a=2+(r-e)/o),r===s&&(a=4+(e-t)/o),a*=60,a<0&&(a+=360)),[a,u,l]};k.prototype.hsv=function(){return IB(this._rgb)};const $B=(...i)=>new k(...i,"hsv");ee.hsv=$B;Z.format.hsv=EB;Z.autodetect.push({p:2,test:(...i)=>{if(i=J(i,"hsv"),se(i)==="array"&&i.length===3)return"hsv"}});const TB=(i,e,t)=>un(i,e,t,"hsv");Qe.hsv=TB;function _o(i,e){let t=i.length;Array.isArray(i[0])||(i=[i]),Array.isArray(e[0])||(e=e.map(o=>[o]));let r=e[0].length,n=e[0].map((o,a)=>e.map(u=>u[a])),s=i.map(o=>n.map(a=>Array.isArray(o)?o.reduce((u,l,d)=>u+l*(a[d]||0),0):a.reduce((u,l)=>u+l*o,0)));return t===1&&(s=s[0]),r===1?s.map(o=>o[0]):s}const gb=(...i)=>{i=J(i,"lab");const[e,t,r,...n]=i,[s,o,a]=PB([e,t,r]),[u,l,d]=XA(s,o,a);return[u,l,d,...n.length>0&&n[0]<1?[n[0]]:[]]};function PB(i){var e=[[1.2268798758459243,-.5578149944602171,.2813910456659647],[-.0405757452148008,1.112286803280317,-.0717110580655164],[-.0763729366746601,-.4214933324022432,1.5869240198367816]],t=[[1,.3963377773761749,.2158037573099136],[1,-.1055613458156586,-.0638541728258133],[1,-.0894841775298119,-1.2914855480194092]],r=_o(t,i);return _o(e,r.map(n=>n**3))}const yb=(...i)=>{const[e,t,r,...n]=J(i,"rgb"),s=ZA(e,t,r);return[...RB(s),...n.length>0&&n[0]<1?[n[0]]:[]]};function RB(i){const e=[[.819022437996703,.3619062600528904,-.1288737815209879],[.0329836539323885,.9292868615863434,.0361446663506424],[.0481771893596242,.2642395317527308,.6335478284694309]],t=[[.210454268309314,.7936177747023054,-.0040720430116193],[1.9779985324311684,-2.42859224204858,.450593709617411],[.0259040424655478,.7827717124575296,-.8086757549230774]],r=_o(e,i);return _o(t,r.map(n=>Math.cbrt(n)))}k.prototype.oklab=function(){return yb(this._rgb)};const CB=(...i)=>new k(...i,"oklab");Object.assign(ee,{oklab:CB});Z.format.oklab=gb;Z.autodetect.push({p:2,test:(...i)=>{if(i=J(i,"oklab"),se(i)==="array"&&i.length===3)return"oklab"}});const qB=(i,e,t)=>{const r=i.oklab(),n=e.oklab();return new k(r[0]+t*(n[0]-r[0]),r[1]+t*(n[1]-r[1]),r[2]+t*(n[2]-r[2]),"oklab")};Qe.oklab=qB;const xB=(i,e,t)=>un(i,e,t,"oklch");Qe.oklch=xB;const{pow:Pa,sqrt:Ra,PI:Ca,cos:q1,sin:x1,atan2:kB}=Math,DB=(i,e="lrgb",t=null)=>{const r=i.length;t||(t=Array.from(new Array(r)).map(()=>1));const n=r/t.reduce(function(c,h){return c+h});if(t.forEach((c,h)=>{t[h]*=n}),i=i.map(c=>new k(c)),e==="lrgb")return AB(i,t);const s=i.shift(),o=s.get(e),a=[];let u=0,l=0;for(let c=0;c<o.length;c++)if(o[c]=(o[c]||0)*t[0],a.push(isNaN(o[c])?0:t[0]),e.charAt(c)==="h"&&!isNaN(o[c])){const h=o[c]/180*Ca;u+=q1(h)*t[0],l+=x1(h)*t[0]}let d=s.alpha()*t[0];i.forEach((c,h)=>{const f=c.get(e);d+=c.alpha()*t[h+1];for(let v=0;v<o.length;v++)if(!isNaN(f[v]))if(a[v]+=t[h+1],e.charAt(v)==="h"){const g=f[v]/180*Ca;u+=q1(g)*t[h+1],l+=x1(g)*t[h+1]}else o[v]+=f[v]*t[h+1]});for(let c=0;c<o.length;c++)if(e.charAt(c)==="h"){let h=kB(l/a[c],u/a[c])/Ca*180;for(;h<0;)h+=360;for(;h>=360;)h-=360;o[c]=h}else o[c]=o[c]/a[c];return d/=r,new k(o,e).alpha(d>.99999?1:d,!0)},AB=(i,e)=>{const t=i.length,r=[0,0,0,0];for(let n=0;n<i.length;n++){const s=i[n],o=e[n]/t,a=s._rgb;r[0]+=Pa(a[0],2)*o,r[1]+=Pa(a[1],2)*o,r[2]+=Pa(a[2],2)*o,r[3]+=a[3]*o}return r[0]=Ra(r[0]),r[1]=Ra(r[1]),r[2]=Ra(r[2]),r[3]>.9999999&&(r[3]=1),new k(cb(r))},{pow:MB}=Math;function wo(i){let e="rgb",t=ee("#ccc"),r=0,n=[0,1],s=[],o=[0,0],a=!1,u=[],l=!1,d=0,c=1,h=!1,f={},v=!0,g=1;const _=function(w){if(w=w||["#fff","#000"],w&&se(w)==="string"&&ee.brewer&&ee.brewer[w.toLowerCase()]&&(w=ee.brewer[w.toLowerCase()]),se(w)==="array"){w.length===1&&(w=[w[0],w[0]]),w=w.slice(0);for(let b=0;b<w.length;b++)w[b]=ee(w[b]);s.length=0;for(let b=0;b<w.length;b++)s.push(b/(w.length-1))}return S(),u=w},y=function(w){if(a!=null){const b=a.length-1;let E=0;for(;E<b&&w>=a[E];)E++;return E-1}return 0};let p=w=>w,O=w=>w;const m=function(w,b){let E,I;if(b==null&&(b=!1),isNaN(w)||w===null)return t;b?I=w:a&&a.length>2?I=y(w)/(a.length-2):c!==d?I=(w-d)/(c-d):I=1,I=O(I),b||(I=p(I)),g!==1&&(I=MB(I,g)),I=o[0]+I*(1-o[0]-o[1]),I=Qr(I,0,1);const T=Math.floor(I*1e4);if(v&&f[T])E=f[T];else{if(se(u)==="array")for(let P=0;P<s.length;P++){const R=s[P];if(I<=R){E=u[P];break}if(I>=R&&P===s.length-1){E=u[P];break}if(I>R&&I<s[P+1]){I=(I-R)/(s[P+1]-R),E=ee.interpolate(u[P],u[P+1],I,e);break}}else se(u)==="function"&&(E=u(I));v&&(f[T]=E)}return E};var S=()=>f={};_(i);const $=function(w){const b=ee(m(w));return l&&b[l]?b[l]():b};return $.classes=function(w){if(w!=null){if(se(w)==="array")a=w,n=[w[0],w[w.length-1]];else{const b=ee.analyze(n);w===0?a=[b.min,b.max]:a=ee.limits(b,"e",w)}return $}return a},$.domain=function(w){if(!arguments.length)return n;d=w[0],c=w[w.length-1],s=[];const b=u.length;if(w.length===b&&d!==c)for(let E of Array.from(w))s.push((E-d)/(c-d));else{for(let E=0;E<b;E++)s.push(E/(b-1));if(w.length>2){const E=w.map((T,P)=>P/(w.length-1)),I=w.map(T=>(T-d)/(c-d));I.every((T,P)=>E[P]===T)||(O=T=>{if(T<=0||T>=1)return T;let P=0;for(;T>=I[P+1];)P++;const R=(T-I[P])/(I[P+1]-I[P]);return E[P]+R*(E[P+1]-E[P])})}}return n=[d,c],$},$.mode=function(w){return arguments.length?(e=w,S(),$):e},$.range=function(w,b){return _(w),$},$.out=function(w){return l=w,$},$.spread=function(w){return arguments.length?(r=w,$):r},$.correctLightness=function(w){return w==null&&(w=!0),h=w,S(),h?p=function(b){const E=m(0,!0).lab()[0],I=m(1,!0).lab()[0],T=E>I;let P=m(b,!0).lab()[0];const R=E+(I-E)*b;let q=P-R,A=0,Y=1,L=20;for(;Math.abs(q)>.01&&L-- >0;)(function(){return T&&(q*=-1),q<0?(A=b,b+=(Y-b)*.5):(Y=b,b+=(A-b)*.5),P=m(b,!0).lab()[0],q=P-R})();return b}:p=b=>b,$},$.padding=function(w){return w!=null?(se(w)==="number"&&(w=[w,w]),o=w,$):o},$.colors=function(w,b){arguments.length<2&&(b="hex");let E=[];if(arguments.length===0)E=u.slice(0);else if(w===1)E=[$(.5)];else if(w>1){const I=n[0],T=n[1]-I;E=FB(0,w).map(P=>$(I+P/(w-1)*T))}else{i=[];let I=[];if(a&&a.length>2)for(let T=1,P=a.length,R=1<=P;R?T<P:T>P;R?T++:T--)I.push((a[T-1]+a[T])*.5);else I=n;E=I.map(T=>$(T))}return ee[b]&&(E=E.map(I=>I[b]())),E},$.cache=function(w){return w!=null?(v=w,$):v},$.gamma=function(w){return w!=null?(g=w,$):g},$.nodata=function(w){return w!=null?(t=ee(w),$):t},$}function FB(i,e,t){let r=[],n=i<e,s=e;for(let o=i;n?o<s:o>s;n?o++:o--)r.push(o);return r}const NB=function(i){let e=[1,1];for(let t=1;t<i;t++){let r=[1];for(let n=1;n<=e.length;n++)r[n]=(e[n]||0)+e[n-1];e=r}return e},BB=function(i){let e,t,r,n;if(i=i.map(s=>new k(s)),i.length===2)[t,r]=i.map(s=>s.lab()),e=function(s){const o=[0,1,2].map(a=>t[a]+s*(r[a]-t[a]));return new k(o,"lab")};else if(i.length===3)[t,r,n]=i.map(s=>s.lab()),e=function(s){const o=[0,1,2].map(a=>(1-s)*(1-s)*t[a]+2*(1-s)*s*r[a]+s*s*n[a]);return new k(o,"lab")};else if(i.length===4){let s;[t,r,n,s]=i.map(o=>o.lab()),e=function(o){const a=[0,1,2].map(u=>(1-o)*(1-o)*(1-o)*t[u]+3*(1-o)*(1-o)*o*r[u]+3*(1-o)*o*o*n[u]+o*o*o*s[u]);return new k(a,"lab")}}else if(i.length>=5){let s,o,a;s=i.map(u=>u.lab()),a=i.length-1,o=NB(a),e=function(u){const l=1-u,d=[0,1,2].map(c=>s.reduce((h,f,v)=>h+o[v]*l**(a-v)*u**v*f[c],0));return new k(d,"lab")}}else throw new RangeError("No point in running bezier with only one color.");return e},jB=i=>{const e=BB(i);return e.scale=()=>wo(e),e},{round:rM}=Math;k.prototype.rgb=function(i=!0){return i===!1?this._rgb.slice(0,3):this._rgb.slice(0,3).map(rM)};k.prototype.rgba=function(i=!0){return this._rgb.slice(0,4).map((e,t)=>t<3?i===!1?e:rM(e):e)};const LB=(...i)=>new k(...i,"rgb");Object.assign(ee,{rgb:LB});Z.format.rgb=(...i)=>{const e=J(i,"rgba");return e[3]===void 0&&(e[3]=1),e};Z.autodetect.push({p:3,test:(...i)=>{if(i=J(i,"rgba"),se(i)==="array"&&(i.length===3||i.length===4&&se(i[3])=="number"&&i[3]>=0&&i[3]<=1))return"rgb"}});const Mt=(i,e,t)=>{if(!Mt[t])throw new Error("unknown blend mode "+t);return Mt[t](i,e)},Cr=i=>(e,t)=>{const r=ee(t).rgb(),n=ee(e).rgb();return ee.rgb(i(r,n))},qr=i=>(e,t)=>{const r=[];return r[0]=i(e[0],t[0]),r[1]=i(e[1],t[1]),r[2]=i(e[2],t[2]),r},zB=i=>i,WB=(i,e)=>i*e/255,HB=(i,e)=>i>e?e:i,GB=(i,e)=>i>e?i:e,VB=(i,e)=>255*(1-(1-i/255)*(1-e/255)),UB=(i,e)=>e<128?2*i*e/255:255*(1-2*(1-i/255)*(1-e/255)),KB=(i,e)=>255*(1-(1-e/255)/(i/255)),YB=(i,e)=>i===255?255:(i=255*(e/255)/(1-i/255),i>255?255:i);Mt.normal=Cr(qr(zB));Mt.multiply=Cr(qr(WB));Mt.screen=Cr(qr(VB));Mt.overlay=Cr(qr(UB));Mt.darken=Cr(qr(HB));Mt.lighten=Cr(qr(GB));Mt.dodge=Cr(qr(YB));Mt.burn=Cr(qr(KB));const{pow:XB,sin:ZB,cos:JB}=Math;function QB(i=300,e=-1.5,t=1,r=1,n=[0,1]){let s=0,o;se(n)==="array"?o=n[1]-n[0]:(o=0,n=[n,n]);const a=function(u){const l=Jt*((i+120)/360+e*u),d=XB(n[0]+o*u,r),h=(s!==0?t[0]+u*s:t)*d*(1-d)/2,f=JB(l),v=ZB(l),g=d+h*(-.14861*f+1.78277*v),_=d+h*(-.29227*f-.90649*v),y=d+h*(1.97294*f);return ee(cb([g*255,_*255,y*255,1]))};return a.start=function(u){return u==null?i:(i=u,a)},a.rotations=function(u){return u==null?e:(e=u,a)},a.gamma=function(u){return u==null?r:(r=u,a)},a.hue=function(u){return u==null?t:(t=u,se(t)==="array"?(s=t[1]-t[0],s===0&&(t=t[1])):s=0,a)},a.lightness=function(u){return u==null?n:(se(u)==="array"?(n=u,o=u[1]-u[0]):(n=[u,u],o=0),a)},a.scale=()=>ee.scale(a),a.hue(t),a}const e3="0123456789abcdef",{floor:t3,random:r3}=Math,i3=()=>{let i="#";for(let e=0;e<6;e++)i+=e3.charAt(t3(r3()*16));return new k(i,"hex")},{log:k1,pow:n3,floor:s3,abs:o3}=Math;function iM(i,e=null){const t={min:Number.MAX_VALUE,max:Number.MAX_VALUE*-1,sum:0,values:[],count:0};return se(i)==="object"&&(i=Object.values(i)),i.forEach(r=>{e&&se(r)==="object"&&(r=r[e]),r!=null&&!isNaN(r)&&(t.values.push(r),t.sum+=r,r<t.min&&(t.min=r),r>t.max&&(t.max=r),t.count+=1)}),t.domain=[t.min,t.max],t.limits=(r,n)=>nM(t,r,n),t}function nM(i,e="equal",t=7){se(i)=="array"&&(i=iM(i));const{min:r,max:n}=i,s=i.values.sort((a,u)=>a-u);if(t===1)return[r,n];const o=[];if(e.substr(0,1)==="c"&&(o.push(r),o.push(n)),e.substr(0,1)==="e"){o.push(r);for(let a=1;a<t;a++)o.push(r+a/t*(n-r));o.push(n)}else if(e.substr(0,1)==="l"){if(r<=0)throw new Error("Logarithmic scales are only possible for values > 0");const a=Math.LOG10E*k1(r),u=Math.LOG10E*k1(n);o.push(r);for(let l=1;l<t;l++)o.push(n3(10,a+l/t*(u-a)));o.push(n)}else if(e.substr(0,1)==="q"){o.push(r);for(let a=1;a<t;a++){const u=(s.length-1)*a/t,l=s3(u);if(l===u)o.push(s[l]);else{const d=u-l;o.push(s[l]*(1-d)+s[l+1]*d)}}o.push(n)}else if(e.substr(0,1)==="k"){let a;const u=s.length,l=new Array(u),d=new Array(t);let c=!0,h=0,f=null;f=[],f.push(r);for(let _=1;_<t;_++)f.push(r+_/t*(n-r));for(f.push(n);c;){for(let y=0;y<t;y++)d[y]=0;for(let y=0;y<u;y++){const p=s[y];let O=Number.MAX_VALUE,m;for(let S=0;S<t;S++){const $=o3(f[S]-p);$<O&&(O=$,m=S),d[m]++,l[y]=m}}const _=new Array(t);for(let y=0;y<t;y++)_[y]=null;for(let y=0;y<u;y++)a=l[y],_[a]===null?_[a]=s[y]:_[a]+=s[y];for(let y=0;y<t;y++)_[y]*=1/d[y];c=!1;for(let y=0;y<t;y++)if(_[y]!==f[y]){c=!0;break}f=_,h++,h>200&&(c=!1)}const v={};for(let _=0;_<t;_++)v[_]=[];for(let _=0;_<u;_++)a=l[_],v[a].push(s[_]);let g=[];for(let _=0;_<t;_++)g.push(v[_][0]),g.push(v[_][v[_].length-1]);g=g.sort((_,y)=>_-y),o.push(g[0]);for(let _=1;_<g.length;_+=2){const y=g[_];!isNaN(y)&&o.indexOf(y)===-1&&o.push(y)}}return o}const a3=(i,e)=>{i=new k(i),e=new k(e);const t=i.luminance(),r=e.luminance();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)};/**
 * @license
 *
 * The APCA contrast prediction algorithm is based of the formulas published
 * in the APCA-1.0.98G specification by Myndex. The specification is available at:
 * https://raw.githubusercontent.com/Myndex/apca-w3/master/images/APCAw3_0.1.17_APCA0.0.98G.svg
 *
 * Note that the APCA implementation is still beta, so please update to
 * future versions of chroma.js when they become available.
 *
 * You can read more about the APCA Readability Criterion at
 * https://readtech.org/ARC/
 */const D1=.027,u3=5e-4,l3=.1,A1=1.14,io=.022,M1=1.414,d3=(i,e)=>{i=new k(i),e=new k(e),i.alpha()<1&&(i=Xi(e,i,i.alpha(),"rgb"));const t=F1(...i.rgb()),r=F1(...e.rgb()),n=t>=io?t:t+Math.pow(io-t,M1),s=r>=io?r:r+Math.pow(io-r,M1),o=Math.pow(s,.56)-Math.pow(n,.57),a=Math.pow(s,.65)-Math.pow(n,.62),u=Math.abs(s-n)<u3?0:n<s?o*A1:a*A1;return(Math.abs(u)<l3?0:u>0?u-D1:u+D1)*100};function F1(i,e,t){return .2126729*Math.pow(i/255,2.4)+.7151522*Math.pow(e/255,2.4)+.072175*Math.pow(t/255,2.4)}const{sqrt:Zt,pow:qe,min:c3,max:h3,atan2:N1,abs:B1,cos:no,sin:j1,exp:f3,PI:L1}=Math;function v3(i,e,t=1,r=1,n=1){var s=function(ve){return 360*ve/(2*L1)},o=function(ve){return 2*L1*ve/360};i=new k(i),e=new k(e);const[a,u,l]=Array.from(i.lab()),[d,c,h]=Array.from(e.lab()),f=(a+d)/2,v=Zt(qe(u,2)+qe(l,2)),g=Zt(qe(c,2)+qe(h,2)),_=(v+g)/2,y=.5*(1-Zt(qe(_,7)/(qe(_,7)+qe(25,7)))),p=u*(1+y),O=c*(1+y),m=Zt(qe(p,2)+qe(l,2)),S=Zt(qe(O,2)+qe(h,2)),$=(m+S)/2,w=s(N1(l,p)),b=s(N1(h,O)),E=w>=0?w:w+360,I=b>=0?b:b+360,T=B1(E-I)>180?(E+I+360)/2:(E+I)/2,P=1-.17*no(o(T-30))+.24*no(o(2*T))+.32*no(o(3*T+6))-.2*no(o(4*T-63));let R=I-E;R=B1(R)<=180?R:I<=E?R+360:R-360,R=2*Zt(m*S)*j1(o(R)/2);const q=d-a,A=S-m,Y=1+.015*qe(f-50,2)/Zt(20+qe(f-50,2)),L=1+.045*$,Q=1+.015*$*P,re=30*f3(-qe((T-275)/25,2)),H=-(2*Zt(qe($,7)/(qe($,7)+qe(25,7))))*j1(2*o(re)),le=Zt(qe(q/(t*Y),2)+qe(A/(r*L),2)+qe(R/(n*Q),2)+H*(A/(r*L))*(R/(n*Q)));return h3(0,c3(100,le))}function p3(i,e,t="lab"){i=new k(i),e=new k(e);const r=i.get(t),n=e.get(t);let s=0;for(let o in r){const a=(r[o]||0)-(n[o]||0);s+=a*a}return Math.sqrt(s)}const g3=(...i)=>{try{return new k(...i),!0}catch{return!1}},y3={cool(){return wo([ee.hsl(180,1,.9),ee.hsl(250,.7,.4)])},hot(){return wo(["#000","#f00","#ff0","#fff"]).mode("rgb")}},Gm={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},sM=Object.keys(Gm),z1=new Map(sM.map(i=>[i.toLowerCase(),i])),m3=typeof Proxy=="function"?new Proxy(Gm,{get(i,e){const t=e.toLowerCase();if(z1.has(t))return i[z1.get(t)]},getOwnPropertyNames(){return Object.getOwnPropertyNames(sM)}}):Gm,b3=(...i)=>{i=J(i,"cmyk");const[e,t,r,n]=i,s=i.length>4?i[4]:1;return n===1?[0,0,0,s]:[e>=1?0:255*(1-e)*(1-n),t>=1?0:255*(1-t)*(1-n),r>=1?0:255*(1-r)*(1-n),s]},{max:W1}=Math,_3=(...i)=>{let[e,t,r]=J(i,"rgb");e=e/255,t=t/255,r=r/255;const n=1-W1(e,W1(t,r)),s=n<1?1/(1-n):0,o=(1-e-n)*s,a=(1-t-n)*s,u=(1-r-n)*s;return[o,a,u,n]};k.prototype.cmyk=function(){return _3(this._rgb)};const w3=(...i)=>new k(...i,"cmyk");Object.assign(ee,{cmyk:w3});Z.format.cmyk=b3;Z.autodetect.push({p:2,test:(...i)=>{if(i=J(i,"cmyk"),se(i)==="array"&&i.length===4)return"cmyk"}});const E3=(...i)=>{const e=J(i,"hsla");let t=an(i)||"lsa";return e[0]=bt(e[0]||0)+"deg",e[1]=bt(e[1]*100)+"%",e[2]=bt(e[2]*100)+"%",t==="hsla"||e.length>3&&e[3]<1?(e[3]="/ "+(e.length>3?e[3]:1),t="hsla"):e.length=3,`${t.substr(0,3)}(${e.join(" ")})`},S3=(...i)=>{const e=J(i,"lab");let t=an(i)||"lab";return e[0]=bt(e[0])+"%",e[1]=bt(e[1]),e[2]=bt(e[2]),t==="laba"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lab(${e.join(" ")})`},O3=(...i)=>{const e=J(i,"lch");let t=an(i)||"lab";return e[0]=bt(e[0])+"%",e[1]=bt(e[1]),e[2]=isNaN(e[2])?"none":bt(e[2])+"deg",t==="lcha"||e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`lch(${e.join(" ")})`},I3=(...i)=>{const e=J(i,"lab");return e[0]=bt(e[0]*100)+"%",e[1]=Wm(e[1]),e[2]=Wm(e[2]),e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklab(${e.join(" ")})`},oM=(...i)=>{const[e,t,r,...n]=J(i,"rgb"),[s,o,a]=yb(e,t,r),[u,l,d]=QA(s,o,a);return[u,l,d,...n.length>0&&n[0]<1?[n[0]]:[]]},$3=(...i)=>{const e=J(i,"lch");return e[0]=bt(e[0]*100)+"%",e[1]=Wm(e[1]),e[2]=isNaN(e[2])?"none":bt(e[2])+"deg",e.length>3&&e[3]<1?e[3]="/ "+(e.length>3?e[3]:1):e.length=3,`oklch(${e.join(" ")})`},{round:qa}=Math,T3=(...i)=>{const e=J(i,"rgba");let t=an(i)||"rgb";if(t.substr(0,3)==="hsl")return E3(tM(e),t);if(t.substr(0,3)==="lab"){const r=as();Qt("d50");const n=S3(fb(e),t);return Qt(r),n}if(t.substr(0,3)==="lch"){const r=as();Qt("d50");const n=O3(pb(e),t);return Qt(r),n}return t.substr(0,5)==="oklab"?I3(yb(e)):t.substr(0,5)==="oklch"?$3(oM(e)):(e[0]=qa(e[0]),e[1]=qa(e[1]),e[2]=qa(e[2]),(t==="rgba"||e.length>3&&e[3]<1)&&(e[3]="/ "+(e.length>3?e[3]:1),t="rgba"),`${t.substr(0,3)}(${e.slice(0,t==="rgb"?3:4).join(" ")})`)},aM=(...i)=>{i=J(i,"lch");const[e,t,r,...n]=i,[s,o,a]=JA(e,t,r),[u,l,d]=gb(s,o,a);return[u,l,d,...n.length>0&&n[0]<1?[n[0]]:[]]},rr=/((?:-?\d+)|(?:-?\d+(?:\.\d+)?)%|none)/.source,Dt=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%?)|none)/.source,Eo=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)%)|none)/.source,Et=/\s*/.source,ln=/\s+/.source,mb=/\s*,\s*/.source,Mo=/((?:-?(?:\d+(?:\.\d*)?|\.\d+)(?:deg)?)|none)/.source,dn=/\s*(?:\/\s*((?:[01]|[01]?\.\d+)|\d+(?:\.\d+)?%))?/.source,uM=new RegExp("^rgba?\\("+Et+[rr,rr,rr].join(ln)+dn+"\\)$"),lM=new RegExp("^rgb\\("+Et+[rr,rr,rr].join(mb)+Et+"\\)$"),dM=new RegExp("^rgba\\("+Et+[rr,rr,rr,Dt].join(mb)+Et+"\\)$"),cM=new RegExp("^hsla?\\("+Et+[Mo,Eo,Eo].join(ln)+dn+"\\)$"),hM=new RegExp("^hsl?\\("+Et+[Mo,Eo,Eo].join(mb)+Et+"\\)$"),fM=/^hsla\(\s*(-?\d+(?:\.\d+)?),\s*(-?\d+(?:\.\d+)?)%\s*,\s*(-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)$/,vM=new RegExp("^lab\\("+Et+[Dt,Dt,Dt].join(ln)+dn+"\\)$"),pM=new RegExp("^lch\\("+Et+[Dt,Dt,Mo].join(ln)+dn+"\\)$"),gM=new RegExp("^oklab\\("+Et+[Dt,Dt,Dt].join(ln)+dn+"\\)$"),yM=new RegExp("^oklch\\("+Et+[Dt,Dt,Mo].join(ln)+dn+"\\)$"),{round:mM}=Math,xi=i=>i.map((e,t)=>t<=2?Qr(mM(e),0,255):e),xe=(i,e=0,t=100,r=!1)=>(typeof i=="string"&&i.endsWith("%")&&(i=parseFloat(i.substring(0,i.length-1))/100,r?i=e+(i+1)*.5*(t-e):i=e+i*(t-e)),+i),it=(i,e)=>i==="none"?e:i,bb=i=>{if(i=i.toLowerCase().trim(),i==="transparent")return[0,0,0,0];let e;if(Z.format.named)try{return Z.format.named(i)}catch{}if((e=i.match(uM))||(e=i.match(lM))){let t=e.slice(1,4);for(let n=0;n<3;n++)t[n]=+xe(it(t[n],0),0,255);t=xi(t);const r=e[4]!==void 0?+xe(e[4],0,1):1;return t[3]=r,t}if(e=i.match(dM)){const t=e.slice(1,5);for(let r=0;r<4;r++)t[r]=+xe(t[r],0,255);return t}if((e=i.match(cM))||(e=i.match(hM))){const t=e.slice(1,4);t[0]=+it(t[0].replace("deg",""),0),t[1]=+xe(it(t[1],0),0,100)*.01,t[2]=+xe(it(t[2],0),0,100)*.01;const r=xi(Hm(t)),n=e[4]!==void 0?+xe(e[4],0,1):1;return r[3]=n,r}if(e=i.match(fM)){const t=e.slice(1,4);t[1]*=.01,t[2]*=.01;const r=Hm(t);for(let n=0;n<3;n++)r[n]=mM(r[n]);return r[3]=+e[4],r}if(e=i.match(vM)){const t=e.slice(1,4);t[0]=xe(it(t[0],0),0,100),t[1]=xe(it(t[1],0),-125,125,!0),t[2]=xe(it(t[2],0),-125,125,!0);const r=as();Qt("d50");const n=xi(hb(t));Qt(r);const s=e[4]!==void 0?+xe(e[4],0,1):1;return n[3]=s,n}if(e=i.match(pM)){const t=e.slice(1,4);t[0]=xe(t[0],0,100),t[1]=xe(it(t[1],0),0,150,!1),t[2]=+it(t[2].replace("deg",""),0);const r=as();Qt("d50");const n=xi(vb(t));Qt(r);const s=e[4]!==void 0?+xe(e[4],0,1):1;return n[3]=s,n}if(e=i.match(gM)){const t=e.slice(1,4);t[0]=xe(it(t[0],0),0,1),t[1]=xe(it(t[1],0),-.4,.4,!0),t[2]=xe(it(t[2],0),-.4,.4,!0);const r=xi(gb(t)),n=e[4]!==void 0?+xe(e[4],0,1):1;return r[3]=n,r}if(e=i.match(yM)){const t=e.slice(1,4);t[0]=xe(it(t[0],0),0,1),t[1]=xe(it(t[1],0),0,.4,!1),t[2]=+it(t[2].replace("deg",""),0);const r=xi(aM(t)),n=e[4]!==void 0?+xe(e[4],0,1):1;return r[3]=n,r}};bb.test=i=>uM.test(i)||cM.test(i)||vM.test(i)||pM.test(i)||gM.test(i)||yM.test(i)||lM.test(i)||dM.test(i)||hM.test(i)||fM.test(i)||i==="transparent";k.prototype.css=function(i){return T3(this._rgb,i)};const P3=(...i)=>new k(...i,"css");ee.css=P3;Z.format.css=bb;Z.autodetect.push({p:5,test:(i,...e)=>{if(!e.length&&se(i)==="string"&&bb.test(i))return"css"}});Z.format.gl=(...i)=>{const e=J(i,"rgba");return e[0]*=255,e[1]*=255,e[2]*=255,e};const R3=(...i)=>new k(...i,"gl");ee.gl=R3;k.prototype.gl=function(){const i=this._rgb;return[i[0]/255,i[1]/255,i[2]/255,i[3]]};k.prototype.hex=function(i){return YA(this._rgb,i)};const C3=(...i)=>new k(...i,"hex");ee.hex=C3;Z.format.hex=KA;Z.autodetect.push({p:4,test:(i,...e)=>{if(!e.length&&se(i)==="string"&&[3,4,5,6,7,8,9].indexOf(i.length)>=0)return"hex"}});const{log:so}=Math,bM=i=>{const e=i/100;let t,r,n;return e<66?(t=255,r=e<6?0:-155.25485562709179-.44596950469579133*(r=e-2)+104.49216199393888*so(r),n=e<20?0:-254.76935184120902+.8274096064007395*(n=e-10)+115.67994401066147*so(n)):(t=351.97690566805693+.114206453784165*(t=e-55)-40.25366309332127*so(t),r=325.4494125711974+.07943456536662342*(r=e-50)-28.0852963507957*so(r),n=255),[t,r,n,1]},{round:q3}=Math,x3=(...i)=>{const e=J(i,"rgb"),t=e[0],r=e[2];let n=1e3,s=4e4;const o=.4;let a;for(;s-n>o;){a=(s+n)*.5;const u=bM(a);u[2]/u[0]>=r/t?s=a:n=a}return q3(a)};k.prototype.temp=k.prototype.kelvin=k.prototype.temperature=function(){return x3(this._rgb)};const xa=(...i)=>new k(...i,"temp");Object.assign(ee,{temp:xa,kelvin:xa,temperature:xa});Z.format.temp=Z.format.kelvin=Z.format.temperature=bM;k.prototype.oklch=function(){return oM(this._rgb)};const k3=(...i)=>new k(...i,"oklch");Object.assign(ee,{oklch:k3});Z.format.oklch=aM;Z.autodetect.push({p:2,test:(...i)=>{if(i=J(i,"oklch"),se(i)==="array"&&i.length===3)return"oklch"}});Object.assign(ee,{analyze:iM,average:DB,bezier:jB,blend:Mt,brewer:m3,Color:k,colors:Yi,contrast:a3,contrastAPCA:d3,cubehelix:QB,deltaE:v3,distance:p3,input:Z,interpolate:Xi,limits:nM,mix:Xi,random:i3,scale:wo,scales:y3,valid:g3});/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.1
 * @date    2025-07-13T02:52:37.151Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var H1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ue(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ka={exports:{}},G1={},Vn,V1;function Me(){if(V1)return Vn;V1=1;var i=function(e){return e&&e.Math===Math&&e};return Vn=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof H1=="object"&&H1)||i(typeof Vn=="object"&&Vn)||function(){return this}()||Function("return this")(),Vn}var Da,U1;function ce(){return U1||(U1=1,Da=function(i){try{return!!i()}catch{return!0}}),Da}var Aa,K1;function ws(){if(K1)return Aa;K1=1;var i=ce();return Aa=!i(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Aa}var Ma,Y1;function Fo(){if(Y1)return Ma;Y1=1;var i=ws(),e=Function.prototype,t=e.apply,r=e.call;return Ma=typeof Reflect=="object"&&Reflect.apply||(i?r.bind(t):function(){return r.apply(t,arguments)}),Ma}var Fa,X1;function me(){if(X1)return Fa;X1=1;var i=ws(),e=Function.prototype,t=e.call,r=i&&e.bind.bind(t,t);return Fa=i?r:function(n){return function(){return t.apply(n,arguments)}},Fa}var Na,Z1;function lr(){if(Z1)return Na;Z1=1;var i=me(),e=i({}.toString),t=i("".slice);return Na=function(r){return t(e(r),8,-1)},Na}var Ba,J1;function _M(){if(J1)return Ba;J1=1;var i=lr(),e=me();return Ba=function(t){if(i(t)==="Function")return e(t)},Ba}var ja,Q1;function ze(){if(Q1)return ja;Q1=1;var i=typeof document=="object"&&document.all;return ja=typeof i>"u"&&i!==void 0?function(e){return typeof e=="function"||e===i}:function(e){return typeof e=="function"},ja}var La={},za,e0;function Fe(){if(e0)return za;e0=1;var i=ce();return za=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),za}var Wa,t0;function ht(){if(t0)return Wa;t0=1;var i=ws(),e=Function.prototype.call;return Wa=i?e.bind(e):function(){return e.apply(e,arguments)},Wa}var Ha={},r0;function _b(){if(r0)return Ha;r0=1;var i={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!i.call({1:2},1);return Ha.f=t?function(n){var s=e(this,n);return!!s&&s.enumerable}:i,Ha}var Ga,i0;function Es(){return i0||(i0=1,Ga=function(i,e){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:e}}),Ga}var Va,n0;function No(){if(n0)return Va;n0=1;var i=me(),e=ce(),t=lr(),r=Object,n=i("".split);return Va=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?n(s,""):r(s)}:r,Va}var Ua,s0;function Ss(){return s0||(s0=1,Ua=function(i){return i==null}),Ua}var Ka,o0;function ci(){if(o0)return Ka;o0=1;var i=Ss(),e=TypeError;return Ka=function(t){if(i(t))throw new e("Can't call method on "+t);return t},Ka}var Ya,a0;function dr(){if(a0)return Ya;a0=1;var i=No(),e=ci();return Ya=function(t){return i(e(t))},Ya}var Xa,u0;function ft(){if(u0)return Xa;u0=1;var i=ze();return Xa=function(e){return typeof e=="object"?e!==null:i(e)},Xa}var Za,l0;function We(){return l0||(l0=1,Za={}),Za}var Ja,d0;function pt(){if(d0)return Ja;d0=1;var i=We(),e=Me(),t=ze(),r=function(n){return t(n)?n:void 0};return Ja=function(n,s){return arguments.length<2?r(i[n])||r(e[n]):i[n]&&i[n][s]||e[n]&&e[n][s]},Ja}var Qa,c0;function et(){if(c0)return Qa;c0=1;var i=me();return Qa=i({}.isPrototypeOf),Qa}var eu,h0;function cn(){if(h0)return eu;h0=1;var i=Me(),e=i.navigator,t=e&&e.userAgent;return eu=t?String(t):"",eu}var tu,f0;function Os(){if(f0)return tu;f0=1;var i=Me(),e=cn(),t=i.process,r=i.Deno,n=t&&t.versions||r&&r.version,s=n&&n.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),tu=a,tu}var ru,v0;function hn(){if(v0)return ru;v0=1;var i=Os(),e=ce(),t=Me(),r=t.String;return ru=!!Object.getOwnPropertySymbols&&!e(function(){var n=Symbol("symbol detection");return!r(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&i&&i<41}),ru}var iu,p0;function wM(){if(p0)return iu;p0=1;var i=hn();return iu=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol",iu}var nu,g0;function Is(){if(g0)return nu;g0=1;var i=pt(),e=ze(),t=et(),r=wM(),n=Object;return nu=r?function(s){return typeof s=="symbol"}:function(s){var o=i("Symbol");return e(o)&&t(o.prototype,n(s))},nu}var su,y0;function fn(){if(y0)return su;y0=1;var i=String;return su=function(e){try{return i(e)}catch{return"Object"}},su}var ou,m0;function cr(){if(m0)return ou;m0=1;var i=ze(),e=fn(),t=TypeError;return ou=function(r){if(i(r))return r;throw new t(e(r)+" is not a function")},ou}var au,b0;function wb(){if(b0)return au;b0=1;var i=cr(),e=Ss();return au=function(t,r){var n=t[r];return e(n)?void 0:i(n)},au}var uu,_0;function D3(){if(_0)return uu;_0=1;var i=ht(),e=ze(),t=ft(),r=TypeError;return uu=function(n,s){var o,a;if(s==="string"&&e(o=n.toString)&&!t(a=i(o,n))||e(o=n.valueOf)&&!t(a=i(o,n))||s!=="string"&&e(o=n.toString)&&!t(a=i(o,n)))return a;throw new r("Can't convert object to primitive value")},uu}var lu={exports:{}},du,w0;function vn(){return w0||(w0=1,du=!0),du}var cu,E0;function A3(){if(E0)return cu;E0=1;var i=Me(),e=Object.defineProperty;return cu=function(t,r){try{e(i,t,{value:r,configurable:!0,writable:!0})}catch{i[t]=r}return r},cu}var S0;function Eb(){if(S0)return lu.exports;S0=1;var i=vn(),e=Me(),t=A3(),r="__core-js_shared__",n=lu.exports=e[r]||t(r,{});return(n.versions||(n.versions=[])).push({version:"3.44.0",mode:i?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),lu.exports}var hu,O0;function pn(){if(O0)return hu;O0=1;var i=Eb();return hu=function(e,t){return i[e]||(i[e]=t||{})},hu}var fu,I0;function Bt(){if(I0)return fu;I0=1;var i=ci(),e=Object;return fu=function(t){return e(i(t))},fu}var vu,$0;function He(){if($0)return vu;$0=1;var i=me(),e=Bt(),t=i({}.hasOwnProperty);return vu=Object.hasOwn||function(n,s){return t(e(n),s)},vu}var pu,T0;function Bo(){if(T0)return pu;T0=1;var i=me(),e=0,t=Math.random(),r=i(1.1.toString);return pu=function(n){return"Symbol("+(n===void 0?"":n)+")_"+r(++e+t,36)},pu}var gu,P0;function Xe(){if(P0)return gu;P0=1;var i=Me(),e=pn(),t=He(),r=Bo(),n=hn(),s=wM(),o=i.Symbol,a=e("wks"),u=s?o.for||o:o&&o.withoutSetter||r;return gu=function(l){return t(a,l)||(a[l]=n&&t(o,l)?o[l]:u("Symbol."+l)),a[l]},gu}var yu,R0;function EM(){if(R0)return yu;R0=1;var i=ht(),e=ft(),t=Is(),r=wb(),n=D3(),s=Xe(),o=TypeError,a=s("toPrimitive");return yu=function(u,l){if(!e(u)||t(u))return u;var d=r(u,a),c;if(d){if(l===void 0&&(l="default"),c=i(d,u,l),!e(c)||t(c))return c;throw new o("Can't convert object to primitive value")}return l===void 0&&(l="number"),n(u,l)},yu}var mu,C0;function Sb(){if(C0)return mu;C0=1;var i=EM(),e=Is();return mu=function(t){var r=i(t,"string");return e(r)?r:r+""},mu}var bu,q0;function SM(){if(q0)return bu;q0=1;var i=Me(),e=ft(),t=i.document,r=e(t)&&e(t.createElement);return bu=function(n){return r?t.createElement(n):{}},bu}var _u,x0;function OM(){if(x0)return _u;x0=1;var i=Fe(),e=ce(),t=SM();return _u=!i&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),_u}var k0;function jo(){if(k0)return La;k0=1;var i=Fe(),e=ht(),t=_b(),r=Es(),n=dr(),s=Sb(),o=He(),a=OM(),u=Object.getOwnPropertyDescriptor;return La.f=i?u:function(d,c){if(d=n(d),c=s(c),a)try{return u(d,c)}catch{}if(o(d,c))return r(!e(t.f,d,c),d[c])},La}var wu,D0;function M3(){if(D0)return wu;D0=1;var i=ce(),e=ze(),t=/#|\.prototype\./,r=function(u,l){var d=s[n(u)];return d===a?!0:d===o?!1:e(l)?i(l):!!l},n=r.normalize=function(u){return String(u).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return wu=r,wu}var Eu,A0;function Lo(){if(A0)return Eu;A0=1;var i=_M(),e=cr(),t=ws(),r=i(i.bind);return Eu=function(n,s){return e(n),s===void 0?n:t?r(n,s):function(){return n.apply(s,arguments)}},Eu}var Su={},Ou,M0;function IM(){if(M0)return Ou;M0=1;var i=Fe(),e=ce();return Ou=i&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Ou}var Iu,F0;function hr(){if(F0)return Iu;F0=1;var i=ft(),e=String,t=TypeError;return Iu=function(r){if(i(r))return r;throw new t(e(r)+" is not an object")},Iu}var N0;function St(){if(N0)return Su;N0=1;var i=Fe(),e=OM(),t=IM(),r=hr(),n=Sb(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u="enumerable",l="configurable",d="writable";return Su.f=i?t?function(h,f,v){if(r(h),f=n(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&d in v&&!v[d]){var g=a(h,f);g&&g[d]&&(h[f]=v.value,v={configurable:l in v?v[l]:g[l],enumerable:u in v?v[u]:g[u],writable:!1})}return o(h,f,v)}:o:function(h,f,v){if(r(h),f=n(f),r(v),e)try{return o(h,f,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(h[f]=v.value),h},Su}var $u,B0;function gn(){if(B0)return $u;B0=1;var i=Fe(),e=St(),t=Es();return $u=i?function(r,n,s){return e.f(r,n,t(1,s))}:function(r,n,s){return r[n]=s,r},$u}var Tu,j0;function te(){if(j0)return Tu;j0=1;var i=Me(),e=Fo(),t=_M(),r=ze(),n=jo().f,s=M3(),o=We(),a=Lo(),u=gn(),l=He(),d=function(c){var h=function(f,v,g){if(this instanceof h){switch(arguments.length){case 0:return new c;case 1:return new c(f);case 2:return new c(f,v)}return new c(f,v,g)}return e(c,this,arguments)};return h.prototype=c.prototype,h};return Tu=function(c,h){var f=c.target,v=c.global,g=c.stat,_=c.proto,y=v?i:g?i[f]:i[f]&&i[f].prototype,p=v?o:o[f]||u(o,f,{})[f],O=p.prototype,m,S,$,w,b,E,I,T,P;for(w in h)m=s(v?w:f+(g?".":"#")+w,c.forced),S=!m&&y&&l(y,w),E=p[w],S&&(c.dontCallGetSet?(P=n(y,w),I=P&&P.value):I=y[w]),b=S&&I?I:h[w],!(!m&&!_&&typeof E==typeof b)&&(c.bind&&S?T=a(b,i):c.wrap&&S?T=d(b):_&&r(b)?T=t(b):T=b,(c.sham||b&&b.sham||E&&E.sham)&&u(T,"sham",!0),u(p,w,T),_&&($=f+"Prototype",l(o,$)||u(o,$,{}),u(o[$],w,b),c.real&&O&&(m||!O[w])&&u(O,w,b)))},Tu}var L0;function F3(){if(L0)return G1;L0=1;var i=te(),e=Fe(),t=St().f;return i({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),G1}var z0;function N3(){if(z0)return ka.exports;z0=1,F3();var i=We(),e=i.Object,t=ka.exports=function(n,s,o){return e.defineProperty(n,s,o)};return e.defineProperty.sham&&(t.sham=!0),ka.exports}var Pu,W0;function $M(){if(W0)return Pu;W0=1;var i=N3();return Pu=i,Pu}var Ru,H0;function B3(){if(H0)return Ru;H0=1;var i=$M();return Ru=i,Ru}var Cu,G0;function j3(){if(G0)return Cu;G0=1;var i=B3();return Cu=i,Cu}var qu,V0;function L3(){return V0||(V0=1,qu=j3()),qu}var z3=L3(),W3=ue(z3),U0={},xu,K0;function $s(){if(K0)return xu;K0=1;var i=lr();return xu=Array.isArray||function(t){return i(t)==="Array"},xu}var ku,Y0;function H3(){if(Y0)return ku;Y0=1;var i=Math.ceil,e=Math.floor;return ku=Math.trunc||function(r){var n=+r;return(n>0?e:i)(n)},ku}var Du,X0;function yn(){if(X0)return Du;X0=1;var i=H3();return Du=function(e){var t=+e;return t!==t||t===0?0:i(t)},Du}var Au,Z0;function TM(){if(Z0)return Au;Z0=1;var i=yn(),e=Math.min;return Au=function(t){var r=i(t);return r>0?e(r,9007199254740991):0},Au}var Mu,J0;function hi(){if(J0)return Mu;J0=1;var i=TM();return Mu=function(e){return i(e.length)},Mu}var Fu,Q0;function PM(){if(Q0)return Fu;Q0=1;var i=TypeError,e=9007199254740991;return Fu=function(t){if(t>e)throw i("Maximum allowed index exceeded");return t},Fu}var Nu,e_;function Ob(){if(e_)return Nu;e_=1;var i=Fe(),e=St(),t=Es();return Nu=function(r,n,s){i?e.f(r,n,t(0,s)):r[n]=s},Nu}var Bu,t_;function Ib(){if(t_)return Bu;t_=1;var i=Xe(),e=i("toStringTag"),t={};return t[e]="z",Bu=String(t)==="[object z]",Bu}var ju,r_;function xr(){if(r_)return ju;r_=1;var i=Ib(),e=ze(),t=lr(),r=Xe(),n=r("toStringTag"),s=Object,o=t(function(){return arguments}())==="Arguments",a=function(u,l){try{return u[l]}catch{}};return ju=i?t:function(u){var l,d,c;return u===void 0?"Undefined":u===null?"Null":typeof(d=a(l=s(u),n))=="string"?d:o?t(l):(c=t(l))==="Object"&&e(l.callee)?"Arguments":c},ju}var Lu,i_;function G3(){if(i_)return Lu;i_=1;var i=me(),e=ze(),t=Eb(),r=i(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(n){return r(n)}),Lu=t.inspectSource,Lu}var zu,n_;function V3(){if(n_)return zu;n_=1;var i=me(),e=ce(),t=ze(),r=xr(),n=pt(),s=G3(),o=function(){},a=n("Reflect","construct"),u=/^\s*(?:class|function)\b/,l=i(u.exec),d=!u.test(o),c=function(v){if(!t(v))return!1;try{return a(o,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!l(u,s(v))}catch{return!0}};return h.sham=!0,zu=!a||e(function(){var f;return c(c.call)||!c(Object)||!c(function(){f=!0})||f})?h:c,zu}var Wu,s_;function U3(){if(s_)return Wu;s_=1;var i=$s(),e=V3(),t=ft(),r=Xe(),n=r("species"),s=Array;return Wu=function(o){var a;return i(o)&&(a=o.constructor,e(a)&&(a===s||i(a.prototype))?a=void 0:t(a)&&(a=a[n],a===null&&(a=void 0))),a===void 0?s:a},Wu}var Hu,o_;function $b(){if(o_)return Hu;o_=1;var i=U3();return Hu=function(e,t){return new(i(e))(t===0?0:t)},Hu}var Gu,a_;function zo(){if(a_)return Gu;a_=1;var i=ce(),e=Xe(),t=Os(),r=e("species");return Gu=function(n){return t>=51||!i(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[n](Boolean).foo!==1})},Gu}var u_;function RM(){if(u_)return U0;u_=1;var i=te(),e=ce(),t=$s(),r=ft(),n=Bt(),s=hi(),o=PM(),a=Ob(),u=$b(),l=zo(),d=Xe(),c=Os(),h=d("isConcatSpreadable"),f=c>=51||!e(function(){var _=[];return _[h]=!1,_.concat()[0]!==_}),v=function(_){if(!r(_))return!1;var y=_[h];return y!==void 0?!!y:t(_)},g=!f||!l("concat");return i({target:"Array",proto:!0,arity:1,forced:g},{concat:function(y){var p=n(this),O=u(p,0),m=0,S,$,w,b,E;for(S=-1,w=arguments.length;S<w;S++)if(E=S===-1?p:arguments[S],v(E))for(b=s(E),o(m+b),$=0;$<b;$++,m++)$ in E&&a(O,m,E[$]);else o(m+1),a(O,m++,E);return O.length=m,O}}),U0}var l_={},d_={},Vu,c_;function kr(){if(c_)return Vu;c_=1;var i=xr(),e=String;return Vu=function(t){if(i(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},Vu}var Uu={},Ku,h_;function CM(){if(h_)return Ku;h_=1;var i=yn(),e=Math.max,t=Math.min;return Ku=function(r,n){var s=i(r);return s<0?e(s+n,0):t(s,n)},Ku}var Yu,f_;function K3(){if(f_)return Yu;f_=1;var i=dr(),e=CM(),t=hi(),r=function(n){return function(s,o,a){var u=i(s),l=t(u);if(l===0)return!n&&-1;var d=e(a,l),c;if(n&&o!==o){for(;l>d;)if(c=u[d++],c!==c)return!0}else for(;l>d;d++)if((n||d in u)&&u[d]===o)return n||d||0;return!n&&-1}};return Yu={includes:r(!0),indexOf:r(!1)},Yu}var Xu,v_;function Ts(){return v_||(v_=1,Xu={}),Xu}var Zu,p_;function qM(){if(p_)return Zu;p_=1;var i=me(),e=He(),t=dr(),r=K3().indexOf,n=Ts(),s=i([].push);return Zu=function(o,a){var u=t(o),l=0,d=[],c;for(c in u)!e(n,c)&&e(u,c)&&s(d,c);for(;a.length>l;)e(u,c=a[l++])&&(~r(d,c)||s(d,c));return d},Zu}var Ju,g_;function Tb(){return g_||(g_=1,Ju=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Ju}var Qu,y_;function Wo(){if(y_)return Qu;y_=1;var i=qM(),e=Tb();return Qu=Object.keys||function(r){return i(r,e)},Qu}var m_;function Pb(){if(m_)return Uu;m_=1;var i=Fe(),e=IM(),t=St(),r=hr(),n=dr(),s=Wo();return Uu.f=i&&!e?Object.defineProperties:function(a,u){r(a);for(var l=n(u),d=s(u),c=d.length,h=0,f;c>h;)t.f(a,f=d[h++],l[f]);return a},Uu}var el,b_;function Y3(){if(b_)return el;b_=1;var i=pt();return el=i("document","documentElement"),el}var tl,__;function Ho(){if(__)return tl;__=1;var i=pn(),e=Bo(),t=i("keys");return tl=function(r){return t[r]||(t[r]=e(r))},tl}var rl,w_;function Ps(){if(w_)return rl;w_=1;var i=hr(),e=Pb(),t=Tb(),r=Ts(),n=Y3(),s=SM(),o=Ho(),a=">",u="<",l="prototype",d="script",c=o("IE_PROTO"),h=function(){},f=function(p){return u+d+a+p+u+"/"+d+a},v=function(p){p.write(f("")),p.close();var O=p.parentWindow.Object;return p=null,O},g=function(){var p=s("iframe"),O="java"+d+":",m;return p.style.display="none",n.appendChild(p),p.src=String(O),m=p.contentWindow.document,m.open(),m.write(f("document.F=Object")),m.close(),m.F},_,y=function(){try{_=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&_?v(_):g():v(_);for(var p=t.length;p--;)delete y[l][t[p]];return y()};return r[c]=!0,rl=Object.create||function(O,m){var S;return O!==null?(h[l]=i(O),S=new h,h[l]=null,S[c]=O):S=y(),m===void 0?S:e.f(S,m)},rl}var il={},E_;function Go(){if(E_)return il;E_=1;var i=qM(),e=Tb(),t=e.concat("length","prototype");return il.f=Object.getOwnPropertyNames||function(n){return i(n,t)},il}var nl={},sl,S_;function Rs(){if(S_)return sl;S_=1;var i=me();return sl=i([].slice),sl}var O_;function xM(){if(O_)return nl;O_=1;var i=lr(),e=dr(),t=Go().f,r=Rs(),n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(n)}};return nl.f=function(a){return n&&i(a)==="Window"?s(a):t(e(a))},nl}var ol={},I_;function Vo(){return I_||(I_=1,ol.f=Object.getOwnPropertySymbols),ol}var al,$_;function Cs(){if($_)return al;$_=1;var i=gn();return al=function(e,t,r,n){return n&&n.enumerable?e[t]=r:i(e,t,r),e},al}var ul,T_;function Rb(){if(T_)return ul;T_=1;var i=St();return ul=function(e,t,r){return i.f(e,t,r)},ul}var ll={},P_;function Uo(){if(P_)return ll;P_=1;var i=Xe();return ll.f=i,ll}var dl,R_;function Ie(){if(R_)return dl;R_=1;var i=We(),e=He(),t=Uo(),r=St().f;return dl=function(n){var s=i.Symbol||(i.Symbol={});e(s,n)||r(s,n,{value:t.f(n)})},dl}var cl,C_;function kM(){if(C_)return cl;C_=1;var i=ht(),e=pt(),t=Xe(),r=Cs();return cl=function(){var n=e("Symbol"),s=n&&n.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(u){return i(o,this)},{arity:1})},cl}var hl,q_;function X3(){if(q_)return hl;q_=1;var i=Ib(),e=xr();return hl=i?{}.toString:function(){return"[object "+e(this)+"]"},hl}var fl,x_;function fi(){if(x_)return fl;x_=1;var i=Ib(),e=St().f,t=gn(),r=He(),n=X3(),s=Xe(),o=s("toStringTag");return fl=function(a,u,l,d){var c=l?a:a&&a.prototype;c&&(r(c,o)||e(c,o,{configurable:!0,value:u}),d&&!i&&t(c,"toString",n))},fl}var vl,k_;function Z3(){if(k_)return vl;k_=1;var i=Me(),e=ze(),t=i.WeakMap;return vl=e(t)&&/native code/.test(String(t)),vl}var pl,D_;function qs(){if(D_)return pl;D_=1;var i=Z3(),e=Me(),t=ft(),r=gn(),n=He(),s=Eb(),o=Ho(),a=Ts(),u="Object already initialized",l=e.TypeError,d=e.WeakMap,c,h,f,v=function(p){return f(p)?h(p):c(p,{})},g=function(p){return function(O){var m;if(!t(O)||(m=h(O)).type!==p)throw new l("Incompatible receiver, "+p+" required");return m}};if(i||s.state){var _=s.state||(s.state=new d);_.get=_.get,_.has=_.has,_.set=_.set,c=function(p,O){if(_.has(p))throw new l(u);return O.facade=p,_.set(p,O),O},h=function(p){return _.get(p)||{}},f=function(p){return _.has(p)}}else{var y=o("state");a[y]=!0,c=function(p,O){if(n(p,y))throw new l(u);return O.facade=p,r(p,y,O),O},h=function(p){return n(p,y)?p[y]:{}},f=function(p){return n(p,y)}}return pl={set:c,get:h,has:f,enforce:v,getterFor:g},pl}var gl,A_;function mn(){if(A_)return gl;A_=1;var i=Lo(),e=me(),t=No(),r=Bt(),n=hi(),s=$b(),o=e([].push),a=function(u){var l=u===1,d=u===2,c=u===3,h=u===4,f=u===6,v=u===7,g=u===5||f;return function(_,y,p,O){for(var m=r(_),S=t(m),$=n(S),w=i(y,p),b=0,E=O||s,I=l?E(_,$):d||v?E(_,0):void 0,T,P;$>b;b++)if((g||b in S)&&(T=S[b],P=w(T,b,m),u))if(l)I[b]=P;else if(P)switch(u){case 3:return!0;case 5:return T;case 6:return b;case 2:o(I,T)}else switch(u){case 4:return!1;case 7:o(I,T)}return f?-1:c||h?h:I}};return gl={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},gl}var M_;function J3(){if(M_)return d_;M_=1;var i=te(),e=Me(),t=ht(),r=me(),n=vn(),s=Fe(),o=hn(),a=ce(),u=He(),l=et(),d=hr(),c=dr(),h=Sb(),f=kr(),v=Es(),g=Ps(),_=Wo(),y=Go(),p=xM(),O=Vo(),m=jo(),S=St(),$=Pb(),w=_b(),b=Cs(),E=Rb(),I=pn(),T=Ho(),P=Ts(),R=Bo(),q=Xe(),A=Uo(),Y=Ie(),L=kM(),Q=fi(),re=qs(),he=mn().forEach,H=T("hidden"),le="Symbol",ve="prototype",Se=re.set,Ct=re.getterFor(le),be=Object[ve],tt=e.Symbol,qt=tt&&tt[ve],ma=e.RangeError,ba=e.TypeError,Br=e.QObject,Fn=m.f,rt=S.f,Nn=p.f,_a=w.f,Bn=r([].push),je=I("symbols"),xt=I("op-symbols"),wa=I("wks"),jr=!Br||!Br[ve]||!Br[ve].findChild,jn=function(V,N,B){var j=Fn(be,N);j&&delete be[N],rt(V,N,B),j&&V!==be&&rt(be,N,j)},Lr=s&&a(function(){return g(rt({},"a",{get:function(){return rt(this,"a",{value:7}).a}})).a!==7})?jn:rt,zr=function(V,N){var B=je[V]=g(qt);return Se(B,{type:le,tag:V,description:N}),s||(B.description=N),B},Xt=function(N,B,j){N===be&&Xt(xt,B,j),d(N);var U=h(B);return d(j),u(je,U)?(j.enumerable?(u(N,H)&&N[H][U]&&(N[H][U]=!1),j=g(j,{enumerable:v(0,!1)})):(u(N,H)||rt(N,H,v(1,g(null))),N[H][U]=!0),Lr(N,U,j)):rt(N,U,j)},Wr=function(N,B){d(N);var j=c(B),U=_(j).concat(Wn(j));return he(U,function(de){(!s||t(Hr,j,de))&&Xt(N,de,j[de])}),N},Ea=function(N,B){return B===void 0?g(N):Wr(g(N),B)},Hr=function(N){var B=h(N),j=t(_a,this,B);return this===be&&u(je,B)&&!u(xt,B)?!1:j||!u(this,B)||!u(je,B)||u(this,H)&&this[H][B]?j:!0},Ln=function(N,B){var j=c(N),U=h(B);if(!(j===be&&u(je,U)&&!u(xt,U))){var de=Fn(j,U);return de&&u(je,U)&&!(u(j,H)&&j[H][U])&&(de.enumerable=!0),de}},zn=function(N){var B=Nn(c(N)),j=[];return he(B,function(U){!u(je,U)&&!u(P,U)&&Bn(j,U)}),j},Wn=function(V){var N=V===be,B=Nn(N?xt:c(V)),j=[];return he(B,function(U){u(je,U)&&(!N||u(be,U))&&Bn(j,je[U])}),j};return o||(tt=function(){if(l(qt,this))throw new ba("Symbol is not a constructor");var N=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),B=R(N),j=function(U){var de=this===void 0?e:this;de===be&&t(j,xt,U),u(de,H)&&u(de[H],B)&&(de[H][B]=!1);var Hn=v(1,U);try{Lr(de,B,Hn)}catch(Gn){if(!(Gn instanceof ma))throw Gn;jn(de,B,Hn)}};return s&&jr&&Lr(be,B,{configurable:!0,set:j}),zr(B,N)},qt=tt[ve],b(qt,"toString",function(){return Ct(this).tag}),b(tt,"withoutSetter",function(V){return zr(R(V),V)}),w.f=Hr,S.f=Xt,$.f=Wr,m.f=Ln,y.f=p.f=zn,O.f=Wn,A.f=function(V){return zr(q(V),V)},s&&(E(qt,"description",{configurable:!0,get:function(){return Ct(this).description}}),n||b(be,"propertyIsEnumerable",Hr,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:tt}),he(_(wa),function(V){Y(V)}),i({target:le,stat:!0,forced:!o},{useSetter:function(){jr=!0},useSimple:function(){jr=!1}}),i({target:"Object",stat:!0,forced:!o,sham:!s},{create:Ea,defineProperty:Xt,defineProperties:Wr,getOwnPropertyDescriptor:Ln}),i({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:zn}),L(),Q(tt,le),P[H]=!0,d_}var F_={},yl,N_;function DM(){if(N_)return yl;N_=1;var i=hn();return yl=i&&!!Symbol.for&&!!Symbol.keyFor,yl}var B_;function Q3(){if(B_)return F_;B_=1;var i=te(),e=pt(),t=He(),r=kr(),n=pn(),s=DM(),o=n("string-to-symbol-registry"),a=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{for:function(u){var l=r(u);if(t(o,l))return o[l];var d=e("Symbol")(l);return o[l]=d,a[d]=l,d}}),F_}var j_={},L_;function ej(){if(L_)return j_;L_=1;var i=te(),e=He(),t=Is(),r=fn(),n=pn(),s=DM(),o=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!t(u))throw new TypeError(r(u)+" is not a symbol");if(e(o,u))return o[u]}}),j_}var z_={},ml,W_;function tj(){if(W_)return ml;W_=1;var i=me(),e=$s(),t=ze(),r=lr(),n=kr(),s=i([].push);return ml=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,u=[],l=0;l<a;l++){var d=o[l];typeof d=="string"?s(u,d):(typeof d=="number"||r(d)==="Number"||r(d)==="String")&&s(u,n(d))}var c=u.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var g=0;g<c;g++)if(u[g]===f)return v}}},ml}var H_;function AM(){if(H_)return z_;H_=1;var i=te(),e=pt(),t=Fo(),r=ht(),n=me(),s=ce(),o=ze(),a=Is(),u=Rs(),l=tj(),d=hn(),c=String,h=e("JSON","stringify"),f=n(/./.exec),v=n("".charAt),g=n("".charCodeAt),_=n("".replace),y=n(1.1.toString),p=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,S=!d||s(function(){var E=e("Symbol")("stringify detection");return h([E])!=="[null]"||h({a:E})!=="{}"||h(Object(E))!=="{}"}),$=s(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),w=function(E,I){var T=u(arguments),P=l(I);if(!(!o(P)&&(E===void 0||a(E))))return T[1]=function(R,q){if(o(P)&&(q=r(P,this,c(R),q)),!a(q))return q},t(h,null,T)},b=function(E,I,T){var P=v(T,I-1),R=v(T,I+1);return f(O,E)&&!f(m,R)||f(m,E)&&!f(O,P)?"\\u"+y(g(E,0),16):E};return h&&i({target:"JSON",stat:!0,arity:3,forced:S||$},{stringify:function(I,T,P){var R=u(arguments),q=t(S?w:h,null,R);return $&&typeof q=="string"?_(q,p,b):q}}),z_}var G_={},V_;function rj(){if(V_)return G_;V_=1;var i=te(),e=hn(),t=ce(),r=Vo(),n=Bt(),s=!e||t(function(){r.f(1)});return i({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var u=r.f;return u?u(n(a)):[]}}),G_}var U_;function MM(){return U_||(U_=1,J3(),Q3(),ej(),AM(),rj()),l_}var K_={},Y_;function FM(){if(Y_)return K_;Y_=1;var i=Ie();return i("asyncDispose"),K_}var X_={},Z_;function ij(){if(Z_)return X_;Z_=1;var i=Ie();return i("asyncIterator"),X_}var J_={},Q_;function NM(){if(Q_)return J_;Q_=1;var i=Ie();return i("dispose"),J_}var ew={},tw;function nj(){if(tw)return ew;tw=1;var i=Ie();return i("hasInstance"),ew}var rw={},iw;function sj(){if(iw)return rw;iw=1;var i=Ie();return i("isConcatSpreadable"),rw}var nw={},sw;function BM(){if(sw)return nw;sw=1;var i=Ie();return i("iterator"),nw}var ow={},aw;function oj(){if(aw)return ow;aw=1;var i=Ie();return i("match"),ow}var uw={},lw;function aj(){if(lw)return uw;lw=1;var i=Ie();return i("matchAll"),uw}var dw={},cw;function uj(){if(cw)return dw;cw=1;var i=Ie();return i("replace"),dw}var hw={},fw;function lj(){if(fw)return hw;fw=1;var i=Ie();return i("search"),hw}var vw={},pw;function dj(){if(pw)return vw;pw=1;var i=Ie();return i("species"),vw}var gw={},yw;function cj(){if(yw)return gw;yw=1;var i=Ie();return i("split"),gw}var mw={},bw;function jM(){if(bw)return mw;bw=1;var i=Ie(),e=kM();return i("toPrimitive"),e(),mw}var _w={},ww;function hj(){if(ww)return _w;ww=1;var i=pt(),e=Ie(),t=fi();return e("toStringTag"),t(i("Symbol"),"Symbol"),_w}var Ew={},Sw;function fj(){if(Sw)return Ew;Sw=1;var i=Ie();return i("unscopables"),Ew}var Ow={},Iw;function vj(){if(Iw)return Ow;Iw=1;var i=Me(),e=fi();return e(i.JSON,"JSON",!0),Ow}var bl,$w;function pj(){if($w)return bl;$w=1,RM(),MM(),FM(),ij(),NM(),nj(),sj(),BM(),oj(),aj(),uj(),lj(),dj(),cj(),jM(),hj(),fj(),vj();var i=We();return bl=i.Symbol,bl}var Tw={},_l,Pw;function gj(){return Pw||(Pw=1,_l=function(){}),_l}var wl,Rw;function bn(){return Rw||(Rw=1,wl={}),wl}var El,Cw;function yj(){if(Cw)return El;Cw=1;var i=Fe(),e=He(),t=Function.prototype,r=i&&Object.getOwnPropertyDescriptor,n=e(t,"name"),s=n&&(function(){}).name==="something",o=n&&(!i||i&&r(t,"name").configurable);return El={EXISTS:n,PROPER:s,CONFIGURABLE:o},El}var Sl,qw;function mj(){if(qw)return Sl;qw=1;var i=ce();return Sl=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Sl}var Ol,xw;function LM(){if(xw)return Ol;xw=1;var i=He(),e=ze(),t=Bt(),r=Ho(),n=mj(),s=r("IE_PROTO"),o=Object,a=o.prototype;return Ol=n?o.getPrototypeOf:function(u){var l=t(u);if(i(l,s))return l[s];var d=l.constructor;return e(d)&&l instanceof d?d.prototype:l instanceof o?a:null},Ol}var Il,kw;function zM(){if(kw)return Il;kw=1;var i=ce(),e=ze(),t=ft(),r=Ps(),n=LM(),s=Cs(),o=Xe(),a=vn(),u=o("iterator"),l=!1,d,c,h;[].keys&&(h=[].keys(),"next"in h?(c=n(n(h)),c!==Object.prototype&&(d=c)):l=!0);var f=!t(d)||i(function(){var v={};return d[u].call(v)!==v});return f?d={}:a&&(d=r(d)),e(d[u])||s(d,u,function(){return this}),Il={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:l},Il}var $l,Dw;function bj(){if(Dw)return $l;Dw=1;var i=zM().IteratorPrototype,e=Ps(),t=Es(),r=fi(),n=bn(),s=function(){return this};return $l=function(o,a,u,l){var d=a+" Iterator";return o.prototype=e(i,{next:t(+!l,u)}),r(o,d,!1,!0),n[d]=s,o},$l}var Tl,Aw;function _j(){if(Aw)return Tl;Aw=1;var i=me(),e=cr();return Tl=function(t,r,n){try{return i(e(Object.getOwnPropertyDescriptor(t,r)[n]))}catch{}},Tl}var Pl,Mw;function wj(){if(Mw)return Pl;Mw=1;var i=ft();return Pl=function(e){return i(e)||e===null},Pl}var Rl,Fw;function Ej(){if(Fw)return Rl;Fw=1;var i=wj(),e=String,t=TypeError;return Rl=function(r){if(i(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},Rl}var Cl,Nw;function Sj(){if(Nw)return Cl;Nw=1;var i=_j(),e=ft(),t=ci(),r=Ej();return Cl=Object.setPrototypeOf||("__proto__"in{}?function(){var n=!1,s={},o;try{o=i(Object.prototype,"__proto__","set"),o(s,[]),n=s instanceof Array}catch{}return function(u,l){return t(u),r(l),e(u)&&(n?o(u,l):u.__proto__=l),u}}():void 0),Cl}var ql,Bw;function Cb(){if(Bw)return ql;Bw=1;var i=te(),e=ht(),t=vn(),r=yj(),n=ze(),s=bj(),o=LM(),a=Sj(),u=fi(),l=gn(),d=Cs(),c=Xe(),h=bn(),f=zM(),v=r.PROPER,g=r.CONFIGURABLE,_=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,p=c("iterator"),O="keys",m="values",S="entries",$=function(){return this};return ql=function(w,b,E,I,T,P,R){s(E,b,I);var q=function(Se){if(Se===T&&re)return re;if(!y&&Se&&Se in L)return L[Se];switch(Se){case O:return function(){return new E(this,Se)};case m:return function(){return new E(this,Se)};case S:return function(){return new E(this,Se)}}return function(){return new E(this)}},A=b+" Iterator",Y=!1,L=w.prototype,Q=L[p]||L["@@iterator"]||T&&L[T],re=!y&&Q||q(T),he=b==="Array"&&L.entries||Q,H,le,ve;if(he&&(H=o(he.call(new w)),H!==Object.prototype&&H.next&&(!t&&o(H)!==_&&(a?a(H,_):n(H[p])||d(H,p,$)),u(H,A,!0,!0),t&&(h[A]=$))),v&&T===m&&Q&&Q.name!==m&&(!t&&g?l(L,"name",m):(Y=!0,re=function(){return e(Q,this)})),T)if(le={values:q(m),keys:P?re:q(O),entries:q(S)},R)for(ve in le)(y||Y||!(ve in L))&&d(L,ve,le[ve]);else i({target:b,proto:!0,forced:y||Y},le);return(!t||R)&&L[p]!==re&&d(L,p,re,{name:T}),h[b]=re,le},ql}var xl,jw;function qb(){return jw||(jw=1,xl=function(i,e){return{value:i,done:e}}),xl}var kl,Lw;function Dr(){if(Lw)return kl;Lw=1;var i=dr(),e=gj(),t=bn(),r=qs(),n=St().f,s=Cb(),o=qb(),a=vn(),u=Fe(),l="Array Iterator",d=r.set,c=r.getterFor(l);kl=s(Array,"Array",function(f,v){d(this,{type:l,target:i(f),index:0,kind:v})},function(){var f=c(this),v=f.target,g=f.index++;if(!v||g>=v.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(g,!1);case"values":return o(v[g],!1)}return o([g,v[g]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&u&&h.name!=="values")try{n(h,"name",{value:"values"})}catch{}return kl}var Dl,zw;function Oj(){return zw||(zw=1,Dl={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Dl}var Ww;function Ar(){if(Ww)return Tw;Ww=1,Dr();var i=Oj(),e=Me(),t=fi(),r=bn();for(var n in i)t(e[n],n),r[n]=r.Array;return Tw}var Al,Hw;function Ij(){if(Hw)return Al;Hw=1;var i=pj();return Ar(),Al=i,Al}var Gw={},Vw;function $j(){if(Vw)return Gw;Vw=1;var i=Xe(),e=St().f,t=i("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),Gw}var Uw={},Kw;function Tj(){return Kw||(Kw=1,FM()),Uw}var Yw={},Xw;function Pj(){return Xw||(Xw=1,NM()),Yw}var Zw={},Jw;function Rj(){if(Jw)return Zw;Jw=1;var i=Ie();return i("metadata"),Zw}var Ml,Qw;function Cj(){if(Qw)return Ml;Qw=1;var i=Ij();return $j(),Tj(),Pj(),Rj(),Ml=i,Ml}var eE={},Fl,tE;function WM(){if(tE)return Fl;tE=1;var i=pt(),e=me(),t=i("Symbol"),r=t.keyFor,n=e(t.prototype.valueOf);return Fl=t.isRegisteredSymbol||function(o){try{return r(n(o))!==void 0}catch{return!1}},Fl}var rE;function qj(){if(rE)return eE;rE=1;var i=te(),e=WM();return i({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),eE}var iE={},Nl,nE;function HM(){if(nE)return Nl;nE=1;for(var i=pn(),e=pt(),t=me(),r=Is(),n=Xe(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),u=t(s.prototype.valueOf),l=i("wks"),d=0,c=a(s),h=c.length;d<h;d++)try{var f=c[d];r(s[f])&&n(f)}catch{}return Nl=function(g){if(o&&o(g))return!0;try{for(var _=u(g),y=0,p=a(l),O=p.length;y<O;y++)if(l[p[y]]==_)return!0}catch{}return!1},Nl}var sE;function xj(){if(sE)return iE;sE=1;var i=te(),e=HM();return i({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),iE}var oE={},aE;function kj(){if(aE)return oE;aE=1;var i=Ie();return i("customMatcher"),oE}var uE={},lE;function Dj(){if(lE)return uE;lE=1;var i=Ie();return i("observable"),uE}var dE={},cE;function Aj(){if(cE)return dE;cE=1;var i=te(),e=WM();return i({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),dE}var hE={},fE;function Mj(){if(fE)return hE;fE=1;var i=te(),e=HM();return i({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),hE}var vE={},pE;function Fj(){if(pE)return vE;pE=1;var i=Ie();return i("matcher"),vE}var gE={},yE;function Nj(){if(yE)return gE;yE=1;var i=Ie();return i("metadataKey"),gE}var mE={},bE;function Bj(){if(bE)return mE;bE=1;var i=Ie();return i("patternMatch"),mE}var _E={},wE;function jj(){if(wE)return _E;wE=1;var i=Ie();return i("replaceAll"),_E}var Bl,EE;function Lj(){if(EE)return Bl;EE=1;var i=Cj();return qj(),xj(),kj(),Dj(),Aj(),Mj(),Fj(),Nj(),Bj(),jj(),Bl=i,Bl}var jl,SE;function zj(){return SE||(SE=1,jl=Lj()),jl}var Wj=zj(),oo=ue(Wj),OE={},Ll,IE;function Hj(){if(IE)return Ll;IE=1;var i=me(),e=yn(),t=kr(),r=ci(),n=i("".charAt),s=i("".charCodeAt),o=i("".slice),a=function(u){return function(l,d){var c=t(r(l)),h=e(d),f=c.length,v,g;return h<0||h>=f?u?"":void 0:(v=s(c,h),v<55296||v>56319||h+1===f||(g=s(c,h+1))<56320||g>57343?u?n(c,h):v:u?o(c,h,h+2):(v-55296<<10)+(g-56320)+65536)}};return Ll={codeAt:a(!1),charAt:a(!0)},Ll}var $E;function Ko(){if($E)return OE;$E=1;var i=Hj().charAt,e=kr(),t=qs(),r=Cb(),n=qb(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(u){o(this,{type:s,string:e(u),index:0})},function(){var l=a(this),d=l.string,c=l.index,h;return c>=d.length?n(void 0,!0):(h=i(d,c),l.index+=h.length,n(h,!1))}),OE}var zl,TE;function Gj(){if(TE)return zl;TE=1,Dr(),Ko(),BM();var i=Uo();return zl=i.f("iterator"),zl}var Wl,PE;function GM(){if(PE)return Wl;PE=1;var i=Gj();return Ar(),Wl=i,Wl}var Hl,RE;function Vj(){if(RE)return Hl;RE=1;var i=GM();return Hl=i,Hl}var Gl,CE;function Uj(){if(CE)return Gl;CE=1;var i=Vj();return Gl=i,Gl}var Vl,qE;function Kj(){return qE||(qE=1,Vl=Uj()),Vl}var Yj=Kj(),Xj=ue(Yj);function us(i){"@babel/helpers - typeof";return us=typeof oo=="function"&&typeof Xj=="symbol"?function(e){return typeof e}:function(e){return e&&typeof oo=="function"&&e.constructor===oo&&e!==oo.prototype?"symbol":typeof e},us(i)}var Ul,xE;function Zj(){if(xE)return Ul;xE=1,jM();var i=Uo();return Ul=i.f("toPrimitive"),Ul}var Kl,kE;function Jj(){if(kE)return Kl;kE=1;var i=Zj();return Kl=i,Kl}var Yl,DE;function Qj(){if(DE)return Yl;DE=1;var i=Jj();return Yl=i,Yl}var Xl,AE;function eL(){if(AE)return Xl;AE=1;var i=Qj();return Xl=i,Xl}var Zl,ME;function tL(){return ME||(ME=1,Zl=eL()),Zl}var rL=tL(),iL=ue(rL);function nL(i,e){if(us(i)!="object"||!i)return i;var t=i[iL];if(t!==void 0){var r=t.call(i,e);if(us(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function sL(i){var e=nL(i,"string");return us(e)=="symbol"?e:e+""}function wr(i,e,t){return(e=sL(e))in i?W3(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var FE={},Jl,NE;function oL(){if(NE)return Jl;NE=1;var i=me(),e=cr(),t=ft(),r=He(),n=Rs(),s=ws(),o=Function,a=i([].concat),u=i([].join),l={},d=function(c,h,f){if(!r(l,h)){for(var v=[],g=0;g<h;g++)v[g]="a["+g+"]";l[h]=o("C,a","return new C("+u(v,",")+")")}return l[h](c,f)};return Jl=s?o.bind:function(h){var f=e(this),v=f.prototype,g=n(arguments,1),_=function(){var p=a(g,n(arguments));return this instanceof _?d(f,p.length,p):f.apply(h,p)};return t(v)&&(_.prototype=v),_},Jl}var BE;function aL(){if(BE)return FE;BE=1;var i=te(),e=oL();return i({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),FE}var Ql,jE;function Ot(){if(jE)return Ql;jE=1;var i=Me(),e=We();return Ql=function(t,r){var n=e[t+"Prototype"],s=n&&n[r];if(s)return s;var o=i[t],a=o&&o.prototype;return a&&a[r]},Ql}var ed,LE;function uL(){if(LE)return ed;LE=1,aL();var i=Ot();return ed=i("Function","bind"),ed}var td,zE;function lL(){if(zE)return td;zE=1;var i=et(),e=uL(),t=Function.prototype;return td=function(r){var n=r.bind;return r===t||i(t,r)&&n===t.bind?e:n},td}var rd,WE;function dL(){if(WE)return rd;WE=1;var i=lL();return rd=i,rd}var id,HE;function cL(){return HE||(HE=1,id=dL()),id}var hL=cL(),fL=ue(hL),GE={},nd,VE;function vL(){if(VE)return nd;VE=1;var i=cr(),e=Bt(),t=No(),r=hi(),n=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(u,l,d,c){var h=e(u),f=t(h),v=r(h);if(i(l),v===0&&d<2)throw new n(s);var g=a?v-1:0,_=a?-1:1;if(d<2)for(;;){if(g in f){c=f[g],g+=_;break}if(g+=_,a?g<0:v<=g)throw new n(s)}for(;a?g>=0:v>g;g+=_)g in f&&(c=l(c,f[g],g,h));return c}};return nd={left:o(!1),right:o(!0)},nd}var sd,UE;function Yo(){if(UE)return sd;UE=1;var i=ce();return sd=function(e,t){var r=[][e];return!!r&&i(function(){r.call(null,t||function(){return 1},1)})},sd}var od,KE;function VM(){if(KE)return od;KE=1;var i=Me(),e=cn(),t=lr(),r=function(n){return e.slice(0,n.length)===n};return od=function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":i.Bun&&typeof Bun.version=="string"?"BUN":i.Deno&&typeof Deno.version=="object"?"DENO":t(i.process)==="process"?"NODE":i.window&&i.document?"BROWSER":"REST"}(),od}var ad,YE;function pL(){if(YE)return ad;YE=1;var i=VM();return ad=i==="NODE",ad}var XE;function gL(){if(XE)return GE;XE=1;var i=te(),e=vL().left,t=Yo(),r=Os(),n=pL(),s=!n&&r>79&&r<83,o=s||!t("reduce");return i({target:"Array",proto:!0,forced:o},{reduce:function(u){var l=arguments.length;return e(this,u,l,l>1?arguments[1]:void 0)}}),GE}var ud,ZE;function yL(){if(ZE)return ud;ZE=1,gL();var i=Ot();return ud=i("Array","reduce"),ud}var ld,JE;function mL(){if(JE)return ld;JE=1;var i=et(),e=yL(),t=Array.prototype;return ld=function(r){var n=r.reduce;return r===t||i(t,r)&&n===t.reduce?e:n},ld}var dd,QE;function bL(){if(QE)return dd;QE=1;var i=mL();return dd=i,dd}var cd,eS;function _L(){return eS||(eS=1,cd=bL()),cd}var wL=_L(),EL=ue(wL),tS={},rS;function SL(){if(rS)return tS;rS=1;var i=te(),e=mn().filter,t=zo(),r=t("filter");return i({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),tS}var hd,iS;function OL(){if(iS)return hd;iS=1,SL();var i=Ot();return hd=i("Array","filter"),hd}var fd,nS;function IL(){if(nS)return fd;nS=1;var i=et(),e=OL(),t=Array.prototype;return fd=function(r){var n=r.filter;return r===t||i(t,r)&&n===t.filter?e:n},fd}var vd,sS;function $L(){if(sS)return vd;sS=1;var i=IL();return vd=i,vd}var pd,oS;function TL(){return oS||(oS=1,pd=$L()),pd}var PL=TL(),Fi=ue(PL),aS={},uS;function RL(){if(uS)return aS;uS=1;var i=te(),e=mn().map,t=zo(),r=t("map");return i({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),aS}var gd,lS;function CL(){if(lS)return gd;lS=1,RL();var i=Ot();return gd=i("Array","map"),gd}var yd,dS;function qL(){if(dS)return yd;dS=1;var i=et(),e=CL(),t=Array.prototype;return yd=function(r){var n=r.map;return r===t||i(t,r)&&n===t.map?e:n},yd}var md,cS;function xL(){if(cS)return md;cS=1;var i=qL();return md=i,md}var bd,hS;function kL(){return hS||(hS=1,bd=xL()),bd}var DL=kL(),Lt=ue(DL),_d={exports:{}},fS;function AL(){return fS||(fS=1,function(i){function e(r){if(r)return t(r);this._callbacks=new Map}function t(r){return Object.assign(r,e.prototype),r._callbacks=new Map,r}e.prototype.on=function(r,n){const s=this._callbacks.get(r)??[];return s.push(n),this._callbacks.set(r,s),this},e.prototype.once=function(r,n){const s=(...o)=>{this.off(r,s),n.apply(this,o)};return s.fn=n,this.on(r,s),this},e.prototype.off=function(r,n){if(r===void 0&&n===void 0)return this._callbacks.clear(),this;if(n===void 0)return this._callbacks.delete(r),this;const s=this._callbacks.get(r);if(s){for(const[o,a]of s.entries())if(a===n||a.fn===n){s.splice(o,1);break}s.length===0?this._callbacks.delete(r):this._callbacks.set(r,s)}return this},e.prototype.emit=function(r,...n){const s=this._callbacks.get(r);if(s){const o=[...s];for(const a of o)a.apply(this,n)}return this},e.prototype.listeners=function(r){return this._callbacks.get(r)??[]},e.prototype.listenerCount=function(r){if(r)return this.listeners(r).length;let n=0;for(const s of this._callbacks.values())n+=s.length;return n},e.prototype.hasListeners=function(r){return this.listenerCount(r)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,i.exports=e}(_d)),_d.exports}var ML=AL(),FL=ue(ML);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Ft(){return Ft=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Ft.apply(this,arguments)}function It(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function ao(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var Vm;typeof Object.assign!="function"?Vm=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])}return t}:Vm=Object.assign;var ni=Vm,vS=["","webkit","Moz","MS","ms","o"],NL=typeof document>"u"?{style:{}}:document.createElement("div"),BL="function",Ni=Math.round,si=Math.abs,xb=Date.now;function Xo(i,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),s=0;s<vS.length;){if(t=vS[s],r=t?t+n:e,r in i)return r;s++}}var ir;typeof window>"u"?ir={}:ir=window;var UM=Xo(NL.style,"touchAction"),KM=UM!==void 0;function jL(){if(!KM)return!1;var i={},e=ir.CSS&&ir.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=e?ir.CSS.supports("touch-action",t):!0}),i}var YM="compute",XM="auto",Um="manipulation",ei="none",ls="pan-x",ds="pan-y",uo=jL(),LL=/mobile|tablet|ip(ad|hone|od)|android/i,ZM="ontouchstart"in ir,zL=Xo(ir,"PointerEvent")!==void 0,WL=ZM&&LL.test(navigator.userAgent),xs="touch",HL="pen",kb="mouse",GL="kinect",VL=25,at=1,vi=2,De=4,dt=8,So=1,ks=2,Ds=4,As=8,Zi=16,Vt=ks|Ds,ti=As|Zi,JM=Vt|ti,QM=["x","y"],Oo=["clientX","clientY"];function nr(i,e,t){var r;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(r=0;r<i.length;)e.call(t,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&e.call(t,i[r],r,i)}function Zo(i,e){return typeof i===BL?i.apply(e&&e[0]||void 0,e):i}function Yr(i,e){return i.indexOf(e)>-1}function UL(i){if(Yr(i,ei))return ei;var e=Yr(i,ls),t=Yr(i,ds);return e&&t?ei:e||t?e?ls:ds:Yr(i,Um)?Um:XM}var eF=function(){function i(t,r){this.manager=t,this.set(r)}var e=i.prototype;return e.set=function(r){r===YM&&(r=this.compute()),KM&&this.manager.element.style&&uo[r]&&(this.manager.element.style[UM]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return nr(this.manager.recognizers,function(n){Zo(n.options.enable,[n])&&(r=r.concat(n.getTouchAction()))}),UL(r.join(" "))},e.preventDefaults=function(r){var n=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var o=this.actions,a=Yr(o,ei)&&!uo[ei],u=Yr(o,ds)&&!uo[ds],l=Yr(o,ls)&&!uo[ls];if(a){var d=r.pointers.length===1,c=r.distance<2,h=r.deltaTime<250;if(d&&c&&h)return}if(!(l&&u)&&(a||u&&s&Vt||l&&s&ti))return this.preventSrc(n)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},i}();function Db(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function tF(i){var e=i.length;if(e===1)return{x:Ni(i[0].clientX),y:Ni(i[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=i[n].clientX,r+=i[n].clientY,n++;return{x:Ni(t/e),y:Ni(r/e)}}function pS(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:Ni(i.pointers[t].clientX),clientY:Ni(i.pointers[t].clientY)},t++;return{timeStamp:xb(),pointers:e,center:tF(e),deltaX:i.deltaX,deltaY:i.deltaY}}function Io(i,e,t){t||(t=QM);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.sqrt(r*r+n*n)}function Km(i,e,t){t||(t=QM);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.atan2(n,r)*180/Math.PI}function rF(i,e){return i===e?So:si(i)>=si(e)?i<0?ks:Ds:e<0?As:Zi}function KL(i,e){var t=e.center,r=i.offsetDelta||{},n=i.prevDelta||{},s=i.prevInput||{};(e.eventType===at||s.eventType===De)&&(n=i.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=i.offsetDelta={x:t.x,y:t.y}),e.deltaX=n.x+(t.x-r.x),e.deltaY=n.y+(t.y-r.y)}function iF(i,e,t){return{x:e/i||0,y:t/i||0}}function YL(i,e){return Io(e[0],e[1],Oo)/Io(i[0],i[1],Oo)}function XL(i,e){return Km(e[1],e[0],Oo)+Km(i[1],i[0],Oo)}function ZL(i,e){var t=i.lastInterval||e,r=e.timeStamp-t.timeStamp,n,s,o,a;if(e.eventType!==dt&&(r>VL||t.velocity===void 0)){var u=e.deltaX-t.deltaX,l=e.deltaY-t.deltaY,d=iF(r,u,l);s=d.x,o=d.y,n=si(d.x)>si(d.y)?d.x:d.y,a=rF(u,l),i.lastInterval=e}else n=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=n,e.velocityX=s,e.velocityY=o,e.direction=a}function JL(i,e){var t=i.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=pS(e)),n>1&&!t.firstMultiple?t.firstMultiple=pS(e):n===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,u=e.center=tF(r);e.timeStamp=xb(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Km(a,u),e.distance=Io(a,u),KL(t,e),e.offsetDirection=rF(e.deltaX,e.deltaY);var l=iF(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=si(l.x)>si(l.y)?l.x:l.y,e.scale=o?YL(o.pointers,r):1,e.rotation=o?XL(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,ZL(t,e);var d=i.element,c=e.srcEvent,h;c.composedPath?h=c.composedPath()[0]:c.path?h=c.path[0]:h=c.target,Db(h,d)&&(d=h),e.target=d}function QL(i,e,t){var r=t.pointers.length,n=t.changedPointers.length,s=e&at&&r-n===0,o=e&(De|dt)&&r-n===0;t.isFirst=!!s,t.isFinal=!!o,s&&(i.session={}),t.eventType=e,JL(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function cs(i){return i.trim().split(/\s+/g)}function Jn(i,e,t){nr(cs(e),function(r){i.addEventListener(r,t,!1)})}function Qn(i,e,t){nr(cs(e),function(r){i.removeEventListener(r,t,!1)})}function gS(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var _n=function(){function i(t,r){var n=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){Zo(t.options.enable,[t])&&n.handler(s)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Jn(this.element,this.evEl,this.domHandler),this.evTarget&&Jn(this.target,this.evTarget,this.domHandler),this.evWin&&Jn(gS(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Qn(this.element,this.evEl,this.domHandler),this.evTarget&&Qn(this.target,this.evTarget,this.domHandler),this.evWin&&Qn(gS(this.element),this.evWin,this.domHandler)},i}();function oi(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var r=0;r<i.length;){if(t&&i[r][t]==e||!t&&i[r]===e)return r;r++}return-1}var ez={pointerdown:at,pointermove:vi,pointerup:De,pointercancel:dt,pointerout:dt},tz={2:xs,3:HL,4:kb,5:GL},nF="pointerdown",sF="pointermove pointerup pointercancel";ir.MSPointerEvent&&!ir.PointerEvent&&(nF="MSPointerDown",sF="MSPointerMove MSPointerUp MSPointerCancel");var oF=function(i){It(e,i);function e(){var r,n=e.prototype;return n.evEl=nF,n.evWin=sF,r=i.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(n){var s=this.store,o=!1,a=n.type.toLowerCase().replace("ms",""),u=ez[a],l=tz[n.pointerType]||n.pointerType,d=l===xs,c=oi(s,n.pointerId,"pointerId");u&at&&(n.button===0||d)?c<0&&(s.push(n),c=s.length-1):u&(De|dt)&&(o=!0),!(c<0)&&(s[c]=n,this.callback(this.manager,u,{pointers:s,changedPointers:[n],pointerType:l,srcEvent:n}),o&&s.splice(c,1))},e}(_n);function hs(i){return Array.prototype.slice.call(i,0)}function Ab(i,e,t){for(var r=[],n=[],s=0;s<i.length;){var o=e?i[s][e]:i[s];oi(n,o)<0&&r.push(i[s]),n[s]=o,s++}return t&&(e?r=r.sort(function(a,u){return a[e]>u[e]}):r=r.sort()),r}var rz={touchstart:at,touchmove:vi,touchend:De,touchcancel:dt},iz="touchstart touchmove touchend touchcancel",Mb=function(i){It(e,i);function e(){var r;return e.prototype.evTarget=iz,r=i.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(n){var s=rz[n.type],o=nz.call(this,n,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:xs,srcEvent:n})},e}(_n);function nz(i,e){var t=hs(i.touches),r=this.targetIds;if(e&(at|vi)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var n,s,o=hs(i.changedTouches),a=[],u=this.target;if(s=t.filter(function(l){return Db(l.target,u)}),e===at)for(n=0;n<s.length;)r[s[n].identifier]=!0,n++;for(n=0;n<o.length;)r[o[n].identifier]&&a.push(o[n]),e&(De|dt)&&delete r[o[n].identifier],n++;if(a.length)return[Ab(s.concat(a),"identifier",!0),a]}var sz={mousedown:at,mousemove:vi,mouseup:De},oz="mousedown",az="mousemove mouseup",Fb=function(i){It(e,i);function e(){var r,n=e.prototype;return n.evEl=oz,n.evWin=az,r=i.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(n){var s=sz[n.type];s&at&&n.button===0&&(this.pressed=!0),s&vi&&n.which!==1&&(s=De),this.pressed&&(s&De&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[n],changedPointers:[n],pointerType:kb,srcEvent:n}))},e}(_n),uz=2500,yS=25;function mS(i){var e=i.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},n=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=n.indexOf(r);a>-1&&n.splice(a,1)};setTimeout(s,uz)}}function lz(i,e){i&at?(this.primaryTouch=e.changedPointers[0].identifier,mS.call(this,e)):i&(De|dt)&&mS.call(this,e)}function dz(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],s=Math.abs(e-n.x),o=Math.abs(t-n.y);if(s<=yS&&o<=yS)return!0}return!1}var aF=function(){var i=function(e){It(t,e);function t(n,s){var o;return o=e.call(this,n,s)||this,o.handler=function(a,u,l){var d=l.pointerType===xs,c=l.pointerType===kb;if(!(c&&l.sourceCapabilities&&l.sourceCapabilities.firesTouchEvents)){if(d)lz.call(ao(ao(o)),u,l);else if(c&&dz.call(ao(ao(o)),l))return;o.callback(a,u,l)}},o.touch=new Mb(o.manager,o.handler),o.mouse=new Fb(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(_n);return i}();function cz(i){var e,t=i.options.inputClass;return t?e=t:zL?e=oF:WL?e=Mb:ZM?e=aF:e=Fb,new e(i,QL)}function Bi(i,e,t){return Array.isArray(i)?(nr(i,t[e],t),!0):!1}var po=1,_t=2,Ji=4,Er=8,sr=Er,fs=16,zt=32,hz=1;function fz(){return hz++}function lo(i,e){var t=e.manager;return t?t.get(i):i}function bS(i){return i&fs?"cancel":i&Er?"end":i&Ji?"move":i&_t?"start":""}var Ms=function(){function i(t){t===void 0&&(t={}),this.options=Ft({enable:!0},t),this.id=fz(),this.manager=null,this.state=po,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(r){return ni(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(Bi(r,"recognizeWith",this))return this;var n=this.simultaneous;return r=lo(r,this),n[r.id]||(n[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return Bi(r,"dropRecognizeWith",this)?this:(r=lo(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(Bi(r,"requireFailure",this))return this;var n=this.requireFail;return r=lo(r,this),oi(n,r)===-1&&(n.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(Bi(r,"dropRequireFailure",this))return this;r=lo(r,this);var n=oi(this.requireFail,r);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var n=this,s=this.state;function o(a){n.manager.emit(a,r)}s<Er&&o(n.options.event+bS(s)),o(n.options.event),r.additionalEvent&&o(r.additionalEvent),s>=Er&&o(n.options.event+bS(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=zt},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(zt|po)))return!1;r++}return!0},e.recognize=function(r){var n=ni({},r);if(!Zo(this.options.enable,[this,n])){this.reset(),this.state=zt;return}this.state&(sr|fs|zt)&&(this.state=po),this.state=this.process(n),this.state&(_t|Ji|Er|fs)&&this.tryEmit(n)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},i}(),Ym=function(i){It(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Ft({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var t=e.prototype;return t.getTouchAction=function(){return[Um]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,u=n.distance<o.threshold,l=n.deltaTime<o.time;if(this.reset(),n.eventType&at&&this.count===0)return this.failTimeout();if(u&&l&&a){if(n.eventType!==De)return this.failTimeout();var d=this.pTime?n.timeStamp-this.pTime<o.interval:!0,c=!this.pCenter||Io(this.pCenter,n.center)<o.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!c||!d?this.count=1:this.count+=1,this._input=n;var h=this.count%o.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=sr,s.tryEmit()},o.interval),_t):sr}return zt},t.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=zt},this.options.interval),zt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===sr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Ms),Qi=function(i){It(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Ft({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(n){var s=this.options.pointers;return s===0||n.pointers.length===s},t.process=function(n){var s=this.state,o=n.eventType,a=s&(_t|Ji),u=this.attrTest(n);return a&&(o&dt||!u)?s|fs:a||u?o&De?s|Er:s&_t?s|Ji:_t:zt},e}(Ms);function uF(i){return i===Zi?"down":i===As?"up":i===ks?"left":i===Ds?"right":""}var Nb=function(i){It(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Ft({event:"pan",threshold:10,pointers:1,direction:JM},r))||this,n.pX=null,n.pY=null,n}var t=e.prototype;return t.getTouchAction=function(){var n=this.options.direction,s=[];return n&Vt&&s.push(ds),n&ti&&s.push(ls),s},t.directionTest=function(n){var s=this.options,o=!0,a=n.distance,u=n.direction,l=n.deltaX,d=n.deltaY;return u&s.direction||(s.direction&Vt?(u=l===0?So:l<0?ks:Ds,o=l!==this.pX,a=Math.abs(n.deltaX)):(u=d===0?So:d<0?As:Zi,o=d!==this.pY,a=Math.abs(n.deltaY))),n.direction=u,o&&a>s.threshold&&u&s.direction},t.attrTest=function(n){return Qi.prototype.attrTest.call(this,n)&&(this.state&_t||!(this.state&_t)&&this.directionTest(n))},t.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var s=uF(n.direction);s&&(n.additionalEvent=this.options.event+s),i.prototype.emit.call(this,n)},e}(Qi),lF=function(i){It(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Ft({event:"swipe",threshold:10,velocity:.3,direction:Vt|ti,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return Nb.prototype.getTouchAction.call(this)},t.attrTest=function(n){var s=this.options.direction,o;return s&(Vt|ti)?o=n.overallVelocity:s&Vt?o=n.overallVelocityX:s&ti&&(o=n.overallVelocityY),i.prototype.attrTest.call(this,n)&&s&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&si(o)>this.options.velocity&&n.eventType&De},t.emit=function(n){var s=uF(n.offsetDirection);s&&this.manager.emit(this.options.event+s,n),this.manager.emit(this.options.event,n)},e}(Qi),dF=function(i){It(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Ft({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[ei]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&_t)},t.emit=function(n){if(n.scale!==1){var s=n.scale<1?"in":"out";n.additionalEvent=this.options.event+s}i.prototype.emit.call(this,n)},e}(Qi),cF=function(i){It(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Ft({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[ei]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&_t)},e}(Qi),hF=function(i){It(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Ft({event:"press",pointers:1,time:251,threshold:9},r))||this,n._timer=null,n._input=null,n}var t=e.prototype;return t.getTouchAction=function(){return[XM]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,u=n.distance<o.threshold,l=n.deltaTime>o.time;if(this._input=n,!u||!a||n.eventType&(De|dt)&&!l)this.reset();else if(n.eventType&at)this.reset(),this._timer=setTimeout(function(){s.state=sr,s.tryEmit()},o.time);else if(n.eventType&De)return sr;return zt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(n){this.state===sr&&(n&&n.eventType&De?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=xb(),this.manager.emit(this.options.event,this._input)))},e}(Ms),fF={domEvents:!1,touchAction:YM,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},_S=[[cF,{enable:!1}],[dF,{enable:!1},["rotate"]],[lF,{direction:Vt}],[Nb,{direction:Vt},["swipe"]],[Ym],[Ym,{event:"doubletap",taps:2},["tap"]],[hF]],vz=1,wS=2;function ES(i,e){var t=i.element;if(t.style){var r;nr(i.options.cssProps,function(n,s){r=Xo(t.style,s),e?(i.oldCssProps[r]=t.style[r],t.style[r]=n):t.style[r]=i.oldCssProps[r]||""}),e||(i.oldCssProps={})}}function pz(i,e){var t=document.createEvent("Event");t.initEvent(i,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var SS=function(){function i(t,r){var n=this;this.options=ni({},fF,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=cz(this),this.touchAction=new eF(this,this.options.touchAction),ES(this,!0),nr(this.options.recognizers,function(s){var o=n.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=i.prototype;return e.set=function(r){return ni(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?wS:vz},e.recognize=function(r){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&sr)&&(n.curRecognizer=null,a=null);for(var u=0;u<o.length;)s=o[u],n.stopped!==wS&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(_t|Ji|Er)&&(n.curRecognizer=s,a=s),u++}},e.get=function(r){if(r instanceof Ms)return r;for(var n=this.recognizers,s=0;s<n.length;s++)if(n[s].options.event===r)return n[s];return null},e.add=function(r){if(Bi(r,"add",this))return this;var n=this.get(r.options.event);return n&&this.remove(n),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(Bi(r,"remove",this))return this;var n=this.get(r);if(r){var s=this.recognizers,o=oi(s,n);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,n){if(r===void 0||n===void 0)return this;var s=this.handlers;return nr(cs(r),function(o){s[o]=s[o]||[],s[o].push(n)}),this},e.off=function(r,n){if(r===void 0)return this;var s=this.handlers;return nr(cs(r),function(o){n?s[o]&&s[o].splice(oi(s[o],n),1):delete s[o]}),this},e.emit=function(r,n){this.options.domEvents&&pz(r,n);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){n.type=r,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](n),o++}},e.destroy=function(){this.element&&ES(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i}(),gz={touchstart:at,touchmove:vi,touchend:De,touchcancel:dt},yz="touchstart",mz="touchstart touchmove touchend touchcancel",bz=function(i){It(e,i);function e(){var r,n=e.prototype;return n.evTarget=yz,n.evWin=mz,r=i.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(n){var s=gz[n.type];if(s===at&&(this.started=!0),!!this.started){var o=_z.call(this,n,s);s&(De|dt)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:xs,srcEvent:n})}},e}(_n);function _z(i,e){var t=hs(i.touches),r=hs(i.changedTouches);return e&(De|dt)&&(t=Ab(t.concat(r),"identifier",!0)),[t,r]}function vF(i,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),s=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),i.apply(this,arguments)}}var pF=vF(function(i,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&i[r[n]]===void 0)&&(i[r[n]]=e[r[n]]),n++;return i},"extend","Use `assign`."),wz=vF(function(i,e){return pF(i,e,!0)},"merge","Use `assign`.");function Ez(i,e,t){var r=e.prototype,n;n=i.prototype=Object.create(r),n.constructor=i,n._super=r,t&&ni(n,t)}function OS(i,e){return function(){return i.apply(e,arguments)}}var Sz=function(){var i=function(t,r){return r===void 0&&(r={}),new SS(t,Ft({recognizers:_S.concat()},r))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=JM,i.DIRECTION_DOWN=Zi,i.DIRECTION_LEFT=ks,i.DIRECTION_RIGHT=Ds,i.DIRECTION_UP=As,i.DIRECTION_HORIZONTAL=Vt,i.DIRECTION_VERTICAL=ti,i.DIRECTION_NONE=So,i.DIRECTION_DOWN=Zi,i.INPUT_START=at,i.INPUT_MOVE=vi,i.INPUT_END=De,i.INPUT_CANCEL=dt,i.STATE_POSSIBLE=po,i.STATE_BEGAN=_t,i.STATE_CHANGED=Ji,i.STATE_ENDED=Er,i.STATE_RECOGNIZED=sr,i.STATE_CANCELLED=fs,i.STATE_FAILED=zt,i.Manager=SS,i.Input=_n,i.TouchAction=eF,i.TouchInput=Mb,i.MouseInput=Fb,i.PointerEventInput=oF,i.TouchMouseInput=aF,i.SingleTouchInput=bz,i.Recognizer=Ms,i.AttrRecognizer=Qi,i.Tap=Ym,i.Pan=Nb,i.Swipe=lF,i.Pinch=dF,i.Rotate=cF,i.Press=hF,i.on=Jn,i.off=Qn,i.each=nr,i.merge=wz,i.extend=pF,i.bindFn=OS,i.assign=ni,i.inherit=Ez,i.bindFn=OS,i.prefixed=Xo,i.toArray=hs,i.inArray=oi,i.uniqueArray=Ab,i.splitStr=cs,i.boolOrFn=Zo,i.hasParent=Db,i.addEventListeners=Jn,i.removeEventListeners=Qn,i.defaults=ni({},fF,{preset:_S}),i}();/**
 * vis-util
 * https://github.com/visjs/vis-util
 *
 * utilitie collection for visjs
 *
 * @version 6.0.0
 * @date    2025-07-12T18:02:43.836Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */const gF=Symbol("DELETE");function Oz(i,...e){return yF({},i,...e)}function yF(...i){const e=$o(...i);return bF(e),e}function $o(...i){if(i.length<2)return i[0];if(i.length>2)return $o(yF(i[0],i[1]),...i.slice(2));const e=i[0],t=i[1];if(e instanceof Date&&t instanceof Date)return e.setTime(t.getTime()),e;for(const r of Reflect.ownKeys(t))Object.prototype.propertyIsEnumerable.call(t,r)&&(t[r]===gF?delete e[r]:e[r]!==null&&t[r]!==null&&typeof e[r]=="object"&&typeof t[r]=="object"&&!Array.isArray(e[r])&&!Array.isArray(t[r])?e[r]=$o(e[r],t[r]):e[r]=mF(t[r]));return e}function mF(i){return Array.isArray(i)?i.map(e=>mF(e)):typeof i=="object"&&i!==null?i instanceof Date?new Date(i.getTime()):$o({},i):i}function bF(i){for(const e of Object.keys(i))i[e]===gF?delete i[e]:typeof i[e]=="object"&&i[e]!==null&&bF(i[e])}function Iz(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}const $z=typeof window<"u"?window.Hammer||Sz:function(){return Iz()};function er(i){this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const e=$z(this._dom.overlay);e.on("tap",this._onTapOverlay.bind(this)),this._cleanupQueue.push(()=>{e.destroy()}),["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(r=>{e.on(r,n=>{n.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=r=>{Tz(r.target,i)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=r=>{("key"in r?r.key==="Escape":r.keyCode===27)&&this.deactivate()}}FL(er.prototype);er.current=null;er.prototype.destroy=function(){this.deactivate();for(const i of this._cleanupQueue.splice(0).reverse())i()};er.prototype.activate=function(){er.current&&er.current.deactivate(),er.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};er.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};er.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};function Tz(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}var wd,IS;function Pz(){if(IS)return wd;IS=1,MM();var i=We();return wd=i.Object.getOwnPropertySymbols,wd}var Ed,$S;function Rz(){if($S)return Ed;$S=1;var i=Pz();return Ed=i,Ed}var Sd,TS;function Cz(){return TS||(TS=1,Sd=Rz()),Sd}var qz=Cz(),PS=ue(qz),Od={exports:{}},RS={},CS;function xz(){if(CS)return RS;CS=1;var i=te(),e=ce(),t=dr(),r=jo().f,n=Fe(),s=!n||e(function(){r(1)});return i({target:"Object",stat:!0,forced:s,sham:!n},{getOwnPropertyDescriptor:function(a,u){return r(t(a),u)}}),RS}var qS;function kz(){if(qS)return Od.exports;qS=1,xz();var i=We(),e=i.Object,t=Od.exports=function(n,s){return e.getOwnPropertyDescriptor(n,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),Od.exports}var Id,xS;function Dz(){if(xS)return Id;xS=1;var i=kz();return Id=i,Id}var $d,kS;function Az(){return kS||(kS=1,$d=Dz()),$d}var Mz=Az(),_F=ue(Mz),DS={},Td,AS;function Fz(){if(AS)return Td;AS=1;var i=mn().forEach,e=Yo(),t=e("forEach");return Td=t?[].forEach:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)},Td}var MS;function Nz(){if(MS)return DS;MS=1;var i=te(),e=Fz();return i({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),DS}var Pd,FS;function Bz(){if(FS)return Pd;FS=1,Nz();var i=Ot();return Pd=i("Array","forEach"),Pd}var Rd,NS;function jz(){if(NS)return Rd;NS=1;var i=Bz();return Rd=i,Rd}var Cd,BS;function Lz(){if(BS)return Cd;BS=1;var i=xr(),e=He(),t=et(),r=jz(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Cd=function(o){var a=o.forEach;return o===n||t(n,o)&&a===n.forEach||e(s,i(o))?r:a},Cd}var qd,jS;function zz(){return jS||(jS=1,qd=Lz()),qd}var Wz=zz(),en=ue(Wz),LS={},xd,zS;function Hz(){if(zS)return xd;zS=1;var i=pt(),e=me(),t=Go(),r=Vo(),n=hr(),s=e([].concat);return xd=i("Reflect","ownKeys")||function(a){var u=t.f(n(a)),l=r.f;return l?s(u,l(a)):u},xd}var WS;function Gz(){if(WS)return LS;WS=1;var i=te(),e=Fe(),t=Hz(),r=dr(),n=jo(),s=Ob();return i({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var u=r(a),l=n.f,d=t(u),c={},h=0,f,v;d.length>h;)v=l(u,f=d[h++]),v!==void 0&&s(c,f,v);return c}}),LS}var kd,HS;function Vz(){if(HS)return kd;HS=1,Gz();var i=We();return kd=i.Object.getOwnPropertyDescriptors,kd}var Dd,GS;function Uz(){if(GS)return Dd;GS=1;var i=Vz();return Dd=i,Dd}var Ad,VS;function Kz(){return VS||(VS=1,Ad=Uz()),Ad}var Yz=Kz(),US=ue(Yz),Md={exports:{}},KS={},YS;function Xz(){if(YS)return KS;YS=1;var i=te(),e=Fe(),t=Pb().f;return i({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),KS}var XS;function Zz(){if(XS)return Md.exports;XS=1,Xz();var i=We(),e=i.Object,t=Md.exports=function(n,s){return e.defineProperties(n,s)};return e.defineProperties.sham&&(t.sham=!0),Md.exports}var Fd,ZS;function Jz(){if(ZS)return Fd;ZS=1;var i=Zz();return Fd=i,Fd}var Nd,JS;function Qz(){return JS||(JS=1,Nd=Jz()),Nd}var e6=Qz(),t6=ue(e6),Bd,QS;function r6(){return QS||(QS=1,Bd=$M()),Bd}var i6=r6(),n6=ue(i6),eO={},tO;function s6(){if(tO)return eO;tO=1;var i=te(),e=$s();return i({target:"Array",stat:!0},{isArray:e}),eO}var jd,rO;function o6(){if(rO)return jd;rO=1,s6();var i=We();return jd=i.Array.isArray,jd}var Ld,iO;function a6(){if(iO)return Ld;iO=1;var i=o6();return Ld=i,Ld}var zd,nO;function u6(){return nO||(nO=1,zd=a6()),zd}var l6=u6(),Vr=ue(l6),sO={},oO={},Wd={exports:{}},Hd,aO;function d6(){if(aO)return Hd;aO=1;var i=ce();return Hd=i(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Hd}var Gd,uO;function c6(){if(uO)return Gd;uO=1;var i=ce(),e=ft(),t=lr(),r=d6(),n=Object.isExtensible,s=i(function(){});return Gd=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:n?n(a):!0}:n,Gd}var Vd,lO;function h6(){if(lO)return Vd;lO=1;var i=ce();return Vd=!i(function(){return Object.isExtensible(Object.preventExtensions({}))}),Vd}var dO;function wF(){if(dO)return Wd.exports;dO=1;var i=te(),e=me(),t=Ts(),r=ft(),n=He(),s=St().f,o=Go(),a=xM(),u=c6(),l=Bo(),d=h6(),c=!1,h=l("meta"),f=0,v=function(m){s(m,h,{value:{objectID:"O"+f++,weakData:{}}})},g=function(m,S){if(!r(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!n(m,h)){if(!u(m))return"F";if(!S)return"E";v(m)}return m[h].objectID},_=function(m,S){if(!n(m,h)){if(!u(m))return!0;if(!S)return!1;v(m)}return m[h].weakData},y=function(m){return d&&c&&u(m)&&!n(m,h)&&v(m),m},p=function(){O.enable=function(){},c=!0;var m=o.f,S=e([].splice),$={};$[h]=1,m($).length&&(o.f=function(w){for(var b=m(w),E=0,I=b.length;E<I;E++)if(b[E]===h){S(b,E,1);break}return b},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},O=Wd.exports={enable:p,fastKey:g,getWeakData:_,onFreeze:y};return t[h]=!0,Wd.exports}var Ud,cO;function f6(){if(cO)return Ud;cO=1;var i=Xe(),e=bn(),t=i("iterator"),r=Array.prototype;return Ud=function(n){return n!==void 0&&(e.Array===n||r[t]===n)},Ud}var Kd,hO;function EF(){if(hO)return Kd;hO=1;var i=xr(),e=wb(),t=Ss(),r=bn(),n=Xe(),s=n("iterator");return Kd=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[i(o)]},Kd}var Yd,fO;function SF(){if(fO)return Yd;fO=1;var i=ht(),e=cr(),t=hr(),r=fn(),n=EF(),s=TypeError;return Yd=function(o,a){var u=arguments.length<2?n(o):a;if(e(u))return t(i(u,o));throw new s(r(o)+" is not iterable")},Yd}var Xd,vO;function Bb(){if(vO)return Xd;vO=1;var i=ht(),e=hr(),t=wb();return Xd=function(r,n,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(n==="throw")throw s;return s}o=i(o,r)}catch(u){a=!0,o=u}if(n==="throw")throw s;if(a)throw o;return e(o),s},Xd}var Zd,pO;function jb(){if(pO)return Zd;pO=1;var i=Lo(),e=ht(),t=hr(),r=fn(),n=f6(),s=hi(),o=et(),a=SF(),u=EF(),l=Bb(),d=TypeError,c=function(f,v){this.stopped=f,this.result=v},h=c.prototype;return Zd=function(f,v,g){var _=g&&g.that,y=!!(g&&g.AS_ENTRIES),p=!!(g&&g.IS_RECORD),O=!!(g&&g.IS_ITERATOR),m=!!(g&&g.INTERRUPTED),S=i(v,_),$,w,b,E,I,T,P,R=function(A){return $&&l($,"normal"),new c(!0,A)},q=function(A){return y?(t(A),m?S(A[0],A[1],R):S(A[0],A[1])):m?S(A,R):S(A)};if(p)$=f.iterator;else if(O)$=f;else{if(w=u(f),!w)throw new d(r(f)+" is not iterable");if(n(w)){for(b=0,E=s(f);E>b;b++)if(I=q(f[b]),I&&o(h,I))return I;return new c(!1)}$=a(f,w)}for(T=p?f.next:$.next;!(P=e(T,$)).done;){try{I=q(P.value)}catch(A){l($,"throw",A)}if(typeof I=="object"&&I&&o(h,I))return I}return new c(!1)},Zd}var Jd,gO;function OF(){if(gO)return Jd;gO=1;var i=et(),e=TypeError;return Jd=function(t,r){if(i(r,t))return t;throw new e("Incorrect invocation")},Jd}var Qd,yO;function IF(){if(yO)return Qd;yO=1;var i=te(),e=Me(),t=wF(),r=ce(),n=gn(),s=jb(),o=OF(),a=ze(),u=ft(),l=Ss(),d=fi(),c=St().f,h=mn().forEach,f=Fe(),v=qs(),g=v.set,_=v.getterFor;return Qd=function(y,p,O){var m=y.indexOf("Map")!==-1,S=y.indexOf("Weak")!==-1,$=m?"set":"add",w=e[y],b=w&&w.prototype,E={},I;if(!f||!a(w)||!(S||b.forEach&&!r(function(){new w().entries().next()})))I=O.getConstructor(p,y,m,$),t.enable();else{I=p(function(R,q){g(o(R,T),{type:y,collection:new w}),l(q)||s(q,R[$],{that:R,AS_ENTRIES:m})});var T=I.prototype,P=_(y);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var q=R==="add"||R==="set";R in b&&!(S&&R==="clear")&&n(T,R,function(A,Y){var L=P(this).collection;if(!q&&S&&!u(A))return R==="get"?void 0:!1;var Q=L[R](A===0?0:A,Y);return q?this:Q})}),S||c(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d(I,y,!1,!0),E[y]=I,i({global:!0,forced:!0},E),S||O.setStrong(I,y,m),I},Qd}var ec,mO;function v6(){if(mO)return ec;mO=1;var i=Cs();return ec=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:i(e,n,t[n],r);return e},ec}var tc,bO;function p6(){if(bO)return tc;bO=1;var i=pt(),e=Rb(),t=Xe(),r=Fe(),n=t("species");return tc=function(s){var o=i(s);r&&o&&!o[n]&&e(o,n,{configurable:!0,get:function(){return this}})},tc}var rc,_O;function $F(){if(_O)return rc;_O=1;var i=Ps(),e=Rb(),t=v6(),r=Lo(),n=OF(),s=Ss(),o=jb(),a=Cb(),u=qb(),l=p6(),d=Fe(),c=wF().fastKey,h=qs(),f=h.set,v=h.getterFor;return rc={getConstructor:function(g,_,y,p){var O=g(function(b,E){n(b,m),f(b,{type:_,index:i(null),first:null,last:null,size:0}),d||(b.size=0),s(E)||o(E,b[p],{that:b,AS_ENTRIES:y})}),m=O.prototype,S=v(_),$=function(b,E,I){var T=S(b),P=w(b,E),R,q;return P?P.value=I:(T.last=P={index:q=c(E,!0),key:E,value:I,previous:R=T.last,next:null,removed:!1},T.first||(T.first=P),R&&(R.next=P),d?T.size++:b.size++,q!=="F"&&(T.index[q]=P)),b},w=function(b,E){var I=S(b),T=c(E),P;if(T!=="F")return I.index[T];for(P=I.first;P;P=P.next)if(P.key===E)return P};return t(m,{clear:function(){for(var E=this,I=S(E),T=I.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;I.first=I.last=null,I.index=i(null),d?I.size=0:E.size=0},delete:function(b){var E=this,I=S(E),T=w(E,b);if(T){var P=T.next,R=T.previous;delete I.index[T.index],T.removed=!0,R&&(R.next=P),P&&(P.previous=R),I.first===T&&(I.first=P),I.last===T&&(I.last=R),d?I.size--:E.size--}return!!T},forEach:function(E){for(var I=S(this),T=r(E,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:I.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(E){return!!w(this,E)}}),t(m,y?{get:function(E){var I=w(this,E);return I&&I.value},set:function(E,I){return $(this,E===0?0:E,I)}}:{add:function(E){return $(this,E=E===0?0:E,E)}}),d&&e(m,"size",{configurable:!0,get:function(){return S(this).size}}),O},setStrong:function(g,_,y){var p=_+" Iterator",O=v(_),m=v(p);a(g,_,function(S,$){f(this,{type:p,target:S,state:O(S),kind:$,last:null})},function(){for(var S=m(this),$=S.kind,w=S.last;w&&w.removed;)w=w.previous;return!S.target||!(S.last=w=w?w.next:S.state.first)?(S.target=null,u(void 0,!0)):u($==="keys"?w.key:$==="values"?w.value:[w.key,w.value],!1)},y?"entries":"values",!y,!0),l(_)}},rc}var wO;function g6(){if(wO)return oO;wO=1;var i=IF(),e=$F();return i("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),oO}var EO;function y6(){return EO||(EO=1,g6()),sO}var SO={},ic,OO;function TF(){return OO||(OO=1,ic=function(i,e){return e===1?function(t,r){return t[i](r)}:function(t,r,n){return t[i](r,n)}}),ic}var nc,IO;function m6(){if(IO)return nc;IO=1;var i=pt(),e=TF(),t=i("Map");return nc={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},nc}var $O;function b6(){if($O)return SO;$O=1;var i=te(),e=me(),t=cr(),r=ci(),n=jb(),s=m6(),o=vn(),a=ce(),u=s.Map,l=s.has,d=s.get,c=s.set,h=e([].push),f=o||a(function(){return u.groupBy("ab",function(v){return v}).get("a").length!==1});return i({target:"Map",stat:!0,forced:o||f},{groupBy:function(g,_){r(g),t(_);var y=new u,p=0;return n(g,function(O){var m=_(O,p++);l(y,m)?h(d(y,m),O):c(y,m,[O])}),y}}),SO}var sc,TO;function _6(){if(TO)return sc;TO=1,Dr(),y6(),b6(),Ko();var i=We();return sc=i.Map,sc}var oc,PO;function w6(){if(PO)return oc;PO=1;var i=_6();return Ar(),oc=i,oc}var ac,RO;function E6(){return RO||(RO=1,ac=w6()),ac}var S6=E6(),PF=ue(S6),CO={},qO;function O6(){if(qO)return CO;qO=1;var i=te(),e=mn().some,t=Yo(),r=t("some");return i({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),CO}var uc,xO;function I6(){if(xO)return uc;xO=1,O6();var i=Ot();return uc=i("Array","some"),uc}var lc,kO;function $6(){if(kO)return lc;kO=1;var i=et(),e=I6(),t=Array.prototype;return lc=function(r){var n=r.some;return r===t||i(t,r)&&n===t.some?e:n},lc}var dc,DO;function T6(){if(DO)return dc;DO=1;var i=$6();return dc=i,dc}var cc,AO;function P6(){return AO||(AO=1,cc=T6()),cc}var R6=P6(),C6=ue(R6),MO={},hc,FO;function q6(){if(FO)return hc;FO=1;var i=Fe(),e=me(),t=ht(),r=ce(),n=Wo(),s=Vo(),o=_b(),a=Bt(),u=No(),l=Object.assign,d=Object.defineProperty,c=e([].concat);return hc=!l||r(function(){if(i&&l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),g="abcdefghijklmnopqrst";return h[v]=7,g.split("").forEach(function(_){f[_]=_}),l({},h)[v]!==7||n(l({},f)).join("")!==g})?function(f,v){for(var g=a(f),_=arguments.length,y=1,p=s.f,O=o.f;_>y;)for(var m=u(arguments[y++]),S=p?c(n(m),p(m)):n(m),$=S.length,w=0,b;$>w;)b=S[w++],(!i||t(O,m,b))&&(g[b]=m[b]);return g}:l,hc}var NO;function x6(){if(NO)return MO;NO=1;var i=te(),e=q6();return i({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),MO}var fc,BO;function k6(){if(BO)return fc;BO=1,x6();var i=We();return fc=i.Object.assign,fc}var vc,jO;function D6(){if(jO)return vc;jO=1;var i=k6();return vc=i,vc}var pc,LO;function A6(){return LO||(LO=1,pc=D6()),pc}var M6=A6(),F6=ue(M6),gc,zO;function N6(){if(zO)return gc;zO=1,RM();var i=Ot();return gc=i("Array","concat"),gc}var yc,WO;function B6(){if(WO)return yc;WO=1;var i=et(),e=N6(),t=Array.prototype;return yc=function(r){var n=r.concat;return r===t||i(t,r)&&n===t.concat?e:n},yc}var mc,HO;function j6(){if(HO)return mc;HO=1;var i=B6();return mc=i,mc}var bc,GO;function L6(){return GO||(GO=1,bc=j6()),bc}var z6=L6(),W6=ue(z6),_c,VO;function H6(){if(VO)return _c;VO=1,Dr();var i=Ot();return _c=i("Array","keys"),_c}var wc,UO;function G6(){if(UO)return wc;UO=1;var i=H6();return wc=i,wc}var Ec,KO;function V6(){if(KO)return Ec;KO=1,Ar();var i=xr(),e=He(),t=et(),r=G6(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Ec=function(o){var a=o.keys;return o===n||t(n,o)&&a===n.keys||e(s,i(o))?r:a},Ec}var Sc,YO;function U6(){return YO||(YO=1,Sc=V6()),Sc}var K6=U6(),ki=ue(K6),XO={},ZO;function Y6(){if(ZO)return XO;ZO=1;var i=te(),e=Bt(),t=Wo(),r=ce(),n=r(function(){t(1)});return i({target:"Object",stat:!0,forced:n},{keys:function(o){return t(e(o))}}),XO}var Oc,JO;function X6(){if(JO)return Oc;JO=1,Y6();var i=We();return Oc=i.Object.keys,Oc}var Ic,QO;function Z6(){if(QO)return Ic;QO=1;var i=X6();return Ic=i,Ic}var $c,eI;function J6(){return eI||(eI=1,$c=Z6()),$c}var Q6=J6(),RF=ue(Q6),tI={},Tc,rI;function CF(){if(rI)return Tc;rI=1;var i=fn(),e=TypeError;return Tc=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+i(r)+" of "+i(t))},Tc}var Pc,iI;function e9(){if(iI)return Pc;iI=1;var i=Rs(),e=Math.floor,t=function(r,n){var s=r.length;if(s<8)for(var o=1,a,u;o<s;){for(u=o,a=r[o];u&&n(r[u-1],a)>0;)r[u]=r[--u];u!==o++&&(r[u]=a)}else for(var l=e(s/2),d=t(i(r,0,l),n),c=t(i(r,l),n),h=d.length,f=c.length,v=0,g=0;v<h||g<f;)r[v+g]=v<h&&g<f?n(d[v],c[g])<=0?d[v++]:c[g++]:v<h?d[v++]:c[g++];return r};return Pc=t,Pc}var Rc,nI;function t9(){if(nI)return Rc;nI=1;var i=cn(),e=i.match(/firefox\/(\d+)/i);return Rc=!!e&&+e[1],Rc}var Cc,sI;function r9(){if(sI)return Cc;sI=1;var i=cn();return Cc=/MSIE|Trident/.test(i),Cc}var qc,oI;function i9(){if(oI)return qc;oI=1;var i=cn(),e=i.match(/AppleWebKit\/(\d+)\./);return qc=!!e&&+e[1],qc}var aI;function n9(){if(aI)return tI;aI=1;var i=te(),e=me(),t=cr(),r=Bt(),n=hi(),s=CF(),o=kr(),a=ce(),u=e9(),l=Yo(),d=t9(),c=r9(),h=Os(),f=i9(),v=[],g=e(v.sort),_=e(v.push),y=a(function(){v.sort(void 0)}),p=a(function(){v.sort(null)}),O=l("sort"),m=!a(function(){if(h)return h<70;if(!(d&&d>3)){if(c)return!0;if(f)return f<603;var w="",b,E,I,T;for(b=65;b<76;b++){switch(E=String.fromCharCode(b),b){case 66:case 69:case 70:case 72:I=3;break;case 68:case 71:I=4;break;default:I=2}for(T=0;T<47;T++)v.push({k:E+T,v:I})}for(v.sort(function(P,R){return R.v-P.v}),T=0;T<v.length;T++)E=v[T].k.charAt(0),w.charAt(w.length-1)!==E&&(w+=E);return w!=="DGBEFHACIJK"}}),S=y||!p||!O||!m,$=function(w){return function(b,E){return E===void 0?-1:b===void 0?1:w!==void 0?+w(b,E)||0:o(b)>o(E)?1:-1}};return i({target:"Array",proto:!0,forced:S},{sort:function(b){b!==void 0&&t(b);var E=r(this);if(m)return b===void 0?g(E):g(E,b);var I=[],T=n(E),P,R;for(R=0;R<T;R++)R in E&&_(I,E[R]);for(u(I,$(b)),P=n(I),R=0;R<P;)E[R]=I[R++];for(;R<T;)s(E,R++);return E}}),tI}var xc,uI;function s9(){if(uI)return xc;uI=1,n9();var i=Ot();return xc=i("Array","sort"),xc}var kc,lI;function o9(){if(lI)return kc;lI=1;var i=et(),e=s9(),t=Array.prototype;return kc=function(r){var n=r.sort;return r===t||i(t,r)&&n===t.sort?e:n},kc}var Dc,dI;function a9(){if(dI)return Dc;dI=1;var i=o9();return Dc=i,Dc}var Ac,cI;function u9(){return cI||(cI=1,Ac=a9()),Ac}var l9=u9(),Xm=ue(l9),Mc,hI;function d9(){if(hI)return Mc;hI=1,Dr();var i=Ot();return Mc=i("Array","values"),Mc}var Fc,fI;function c9(){if(fI)return Fc;fI=1;var i=d9();return Fc=i,Fc}var Nc,vI;function h9(){if(vI)return Nc;vI=1,Ar();var i=xr(),e=He(),t=et(),r=c9(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Nc=function(o){var a=o.values;return o===n||t(n,o)&&a===n.values||e(s,i(o))?r:a},Nc}var Bc,pI;function f9(){return pI||(pI=1,Bc=h9()),Bc}var v9=f9(),gI=ue(v9),yI={},jc,mI;function p9(){if(mI)return jc;mI=1;var i=yn(),e=kr(),t=ci(),r=RangeError;return jc=function(s){var o=e(t(this)),a="",u=i(s);if(u<0||u===1/0)throw new r("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(o+=o))u&1&&(a+=o);return a},jc}var Lc,bI;function g9(){if(bI)return Lc;bI=1;var i=me(),e=TM(),t=kr(),r=p9(),n=ci(),s=i(r),o=i("".slice),a=Math.ceil,u=function(l){return function(d,c,h){var f=t(n(d)),v=e(c),g=f.length,_=h===void 0?" ":t(h),y,p;return v<=g||_===""?f:(y=v-g,p=s(_,a(y/_.length)),p.length>y&&(p=o(p,0,y)),l?f+p:p+f)}};return Lc={start:u(!1),end:u(!0)},Lc}var zc,_I;function y9(){if(_I)return zc;_I=1;var i=me(),e=ce(),t=g9().start,r=RangeError,n=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,u=i(o.getTime),l=i(o.getUTCDate),d=i(o.getUTCFullYear),c=i(o.getUTCHours),h=i(o.getUTCMilliseconds),f=i(o.getUTCMinutes),v=i(o.getUTCMonth),g=i(o.getUTCSeconds);return zc=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!n(u(this)))throw new r("Invalid time value");var y=this,p=d(y),O=h(y),m=p<0?"-":p>9999?"+":"";return m+t(s(p),m?6:4,0)+"-"+t(v(y)+1,2,0)+"-"+t(l(y),2,0)+"T"+t(c(y),2,0)+":"+t(f(y),2,0)+":"+t(g(y),2,0)+"."+t(O,3,0)+"Z"}:a,zc}var wI;function m9(){if(wI)return yI;wI=1;var i=te(),e=ht(),t=Bt(),r=EM(),n=y9(),s=lr(),o=ce(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return i({target:"Date",proto:!0,forced:a},{toJSON:function(l){var d=t(this),c=r(d,"number");return typeof c=="number"&&!isFinite(c)?null:!("toISOString"in d)&&s(d)==="Date"?e(n,d):d.toISOString()}}),yI}var Wc,EI;function b9(){if(EI)return Wc;EI=1,m9(),AM();var i=We(),e=Fo();return i.JSON||(i.JSON={stringify:JSON.stringify}),Wc=function(r,n,s){return e(i.JSON.stringify,null,arguments)},Wc}var Hc,SI;function _9(){if(SI)return Hc;SI=1;var i=b9();return Hc=i,Hc}var Gc,OI;function w9(){return OI||(OI=1,Gc=_9()),Gc}var E9=w9(),S9=ue(E9),Vc,II;function O9(){return II||(II=1,Vc=GM()),Vc}var I9=O9(),ji=ue(I9),Uc,$I;function $9(){if($I)return Uc;$I=1,Dr();var i=Ot();return Uc=i("Array","entries"),Uc}var Kc,TI;function T9(){if(TI)return Kc;TI=1;var i=$9();return Kc=i,Kc}var Yc,PI;function P9(){if(PI)return Yc;PI=1,Ar();var i=xr(),e=He(),t=et(),r=T9(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Yc=function(o){var a=o.entries;return o===n||t(n,o)&&a===n.entries||e(s,i(o))?r:a},Yc}var Xc,RI;function R9(){return RI||(RI=1,Xc=P9()),Xc}var C9=R9(),q9=ue(C9);const Ue=[];for(let i=0;i<256;++i)Ue.push((i+256).toString(16).slice(1));function x9(i,e=0){return(Ue[i[e+0]]+Ue[i[e+1]]+Ue[i[e+2]]+Ue[i[e+3]]+"-"+Ue[i[e+4]]+Ue[i[e+5]]+"-"+Ue[i[e+6]]+Ue[i[e+7]]+"-"+Ue[i[e+8]]+Ue[i[e+9]]+"-"+Ue[i[e+10]]+Ue[i[e+11]]+Ue[i[e+12]]+Ue[i[e+13]]+Ue[i[e+14]]+Ue[i[e+15]]).toLowerCase()}let Zc;const k9=new Uint8Array(16);function D9(){if(!Zc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Zc=crypto.getRandomValues.bind(crypto)}return Zc(k9)}const A9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var CI={randomUUID:A9};function M9(i,e,t){if(CI.randomUUID&&!i)return CI.randomUUID();i=i||{};const r=i.random??i.rng?.()??D9();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,x9(r)}function qI(i){return typeof i=="string"||typeof i=="number"}var xI={},kI={},Jc,DI;function F9(){if(DI)return Jc;DI=1;var i=TypeError;return Jc=function(e,t){if(e<t)throw new i("Not enough arguments");return e},Jc}var Qc,AI;function qF(){if(AI)return Qc;AI=1;var i=Me(),e=Fo(),t=ze(),r=VM(),n=cn(),s=Rs(),o=F9(),a=i.Function,u=/MSIE .\./.test(n)||r==="BUN"&&function(){var l=i.Bun.version.split(".");return l.length<3||l[0]==="0"&&(l[1]<3||l[1]==="3"&&l[2]==="0")}();return Qc=function(l,d){var c=d?2:1;return u?function(h,f){var v=o(arguments.length,1)>c,g=t(h)?h:a(h),_=v?s(arguments,c):[],y=v?function(){e(g,this,_)}:g;return d?l(y,f):l(y)}:l},Qc}var MI;function N9(){if(MI)return kI;MI=1;var i=te(),e=Me(),t=qF(),r=t(e.setInterval,!0);return i({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),kI}var FI={},NI;function B9(){if(NI)return FI;NI=1;var i=te(),e=Me(),t=qF(),r=t(e.setTimeout,!0);return i({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),FI}var BI;function j9(){return BI||(BI=1,N9(),B9()),xI}var eh,jI;function L9(){if(jI)return eh;jI=1,j9();var i=We();return eh=i.setTimeout,eh}var th,LI;function z9(){return LI||(LI=1,th=L9()),th}var W9=z9(),H9=ue(W9),zI={},rh,WI;function G9(){if(WI)return rh;WI=1;var i=Fe(),e=$s(),t=TypeError,r=Object.getOwnPropertyDescriptor,n=i&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return rh=n?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},rh}var HI;function V9(){if(HI)return zI;HI=1;var i=te(),e=Bt(),t=CM(),r=yn(),n=hi(),s=G9(),o=PM(),a=$b(),u=Ob(),l=CF(),d=zo(),c=d("splice"),h=Math.max,f=Math.min;return i({target:"Array",proto:!0,forced:!c},{splice:function(g,_){var y=e(this),p=n(y),O=t(g,p),m=arguments.length,S,$,w,b,E,I;for(m===0?S=$=0:m===1?(S=0,$=p-O):(S=m-2,$=f(h(r(_),0),p-O)),o(p+S-$),w=a(y,$),b=0;b<$;b++)E=O+b,E in y&&u(w,b,y[E]);if(w.length=$,S<$){for(b=O;b<p-$;b++)E=b+$,I=b+S,E in y?y[I]=y[E]:l(y,I);for(b=p;b>p-$+S;b--)l(y,b-1)}else if(S>$)for(b=p-$;b>O;b--)E=b+$-1,I=b+S-1,E in y?y[I]=y[E]:l(y,I);for(b=0;b<S;b++)y[b+O]=arguments[b+2];return s(y,p-$+S),w}}),zI}var ih,GI;function U9(){if(GI)return ih;GI=1,V9();var i=Ot();return ih=i("Array","splice"),ih}var nh,VI;function K9(){if(VI)return nh;VI=1;var i=et(),e=U9(),t=Array.prototype;return nh=function(r){var n=r.splice;return r===t||i(t,r)&&n===t.splice?e:n},nh}var sh,UI;function Y9(){if(UI)return sh;UI=1;var i=K9();return sh=i,sh}var oh,KI;function X9(){return KI||(KI=1,oh=Y9()),oh}var Z9=X9(),J9=ue(Z9);class Lb{constructor(e){wr(this,"_queue",[]),wr(this,"_timeout",null),wr(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const r=new Lb(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{r.flush()};const n=[{name:"flush",original:void 0}];if(t&&t.replace)for(let s=0;s<t.replace.length;s++){const o=t.replace[s];n.push({name:o,original:e[o]}),r.replace(e,o)}return r._extended={object:e,methods:n},r}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let r=0;r<t.length;r++){const n=t[r];n.original?e[n.name]=n.original:delete e[n.name]}this._extended=null}}replace(e,t){const r=this,n=e[t];if(!n)throw new Error("Method "+t+" undefined");e[t]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];r.queue({args:o,fn:n,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=H9(()=>{this.flush()},this.delay))}flush(){var e,t;en(e=J9(t=this._queue).call(t,0)).call(e,r=>{r.fn.apply(r.context||r.fn,r.args||[])})}}class To{constructor(){wr(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),wr(this,"subscribe",To.prototype.on),wr(this,"unsubscribe",To.prototype.off)}_trigger(e,t,r){var n;if(e==="*")throw new Error("Cannot trigger event *");en(n=[...this._subscribers[e],...this._subscribers["*"]]).call(n,s=>{s(e,t,r??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){var r;this._subscribers[e]=Fi(r=this._subscribers[e]).call(r,n=>n!==t)}get testLeakSubscribers(){return this._subscribers}}var YI={},XI;function Q9(){if(XI)return YI;XI=1;var i=te(),e=Fe(),t=Ps();return i({target:"Object",stat:!0,sham:!e},{create:t}),YI}var ah,ZI;function e4(){if(ZI)return ah;ZI=1,Q9();var i=We(),e=i.Object;return ah=function(r,n){return e.create(r,n)},ah}var uh,JI;function t4(){if(JI)return uh;JI=1;var i=e4();return uh=i,uh}var lh,QI;function r4(){return QI||(QI=1,lh=t4()),lh}var i4=r4(),n4=ue(i4),e$={},t$={},r$;function s4(){if(r$)return t$;r$=1;var i=IF(),e=$F();return i("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),t$}var i$;function o4(){return i$||(i$=1,s4()),e$}var n$={},dh,s$;function pi(){if(s$)return dh;s$=1;var i=fn(),e=TypeError;return dh=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(i(t)+" is not a set")},dh}var ch,o$;function gi(){if(o$)return ch;o$=1;var i=pt(),e=TF(),t=i("Set"),r=t.prototype;return ch={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},ch}var hh,a$;function yi(){if(a$)return hh;a$=1;var i=ht();return hh=function(e,t,r){for(var n=r?e:e.iterator,s=e.next,o,a;!(o=i(s,n)).done;)if(a=t(o.value),a!==void 0)return a},hh}var fh,u$;function Fs(){if(u$)return fh;u$=1;var i=yi();return fh=function(e,t,r){return r?i(e.keys(),t,!0):e.forEach(t)},fh}var vh,l$;function zb(){if(l$)return vh;l$=1;var i=gi(),e=Fs(),t=i.Set,r=i.add;return vh=function(n){var s=new t;return e(n,function(o){r(s,o)}),s},vh}var ph,d$;function Ns(){return d$||(d$=1,ph=function(i){return i.size}),ph}var gh,c$;function a4(){return c$||(c$=1,gh=function(i){return{iterator:i,next:i.next,done:!1}}),gh}var yh,h$;function mi(){if(h$)return yh;h$=1;var i=cr(),e=hr(),t=ht(),r=yn(),n=a4(),s="Invalid size",o=RangeError,a=TypeError,u=Math.max,l=function(d,c){this.set=d,this.size=u(c,0),this.has=i(d.has),this.keys=i(d.keys)};return l.prototype={getIterator:function(){return n(e(t(this.keys,this.set)))},includes:function(d){return t(this.has,this.set,d)}},yh=function(d){e(d);var c=+d.size;if(c!==c)throw new a(s);var h=r(c);if(h<0)throw new o(s);return new l(d,h)},yh}var mh,f$;function u4(){if(f$)return mh;f$=1;var i=pi(),e=gi(),t=zb(),r=Ns(),n=mi(),s=Fs(),o=yi(),a=e.has,u=e.remove;return mh=function(d){var c=i(this),h=n(d),f=t(c);return r(c)<=h.size?s(c,function(v){h.includes(v)&&u(f,v)}):o(h.getIterator(),function(v){a(f,v)&&u(f,v)}),f},mh}var bh,v$;function bi(){return v$||(v$=1,bh=function(){return!1}),bh}var p$;function l4(){if(p$)return n$;p$=1;var i=te(),e=u4(),t=ce(),r=bi(),n=!r("difference",function(o){return o.size===0}),s=n||t(function(){var o={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var l=u++>1;return a.has(1)&&a.clear(),{done:l,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return i({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),n$}var g$={},_h,y$;function d4(){if(y$)return _h;y$=1;var i=pi(),e=gi(),t=Ns(),r=mi(),n=Fs(),s=yi(),o=e.Set,a=e.add,u=e.has;return _h=function(d){var c=i(this),h=r(d),f=new o;return t(c)>h.size?s(h.getIterator(),function(v){u(c,v)&&a(f,v)}):n(c,function(v){h.includes(v)&&a(f,v)}),f},_h}var m$;function c4(){if(m$)return g$;m$=1;var i=te(),e=ce(),t=d4(),r=bi(),n=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return i({target:"Set",proto:!0,real:!0,forced:n},{intersection:t}),g$}var b$={},wh,_$;function h4(){if(_$)return wh;_$=1;var i=pi(),e=gi().has,t=Ns(),r=mi(),n=Fs(),s=yi(),o=Bb();return wh=function(u){var l=i(this),d=r(u);if(t(l)<=d.size)return n(l,function(h){if(d.includes(h))return!1},!0)!==!1;var c=d.getIterator();return s(c,function(h){if(e(l,h))return o(c,"normal",!1)})!==!1},wh}var w$;function f4(){if(w$)return b$;w$=1;var i=te(),e=h4(),t=bi(),r=!t("isDisjointFrom",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),b$}var E$={},Eh,S$;function v4(){if(S$)return Eh;S$=1;var i=pi(),e=Ns(),t=Fs(),r=mi();return Eh=function(s){var o=i(this),a=r(s);return e(o)>a.size?!1:t(o,function(u){if(!a.includes(u))return!1},!0)!==!1},Eh}var O$;function p4(){if(O$)return E$;O$=1;var i=te(),e=v4(),t=bi(),r=!t("isSubsetOf",function(n){return n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),E$}var I$={},Sh,$$;function g4(){if($$)return Sh;$$=1;var i=pi(),e=gi().has,t=Ns(),r=mi(),n=yi(),s=Bb();return Sh=function(a){var u=i(this),l=r(a);if(t(u)<l.size)return!1;var d=l.getIterator();return n(d,function(c){if(!e(u,c))return s(d,"normal",!1)})!==!1},Sh}var T$;function y4(){if(T$)return I$;T$=1;var i=te(),e=g4(),t=bi(),r=!t("isSupersetOf",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),I$}var P$={},Oh,R$;function m4(){if(R$)return Oh;R$=1;var i=pi(),e=gi(),t=zb(),r=mi(),n=yi(),s=e.add,o=e.has,a=e.remove;return Oh=function(l){var d=i(this),c=r(l).getIterator(),h=t(d);return n(c,function(f){o(d,f)?a(h,f):s(h,f)}),h},Oh}var Ih,C$;function xF(){return C$||(C$=1,Ih=function(i){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[i](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),Ih}var q$;function b4(){if(q$)return P$;q$=1;var i=te(),e=m4(),t=xF(),r=bi(),n=!r("symmetricDifference")||!t("symmetricDifference");return i({target:"Set",proto:!0,real:!0,forced:n},{symmetricDifference:e}),P$}var x$={},$h,k$;function _4(){if(k$)return $h;k$=1;var i=pi(),e=gi().add,t=zb(),r=mi(),n=yi();return $h=function(o){var a=i(this),u=r(o).getIterator(),l=t(a);return n(u,function(d){e(l,d)}),l},$h}var D$;function w4(){if(D$)return x$;D$=1;var i=te(),e=_4(),t=xF(),r=bi(),n=!r("union")||!t("union");return i({target:"Set",proto:!0,real:!0,forced:n},{union:e}),x$}var Th,A$;function E4(){if(A$)return Th;A$=1,Dr(),o4(),l4(),c4(),f4(),p4(),y4(),b4(),w4(),Ko();var i=We();return Th=i.Set,Th}var Ph,M$;function S4(){if(M$)return Ph;M$=1;var i=E4();return Ar(),Ph=i,Ph}var Rh,F$;function O4(){return F$||(F$=1,Rh=S4()),Rh}var I4=O4(),Ch=ue(I4),qh,N$;function $4(){if(N$)return qh;N$=1,Dr(),Ko();var i=SF();return qh=i,qh}var xh,B$;function T4(){if(B$)return xh;B$=1;var i=$4();return Ar(),xh=i,xh}var kh,j$;function P4(){if(j$)return kh;j$=1;var i=T4();return kh=i,kh}var Dh,L$;function R4(){if(L$)return Dh;L$=1;var i=P4();return Dh=i,Dh}var Ah,z$;function C4(){return z$||(z$=1,Ah=R4()),Ah}var Mh,W$;function q4(){return W$||(W$=1,Mh=C4()),Mh}var x4=q4(),Fh=ue(x4);class Xr{constructor(e){this._pairs=e}*[ji](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Lt(e=[...this._pairs]).call(e,t=>t[0])}toItemArray(){var e;return Lt(e=[...this._pairs]).call(e,t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=n4(null);for(const[t,r]of this._pairs)e[t]=r;return e}toMap(){return new PF(this._pairs)}toIdSet(){return new Ch(this.toIdArray())}toItemSet(){return new Ch(this.toItemArray())}cache(){return new Xr([...this._pairs])}distinct(e){const t=new Ch;for(const[r,n]of this._pairs)t.add(e(n,r));return t}filter(e){const t=this._pairs;return new Xr({*[ji](){for(const[r,n]of t)e(n,r)&&(yield[r,n])}})}forEach(e){for(const[t,r]of this._pairs)e(r,t)}map(e){const t=this._pairs;return new Xr({*[ji](){for(const[r,n]of t)yield[r,e(n,r)]}})}max(e){const t=Fh(this._pairs);let r=t.next();if(r.done)return null;let n=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,u=e(a,o);u>s&&(s=u,n=a)}return n}min(e){const t=Fh(this._pairs);let r=t.next();if(r.done)return null;let n=r.value[1],s=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[o,a]=r.value,u=e(a,o);u<s&&(s=u,n=a)}return n}reduce(e,t){for(const[r,n]of this._pairs)t=e(t,n,r);return t}sort(e){return new Xr({[ji]:()=>{var t;return Fh(Xm(t=[...this._pairs]).call(t,(r,n)=>{let[s,o]=r,[a,u]=n;return e(o,u,s,a)}))}})}}function H$(i,e){var t=RF(i);if(PS){var r=PS(i);e&&(r=Fi(r).call(r,function(n){return _F(i,n).enumerable})),t.push.apply(t,r)}return t}function G$(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?en(t=H$(Object(n),!0)).call(t,function(s){wr(i,s,n[s])}):US?t6(i,US(n)):en(r=H$(Object(n))).call(r,function(s){n6(i,s,_F(n,s))})}return i}function k4(i,e){return i[e]==null&&(i[e]=M9()),i}class tn extends To{get idProp(){return this._idProp}constructor(e,t){super(),wr(this,"_queue",null),e&&!Vr(e)&&(t=e,e=[]),this._options=t||{},this._data=new PF,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(t)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=Lb.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,t){const r=[];let n;if(Vr(e)){const s=Lt(e).call(e,o=>o[this._idProp]);if(C6(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)n=this._addItem(e[o]),r.push(n)}else if(e&&typeof e=="object")n=this._addItem(e),r.push(n);else throw new Error("Unknown dataType");return r.length&&this._trigger("add",{items:r},t),r}update(e,t){const r=[],n=[],s=[],o=[],a=this._idProp,u=l=>{const d=l[a];if(d!=null&&this._data.has(d)){const c=l,h=F6({},this._data.get(d)),f=this._updateItem(c);n.push(f),o.push(c),s.push(h)}else{const c=this._addItem(l);r.push(c)}};if(Vr(e))for(let l=0,d=e.length;l<d;l++)e[l]&&typeof e[l]=="object"?u(e[l]):console.warn("Ignoring input item, which is not an object at index "+l);else if(e&&typeof e=="object")u(e);else throw new Error("Unknown dataType");if(r.length&&this._trigger("add",{items:r},t),n.length){const l={items:n,oldData:s,data:o};this._trigger("update",l,t)}return W6(r).call(r,n)}updateOnly(e,t){var r;Vr(e)||(e=[e]);const n=Lt(r=Lt(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(r,s=>{let{oldData:o,update:a}=s;const u=o[this._idProp],l=Oz(o,a);return this._data.set(u,l),{id:u,oldData:o,updatedData:l}});if(n.length){const s={items:Lt(n).call(n,o=>o.id),oldData:Lt(n).call(n,o=>o.oldData),data:Lt(n).call(n,o=>o.updatedData)};return this._trigger("update",s,t),s.items}else return[]}get(e,t){let r,n,s;qI(e)?(r=e,s=t):Vr(e)?(n=e,s=t):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&Fi(s),u=[];let l,d,c;if(r!=null)l=this._data.get(r),l&&a&&!a(l)&&(l=void 0);else if(n!=null)for(let f=0,v=n.length;f<v;f++)l=this._data.get(n[f]),l!=null&&(!a||a(l))&&u.push(l);else{var h;d=[...ki(h=this._data).call(h)];for(let f=0,v=d.length;f<v;f++)c=d[f],l=this._data.get(c),l!=null&&(!a||a(l))&&u.push(l)}if(s&&s.order&&r==null&&this._sort(u,s.order),s&&s.fields){const f=s.fields;if(r!=null&&l!=null)l=this._filterFields(l,f);else for(let v=0,g=u.length;v<g;v++)u[v]=this._filterFields(u[v],f)}if(o=="Object"){const f={};for(let v=0,g=u.length;v<g;v++){const _=u[v],y=_[this._idProp];f[y]=_}return f}else return r!=null?l??null:u}getIds(e){const t=this._data,r=e&&Fi(e),n=e&&e.order,s=[...ki(t).call(t)],o=[];if(r)if(n){const a=[];for(let u=0,l=s.length;u<l;u++){const d=s[u],c=this._data.get(d);c!=null&&r(c)&&a.push(c)}this._sort(a,n);for(let u=0,l=a.length;u<l;u++)o.push(a[u][this._idProp])}else for(let a=0,u=s.length;a<u;a++){const l=s[a],d=this._data.get(l);d!=null&&r(d)&&o.push(d[this._idProp])}else if(n){const a=[];for(let u=0,l=s.length;u<l;u++){const d=s[u];a.push(t.get(d))}this._sort(a,n);for(let u=0,l=a.length;u<l;u++)o.push(a[u][this._idProp])}else for(let a=0,u=s.length;a<u;a++){const l=s[a],d=t.get(l);d!=null&&o.push(d[this._idProp])}return o}getDataSet(){return this}forEach(e,t){const r=t&&Fi(t),n=this._data,s=[...ki(n).call(n)];if(t&&t.order){const o=this.get(t);for(let a=0,u=o.length;a<u;a++){const l=o[a],d=l[this._idProp];e(l,d)}}else for(let o=0,a=s.length;o<a;o++){const u=s[o],l=this._data.get(u);l!=null&&(!r||r(l))&&e(l,u)}}map(e,t){const r=t&&Fi(t),n=[],s=this._data,o=[...ki(s).call(s)];for(let a=0,u=o.length;a<u;a++){const l=o[a],d=this._data.get(l);d!=null&&(!r||r(d))&&n.push(e(d,l))}return t&&t.order&&this._sort(n,t.order),n}_filterFields(e,t){var r;return e&&EL(r=Vr(t)?t:RF(t)).call(r,(n,s)=>(n[s]=e[s],n),{})}_sort(e,t){if(typeof t=="string"){const r=t;Xm(e).call(e,(n,s)=>{const o=n[r],a=s[r];return o>a?1:o<a?-1:0})}else if(typeof t=="function")Xm(e).call(e,t);else throw new TypeError("Order must be a function or a string")}remove(e,t){const r=[],n=[],s=Vr(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const u=this._remove(s[o]);if(u){const l=u[this._idProp];l!=null&&(r.push(l),n.push(u))}}return r.length&&this._trigger("remove",{items:r,oldData:n},t),r}_remove(e){let t;if(qI(e)?t=e:e&&typeof e=="object"&&(t=e[this._idProp]),t!=null&&this._data.has(t)){const r=this._data.get(t)||null;return this._data.delete(t),--this.length,r}return null}clear(e){var t;const r=[...ki(t=this._data).call(t)],n=[];for(let s=0,o=r.length;s<o;s++)n.push(this._data.get(r[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:r,oldData:n},e),r}max(e){let t=null,r=null;for(const s of gI(n=this._data).call(n)){var n;const o=s[e];typeof o=="number"&&(r==null||o>r)&&(t=s,r=o)}return t||null}min(e){let t=null,r=null;for(const s of gI(n=this._data).call(n)){var n;const o=s[e];typeof o=="number"&&(r==null||o<r)&&(t=s,r=o)}return t||null}distinct(e){const t=this._data,r=[...ki(t).call(t)],n=[];let s=0;for(let o=0,a=r.length;o<a;o++){const u=r[o],d=t.get(u)[e];let c=!1;for(let h=0;h<s;h++)if(n[h]==d){c=!0;break}!c&&d!==void 0&&(n[s]=d,s++)}return n}_addItem(e){const t=k4(e,this._idProp),r=t[this._idProp];if(this._data.has(r))throw new Error("Cannot add item: item with id "+r+" already exists");return this._data.set(r,t),++this.length,r}_updateItem(e){const t=e[this._idProp];if(t==null)throw new Error("Cannot update item: item has no id (item: "+S9(e)+")");const r=this._data.get(t);if(!r)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,G$(G$({},r),e)),t}stream(e){if(e){const r=this._data;return new Xr({*[ji](){for(const n of e){const s=r.get(n);s!=null&&(yield[n,s])}}})}else{var t;return new Xr({[ji]:fL(t=q9(this._data)).call(t,this._data)})}}get testLeakData(){return this._data}get testLeakIdProp(){return this._idProp}get testLeakOptions(){return this._options}get testLeakQueue(){return this._queue}set testLeakQueue(e){this._queue=e}}function D4(i,e){return typeof e=="object"&&e!==null&&i===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof en(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Lt(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function kF(i,e){return typeof e=="object"&&e!==null&&i===e.idProp&&typeof en(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Lt(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&D4(i,e.getDataSet())}console.warn("You're running a development build.");/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.1
 * @date    2025-07-13T08:15:32.270Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var V$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function X(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var U$={},Un,K$;function Ee(){if(K$)return Un;K$=1;var i=function(e){return e&&e.Math===Math&&e};return Un=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof V$=="object"&&V$)||i(typeof Un=="object"&&Un)||function(){return this}()||Function("return this")(),Un}var Nh,Y$;function oe(){return Y$||(Y$=1,Nh=function(i){try{return!!i()}catch{return!0}}),Nh}var Bh,X$;function Bs(){if(X$)return Bh;X$=1;var i=oe();return Bh=!i(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Bh}var jh,Z$;function Jo(){if(Z$)return jh;Z$=1;var i=Bs(),e=Function.prototype,t=e.apply,r=e.call;return jh=typeof Reflect=="object"&&Reflect.apply||(i?r.bind(t):function(){return r.apply(t,arguments)}),jh}var Lh,J$;function ae(){if(J$)return Lh;J$=1;var i=Bs(),e=Function.prototype,t=e.call,r=i&&e.bind.bind(t,t);return Lh=i?r:function(n){return function(){return t.apply(n,arguments)}},Lh}var zh,Q$;function Kt(){if(Q$)return zh;Q$=1;var i=ae(),e=i({}.toString),t=i("".slice);return zh=function(r){return t(e(r),8,-1)},zh}var Wh,eT;function Wb(){if(eT)return Wh;eT=1;var i=Kt(),e=ae();return Wh=function(t){if(i(t)==="Function")return e(t)},Wh}var Hh,tT;function Ge(){if(tT)return Hh;tT=1;var i=typeof document=="object"&&document.all;return Hh=typeof i>"u"&&i!==void 0?function(e){return typeof e=="function"||e===i}:function(e){return typeof e=="function"},Hh}var Gh={},Vh,rT;function Ce(){if(rT)return Vh;rT=1;var i=oe();return Vh=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Vh}var Uh,iT;function vt(){if(iT)return Uh;iT=1;var i=Bs(),e=Function.prototype.call;return Uh=i?e.bind(e):function(){return e.apply(e,arguments)},Uh}var Kh={},nT;function Qo(){if(nT)return Kh;nT=1;var i={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!i.call({1:2},1);return Kh.f=t?function(n){var s=e(this,n);return!!s&&s.enumerable}:i,Kh}var Yh,sT;function js(){return sT||(sT=1,Yh=function(i,e){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:e}}),Yh}var Xh,oT;function ea(){if(oT)return Xh;oT=1;var i=ae(),e=oe(),t=Kt(),r=Object,n=i("".split);return Xh=e(function(){return!r("z").propertyIsEnumerable(0)})?function(s){return t(s)==="String"?n(s,""):r(s)}:r,Xh}var Zh,aT;function wn(){return aT||(aT=1,Zh=function(i){return i==null}),Zh}var Jh,uT;function fr(){if(uT)return Jh;uT=1;var i=wn(),e=TypeError;return Jh=function(t){if(i(t))throw new e("Can't call method on "+t);return t},Jh}var Qh,lT;function jt(){if(lT)return Qh;lT=1;var i=ea(),e=fr();return Qh=function(t){return i(e(t))},Qh}var ef,dT;function Ve(){if(dT)return ef;dT=1;var i=Ge();return ef=function(e){return typeof e=="object"?e!==null:i(e)},ef}var tf,cT;function fe(){return cT||(cT=1,tf={}),tf}var rf,hT;function gt(){if(hT)return rf;hT=1;var i=fe(),e=Ee(),t=Ge(),r=function(n){return t(n)?n:void 0};return rf=function(n,s){return arguments.length<2?r(i[n])||r(e[n]):i[n]&&i[n][s]||e[n]&&e[n][s]},rf}var nf,fT;function Ne(){if(fT)return nf;fT=1;var i=ae();return nf=i({}.isPrototypeOf),nf}var sf,vT;function En(){if(vT)return sf;vT=1;var i=Ee(),e=i.navigator,t=e&&e.userAgent;return sf=t?String(t):"",sf}var of,pT;function Ls(){if(pT)return of;pT=1;var i=Ee(),e=En(),t=i.process,r=i.Deno,n=t&&t.versions||r&&r.version,s=n&&n.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),of=a,of}var af,gT;function Sn(){if(gT)return af;gT=1;var i=Ls(),e=oe(),t=Ee(),r=t.String;return af=!!Object.getOwnPropertySymbols&&!e(function(){var n=Symbol("symbol detection");return!r(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&i&&i<41}),af}var uf,yT;function DF(){if(yT)return uf;yT=1;var i=Sn();return uf=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol",uf}var lf,mT;function zs(){if(mT)return lf;mT=1;var i=gt(),e=Ge(),t=Ne(),r=DF(),n=Object;return lf=r?function(s){return typeof s=="symbol"}:function(s){var o=i("Symbol");return e(o)&&t(o.prototype,n(s))},lf}var df,bT;function On(){if(bT)return df;bT=1;var i=String;return df=function(e){try{return i(e)}catch{return"Object"}},df}var cf,_T;function vr(){if(_T)return cf;_T=1;var i=Ge(),e=On(),t=TypeError;return cf=function(r){if(i(r))return r;throw new t(e(r)+" is not a function")},cf}var hf,wT;function Hb(){if(wT)return hf;wT=1;var i=vr(),e=wn();return hf=function(t,r){var n=t[r];return e(n)?void 0:i(n)},hf}var ff,ET;function A4(){if(ET)return ff;ET=1;var i=vt(),e=Ge(),t=Ve(),r=TypeError;return ff=function(n,s){var o,a;if(s==="string"&&e(o=n.toString)&&!t(a=i(o,n))||e(o=n.valueOf)&&!t(a=i(o,n))||s!=="string"&&e(o=n.toString)&&!t(a=i(o,n)))return a;throw new r("Can't convert object to primitive value")},ff}var vf={exports:{}},pf,ST;function In(){return ST||(ST=1,pf=!0),pf}var gf,OT;function M4(){if(OT)return gf;OT=1;var i=Ee(),e=Object.defineProperty;return gf=function(t,r){try{e(i,t,{value:r,configurable:!0,writable:!0})}catch{i[t]=r}return r},gf}var IT;function Gb(){if(IT)return vf.exports;IT=1;var i=In(),e=Ee(),t=M4(),r="__core-js_shared__",n=vf.exports=e[r]||t(r,{});return(n.versions||(n.versions=[])).push({version:"3.44.0",mode:i?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),vf.exports}var yf,$T;function $n(){if($T)return yf;$T=1;var i=Gb();return yf=function(e,t){return i[e]||(i[e]=t||{})},yf}var mf,TT;function $t(){if(TT)return mf;TT=1;var i=fr(),e=Object;return mf=function(t){return e(i(t))},mf}var bf,PT;function Ze(){if(PT)return bf;PT=1;var i=ae(),e=$t(),t=i({}.hasOwnProperty);return bf=Object.hasOwn||function(n,s){return t(e(n),s)},bf}var _f,RT;function ta(){if(RT)return _f;RT=1;var i=ae(),e=0,t=Math.random(),r=i(1.1.toString);return _f=function(n){return"Symbol("+(n===void 0?"":n)+")_"+r(++e+t,36)},_f}var wf,CT;function Be(){if(CT)return wf;CT=1;var i=Ee(),e=$n(),t=Ze(),r=ta(),n=Sn(),s=DF(),o=i.Symbol,a=e("wks"),u=s?o.for||o:o&&o.withoutSetter||r;return wf=function(l){return t(a,l)||(a[l]=n&&t(o,l)?o[l]:u("Symbol."+l)),a[l]},wf}var Ef,qT;function AF(){if(qT)return Ef;qT=1;var i=vt(),e=Ve(),t=zs(),r=Hb(),n=A4(),s=Be(),o=TypeError,a=s("toPrimitive");return Ef=function(u,l){if(!e(u)||t(u))return u;var d=r(u,a),c;if(d){if(l===void 0&&(l="default"),c=i(d,u,l),!e(c)||t(c))return c;throw new o("Can't convert object to primitive value")}return l===void 0&&(l="number"),n(u,l)},Ef}var Sf,xT;function Vb(){if(xT)return Sf;xT=1;var i=AF(),e=zs();return Sf=function(t){var r=i(t,"string");return e(r)?r:r+""},Sf}var Of,kT;function MF(){if(kT)return Of;kT=1;var i=Ee(),e=Ve(),t=i.document,r=e(t)&&e(t.createElement);return Of=function(n){return r?t.createElement(n):{}},Of}var If,DT;function FF(){if(DT)return If;DT=1;var i=Ce(),e=oe(),t=MF();return If=!i&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),If}var AT;function ra(){if(AT)return Gh;AT=1;var i=Ce(),e=vt(),t=Qo(),r=js(),n=jt(),s=Vb(),o=Ze(),a=FF(),u=Object.getOwnPropertyDescriptor;return Gh.f=i?u:function(d,c){if(d=n(d),c=s(c),a)try{return u(d,c)}catch{}if(o(d,c))return r(!e(t.f,d,c),d[c])},Gh}var $f,MT;function F4(){if(MT)return $f;MT=1;var i=oe(),e=Ge(),t=/#|\.prototype\./,r=function(u,l){var d=s[n(u)];return d===a?!0:d===o?!1:e(l)?i(l):!!l},n=r.normalize=function(u){return String(u).replace(t,".").toLowerCase()},s=r.data={},o=r.NATIVE="N",a=r.POLYFILL="P";return $f=r,$f}var Tf,FT;function ia(){if(FT)return Tf;FT=1;var i=Wb(),e=vr(),t=Bs(),r=i(i.bind);return Tf=function(n,s){return e(n),s===void 0?n:t?r(n,s):function(){return n.apply(s,arguments)}},Tf}var Pf={},Rf,NT;function NF(){if(NT)return Rf;NT=1;var i=Ce(),e=oe();return Rf=i&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Rf}var Cf,BT;function Yt(){if(BT)return Cf;BT=1;var i=Ve(),e=String,t=TypeError;return Cf=function(r){if(i(r))return r;throw new t(e(r)+" is not an object")},Cf}var jT;function Tt(){if(jT)return Pf;jT=1;var i=Ce(),e=FF(),t=NF(),r=Yt(),n=Vb(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u="enumerable",l="configurable",d="writable";return Pf.f=i?t?function(h,f,v){if(r(h),f=n(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&d in v&&!v[d]){var g=a(h,f);g&&g[d]&&(h[f]=v.value,v={configurable:l in v?v[l]:g[l],enumerable:u in v?v[u]:g[u],writable:!1})}return o(h,f,v)}:o:function(h,f,v){if(r(h),f=n(f),r(v),e)try{return o(h,f,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(h[f]=v.value),h},Pf}var qf,LT;function Tn(){if(LT)return qf;LT=1;var i=Ce(),e=Tt(),t=js();return qf=i?function(r,n,s){return e.f(r,n,t(1,s))}:function(r,n,s){return r[n]=s,r},qf}var xf,zT;function G(){if(zT)return xf;zT=1;var i=Ee(),e=Jo(),t=Wb(),r=Ge(),n=ra().f,s=F4(),o=fe(),a=ia(),u=Tn(),l=Ze(),d=function(c){var h=function(f,v,g){if(this instanceof h){switch(arguments.length){case 0:return new c;case 1:return new c(f);case 2:return new c(f,v)}return new c(f,v,g)}return e(c,this,arguments)};return h.prototype=c.prototype,h};return xf=function(c,h){var f=c.target,v=c.global,g=c.stat,_=c.proto,y=v?i:g?i[f]:i[f]&&i[f].prototype,p=v?o:o[f]||u(o,f,{})[f],O=p.prototype,m,S,$,w,b,E,I,T,P;for(w in h)m=s(v?w:f+(g?".":"#")+w,c.forced),S=!m&&y&&l(y,w),E=p[w],S&&(c.dontCallGetSet?(P=n(y,w),I=P&&P.value):I=y[w]),b=S&&I?I:h[w],!(!m&&!_&&typeof E==typeof b)&&(c.bind&&S?T=a(b,i):c.wrap&&S?T=d(b):_&&r(b)?T=t(b):T=b,(c.sham||b&&b.sham||E&&E.sham)&&u(T,"sham",!0),u(p,w,T),_&&($=f+"Prototype",l(o,$)||u(o,$,{}),u(o[$],w,b),c.real&&O&&(m||!O[w])&&u(O,w,b)))},xf}var kf,WT;function N4(){if(WT)return kf;WT=1;var i=Math.ceil,e=Math.floor;return kf=Math.trunc||function(r){var n=+r;return(n>0?e:i)(n)},kf}var Df,HT;function Pn(){if(HT)return Df;HT=1;var i=N4();return Df=function(e){var t=+e;return t!==t||t===0?0:i(t)},Df}var Af,GT;function na(){if(GT)return Af;GT=1;var i=Pn(),e=Math.max,t=Math.min;return Af=function(r,n){var s=i(r);return s<0?e(s+n,0):t(s,n)},Af}var Mf,VT;function BF(){if(VT)return Mf;VT=1;var i=Pn(),e=Math.min;return Mf=function(t){var r=i(t);return r>0?e(r,9007199254740991):0},Mf}var Ff,UT;function pr(){if(UT)return Ff;UT=1;var i=BF();return Ff=function(e){return i(e.length)},Ff}var Nf,KT;function Ub(){if(KT)return Nf;KT=1;var i=jt(),e=na(),t=pr(),r=function(n){return function(s,o,a){var u=i(s),l=t(u);if(l===0)return!n&&-1;var d=e(a,l),c;if(n&&o!==o){for(;l>d;)if(c=u[d++],c!==c)return!0}else for(;l>d;d++)if((n||d in u)&&u[d]===o)return n||d||0;return!n&&-1}};return Nf={includes:r(!0),indexOf:r(!1)},Nf}var Bf,YT;function Ws(){return YT||(YT=1,Bf={}),Bf}var jf,XT;function jF(){if(XT)return jf;XT=1;var i=ae(),e=Ze(),t=jt(),r=Ub().indexOf,n=Ws(),s=i([].push);return jf=function(o,a){var u=t(o),l=0,d=[],c;for(c in u)!e(n,c)&&e(u,c)&&s(d,c);for(;a.length>l;)e(u,c=a[l++])&&(~r(d,c)||s(d,c));return d},jf}var Lf,ZT;function Kb(){return ZT||(ZT=1,Lf=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Lf}var zf,JT;function Hs(){if(JT)return zf;JT=1;var i=jF(),e=Kb();return zf=Object.keys||function(r){return i(r,e)},zf}var Wf={},QT;function sa(){return QT||(QT=1,Wf.f=Object.getOwnPropertySymbols),Wf}var Hf,eP;function B4(){if(eP)return Hf;eP=1;var i=Ce(),e=ae(),t=vt(),r=oe(),n=Hs(),s=sa(),o=Qo(),a=$t(),u=ea(),l=Object.assign,d=Object.defineProperty,c=e([].concat);return Hf=!l||r(function(){if(i&&l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),g="abcdefghijklmnopqrst";return h[v]=7,g.split("").forEach(function(_){f[_]=_}),l({},h)[v]!==7||n(l({},f)).join("")!==g})?function(f,v){for(var g=a(f),_=arguments.length,y=1,p=s.f,O=o.f;_>y;)for(var m=u(arguments[y++]),S=p?c(n(m),p(m)):n(m),$=S.length,w=0,b;$>w;)b=S[w++],(!i||t(O,m,b))&&(g[b]=m[b]);return g}:l,Hf}var tP;function j4(){if(tP)return U$;tP=1;var i=G(),e=B4();return i({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),U$}var Gf,rP;function L4(){if(rP)return Gf;rP=1,j4();var i=fe();return Gf=i.Object.assign,Gf}var Vf,iP;function z4(){if(iP)return Vf;iP=1;var i=L4();return Vf=i,Vf}var Uf,nP;function W4(){return nP||(nP=1,Uf=z4()),Uf}var H4=W4(),Ye=X(H4),sP={},Kf,oP;function Rn(){if(oP)return Kf;oP=1;var i=ae();return Kf=i([].slice),Kf}var Yf,aP;function G4(){if(aP)return Yf;aP=1;var i=ae(),e=vr(),t=Ve(),r=Ze(),n=Rn(),s=Bs(),o=Function,a=i([].concat),u=i([].join),l={},d=function(c,h,f){if(!r(l,h)){for(var v=[],g=0;g<h;g++)v[g]="a["+g+"]";l[h]=o("C,a","return new C("+u(v,",")+")")}return l[h](c,f)};return Yf=s?o.bind:function(h){var f=e(this),v=f.prototype,g=n(arguments,1),_=function(){var p=a(g,n(arguments));return this instanceof _?d(f,p.length,p):f.apply(h,p)};return t(v)&&(_.prototype=v),_},Yf}var uP;function V4(){if(uP)return sP;uP=1;var i=G(),e=G4();return i({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),sP}var Xf,lP;function Je(){if(lP)return Xf;lP=1;var i=Ee(),e=fe();return Xf=function(t,r){var n=e[t+"Prototype"],s=n&&n[r];if(s)return s;var o=i[t],a=o&&o.prototype;return a&&a[r]},Xf}var Zf,dP;function U4(){if(dP)return Zf;dP=1,V4();var i=Je();return Zf=i("Function","bind"),Zf}var Jf,cP;function K4(){if(cP)return Jf;cP=1;var i=Ne(),e=U4(),t=Function.prototype;return Jf=function(r){var n=r.bind;return r===t||i(t,r)&&n===t.bind?e:n},Jf}var Qf,hP;function Y4(){if(hP)return Qf;hP=1;var i=K4();return Qf=i,Qf}var ev,fP;function X4(){return fP||(fP=1,ev=Y4()),ev}var Z4=X4(),M=X(Z4);function Yb(i,e,t,r){i.beginPath(),i.arc(e,t,r,0,2*Math.PI,!1),i.closePath()}function J4(i,e,t,r){i.beginPath(),i.rect(e-r,t-r,r*2,r*2),i.closePath()}function Q4(i,e,t,r){i.beginPath(),r*=1.15,t+=.275*r;const n=r*2,s=n/2,o=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-s*s);i.moveTo(e,t-(a-o)),i.lineTo(e+s,t+o),i.lineTo(e-s,t+o),i.lineTo(e,t-(a-o)),i.closePath()}function e8(i,e,t,r){i.beginPath(),r*=1.15,t-=.275*r;const n=r*2,s=n/2,o=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-s*s);i.moveTo(e,t+(a-o)),i.lineTo(e+s,t-o),i.lineTo(e-s,t-o),i.lineTo(e,t+(a-o)),i.closePath()}function t8(i,e,t,r){i.beginPath(),r*=.82,t+=.1*r;for(let n=0;n<10;n++){const s=n%2===0?r*1.3:r*.5;i.lineTo(e+s*Math.sin(n*2*Math.PI/10),t-s*Math.cos(n*2*Math.PI/10))}i.closePath()}function r8(i,e,t,r){i.beginPath(),i.lineTo(e,t+r),i.lineTo(e+r,t),i.lineTo(e,t-r),i.lineTo(e-r,t),i.closePath()}function LF(i,e,t,r,n,s){const o=Math.PI/180;r-2*s<0&&(s=r/2),n-2*s<0&&(s=n/2),i.beginPath(),i.moveTo(e+s,t),i.lineTo(e+r-s,t),i.arc(e+r-s,t+s,s,o*270,o*360,!1),i.lineTo(e+r,t+n-s),i.arc(e+r-s,t+n-s,s,0,o*90,!1),i.lineTo(e+s,t+n),i.arc(e+s,t+n-s,s,o*90,o*180,!1),i.lineTo(e,t+s),i.arc(e+s,t+s,s,o*180,o*270,!1),i.closePath()}function Zm(i,e,t,r,n){const s=.5522848,o=r/2*s,a=n/2*s,u=e+r,l=t+n,d=e+r/2,c=t+n/2;i.beginPath(),i.moveTo(e,c),i.bezierCurveTo(e,c-a,d-o,t,d,t),i.bezierCurveTo(d+o,t,u,c-a,u,c),i.bezierCurveTo(u,c+a,d+o,l,d,l),i.bezierCurveTo(d-o,l,e,c+a,e,c),i.closePath()}function zF(i,e,t,r,n){const s=.3333333333333333,o=r,a=n*s,u=.5522848,l=o/2*u,d=a/2*u,c=e+o,h=t+a,f=e+o/2,v=t+a/2,g=t+(n-a/2),_=t+n;i.beginPath(),i.moveTo(c,v),i.bezierCurveTo(c,v+d,f+l,h,f,h),i.bezierCurveTo(f-l,h,e,v+d,e,v),i.bezierCurveTo(e,v-d,f-l,t,f,t),i.bezierCurveTo(f+l,t,c,v-d,c,v),i.lineTo(c,g),i.bezierCurveTo(c,g+d,f+l,_,f,_),i.bezierCurveTo(f-l,_,e,g+d,e,g),i.lineTo(e,v)}function WF(i,e,t,r,n,s){i.beginPath(),i.moveTo(e,t);const o=s.length,a=r-e,u=n-t,l=u/a;let d=Math.sqrt(a*a+u*u),c=0,h=!0,f=0,v=+s[0];for(;d>=.1;)v=+s[c++%o],v>d&&(v=d),f=Math.sqrt(v*v/(1+l*l)),f=a<0?-f:f,e+=f,t+=l*f,h===!0?i.lineTo(e,t):i.moveTo(e,t),d-=v,h=!h}function i8(i,e,t,r){i.beginPath();const n=6,s=Math.PI*2/n;i.moveTo(e+r,t);for(let o=1;o<n;o++)i.lineTo(e+r*Math.cos(s*o),t+r*Math.sin(s*o));i.closePath()}const vP={circle:Yb,dashedLine:WF,database:zF,diamond:r8,ellipse:Zm,ellipse_vis:Zm,hexagon:i8,roundRect:LF,square:J4,star:t8,triangle:Q4,triangleDown:e8};function n8(i){return Object.prototype.hasOwnProperty.call(vP,i)?vP[i]:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];CanvasRenderingContext2D.prototype[i].call(e,r)}}var tv={exports:{}},pP;function s8(){return pP||(pP=1,function(i){i.exports=e;function e(r){if(r)return t(r)}function t(r){for(var n in e.prototype)r[n]=e.prototype[n];return r}e.prototype.on=e.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(n),this},e.prototype.once=function(r,n){function s(){this.off(r,s),n.apply(this,arguments)}return s.fn=n,this.on(r,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+r];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===n||o.fn===n){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+r],this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),s=this._callbacks["$"+r],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,n)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length}}(tv)),tv.exports}var o8=s8(),HF=X(o8);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Nt(){return Nt=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Nt.apply(this,arguments)}function Pt(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function co(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var Jm;typeof Object.assign!="function"?Jm=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])}return t}:Jm=Object.assign;var ai=Jm,gP=["","webkit","Moz","MS","ms","o"],a8=typeof document>"u"?{style:{}}:document.createElement("div"),u8="function",Li=Math.round,ui=Math.abs,Xb=Date.now;function oa(i,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),s=0;s<gP.length;){if(t=gP[s],r=t?t+n:e,r in i)return r;s++}}var or;typeof window>"u"?or={}:or=window;var GF=oa(a8.style,"touchAction"),VF=GF!==void 0;function l8(){if(!VF)return!1;var i={},e=or.CSS&&or.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=e?or.CSS.supports("touch-action",t):!0}),i}var UF="compute",KF="auto",Qm="manipulation",ri="none",vs="pan-x",ps="pan-y",ho=l8(),d8=/mobile|tablet|ip(ad|hone|od)|android/i,YF="ontouchstart"in or,c8=oa(or,"PointerEvent")!==void 0,h8=YF&&d8.test(navigator.userAgent),Gs="touch",f8="pen",Zb="mouse",v8="kinect",p8=25,ut=1,_i=2,Ae=4,ct=8,Po=1,Vs=2,Us=4,Ks=8,rn=16,Ut=Vs|Us,ii=Ks|rn,XF=Ut|ii,ZF=["x","y"],Ro=["clientX","clientY"];function ar(i,e,t){var r;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(r=0;r<i.length;)e.call(t,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&e.call(t,i[r],r,i)}function aa(i,e){return typeof i===u8?i.apply(e&&e[0]||void 0,e):i}function Zr(i,e){return i.indexOf(e)>-1}function g8(i){if(Zr(i,ri))return ri;var e=Zr(i,vs),t=Zr(i,ps);return e&&t?ri:e||t?e?vs:ps:Zr(i,Qm)?Qm:KF}var JF=function(){function i(t,r){this.manager=t,this.set(r)}var e=i.prototype;return e.set=function(r){r===UF&&(r=this.compute()),VF&&this.manager.element.style&&ho[r]&&(this.manager.element.style[GF]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return ar(this.manager.recognizers,function(n){aa(n.options.enable,[n])&&(r=r.concat(n.getTouchAction()))}),g8(r.join(" "))},e.preventDefaults=function(r){var n=r.srcEvent,s=r.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var o=this.actions,a=Zr(o,ri)&&!ho[ri],u=Zr(o,ps)&&!ho[ps],l=Zr(o,vs)&&!ho[vs];if(a){var d=r.pointers.length===1,c=r.distance<2,h=r.deltaTime<250;if(d&&c&&h)return}if(!(l&&u)&&(a||u&&s&Ut||l&&s&ii))return this.preventSrc(n)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},i}();function Jb(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function QF(i){var e=i.length;if(e===1)return{x:Li(i[0].clientX),y:Li(i[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=i[n].clientX,r+=i[n].clientY,n++;return{x:Li(t/e),y:Li(r/e)}}function yP(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:Li(i.pointers[t].clientX),clientY:Li(i.pointers[t].clientY)},t++;return{timeStamp:Xb(),pointers:e,center:QF(e),deltaX:i.deltaX,deltaY:i.deltaY}}function Co(i,e,t){t||(t=ZF);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.sqrt(r*r+n*n)}function eb(i,e,t){t||(t=ZF);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.atan2(n,r)*180/Math.PI}function eN(i,e){return i===e?Po:ui(i)>=ui(e)?i<0?Vs:Us:e<0?Ks:rn}function y8(i,e){var t=e.center,r=i.offsetDelta||{},n=i.prevDelta||{},s=i.prevInput||{};(e.eventType===ut||s.eventType===Ae)&&(n=i.prevDelta={x:s.deltaX||0,y:s.deltaY||0},r=i.offsetDelta={x:t.x,y:t.y}),e.deltaX=n.x+(t.x-r.x),e.deltaY=n.y+(t.y-r.y)}function tN(i,e,t){return{x:e/i||0,y:t/i||0}}function m8(i,e){return Co(e[0],e[1],Ro)/Co(i[0],i[1],Ro)}function b8(i,e){return eb(e[1],e[0],Ro)+eb(i[1],i[0],Ro)}function _8(i,e){var t=i.lastInterval||e,r=e.timeStamp-t.timeStamp,n,s,o,a;if(e.eventType!==ct&&(r>p8||t.velocity===void 0)){var u=e.deltaX-t.deltaX,l=e.deltaY-t.deltaY,d=tN(r,u,l);s=d.x,o=d.y,n=ui(d.x)>ui(d.y)?d.x:d.y,a=eN(u,l),i.lastInterval=e}else n=t.velocity,s=t.velocityX,o=t.velocityY,a=t.direction;e.velocity=n,e.velocityX=s,e.velocityY=o,e.direction=a}function w8(i,e){var t=i.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=yP(e)),n>1&&!t.firstMultiple?t.firstMultiple=yP(e):n===1&&(t.firstMultiple=!1);var s=t.firstInput,o=t.firstMultiple,a=o?o.center:s.center,u=e.center=QF(r);e.timeStamp=Xb(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=eb(a,u),e.distance=Co(a,u),y8(t,e),e.offsetDirection=eN(e.deltaX,e.deltaY);var l=tN(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=ui(l.x)>ui(l.y)?l.x:l.y,e.scale=o?m8(o.pointers,r):1,e.rotation=o?b8(o.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,_8(t,e);var d=i.element,c=e.srcEvent,h;c.composedPath?h=c.composedPath()[0]:c.path?h=c.path[0]:h=c.target,Jb(h,d)&&(d=h),e.target=d}function E8(i,e,t){var r=t.pointers.length,n=t.changedPointers.length,s=e&ut&&r-n===0,o=e&(Ae|ct)&&r-n===0;t.isFirst=!!s,t.isFinal=!!o,s&&(i.session={}),t.eventType=e,w8(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function gs(i){return i.trim().split(/\s+/g)}function es(i,e,t){ar(gs(e),function(r){i.addEventListener(r,t,!1)})}function ts(i,e,t){ar(gs(e),function(r){i.removeEventListener(r,t,!1)})}function mP(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var Cn=function(){function i(t,r){var n=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){aa(t.options.enable,[t])&&n.handler(s)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&es(this.element,this.evEl,this.domHandler),this.evTarget&&es(this.target,this.evTarget,this.domHandler),this.evWin&&es(mP(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&ts(this.element,this.evEl,this.domHandler),this.evTarget&&ts(this.target,this.evTarget,this.domHandler),this.evWin&&ts(mP(this.element),this.evWin,this.domHandler)},i}();function li(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var r=0;r<i.length;){if(t&&i[r][t]==e||!t&&i[r]===e)return r;r++}return-1}var S8={pointerdown:ut,pointermove:_i,pointerup:Ae,pointercancel:ct,pointerout:ct},O8={2:Gs,3:f8,4:Zb,5:v8},rN="pointerdown",iN="pointermove pointerup pointercancel";or.MSPointerEvent&&!or.PointerEvent&&(rN="MSPointerDown",iN="MSPointerMove MSPointerUp MSPointerCancel");var nN=function(i){Pt(e,i);function e(){var r,n=e.prototype;return n.evEl=rN,n.evWin=iN,r=i.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(n){var s=this.store,o=!1,a=n.type.toLowerCase().replace("ms",""),u=S8[a],l=O8[n.pointerType]||n.pointerType,d=l===Gs,c=li(s,n.pointerId,"pointerId");u&ut&&(n.button===0||d)?c<0&&(s.push(n),c=s.length-1):u&(Ae|ct)&&(o=!0),!(c<0)&&(s[c]=n,this.callback(this.manager,u,{pointers:s,changedPointers:[n],pointerType:l,srcEvent:n}),o&&s.splice(c,1))},e}(Cn);function ys(i){return Array.prototype.slice.call(i,0)}function Qb(i,e,t){for(var r=[],n=[],s=0;s<i.length;){var o=e?i[s][e]:i[s];li(n,o)<0&&r.push(i[s]),n[s]=o,s++}return t&&(e?r=r.sort(function(a,u){return a[e]>u[e]}):r=r.sort()),r}var I8={touchstart:ut,touchmove:_i,touchend:Ae,touchcancel:ct},$8="touchstart touchmove touchend touchcancel",e1=function(i){Pt(e,i);function e(){var r;return e.prototype.evTarget=$8,r=i.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(n){var s=I8[n.type],o=T8.call(this,n,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Gs,srcEvent:n})},e}(Cn);function T8(i,e){var t=ys(i.touches),r=this.targetIds;if(e&(ut|_i)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var n,s,o=ys(i.changedTouches),a=[],u=this.target;if(s=t.filter(function(l){return Jb(l.target,u)}),e===ut)for(n=0;n<s.length;)r[s[n].identifier]=!0,n++;for(n=0;n<o.length;)r[o[n].identifier]&&a.push(o[n]),e&(Ae|ct)&&delete r[o[n].identifier],n++;if(a.length)return[Qb(s.concat(a),"identifier",!0),a]}var P8={mousedown:ut,mousemove:_i,mouseup:Ae},R8="mousedown",C8="mousemove mouseup",t1=function(i){Pt(e,i);function e(){var r,n=e.prototype;return n.evEl=R8,n.evWin=C8,r=i.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(n){var s=P8[n.type];s&ut&&n.button===0&&(this.pressed=!0),s&_i&&n.which!==1&&(s=Ae),this.pressed&&(s&Ae&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[n],changedPointers:[n],pointerType:Zb,srcEvent:n}))},e}(Cn),q8=2500,bP=25;function _P(i){var e=i.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},n=this.lastTouches;this.lastTouches.push(r);var s=function(){var a=n.indexOf(r);a>-1&&n.splice(a,1)};setTimeout(s,q8)}}function x8(i,e){i&ut?(this.primaryTouch=e.changedPointers[0].identifier,_P.call(this,e)):i&(Ae|ct)&&_P.call(this,e)}function k8(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],s=Math.abs(e-n.x),o=Math.abs(t-n.y);if(s<=bP&&o<=bP)return!0}return!1}var sN=function(){var i=function(e){Pt(t,e);function t(n,s){var o;return o=e.call(this,n,s)||this,o.handler=function(a,u,l){var d=l.pointerType===Gs,c=l.pointerType===Zb;if(!(c&&l.sourceCapabilities&&l.sourceCapabilities.firesTouchEvents)){if(d)x8.call(co(co(o)),u,l);else if(c&&k8.call(co(co(o)),l))return;o.callback(a,u,l)}},o.touch=new e1(o.manager,o.handler),o.mouse=new t1(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(Cn);return i}();function D8(i){var e,t=i.options.inputClass;return t?e=t:c8?e=nN:h8?e=e1:YF?e=sN:e=t1,new e(i,E8)}function zi(i,e,t){return Array.isArray(i)?(ar(i,t[e],t),!0):!1}var go=1,wt=2,nn=4,Sr=8,ur=Sr,ms=16,Wt=32,A8=1;function M8(){return A8++}function fo(i,e){var t=e.manager;return t?t.get(i):i}function wP(i){return i&ms?"cancel":i&Sr?"end":i&nn?"move":i&wt?"start":""}var Ys=function(){function i(t){t===void 0&&(t={}),this.options=Nt({enable:!0},t),this.id=M8(),this.manager=null,this.state=go,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(r){return ai(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(zi(r,"recognizeWith",this))return this;var n=this.simultaneous;return r=fo(r,this),n[r.id]||(n[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return zi(r,"dropRecognizeWith",this)?this:(r=fo(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(zi(r,"requireFailure",this))return this;var n=this.requireFail;return r=fo(r,this),li(n,r)===-1&&(n.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(zi(r,"dropRequireFailure",this))return this;r=fo(r,this);var n=li(this.requireFail,r);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var n=this,s=this.state;function o(a){n.manager.emit(a,r)}s<Sr&&o(n.options.event+wP(s)),o(n.options.event),r.additionalEvent&&o(r.additionalEvent),s>=Sr&&o(n.options.event+wP(s))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=Wt},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(Wt|go)))return!1;r++}return!0},e.recognize=function(r){var n=ai({},r);if(!aa(this.options.enable,[this,n])){this.reset(),this.state=Wt;return}this.state&(ur|ms|Wt)&&(this.state=go),this.state=this.process(n),this.state&(wt|nn|Sr|ms)&&this.tryEmit(n)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},i}(),tb=function(i){Pt(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Nt({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var t=e.prototype;return t.getTouchAction=function(){return[Qm]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,u=n.distance<o.threshold,l=n.deltaTime<o.time;if(this.reset(),n.eventType&ut&&this.count===0)return this.failTimeout();if(u&&l&&a){if(n.eventType!==Ae)return this.failTimeout();var d=this.pTime?n.timeStamp-this.pTime<o.interval:!0,c=!this.pCenter||Co(this.pCenter,n.center)<o.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!c||!d?this.count=1:this.count+=1,this._input=n;var h=this.count%o.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=ur,s.tryEmit()},o.interval),wt):ur}return Wt},t.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=Wt},this.options.interval),Wt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===ur&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Ys),sn=function(i){Pt(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Nt({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(n){var s=this.options.pointers;return s===0||n.pointers.length===s},t.process=function(n){var s=this.state,o=n.eventType,a=s&(wt|nn),u=this.attrTest(n);return a&&(o&ct||!u)?s|ms:a||u?o&Ae?s|Sr:s&wt?s|nn:wt:Wt},e}(Ys);function oN(i){return i===rn?"down":i===Ks?"up":i===Vs?"left":i===Us?"right":""}var r1=function(i){Pt(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Nt({event:"pan",threshold:10,pointers:1,direction:XF},r))||this,n.pX=null,n.pY=null,n}var t=e.prototype;return t.getTouchAction=function(){var n=this.options.direction,s=[];return n&Ut&&s.push(ps),n&ii&&s.push(vs),s},t.directionTest=function(n){var s=this.options,o=!0,a=n.distance,u=n.direction,l=n.deltaX,d=n.deltaY;return u&s.direction||(s.direction&Ut?(u=l===0?Po:l<0?Vs:Us,o=l!==this.pX,a=Math.abs(n.deltaX)):(u=d===0?Po:d<0?Ks:rn,o=d!==this.pY,a=Math.abs(n.deltaY))),n.direction=u,o&&a>s.threshold&&u&s.direction},t.attrTest=function(n){return sn.prototype.attrTest.call(this,n)&&(this.state&wt||!(this.state&wt)&&this.directionTest(n))},t.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var s=oN(n.direction);s&&(n.additionalEvent=this.options.event+s),i.prototype.emit.call(this,n)},e}(sn),aN=function(i){Pt(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Nt({event:"swipe",threshold:10,velocity:.3,direction:Ut|ii,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return r1.prototype.getTouchAction.call(this)},t.attrTest=function(n){var s=this.options.direction,o;return s&(Ut|ii)?o=n.overallVelocity:s&Ut?o=n.overallVelocityX:s&ii&&(o=n.overallVelocityY),i.prototype.attrTest.call(this,n)&&s&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&ui(o)>this.options.velocity&&n.eventType&Ae},t.emit=function(n){var s=oN(n.offsetDirection);s&&this.manager.emit(this.options.event+s,n),this.manager.emit(this.options.event,n)},e}(sn),uN=function(i){Pt(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Nt({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[ri]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&wt)},t.emit=function(n){if(n.scale!==1){var s=n.scale<1?"in":"out";n.additionalEvent=this.options.event+s}i.prototype.emit.call(this,n)},e}(sn),lN=function(i){Pt(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Nt({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[ri]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&wt)},e}(sn),dN=function(i){Pt(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Nt({event:"press",pointers:1,time:251,threshold:9},r))||this,n._timer=null,n._input=null,n}var t=e.prototype;return t.getTouchAction=function(){return[KF]},t.process=function(n){var s=this,o=this.options,a=n.pointers.length===o.pointers,u=n.distance<o.threshold,l=n.deltaTime>o.time;if(this._input=n,!u||!a||n.eventType&(Ae|ct)&&!l)this.reset();else if(n.eventType&ut)this.reset(),this._timer=setTimeout(function(){s.state=ur,s.tryEmit()},o.time);else if(n.eventType&Ae)return ur;return Wt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(n){this.state===ur&&(n&&n.eventType&Ae?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=Xb(),this.manager.emit(this.options.event,this._input)))},e}(Ys),cN={domEvents:!1,touchAction:UF,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},EP=[[lN,{enable:!1}],[uN,{enable:!1},["rotate"]],[aN,{direction:Ut}],[r1,{direction:Ut},["swipe"]],[tb],[tb,{event:"doubletap",taps:2},["tap"]],[dN]],F8=1,SP=2;function OP(i,e){var t=i.element;if(t.style){var r;ar(i.options.cssProps,function(n,s){r=oa(t.style,s),e?(i.oldCssProps[r]=t.style[r],t.style[r]=n):t.style[r]=i.oldCssProps[r]||""}),e||(i.oldCssProps={})}}function N8(i,e){var t=document.createEvent("Event");t.initEvent(i,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var IP=function(){function i(t,r){var n=this;this.options=ai({},cN,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=D8(this),this.touchAction=new JF(this,this.options.touchAction),OP(this,!0),ar(this.options.recognizers,function(s){var o=n.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=i.prototype;return e.set=function(r){return ai(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?SP:F8},e.recognize=function(r){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(r);var s,o=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&ur)&&(n.curRecognizer=null,a=null);for(var u=0;u<o.length;)s=o[u],n.stopped!==SP&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(r):s.reset(),!a&&s.state&(wt|nn|Sr)&&(n.curRecognizer=s,a=s),u++}},e.get=function(r){if(r instanceof Ys)return r;for(var n=this.recognizers,s=0;s<n.length;s++)if(n[s].options.event===r)return n[s];return null},e.add=function(r){if(zi(r,"add",this))return this;var n=this.get(r.options.event);return n&&this.remove(n),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(zi(r,"remove",this))return this;var n=this.get(r);if(r){var s=this.recognizers,o=li(s,n);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(r,n){if(r===void 0||n===void 0)return this;var s=this.handlers;return ar(gs(r),function(o){s[o]=s[o]||[],s[o].push(n)}),this},e.off=function(r,n){if(r===void 0)return this;var s=this.handlers;return ar(gs(r),function(o){n?s[o]&&s[o].splice(li(s[o],n),1):delete s[o]}),this},e.emit=function(r,n){this.options.domEvents&&N8(r,n);var s=this.handlers[r]&&this.handlers[r].slice();if(!(!s||!s.length)){n.type=r,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](n),o++}},e.destroy=function(){this.element&&OP(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i}(),B8={touchstart:ut,touchmove:_i,touchend:Ae,touchcancel:ct},j8="touchstart",L8="touchstart touchmove touchend touchcancel",z8=function(i){Pt(e,i);function e(){var r,n=e.prototype;return n.evTarget=j8,n.evWin=L8,r=i.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(n){var s=B8[n.type];if(s===ut&&(this.started=!0),!!this.started){var o=W8.call(this,n,s);s&(Ae|ct)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Gs,srcEvent:n})}},e}(Cn);function W8(i,e){var t=ys(i.touches),r=ys(i.changedTouches);return e&(Ae|ct)&&(t=Qb(t.concat(r),"identifier",!0)),[t,r]}function hN(i,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),s=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,r,s),i.apply(this,arguments)}}var fN=hN(function(i,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&i[r[n]]===void 0)&&(i[r[n]]=e[r[n]]),n++;return i},"extend","Use `assign`."),H8=hN(function(i,e){return fN(i,e,!0)},"merge","Use `assign`.");function G8(i,e,t){var r=e.prototype,n;n=i.prototype=Object.create(r),n.constructor=i,n._super=r,t&&ai(n,t)}function $P(i,e){return function(){return i.apply(e,arguments)}}var vN=function(){var i=function(t,r){return r===void 0&&(r={}),new IP(t,Nt({recognizers:EP.concat()},r))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=XF,i.DIRECTION_DOWN=rn,i.DIRECTION_LEFT=Vs,i.DIRECTION_RIGHT=Us,i.DIRECTION_UP=Ks,i.DIRECTION_HORIZONTAL=Ut,i.DIRECTION_VERTICAL=ii,i.DIRECTION_NONE=Po,i.DIRECTION_DOWN=rn,i.INPUT_START=ut,i.INPUT_MOVE=_i,i.INPUT_END=Ae,i.INPUT_CANCEL=ct,i.STATE_POSSIBLE=go,i.STATE_BEGAN=wt,i.STATE_CHANGED=nn,i.STATE_ENDED=Sr,i.STATE_RECOGNIZED=ur,i.STATE_CANCELLED=ms,i.STATE_FAILED=Wt,i.Manager=IP,i.Input=Cn,i.TouchAction=JF,i.TouchInput=e1,i.MouseInput=t1,i.PointerEventInput=nN,i.TouchMouseInput=sN,i.SingleTouchInput=z8,i.Recognizer=Ys,i.AttrRecognizer=sn,i.Tap=tb,i.Pan=r1,i.Swipe=aN,i.Pinch=uN,i.Rotate=lN,i.Press=dN,i.on=es,i.off=ts,i.each=ar,i.merge=H8,i.extend=fN,i.bindFn=$P,i.assign=ai,i.inherit=G8,i.bindFn=$P,i.prefixed=oa,i.toArray=ys,i.inArray=li,i.uniqueArray=Qb,i.splitStr=gs,i.boolOrFn=aa,i.hasParent=Jb,i.addEventListeners=es,i.removeEventListeners=ts,i.defaults=ai({},cN,{preset:EP}),i}();vN.defaults;/**
 * vis-util
 * https://github.com/visjs/vis-util
 *
 * utilitie collection for visjs
 *
 * @version 6.0.0
 * @date    2025-07-12T18:02:43.836Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */function ua(...i){return V8(i.length?i:[Date.now()])}function V8(i){let[e,t,r]=U8(i),n=1;const s=()=>{const o=2091639*e+n*23283064365386963e-26;return e=t,t=r,r=o-(n=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=i,s.version="0.9",s}function U8(...i){const e=K8();let t=e(" "),r=e(" "),n=e(" ");for(let s=0;s<i.length;s++)t-=e(i[s]),t<0&&(t+=1),r-=e(i[s]),r<0&&(r+=1),n-=e(i[s]),n<0&&(n+=1);return[t,r,n]}function K8(){let i=4022871197;return function(e){const t=e.toString();for(let r=0;r<t.length;r++){i+=t.charCodeAt(r);let n=.02519603282416938*i;i=n>>>0,n-=i,n*=i,i=n>>>0,n-=i,i+=n*4294967296}return(i>>>0)*23283064365386963e-26}}function Y8(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}const i1=typeof window<"u"?window.Hammer||vN:function(){return Y8()};function Ht(i){this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const e=i1(this._dom.overlay);e.on("tap",this._onTapOverlay.bind(this)),this._cleanupQueue.push(()=>{e.destroy()}),["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(r=>{e.on(r,n=>{n.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=r=>{X8(r.target,i)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=r=>{("key"in r?r.key==="Escape":r.keyCode===27)&&this.deactivate()}}HF(Ht.prototype);Ht.current=null;Ht.prototype.destroy=function(){this.deactivate();for(const i of this._cleanupQueue.splice(0).reverse())i()};Ht.prototype.activate=function(){Ht.current&&Ht.current.deactivate(),Ht.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Ht.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Ht.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};function X8(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}const Z8=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,J8=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Q8=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,e7=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function yr(i){if(i)for(;i.hasChildNodes()===!0;){const e=i.firstChild;e&&(yr(e),i.removeChild(e))}}function Wi(i){return i instanceof String||typeof i=="string"}function TP(i){return typeof i=="object"&&i!==null}function di(i,e,t,r){let n=!1;r===!0&&(n=e[t]===null&&i[t]!==void 0),n?delete i[t]:i[t]=e[t]}function pN(i,e,t=!1){for(const r in i)if(e[r]!==void 0)if(e[r]===null||typeof e[r]!="object")di(i,e,r,t);else{const n=i[r],s=e[r];TP(n)&&TP(s)&&pN(n,s,t)}}function qn(i,e,t,r=!1){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(let n=0;n<i.length;n++){const s=i[n];if(Object.prototype.hasOwnProperty.call(t,s))if(t[s]&&t[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?ge(e[s],t[s],!1,r):di(e,t,s,r);else{if(Array.isArray(t[s]))throw new TypeError("Arrays are not supported by deepExtend");di(e,t,s,r)}}return e}function qo(i,e,t,r=!1){if(Array.isArray(t))throw new TypeError("Arrays are not supported by deepExtend");for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!i.includes(n))if(t[n]&&t[n].constructor===Object)e[n]===void 0&&(e[n]={}),e[n].constructor===Object?ge(e[n],t[n]):di(e,t,n,r);else if(Array.isArray(t[n])){e[n]=[];for(let s=0;s<t[n].length;s++)e[n].push(t[n][s])}else di(e,t,n,r);return e}function ge(i,e,t=!1,r=!1){for(const n in e)(Object.prototype.hasOwnProperty.call(e,n)||t===!0)&&(typeof e[n]=="object"&&e[n]!==null&&Object.getPrototypeOf(e[n])===Object.prototype?i[n]===void 0?i[n]=ge({},e[n],t):typeof i[n]=="object"&&i[n]!==null&&Object.getPrototypeOf(i[n])===Object.prototype?ge(i[n],e[n],t):di(i,e,n,r):Array.isArray(e[n])?i[n]=e[n].slice():di(i,e,n,r));return i}function xo(i,e){return[...i,e]}function t7(i){return i.slice()}function r7(i){return i.getBoundingClientRect().left}function i7(i){return i.getBoundingClientRect().top}function ne(i,e){if(Array.isArray(i)){const t=i.length;for(let r=0;r<t;r++)e(i[r],r,i)}else for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(i[t],t,i)}function n1(i){let e;switch(i.length){case 3:case 4:return e=J8.exec(i),e?{r:parseInt(e[1]+e[1],16),g:parseInt(e[2]+e[2],16),b:parseInt(e[3]+e[3],16)}:null;case 6:case 7:return e=Z8.exec(i),e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null;default:return null}}function mt(i,e){if(i.includes("rgba"))return i;if(i.includes("rgb")){const t=i.substr(i.indexOf("(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{const t=n1(i);return t==null?i:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function gN(i,e,t){return"#"+((1<<24)+(i<<16)+(e<<8)+t).toString(16).slice(1)}function rb(i,e){if(Wi(i)){let t=i;if(mN(t)){const r=t.substr(4).substr(0,t.length-5).split(",").map(function(n){return parseInt(n)});t=gN(r[0],r[1],r[2])}if(yN(t)===!0){const r=n7(t),n={h:r.h,s:r.s*.8,v:Math.min(1,r.v*1.02)},s={h:r.h,s:Math.min(1,r.s*1.25),v:r.v*.8},o=ib(s.h,s.s,s.v),a=ib(n.h,n.s,n.v);return{background:t,border:o,highlight:{background:a,border:o},hover:{background:a,border:o}}}else return{background:t,border:t,highlight:{background:t,border:t},hover:{background:t,border:t}}}else return{background:i.background||void 0,border:i.border||void 0,highlight:Wi(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||void 0,border:i.highlight&&i.highlight.border||void 0},hover:Wi(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||void 0,background:i.hover&&i.hover.background||void 0}}}function Xn(i,e,t){i=i/255,e=e/255,t=t/255;const r=Math.min(i,Math.min(e,t)),n=Math.max(i,Math.max(e,t));if(r===n)return{h:0,s:0,v:r};const s=i===r?e-t:t===r?i-e:t-i,a=60*((i===r?3:t===r?1:5)-s/(n-r))/360,u=(n-r)/n;return{h:a,s:u,v:n}}function yo(i,e,t){let r,n,s;const o=Math.floor(i*6),a=i*6-o,u=t*(1-e),l=t*(1-a*e),d=t*(1-(1-a)*e);switch(o%6){case 0:r=t,n=d,s=u;break;case 1:r=l,n=t,s=u;break;case 2:r=u,n=t,s=d;break;case 3:r=u,n=l,s=t;break;case 4:r=d,n=u,s=t;break;case 5:r=t,n=u,s=l;break}return{r:Math.floor(r*255),g:Math.floor(n*255),b:Math.floor(s*255)}}function ib(i,e,t){const r=yo(i,e,t);return gN(r.r,r.g,r.b)}function n7(i){const e=n1(i);if(!e)throw new TypeError(`'${i}' is not a valid color.`);return Xn(e.r,e.g,e.b)}function yN(i){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(i)}function mN(i){return Q8.test(i)}function s7(i){return e7.test(i)}function Or(i){if(i===null||typeof i!="object")return null;if(i instanceof Element)return i;const e=Object.create(i);for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&typeof i[t]=="object"&&(e[t]=Or(i[t]));return e}function yt(i,e,t,r={}){const n=function(f){return f!=null},s=function(f){return f!==null&&typeof f=="object"},o=function(f){for(const v in f)if(Object.prototype.hasOwnProperty.call(f,v))return!1;return!0};if(!s(i))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!n(t))throw new Error("Parameter option must have a value");if(!s(r))throw new Error("Parameter globalOptions must be an object");const a=function(f,v,g){s(f[g])||(f[g]={});const _=v[g],y=f[g];for(const p in _)Object.prototype.hasOwnProperty.call(_,p)&&(y[p]=_[p])},u=e[t],d=s(r)&&!o(r)?r[t]:void 0,c=d?d.enabled:void 0;if(u===void 0)return;if(typeof u=="boolean"){s(i[t])||(i[t]={}),i[t].enabled=u;return}if(u===null&&!s(i[t]))if(n(d))i[t]=Object.create(d);else return;if(!s(u))return;let h=!0;u.enabled!==void 0?h=u.enabled:c!==void 0&&(h=d.enabled),a(i,e,t),i[t].enabled=h}const o7={linear(i){return i},easeInQuad(i){return i*i},easeOutQuad(i){return i*(2-i)},easeInOutQuad(i){return i<.5?2*i*i:-1+(4-2*i)*i},easeInCubic(i){return i*i*i},easeOutCubic(i){return--i*i*i+1},easeInOutCubic(i){return i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1},easeInQuart(i){return i*i*i*i},easeOutQuart(i){return 1- --i*i*i*i},easeInOutQuart(i){return i<.5?8*i*i*i*i:1-8*--i*i*i*i},easeInQuint(i){return i*i*i*i*i},easeOutQuint(i){return 1+--i*i*i*i*i},easeInOutQuint(i){return i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i}};function mr(i,e){let t;Array.isArray(e)||(e=[e]);for(const r of i)if(r){t=r[e[0]];for(let n=1;n<e.length;n++)t&&(t=t[e[n]]);if(typeof t<"u")break}return t}const a7={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let u7=class{constructor(e=1){this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return a7[e]}setColor(e,t=!0){if(e==="none")return;let r;const n=this._isColorString(e);if(n!==void 0&&(e=n),Wi(e)===!0){if(mN(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");r={r:s[0],g:s[1],b:s[2],a:1}}else if(s7(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");r={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(yN(e)===!0){const s=n1(e);r={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:s}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+JSON.stringify(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(e=!0){e===!0&&(this.previousColor=Object.assign({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e,t=!0){t===!0&&(this.initialColor=Object.assign({},e)),this.color=e;const r=Xn(e.r,e.g,e.b),n=2*Math.PI,s=this.r*r.s,o=this.centerCoordinates.x+s*Math.sin(n*r.h),a=this.centerCoordinates.y+s*Math.cos(n*r.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=Xn(this.color.r,this.color.g,this.color.b);t.v=e/100;const r=yo(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(e=this.color){const t=Xn(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const n=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,n,s),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),r.fill(),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const t=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const t=document.createElement("DIV");t.style.color="red",t.style.fontWeight="bold",t.style.padding="10px",t.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(t)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const e=this;this.opacityRange.onchange=function(){e._setOpacity(this.value)},this.opacityRange.oninput=function(){e._setOpacity(this.value)},this.brightnessRange.onchange=function(){e._setBrightness(this.value)},this.brightnessRange.oninput=function(){e._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new i1(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let n,s,o,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;const u=2*Math.PI/360,l=1/360,d=1/this.r;let c;for(o=0;o<360;o++)for(a=0;a<this.r;a++)n=this.centerCoordinates.x+a*Math.sin(u*o),s=this.centerCoordinates.y+a*Math.cos(u*o),c=yo(o*l,a*d,1),e.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",e.fillRect(n-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,n=e.center.y-t.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=r-o,u=n-s,l=Math.atan2(a,u),d=.98*Math.min(Math.sqrt(a*a+u*u),o),c=Math.cos(l)*d+s,h=Math.sin(l)*d+o;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";let f=l/(2*Math.PI);f=f<0?f+1:f;const v=d/this.r,g=Xn(this.color.r,this.color.g,this.color.b);g.h=f,g.s=v;const _=yo(g.h,g.s,g.v);_.a=this.color.a,this.color=_,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function nb(...i){if(i.length<1)throw new TypeError("Invalid arguments.");if(i.length===1)return document.createTextNode(i[0]);{const e=document.createElement(i[0]);return e.appendChild(nb(...i.slice(1))),e}}let l7=class{constructor(e,t,r,n=1,s=()=>!1){this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Object.assign(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new u7(n),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Array.isArray(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),e.filter!==void 0&&(this.options.filter=e.filter),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);this.options.filter===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=this.options.filter;let t=0,r=!1;for(const n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(n,[]),r=r||this._handleObject(this.configureOptions[n],[n],!0)):(e===!0||e.indexOf(n)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e,...t){if(this.allowCreation===!0){const r=document.createElement("div");return r.className="vis-configuration vis-config-item vis-config-s"+e.length,t.forEach(n=>{r.appendChild(n)}),this.domElements.push(r),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t,r=!1){const n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(nb("i","b",e))}else n.innerText=e+":";return n}_makeDropdown(e,t,r){const n=document.createElement("select");n.className="vis-configuration vis-config-select";let s=0;t!==void 0&&e.indexOf(t)!==-1&&(s=e.indexOf(t));for(let u=0;u<e.length;u++){const l=document.createElement("option");l.value=e[u],u===s&&(l.selected="selected"),l.innerText=e[u],n.appendChild(l)}const o=this;n.onchange=function(){o._update(this.value,r)};const a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,n)}_makeRange(e,t,r){const n=e[0],s=e[1],o=e[2],a=e[3],u=document.createElement("input");u.className="vis-configuration vis-config-range";try{u.type="range",u.min=s,u.max=o}catch{}u.step=a;let l="",d=0;t!==void 0?(t<0&&t*1.2<s?(u.min=Math.ceil(t*1.2),d=u.min,l="range increased"):t/1.2<s&&(u.min=Math.ceil(t/1.2),d=u.min,l="range increased"),t*1.2>o&&o!==1&&(u.max=Math.ceil(t*1.2),d=u.max,l="range increased"),u.value=t):u.value=n;const c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=u.value;const h=this;u.onchange=function(){c.value=this.value,h._update(Number(this.value),r)},u.oninput=function(){c.value=this.value};const f=this._makeLabel(r[r.length-1],r),v=this._makeItem(r,f,u,c);l!==""&&this.popupHistory[v]!==d&&(this.popupHistory[v]=d,this._setupPopup(l,v))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=e,r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){const n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,t!==void 0&&(n.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));const s=this;n.onchange=function(){s._update(this.checked,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,n)}_makeTextInput(e,t,r){const n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=t,t!==e&&this.changedOptions.push({path:r,value:t});const s=this;n.onchange=function(){s._update(this.value,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,n)}_makeColorField(e,t,r){const n=e[1],s=document.createElement("div");t=t===void 0?n:t,t!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=t):s.className="vis-configuration vis-config-colorBlock none",t=t===void 0?n:t,s.onclick=()=>{this._showColorPicker(t,s,r)};const o=this._makeLabel(r[r.length-1],r);this._makeItem(r,o,s)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(n=>{const s="rgba("+n.r+","+n.g+","+n.b+","+n.a+")";t.style.backgroundColor=s,this._update(s,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e,t=[],r=!1){let n=!1;const s=this.options.filter;let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){n=!0;const u=e[a],l=xo(t,a);if(typeof s=="function"&&(n=s(a,t),n===!1&&!Array.isArray(u)&&typeof u!="string"&&typeof u!="boolean"&&u instanceof Object&&(this.allowCreation=!1,n=this._handleObject(u,l,!0),this.allowCreation=r===!1)),n!==!1){o=!0;const d=this._getValue(l);if(Array.isArray(u))this._handleArray(u,d,l);else if(typeof u=="string")this._makeTextInput(u,d,l);else if(typeof u=="boolean")this._makeCheckbox(u,d,l);else if(u instanceof Object){if(!this.hideOption(t,a,this.moduleOptions))if(u.enabled!==void 0){const c=xo(l,"enabled"),h=this._getValue(c);if(h===!0){const f=this._makeLabel(a,l,!0);this._makeItem(l,f),o=this._handleObject(u,l)||o}else this._makeCheckbox(u,h,l)}else{const c=this._makeLabel(a,l,!0);this._makeItem(l,c),o=this._handleObject(u,l)||o}}else console.error("dont know how to handle",u,a,l)}}return o}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){const r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t,r={}){let n=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<t.length;s++)t[s]!=="global"&&(n[t[s]]===void 0&&(n[t[s]]={}),s!==t.length-1?n=n[t[s]]:n[t[s]]=e);return r}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(nb("pre","const options = "+JSON.stringify(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},d7=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=parseInt(e),this.y=parseInt(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const t=this.frame.clientHeight,r=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let u=!1,l=!0;this.y-t<this.padding&&(l=!1),this.x+r>s-this.padding&&(u=!0),u?o=this.x-r:o=this.x,l?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>n&&(a=n-t-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+r+this.padding>s&&(o=s-r-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Kn=!1,PP;const sb="background: #FFeeee; color: #dd0000";let c7=class Pe{static validate(e,t,r){Kn=!1,PP=t;let n=t;return r!==void 0&&(n=t[r]),Pe.parse(e,n,[]),Kn}static parse(e,t,r){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&Pe.check(n,e,t,r)}static check(e,t,r,n){if(r[e]===void 0&&r.__any__===void 0){Pe.getSuggestion(e,r,n);return}let s=e,o=!0;r[e]===void 0&&r.__any__!==void 0&&(s="__any__",o=Pe.getType(t[e])==="object");let a=r[s];o&&a.__type__!==void 0&&(a=a.__type__),Pe.checkFields(e,t,r,s,a,n)}static checkFields(e,t,r,n,s,o){const a=function(d){console.error("%c"+d+Pe.printLocation(o,e),sb)},u=Pe.getType(t[e]),l=s[u];l!==void 0?Pe.getType(l)==="array"&&l.indexOf(t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+Pe.print(l)+' not "'+t[e]+'". '),Kn=!0):u==="object"&&n!=="__any__"&&(o=xo(o,e),Pe.parse(t[e],r[n],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+Pe.print(Object.keys(s))+". Received ["+u+'] "'+t[e]+'"'),Kn=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Array.isArray(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){const n=Pe.findInOptions(e,t,r,!1),s=Pe.findInOptions(e,PP,[],!0),o=8,a=4;let u;n.indexMatch!==void 0?u=" in "+Pe.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+`"?

`:s.distance<=a&&n.distance>s.distance?u=" in "+Pe.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Pe.printLocation(s.path,s.closestMatch,""):n.distance<=o?u='. Did you mean "'+n.closestMatch+'"?'+Pe.printLocation(n.path,e):u=". Did you mean one of these: "+Pe.print(Object.keys(t))+Pe.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+u,sb),Kn=!0}static findInOptions(e,t,r,n=!1){let s=1e9,o="",a=[];const u=e.toLowerCase();let l;for(const d in t){let c;if(t[d].__type__!==void 0&&n===!0){const h=Pe.findInOptions(e,t[d],xo(r,d));s>h.distance&&(o=h.closestMatch,a=h.path,s=h.distance,l=h.indexMatch)}else d.toLowerCase().indexOf(u)!==-1&&(l=d),c=Pe.levenshteinDistance(e,d),s>c&&(o=d,a=t7(r),s=c)}return{closestMatch:o,path:a,distance:s,indexMatch:l}}static printLocation(e,t,r=`Problem value found at: 
`){let n=`

`+r+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)n+="  ";n+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)n+="  ";n+=t+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)n+="  ";n+=`}
`}return n+`

`}static print(e){return JSON.stringify(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const r=[];let n;for(n=0;n<=t.length;n++)r[n]=[n];let s;for(s=0;s<=e.length;s++)r[0][s]=s;for(n=1;n<=t.length;n++)for(s=1;s<=e.length;s++)t.charAt(n-1)==e.charAt(s-1)?r[n][s]=r[n-1][s-1]:r[n][s]=Math.min(r[n-1][s-1]+1,Math.min(r[n][s-1]+1,r[n-1][s]+1));return r[t.length][e.length]}};const h7=Ht,f7=l7,Hi=i1,v7=d7,bN=sb,p7=c7;var RP={},rv={},CP;function s1(){if(CP)return rv;CP=1;var i=Ce(),e=NF(),t=Tt(),r=Yt(),n=jt(),s=Hs();return rv.f=i&&!e?Object.defineProperties:function(a,u){r(a);for(var l=n(u),d=s(u),c=d.length,h=0,f;c>h;)t.f(a,f=d[h++],l[f]);return a},rv}var iv,qP;function g7(){if(qP)return iv;qP=1;var i=gt();return iv=i("document","documentElement"),iv}var nv,xP;function la(){if(xP)return nv;xP=1;var i=$n(),e=ta(),t=i("keys");return nv=function(r){return t[r]||(t[r]=e(r))},nv}var sv,kP;function Xs(){if(kP)return sv;kP=1;var i=Yt(),e=s1(),t=Kb(),r=Ws(),n=g7(),s=MF(),o=la(),a=">",u="<",l="prototype",d="script",c=o("IE_PROTO"),h=function(){},f=function(p){return u+d+a+p+u+"/"+d+a},v=function(p){p.write(f("")),p.close();var O=p.parentWindow.Object;return p=null,O},g=function(){var p=s("iframe"),O="java"+d+":",m;return p.style.display="none",n.appendChild(p),p.src=String(O),m=p.contentWindow.document,m.open(),m.write(f("document.F=Object")),m.close(),m.F},_,y=function(){try{_=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&_?v(_):g():v(_);for(var p=t.length;p--;)delete y[l][t[p]];return y()};return r[c]=!0,sv=Object.create||function(O,m){var S;return O!==null?(h[l]=i(O),S=new h,h[l]=null,S[c]=O):S=y(),m===void 0?S:e.f(S,m)},sv}var DP;function y7(){if(DP)return RP;DP=1;var i=G(),e=Ce(),t=Xs();return i({target:"Object",stat:!0,sham:!e},{create:t}),RP}var ov,AP;function m7(){if(AP)return ov;AP=1,y7();var i=fe(),e=i.Object;return ov=function(r,n){return e.create(r,n)},ov}var av,MP;function b7(){if(MP)return av;MP=1;var i=m7();return av=i,av}var uv,FP;function _7(){return FP||(FP=1,uv=b7()),uv}var w7=_7(),rs=X(w7),NP={},lv,BP;function xn(){if(BP)return lv;BP=1;var i=oe();return lv=function(e,t){var r=[][e];return!!r&&i(function(){r.call(null,t||function(){return 1},1)})},lv}var jP;function E7(){if(jP)return NP;jP=1;var i=G(),e=Wb(),t=Ub().indexOf,r=xn(),n=e([].indexOf),s=!!n&&1/n([1],1,-0)<0,o=s||!r("indexOf");return i({target:"Array",proto:!0,forced:o},{indexOf:function(u){var l=arguments.length>1?arguments[1]:void 0;return s?n(this,u,l)||0:t(this,u,l)}}),NP}var dv,LP;function S7(){if(LP)return dv;LP=1,E7();var i=Je();return dv=i("Array","indexOf"),dv}var cv,zP;function O7(){if(zP)return cv;zP=1;var i=Ne(),e=S7(),t=Array.prototype;return cv=function(r){var n=r.indexOf;return r===t||i(t,r)&&n===t.indexOf?e:n},cv}var hv,WP;function I7(){if(WP)return hv;WP=1;var i=O7();return hv=i,hv}var fv,HP;function $7(){return HP||(HP=1,fv=I7()),fv}var T7=$7(),Oe=X(T7),GP={},vv,VP;function o1(){return VP||(VP=1,vv=function(){}),vv}var UP;function P7(){if(UP)return GP;UP=1;var i=G(),e=Ub().includes,t=oe(),r=o1(),n=t(function(){return!Array(1).includes()});return i({target:"Array",proto:!0,forced:n},{includes:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),r("includes"),GP}var pv,KP;function R7(){if(KP)return pv;KP=1,P7();var i=Je();return pv=i("Array","includes"),pv}var YP={},gv,XP;function C7(){if(XP)return gv;XP=1;var i=Ve(),e=Kt(),t=Be(),r=t("match");return gv=function(n){var s;return i(n)&&((s=n[r])!==void 0?!!s:e(n)==="RegExp")},gv}var yv,ZP;function q7(){if(ZP)return yv;ZP=1;var i=C7(),e=TypeError;return yv=function(t){if(i(t))throw new e("The method doesn't accept regular expressions");return t},yv}var mv,JP;function a1(){if(JP)return mv;JP=1;var i=Be(),e=i("toStringTag"),t={};return t[e]="z",mv=String(t)==="[object z]",mv}var bv,QP;function kn(){if(QP)return bv;QP=1;var i=a1(),e=Ge(),t=Kt(),r=Be(),n=r("toStringTag"),s=Object,o=t(function(){return arguments}())==="Arguments",a=function(u,l){try{return u[l]}catch{}};return bv=i?t:function(u){var l,d,c;return u===void 0?"Undefined":u===null?"Null":typeof(d=a(l=s(u),n))=="string"?d:o?t(l):(c=t(l))==="Object"&&e(l.callee)?"Arguments":c},bv}var _v,eR;function Rt(){if(eR)return _v;eR=1;var i=kn(),e=String;return _v=function(t){if(i(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},_v}var wv,tR;function x7(){if(tR)return wv;tR=1;var i=Be(),e=i("match");return wv=function(t){var r=/./;try{"/./"[t](r)}catch{try{return r[e]=!1,"/./"[t](r)}catch{}}return!1},wv}var rR;function k7(){if(rR)return YP;rR=1;var i=G(),e=ae(),t=q7(),r=fr(),n=Rt(),s=x7(),o=e("".indexOf);return i({target:"String",proto:!0,forced:!s("includes")},{includes:function(u){return!!~o(n(r(this)),n(t(u)),arguments.length>1?arguments[1]:void 0)}}),YP}var Ev,iR;function D7(){if(iR)return Ev;iR=1,k7();var i=Je();return Ev=i("String","includes"),Ev}var Sv,nR;function A7(){if(nR)return Sv;nR=1;var i=Ne(),e=R7(),t=D7(),r=Array.prototype,n=String.prototype;return Sv=function(s){var o=s.includes;return s===r||i(r,s)&&o===r.includes?e:typeof s=="string"||s===n||i(n,s)&&o===n.includes?t:o},Sv}var Ov,sR;function M7(){if(sR)return Ov;sR=1;var i=A7();return Ov=i,Ov}var Iv,oR;function F7(){return oR||(oR=1,Iv=M7()),Iv}var N7=F7(),is=X(N7),aR={},$v,uR;function wi(){if(uR)return $v;uR=1;var i=Kt();return $v=Array.isArray||function(t){return i(t)==="Array"},$v}var Tv,lR;function B7(){if(lR)return Tv;lR=1;var i=Ce(),e=wi(),t=TypeError,r=Object.getOwnPropertyDescriptor,n=i&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return Tv=n?function(s,o){if(e(s)&&!r(s,"length").writable)throw new t("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Tv}var Pv,dR;function _N(){if(dR)return Pv;dR=1;var i=TypeError,e=9007199254740991;return Pv=function(t){if(t>e)throw i("Maximum allowed index exceeded");return t},Pv}var Rv,cR;function j7(){if(cR)return Rv;cR=1;var i=ae(),e=Ge(),t=Gb(),r=i(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(n){return r(n)}),Rv=t.inspectSource,Rv}var Cv,hR;function wN(){if(hR)return Cv;hR=1;var i=ae(),e=oe(),t=Ge(),r=kn(),n=gt(),s=j7(),o=function(){},a=n("Reflect","construct"),u=/^\s*(?:class|function)\b/,l=i(u.exec),d=!u.test(o),c=function(v){if(!t(v))return!1;try{return a(o,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!l(u,s(v))}catch{return!0}};return h.sham=!0,Cv=!a||e(function(){var f;return c(c.call)||!c(Object)||!c(function(){f=!0})||f})?h:c,Cv}var qv,fR;function L7(){if(fR)return qv;fR=1;var i=wi(),e=wN(),t=Ve(),r=Be(),n=r("species"),s=Array;return qv=function(o){var a;return i(o)&&(a=o.constructor,e(a)&&(a===s||i(a.prototype))?a=void 0:t(a)&&(a=a[n],a===null&&(a=void 0))),a===void 0?s:a},qv}var xv,vR;function u1(){if(vR)return xv;vR=1;var i=L7();return xv=function(e,t){return new(i(e))(t===0?0:t)},xv}var kv,pR;function da(){if(pR)return kv;pR=1;var i=Ce(),e=Tt(),t=js();return kv=function(r,n,s){i?e.f(r,n,t(0,s)):r[n]=s},kv}var Dv,gR;function EN(){if(gR)return Dv;gR=1;var i=On(),e=TypeError;return Dv=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+i(r)+" of "+i(t))},Dv}var Av,yR;function Zs(){if(yR)return Av;yR=1;var i=oe(),e=Be(),t=Ls(),r=e("species");return Av=function(n){return t>=51||!i(function(){var s=[],o=s.constructor={};return o[r]=function(){return{foo:1}},s[n](Boolean).foo!==1})},Av}var mR;function z7(){if(mR)return aR;mR=1;var i=G(),e=$t(),t=na(),r=Pn(),n=pr(),s=B7(),o=_N(),a=u1(),u=da(),l=EN(),d=Zs(),c=d("splice"),h=Math.max,f=Math.min;return i({target:"Array",proto:!0,forced:!c},{splice:function(g,_){var y=e(this),p=n(y),O=t(g,p),m=arguments.length,S,$,w,b,E,I;for(m===0?S=$=0:m===1?(S=0,$=p-O):(S=m-2,$=f(h(r(_),0),p-O)),o(p+S-$),w=a(y,$),b=0;b<$;b++)E=O+b,E in y&&u(w,b,y[E]);if(w.length=$,S<$){for(b=O;b<p-$;b++)E=b+$,I=b+S,E in y?y[I]=y[E]:l(y,I);for(b=p;b>p-$+S;b--)l(y,b-1)}else if(S>$)for(b=p-$;b>O;b--)E=b+$-1,I=b+S-1,E in y?y[I]=y[E]:l(y,I);for(b=0;b<S;b++)y[b+O]=arguments[b+2];return s(y,p-$+S),w}}),aR}var Mv,bR;function W7(){if(bR)return Mv;bR=1,z7();var i=Je();return Mv=i("Array","splice"),Mv}var Fv,_R;function H7(){if(_R)return Fv;_R=1;var i=Ne(),e=W7(),t=Array.prototype;return Fv=function(r){var n=r.splice;return r===t||i(t,r)&&n===t.splice?e:n},Fv}var Nv,wR;function G7(){if(wR)return Nv;wR=1;var i=H7();return Nv=i,Nv}var Bv,ER;function V7(){return ER||(ER=1,Bv=G7()),Bv}var U7=V7(),Ir=X(U7),SR={},OR;function K7(){if(OR)return SR;OR=1;var i=G(),e=wi();return i({target:"Array",stat:!0},{isArray:e}),SR}var jv,IR;function Y7(){if(IR)return jv;IR=1,K7();var i=fe();return jv=i.Array.isArray,jv}var Lv,$R;function X7(){if($R)return Lv;$R=1;var i=Y7();return Lv=i,Lv}var zv,TR;function Z7(){return TR||(TR=1,zv=X7()),zv}var J7=Z7(),At=X(J7),PR={},Wv,RR;function Mr(){if(RR)return Wv;RR=1;var i=ia(),e=ae(),t=ea(),r=$t(),n=pr(),s=u1(),o=e([].push),a=function(u){var l=u===1,d=u===2,c=u===3,h=u===4,f=u===6,v=u===7,g=u===5||f;return function(_,y,p,O){for(var m=r(_),S=t(m),$=n(S),w=i(y,p),b=0,E=O||s,I=l?E(_,$):d||v?E(_,0):void 0,T,P;$>b;b++)if((g||b in S)&&(T=S[b],P=w(T,b,m),u))if(l)I[b]=P;else if(P)switch(u){case 3:return!0;case 5:return T;case 6:return b;case 2:o(I,T)}else switch(u){case 4:return!1;case 7:o(I,T)}return f?-1:c||h?h:I}};return Wv={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},Wv}var Hv,CR;function Q7(){if(CR)return Hv;CR=1;var i=Mr().forEach,e=xn(),t=e("forEach");return Hv=t?[].forEach:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)},Hv}var qR;function eW(){if(qR)return PR;qR=1;var i=G(),e=Q7();return i({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),PR}var Gv,xR;function tW(){if(xR)return Gv;xR=1,eW();var i=Je();return Gv=i("Array","forEach"),Gv}var Vv,kR;function rW(){if(kR)return Vv;kR=1;var i=tW();return Vv=i,Vv}var Uv,DR;function iW(){if(DR)return Uv;DR=1;var i=kn(),e=Ze(),t=Ne(),r=rW(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Uv=function(o){var a=o.forEach;return o===n||t(n,o)&&a===n.forEach||e(s,i(o))?r:a},Uv}var Kv,AR;function nW(){return AR||(AR=1,Kv=iW()),Kv}var sW=nW(),_e=X(sW);function oW(i){return _r=i,dW()}var SN={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},l1=rs(SN);l1.color="color.color";l1.style="dashes";var nt={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},MR={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},_r="",on=0,ie="",K="",lt=nt.NULL;function aW(){on=0,ie=_r.charAt(0)}function Le(){on++,ie=_r.charAt(on)}function Di(){return _r.charAt(on+1)}function FR(i){var e=i.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function Tr(i,e){if(i||(i={}),e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function uW(i,e,t){for(var r=e.split("."),n=i;r.length;){var s=r.shift();r.length?(n[s]||(n[s]={}),n=n[s]):n[s]=t}}function ON(i,e){for(var t,r,n=null,s=[i],o=i;o.parent;)s.push(o.parent),o=o.parent;if(o.nodes){for(t=0,r=o.nodes.length;t<r;t++)if(e.id===o.nodes[t].id){n=o.nodes[t];break}}for(n||(n={id:e.id},i.node&&(n.attr=Tr(n.attr,i.node))),t=s.length-1;t>=0;t--){var a,u=s[t];u.nodes||(u.nodes=[]),Oe(a=u.nodes).call(a,n)===-1&&u.nodes.push(n)}e.attr&&(n.attr=Tr(n.attr,e.attr))}function lW(i,e){if(i.edges||(i.edges=[]),i.edges.push(e),i.edge){var t=Tr({},i.edge);e.attr=Tr(t,e.attr)}}function IN(i,e,t,r,n){var s={from:e,to:t,type:r};return i.edge&&(s.attr=Tr({},i.edge)),s.attr=Tr(s.attr||{},n),n!=null&&n.hasOwnProperty("arrows")&&n.arrows!=null&&(s.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),s}function ye(){for(lt=nt.NULL,K="";ie===" "||ie==="	"||ie===`
`||ie==="\r";)Le();do{var i=!1;if(ie==="#"){for(var e=on-1;_r.charAt(e)===" "||_r.charAt(e)==="	";)e--;if(_r.charAt(e)===`
`||_r.charAt(e)===""){for(;ie!=""&&ie!=`
`;)Le();i=!0}}if(ie==="/"&&Di()==="/"){for(;ie!=""&&ie!=`
`;)Le();i=!0}if(ie==="/"&&Di()==="*"){for(;ie!="";)if(ie==="*"&&Di()==="/"){Le(),Le();break}else Le();i=!0}for(;ie===" "||ie==="	"||ie===`
`||ie==="\r";)Le()}while(i);if(ie===""){lt=nt.DELIMITER;return}var t=ie+Di();if(MR[t]){lt=nt.DELIMITER,K=t,Le(),Le();return}if(MR[ie]){lt=nt.DELIMITER,K=ie,Le();return}if(FR(ie)||ie==="-"){for(K+=ie,Le();FR(ie);)K+=ie,Le();K==="false"?K=!1:K==="true"?K=!0:isNaN(Number(K))||(K=Number(K)),lt=nt.IDENTIFIER;return}if(ie==='"'){for(Le();ie!=""&&(ie!='"'||ie==='"'&&Di()==='"');)ie==='"'?(K+=ie,Le()):ie==="\\"&&Di()==="n"?(K+=`
`,Le()):K+=ie,Le();if(ie!='"')throw st('End of string " expected');Le(),lt=nt.IDENTIFIER;return}for(lt=nt.UNKNOWN;ie!="";)K+=ie,Le();throw new SyntaxError('Syntax error in part "'+RN(K,30)+'"')}function dW(){var i={};if(aW(),ye(),K==="strict"&&(i.strict=!0,ye()),(K==="graph"||K==="digraph")&&(i.type=K,ye()),lt===nt.IDENTIFIER&&(i.id=K,ye()),K!="{")throw st("Angle bracket { expected");if(ye(),$N(i),K!="}")throw st("Angle bracket } expected");if(ye(),K!=="")throw st("End of file expected");return ye(),delete i.node,delete i.edge,delete i.graph,i}function $N(i){for(;K!==""&&K!="}";)cW(i),K===";"&&ye()}function cW(i){var e=TN(i);if(e){PN(i,e);return}var t=hW(i);if(!t){if(lt!=nt.IDENTIFIER)throw st("Identifier expected");var r=K;if(ye(),K==="="){if(ye(),lt!=nt.IDENTIFIER)throw st("Identifier expected");i[r]=K,ye()}else fW(i,r)}}function TN(i){var e=null;if(K==="subgraph"&&(e={},e.type="subgraph",ye(),lt===nt.IDENTIFIER&&(e.id=K,ye())),K==="{"){if(ye(),e||(e={}),e.parent=i,e.node=i.node,e.edge=i.edge,e.graph=i.graph,$N(e),K!="}")throw st("Angle bracket } expected");ye(),delete e.node,delete e.edge,delete e.graph,delete e.parent,i.subgraphs||(i.subgraphs=[]),i.subgraphs.push(e)}return e}function hW(i){return K==="node"?(ye(),i.node=ns(),"node"):K==="edge"?(ye(),i.edge=ns(),"edge"):K==="graph"?(ye(),i.graph=ns(),"graph"):null}function fW(i,e){var t={id:e},r=ns();r&&(t.attr=r),ON(i,t),PN(i,e)}function PN(i,e){for(;K==="->"||K==="--";){var t,r=K;ye();var n=TN(i);if(n)t=n;else{if(lt!=nt.IDENTIFIER)throw st("Identifier or subgraph expected");t=K,ON(i,{id:t}),ye()}var s=ns(),o=IN(i,e,t,r,s);lW(i,o),e=t}}function ns(){for(var i,e=null,t={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},n=new Array,s=new Array;K==="[";){for(ye(),e={};K!==""&&K!="]";){if(lt!=nt.IDENTIFIER)throw st("Attribute name expected");var o=K;if(ye(),K!="=")throw st("Equal sign = expected");if(ye(),lt!=nt.IDENTIFIER)throw st("Attribute value expected");var a=K;o==="style"&&(a=t[a]);var u;o==="arrowhead"&&(u=r[a],o="arrows",a={to:{enabled:!0,type:u}}),o==="arrowtail"&&(u=r[a],o="arrows",a={from:{enabled:!0,type:u}}),n.push({attr:e,name:o,value:a}),s.push(o),ye(),K==","&&ye()}if(K!="]")throw st("Bracket ] expected");ye()}if(is(s).call(s,"dir")){var l={};for(l.arrows={},i=0;i<n.length;i++)if(n[i].name==="arrows")if(n[i].value.to!=null)l.arrows.to=i;else if(n[i].value.from!=null)l.arrows.from=i;else throw st("Invalid value of arrows");else n[i].name==="dir"&&(l.dir=i);var d=n[l.dir].value;if(!is(s).call(s,"arrows"))if(d==="both")n.push({attr:n[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=n.length-1,n.push({attr:n[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=n.length-1;else if(d==="forward")n.push({attr:n[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=n.length-1;else if(d==="back")n.push({attr:n[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=n.length-1;else if(d==="none")n.push({attr:n[l.dir].attr,name:"arrows",value:""}),l.arrows.to=n.length-1;else throw st('Invalid dir type "'+d+'"');var c,h;if(d==="both")l.arrows.to&&l.arrows.from?(h=n[l.arrows.to].value.to.type,c=n[l.arrows.from].value.from.type,n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}},Ir(n).call(n,l.arrows.from,1)):l.arrows.to?(h=n[l.arrows.to].value.to.type,c="arrow",n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="arrow",c=n[l.arrows.from].value.from.type,n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}});else if(d==="back")l.arrows.to&&l.arrows.from?(h="",c=n[l.arrows.from].value.from.type,n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.to?(h="",c="arrow",l.arrows.from=l.arrows.to,n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="",c=n[l.arrows.from].value.from.type,n[l.arrows.to]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{from:{enabled:!0,type:n[l.arrows.from].value.from.type}}};else if(d==="none"){var f;l.arrows.to?f=l.arrows.to:f=l.arrows.from,n[f]={attr:n[f].attr,name:n[f].name,value:""}}else if(d==="forward")l.arrows.to&&l.arrows.from?(h=n[l.arrows.to].value.to.type,c="",n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.to?(h=n[l.arrows.to].value.to.type,c="",n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="arrow",c="",l.arrows.to=l.arrows.from,n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:n[l.arrows.to].value.to.type}}};else throw st('Invalid dir type "'+d+'"');Ir(n).call(n,l.dir,1)}var v;if(is(s).call(s,"penwidth")){var g=[];for(v=n.length,i=0;i<v;i++)n[i].name!=="width"&&(n[i].name==="penwidth"&&(n[i].name="width"),g.push(n[i]));n=g}for(v=n.length,i=0;i<v;i++)uW(n[i].attr,n[i].name,n[i].value);return e}function st(i){return new SyntaxError(i+', got "'+RN(K,30)+'" (char '+on+")")}function RN(i,e){return i.length<=e?i:i.substr(0,27)+"..."}function vW(i,e,t){At(i)?_e(i).call(i,function(r){At(e)?_e(e).call(e,function(n){t(r,n)}):t(r,e)}):At(e)?_e(e).call(e,function(r){t(i,r)}):t(i,e)}function Yv(i,e,t){for(var r=e.split("."),n=r.pop(),s=i,o=0;o<r.length;o++){var a=r[o];a in s||(s[a]={}),s=s[a]}return s[n]=t,i}function NR(i,e){var t={};for(var r in i)if(i.hasOwnProperty(r)){var n=e[r];At(n)?_e(n).call(n,function(s){Yv(t,s,i[r])}):typeof n=="string"?Yv(t,n,i[r]):Yv(t,r,i[r])}return t}function pW(i){var e=oW(i),t={nodes:[],edges:[],options:{}};if(e.nodes){var r;_e(r=e.nodes).call(r,function(o){var a={id:o.id,label:String(o.label||o.id)};Tr(a,NR(o.attr,SN)),a.image&&(a.shape="image"),t.nodes.push(a)})}if(e.edges){var n,s=function(o){var a={from:o.from,to:o.to};return Tr(a,NR(o.attr,l1)),a.arrows==null&&o.type==="->"&&(a.arrows="to"),a};_e(n=e.edges).call(n,function(o){var a,u;if(o.from instanceof Object?a=o.from.nodes:a={id:o.from},o.to instanceof Object?u=o.to.nodes:u={id:o.to},o.from instanceof Object&&o.from.edges){var l;_e(l=o.from.edges).call(l,function(c){var h=s(c);t.edges.push(h)})}if(vW(a,u,function(c,h){var f=IN(t,c.id,h.id,o.type,o.attr),v=s(f);t.edges.push(v)}),o.to instanceof Object&&o.to.edges){var d;_e(d=o.to.edges).call(d,function(c){var h=s(c);t.edges.push(h)})}})}return e.attr&&(t.options=e.attr),t}var BR={},jR;function gW(){if(jR)return BR;jR=1;var i=G(),e=Mr().map,t=Zs(),r=t("map");return i({target:"Array",proto:!0,forced:!r},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),BR}var Xv,LR;function yW(){if(LR)return Xv;LR=1,gW();var i=Je();return Xv=i("Array","map"),Xv}var Zv,zR;function mW(){if(zR)return Zv;zR=1;var i=Ne(),e=yW(),t=Array.prototype;return Zv=function(r){var n=r.map;return r===t||i(t,r)&&n===t.map?e:n},Zv}var Jv,WR;function bW(){if(WR)return Jv;WR=1;var i=mW();return Jv=i,Jv}var Qv,HR;function _W(){return HR||(HR=1,Qv=bW()),Qv}var wW=_W(),bs=X(wW);function EW(i,e){var t;const r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(r.nodes.fixed=e.fixed),e.parseColor!=null&&(r.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(r.edges.inheritColor=e.inheritColor));const n=i.edges,s=bs(n).call(n,a=>{const u={from:a.source,id:a.id,to:a.target};return a.attributes!=null&&(u.attributes=a.attributes),a.label!=null&&(u.label=a.label),a.attributes!=null&&a.attributes.title!=null&&(u.title=a.attributes.title),a.type==="Directed"&&(u.arrows="to"),a.color&&r.edges.inheritColor===!1&&(u.color=a.color),u});return{nodes:bs(t=i.nodes).call(t,a=>{const u={id:a.id,fixed:r.nodes.fixed&&a.x!=null&&a.y!=null};return a.attributes!=null&&(u.attributes=a.attributes),a.label!=null&&(u.label=a.label),a.size!=null&&(u.size=a.size),a.attributes!=null&&a.attributes.title!=null&&(u.title=a.attributes.title),a.title!=null&&(u.title=a.title),a.x!=null&&(u.x=a.x),a.y!=null&&(u.y=a.y),a.color!=null&&(r.nodes.parseColor===!0?u.color=a.color:u.color={background:a.color,border:a.color,highlight:{background:a.color,border:a.color},hover:{background:a.color,border:a.color}}),u}),edges:s}}const SW={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},OW={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufÃ¼gen",addNode:"Knoten hinzufÃ¼gen",back:"ZurÃ¼ck",close:"SchlieÃen",createEdgeError:"Es ist nicht mÃ¶glich, Kanten mit Clustern zu verbinden.",del:"LÃ¶sche Auswahl",deleteClusterError:"Cluster kÃ¶nnen nicht gelÃ¶scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster kÃ¶nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},IW={addDescription:"Haga clic en un lugar vacÃ­o para colocar un nuevo nodo.",addEdge:"AÃ±adir arista",addNode:"AÃ±adir nodo",back:"AtrÃ¡s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecciÃ³n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},$W={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},TW={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},PW={addDescription:"Clique em um espaÃ§o em branco para adicionar um novo nÃ³",addEdge:"Adicionar aresta",addNode:"Adicionar nÃ³",back:"Voltar",close:"Fechar",createEdgeError:"NÃ£o foi possÃ­vel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters nÃ£o puderam ser removidos.",edgeDescription:"Clique em um nÃ³ e arraste a aresta atÃ© outro nÃ³ para conectÃ¡-los",edit:"Editar",editClusterError:"Clusters nÃ£o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nÃ³ para conectÃ¡-los",editNode:"Editar nÃ³"},RW={addDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð² ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ðµ Ð¼ÐµÑÑÐ¾, ÑÑÐ¾Ð±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÐ¹ ÑÐ·ÐµÐ».",addEdge:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ±ÑÐ¾",addNode:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ·ÐµÐ»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÑÐ²Ð°ÑÑ",createEdgeError:"ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ ÑÐµÐ±ÑÐ° Ð² ÐºÐ»Ð°ÑÑÐµÑ.",del:"Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ðµ",deleteClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½Ðµ Ð¼Ð¾Ð³ÑÑ Ð±ÑÑÑ ÑÐ´Ð°Ð»ÐµÐ½Ñ",edgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÑÐ·ÐµÐ» Ð¸ Ð¿ÑÐ¾ÑÑÐ½Ð¸ÑÐµ ÑÐµÐ±ÑÐ¾ Ðº Ð´ÑÑÐ³Ð¾Ð¼Ñ ÑÐ·Ð»Ñ, ÑÑÐ¾Ð±Ñ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ Ð¸Ñ.",edit:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ",editClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ.",editEdge:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐµÐ±ÑÐ¾",editEdgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½ÑÐµ ÑÐ¾ÑÐºÐ¸ Ð¸ Ð¿ÐµÑÐµÑÐ°ÑÐ¸ÑÐµ Ð¸Ñ Ð² ÑÐ·ÐµÐ», ÑÑÐ¾Ð±Ñ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ¸ÑÑÑÑ Ðº Ð½ÐµÐ¼Ñ.",editNode:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐ·ÐµÐ»"},CW={addDescription:"åå»ç©ºç½å¤æ¾ç½®æ°èç¹ã",addEdge:"æ·»å è¿æ¥çº¿",addNode:"æ·»å èç¹",back:"è¿å",close:"éé",createEdgeError:"æ æ³å°è¿æ¥çº¿è¿æ¥å°ç¾¤éã",del:"å é¤éå®",deleteClusterError:"æ æ³å é¤ç¾¤éã",edgeDescription:"åå»æä¸ªèç¹å¹¶å°è¯¥è¿æ¥çº¿æå¨å°å¦ä¸ä¸ªèç¹ä»¥è¿æ¥å®ä»¬ã",edit:"ç¼è¾",editClusterError:"æ æ³ç¼è¾ç¾¤éã",editEdge:"ç¼è¾è¿æ¥çº¿",editEdgeDescription:"åå»æ§å¶èç¹å¹¶å°å®ä»¬æå°èç¹ä¸è¿æ¥ã",editNode:"ç¼è¾èç¹"},qW={addDescription:"KÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ»ÑÐ½Ðµ Ð¼ÑÑÑÐµ, ÑÐ¾Ð± Ð´Ð¾Ð´Ð°ÑÐ¸ Ð½Ð¾Ð²Ð¸Ð¹ Ð²ÑÐ·Ð¾Ð».",addEdge:"ÐÐ¾Ð´Ð°ÑÐ¸ ÐºÑÐ°Ð¹",addNode:"ÐÐ¾Ð´Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÐ¸ÑÐ¸",createEdgeError:"ÐÐµ Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ Ð¾Ð±'ÑÐ´Ð½Ð°ÑÐ¸ ÐºÑÐ°Ñ Ð² Ð³ÑÑÐ¿Ñ.",del:"ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¾Ð±ÑÐ°Ð½Ðµ",deleteClusterError:"ÐÑÑÐ¿Ð¸ Ð½Ðµ Ð¼Ð¾Ð¶ÑÑÑ Ð±ÑÑÐ¸ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ñ.",edgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ·Ð¾Ð» Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÐºÑÐ°Ð¹ Ð´Ð¾ ÑÐ½ÑÐ¾Ð³Ð¾ Ð²ÑÐ·Ð»Ð°, ÑÐ¾Ð± ÑÑ Ð·'ÑÐ´Ð½Ð°ÑÐ¸.",edit:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸",editClusterError:"ÐÑÑÐ¿Ð¸ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°Ð³ÑÐ²Ð°Ð½Ð½Ñ.",editEdge:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ ÐºÑÐ°Ð¹",editEdgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½Ñ ÑÐ¾ÑÐºÐ¸ Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÑÑ Ñ Ð²ÑÐ·Ð¾Ð», ÑÐ¾Ð± Ð¿ÑÐ´ÐºÐ»ÑÑÐ¸ÑÐ¸ÑÑ Ð´Ð¾ Ð½ÑÐ¾Ð³Ð¾.",editNode:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»"},xW={addDescription:"Cliquez dans un endroit vide pour placer un nÅud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nÅud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crÃ©er un lien vers un cluster.",del:"Effacer la sÃ©lection",deleteClusterError:"Les clusters ne peuvent pas Ãªtre effacÃ©s.",edgeDescription:"Cliquez sur un nÅud et glissez le lien vers un autre nÅud pour les connecter.",edit:"Ãditer",editClusterError:"Les clusters ne peuvent pas Ãªtre Ã©ditÃ©s.",editEdge:"Ãditer le lien",editEdgeDescription:"Cliquez sur les points de contrÃ´le et glissez-les pour connecter un nÅud.",editNode:"Ãditer le nÅud"},kW={addDescription:"KluknutÃ­m do prÃ¡zdnÃ©ho prostoru mÅ¯Å¾ete pÅidat novÃ½ vrchol.",addEdge:"PÅidat hranu",addNode:"PÅidat vrchol",back:"ZpÄt",close:"ZavÅÃ­t",createEdgeError:"Nelze pÅipojit hranu ke shluku.",del:"Smazat vÃ½bÄr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"PÅetaÅ¾enÃ­m z jednoho vrcholu do druhÃ©ho mÅ¯Å¾ete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"PÅetaÅ¾enÃ­m kontrolnÃ­ho vrcholu hrany ji mÅ¯Å¾ete pÅipojit k jinÃ©mu vrcholu.",editNode:"Upravit vrchol"};var DW=Object.freeze({__proto__:null,cn:CW,cs:kW,de:OW,en:SW,es:IW,fr:xW,it:$W,nl:TW,pt:PW,ru:RW,uk:qW}),GR={},VR;function CN(){if(VR)return GR;VR=1;var i=G(),e=oe(),t=wi(),r=Ve(),n=$t(),s=pr(),o=_N(),a=da(),u=u1(),l=Zs(),d=Be(),c=Ls(),h=d("isConcatSpreadable"),f=c>=51||!e(function(){var _=[];return _[h]=!1,_.concat()[0]!==_}),v=function(_){if(!r(_))return!1;var y=_[h];return y!==void 0?!!y:t(_)},g=!f||!l("concat");return i({target:"Array",proto:!0,arity:1,forced:g},{concat:function(y){var p=n(this),O=u(p,0),m=0,S,$,w,b,E;for(S=-1,w=arguments.length;S<w;S++)if(E=S===-1?p:arguments[S],v(E))for(b=s(E),o(m+b),$=0;$<b;$++,m++)$ in E&&a(O,m,E[$]);else o(m+1),a(O,m++,E);return O.length=m,O}}),GR}var ep,UR;function AW(){if(UR)return ep;UR=1,CN();var i=Je();return ep=i("Array","concat"),ep}var tp,KR;function MW(){if(KR)return tp;KR=1;var i=Ne(),e=AW(),t=Array.prototype;return tp=function(r){var n=r.concat;return r===t||i(t,r)&&n===t.concat?e:n},tp}var rp,YR;function FW(){if(YR)return rp;YR=1;var i=MW();return rp=i,rp}var ip,XR;function NW(){return XR||(XR=1,ip=FW()),ip}var BW=NW(),jW=X(BW);function LW(i,e){try{const[r,n]=e.split(/[-_ /]/,2),s=r!=null?r.toLowerCase():null,o=n!=null?n.toUpperCase():null;if(s&&o){const a=s+"-"+o;if(Object.prototype.hasOwnProperty.call(i,a))return a;var t;console.warn(jW(t="Unknown variant ".concat(o," of language ")).call(t,s,"."))}if(s){const a=s;if(Object.prototype.hasOwnProperty.call(i,a))return a;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(r){return console.error(r),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class zW{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,t=this.image.height;this.width=e,this.height=t;const r=Math.floor(t/2),n=Math.floor(t/4),s=Math.floor(t/8),o=Math.floor(t/16),a=Math.floor(e/2),u=Math.floor(e/4),l=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*u,this.canvas.height=r,this.coordinates=[[0,0,a,r],[a,0,u,n],[a,n,l,s],[5*l,n,d,o]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(let r=1;r<this.NUM_ITERATIONS;r++){const n=this.coordinates[r-1],s=this.coordinates[r];e.drawImage(this.canvas,n[0],n[1],n[2],n[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,t,r,n,s,o){if(this.initialized())if(t>2){t*=.5;let a=0;for(;t>2&&a<this.NUM_ITERATIONS;)t*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);const u=this.coordinates[a];e.drawImage(this.canvas,u[0],u[1],u[2],u[3],r,n,s,o)}else e.drawImage(this.image,r,n,s,o)}}class WW{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,t,r){if(!(e===void 0||r===void 0)){if(t===void 0){console.warn("No broken url image defined");return}r.image.onerror=()=>{console.error("Could not load brokenImage:",t)},r.image.src=t}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,t){const r=this.images[e];if(r)return r;const n=new zW;return this.images[e]=n,n.image.onload=()=>{this._fixImageCoordinates(n.image),n.init(),this._redrawWithImage(n)},n.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,t,n)},n.image.src=e,n}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var np,ZR;function Dn(){return ZR||(ZR=1,np={}),np}var sp,JR;function qN(){if(JR)return sp;JR=1;var i=Ee(),e=Ge(),t=i.WeakMap;return sp=e(t)&&/native code/.test(String(t)),sp}var op,QR;function Ei(){if(QR)return op;QR=1;var i=qN(),e=Ee(),t=Ve(),r=Tn(),n=Ze(),s=Gb(),o=la(),a=Ws(),u="Object already initialized",l=e.TypeError,d=e.WeakMap,c,h,f,v=function(p){return f(p)?h(p):c(p,{})},g=function(p){return function(O){var m;if(!t(O)||(m=h(O)).type!==p)throw new l("Incompatible receiver, "+p+" required");return m}};if(i||s.state){var _=s.state||(s.state=new d);_.get=_.get,_.has=_.has,_.set=_.set,c=function(p,O){if(_.has(p))throw new l(u);return O.facade=p,_.set(p,O),O},h=function(p){return _.get(p)||{}},f=function(p){return _.has(p)}}else{var y=o("state");a[y]=!0,c=function(p,O){if(n(p,y))throw new l(u);return O.facade=p,r(p,y,O),O},h=function(p){return n(p,y)?p[y]:{}},f=function(p){return n(p,y)}}return op={set:c,get:h,has:f,enforce:v,getterFor:g},op}var ap,eC;function HW(){if(eC)return ap;eC=1;var i=Ce(),e=Ze(),t=Function.prototype,r=i&&Object.getOwnPropertyDescriptor,n=e(t,"name"),s=n&&(function(){}).name==="something",o=n&&(!i||i&&r(t,"name").configurable);return ap={EXISTS:n,PROPER:s,CONFIGURABLE:o},ap}var up,tC;function GW(){if(tC)return up;tC=1;var i=oe();return up=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),up}var lp,rC;function d1(){if(rC)return lp;rC=1;var i=Ze(),e=Ge(),t=$t(),r=la(),n=GW(),s=r("IE_PROTO"),o=Object,a=o.prototype;return lp=n?o.getPrototypeOf:function(u){var l=t(u);if(i(l,s))return l[s];var d=l.constructor;return e(d)&&l instanceof d?d.prototype:l instanceof o?a:null},lp}var dp,iC;function Js(){if(iC)return dp;iC=1;var i=Tn();return dp=function(e,t,r,n){return n&&n.enumerable?e[t]=r:i(e,t,r),e},dp}var cp,nC;function xN(){if(nC)return cp;nC=1;var i=oe(),e=Ge(),t=Ve(),r=Xs(),n=d1(),s=Js(),o=Be(),a=In(),u=o("iterator"),l=!1,d,c,h;[].keys&&(h=[].keys(),"next"in h?(c=n(n(h)),c!==Object.prototype&&(d=c)):l=!0);var f=!t(d)||i(function(){var v={};return d[u].call(v)!==v});return f?d={}:a&&(d=r(d)),e(d[u])||s(d,u,function(){return this}),cp={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:l},cp}var hp,sC;function VW(){if(sC)return hp;sC=1;var i=a1(),e=kn();return hp=i?{}.toString:function(){return"[object "+e(this)+"]"},hp}var fp,oC;function Si(){if(oC)return fp;oC=1;var i=a1(),e=Tt().f,t=Tn(),r=Ze(),n=VW(),s=Be(),o=s("toStringTag");return fp=function(a,u,l,d){var c=l?a:a&&a.prototype;c&&(r(c,o)||e(c,o,{configurable:!0,value:u}),d&&!i&&t(c,"toString",n))},fp}var vp,aC;function UW(){if(aC)return vp;aC=1;var i=xN().IteratorPrototype,e=Xs(),t=js(),r=Si(),n=Dn(),s=function(){return this};return vp=function(o,a,u,l){var d=a+" Iterator";return o.prototype=e(i,{next:t(+!l,u)}),r(o,d,!1,!0),n[d]=s,o},vp}var pp,uC;function KW(){if(uC)return pp;uC=1;var i=ae(),e=vr();return pp=function(t,r,n){try{return i(e(Object.getOwnPropertyDescriptor(t,r)[n]))}catch{}},pp}var gp,lC;function YW(){if(lC)return gp;lC=1;var i=Ve();return gp=function(e){return i(e)||e===null},gp}var yp,dC;function XW(){if(dC)return yp;dC=1;var i=YW(),e=String,t=TypeError;return yp=function(r){if(i(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},yp}var mp,cC;function ZW(){if(cC)return mp;cC=1;var i=KW(),e=Ve(),t=fr(),r=XW();return mp=Object.setPrototypeOf||("__proto__"in{}?function(){var n=!1,s={},o;try{o=i(Object.prototype,"__proto__","set"),o(s,[]),n=s instanceof Array}catch{}return function(u,l){return t(u),r(l),e(u)&&(n?o(u,l):u.__proto__=l),u}}():void 0),mp}var bp,hC;function c1(){if(hC)return bp;hC=1;var i=G(),e=vt(),t=In(),r=HW(),n=Ge(),s=UW(),o=d1(),a=ZW(),u=Si(),l=Tn(),d=Js(),c=Be(),h=Dn(),f=xN(),v=r.PROPER,g=r.CONFIGURABLE,_=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,p=c("iterator"),O="keys",m="values",S="entries",$=function(){return this};return bp=function(w,b,E,I,T,P,R){s(E,b,I);var q=function(Se){if(Se===T&&re)return re;if(!y&&Se&&Se in L)return L[Se];switch(Se){case O:return function(){return new E(this,Se)};case m:return function(){return new E(this,Se)};case S:return function(){return new E(this,Se)}}return function(){return new E(this)}},A=b+" Iterator",Y=!1,L=w.prototype,Q=L[p]||L["@@iterator"]||T&&L[T],re=!y&&Q||q(T),he=b==="Array"&&L.entries||Q,H,le,ve;if(he&&(H=o(he.call(new w)),H!==Object.prototype&&H.next&&(!t&&o(H)!==_&&(a?a(H,_):n(H[p])||d(H,p,$)),u(H,A,!0,!0),t&&(h[A]=$))),v&&T===m&&Q&&Q.name!==m&&(!t&&g?l(L,"name",m):(Y=!0,re=function(){return e(Q,this)})),T)if(le={values:q(m),keys:P?re:q(O),entries:q(S)},R)for(ve in le)(y||Y||!(ve in L))&&d(L,ve,le[ve]);else i({target:b,proto:!0,forced:y||Y},le);return(!t||R)&&L[p]!==re&&d(L,p,re,{name:T}),h[b]=re,le},bp}var _p,fC;function h1(){return fC||(fC=1,_p=function(i,e){return{value:i,done:e}}),_p}var wp,vC;function An(){if(vC)return wp;vC=1;var i=jt(),e=o1(),t=Dn(),r=Ei(),n=Tt().f,s=c1(),o=h1(),a=In(),u=Ce(),l="Array Iterator",d=r.set,c=r.getterFor(l);wp=s(Array,"Array",function(f,v){d(this,{type:l,target:i(f),index:0,kind:v})},function(){var f=c(this),v=f.target,g=f.index++;if(!v||g>=v.length)return f.target=null,o(void 0,!0);switch(f.kind){case"keys":return o(g,!1);case"values":return o(v[g],!1)}return o([g,v[g]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&u&&h.name!=="values")try{n(h,"name",{value:"values"})}catch{}return wp}var pC={},gC={},Ep={exports:{}},Sp={},yC;function ca(){if(yC)return Sp;yC=1;var i=jF(),e=Kb(),t=e.concat("length","prototype");return Sp.f=Object.getOwnPropertyNames||function(n){return i(n,t)},Sp}var Op={},mC;function f1(){if(mC)return Op;mC=1;var i=Kt(),e=jt(),t=ca().f,r=Rn(),n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return t(o)}catch{return r(n)}};return Op.f=function(a){return n&&i(a)==="Window"?s(a):t(e(a))},Op}var Ip,bC;function JW(){if(bC)return Ip;bC=1;var i=oe();return Ip=i(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Ip}var $p,_C;function QW(){if(_C)return $p;_C=1;var i=oe(),e=Ve(),t=Kt(),r=JW(),n=Object.isExtensible,s=i(function(){});return $p=s||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:n?n(a):!0}:n,$p}var Tp,wC;function kN(){if(wC)return Tp;wC=1;var i=oe();return Tp=!i(function(){return Object.isExtensible(Object.preventExtensions({}))}),Tp}var EC;function ha(){if(EC)return Ep.exports;EC=1;var i=G(),e=ae(),t=Ws(),r=Ve(),n=Ze(),s=Tt().f,o=ca(),a=f1(),u=QW(),l=ta(),d=kN(),c=!1,h=l("meta"),f=0,v=function(m){s(m,h,{value:{objectID:"O"+f++,weakData:{}}})},g=function(m,S){if(!r(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!n(m,h)){if(!u(m))return"F";if(!S)return"E";v(m)}return m[h].objectID},_=function(m,S){if(!n(m,h)){if(!u(m))return!0;if(!S)return!1;v(m)}return m[h].weakData},y=function(m){return d&&c&&u(m)&&!n(m,h)&&v(m),m},p=function(){O.enable=function(){},c=!0;var m=o.f,S=e([].splice),$={};$[h]=1,m($).length&&(o.f=function(w){for(var b=m(w),E=0,I=b.length;E<I;E++)if(b[E]===h){S(b,E,1);break}return b},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},O=Ep.exports={enable:p,fastKey:g,getWeakData:_,onFreeze:y};return t[h]=!0,Ep.exports}var Pp,SC;function eH(){if(SC)return Pp;SC=1;var i=Be(),e=Dn(),t=i("iterator"),r=Array.prototype;return Pp=function(n){return n!==void 0&&(e.Array===n||r[t]===n)},Pp}var Rp,OC;function DN(){if(OC)return Rp;OC=1;var i=kn(),e=Hb(),t=wn(),r=Dn(),n=Be(),s=n("iterator");return Rp=function(o){if(!t(o))return e(o,s)||e(o,"@@iterator")||r[i(o)]},Rp}var Cp,IC;function tH(){if(IC)return Cp;IC=1;var i=vt(),e=vr(),t=Yt(),r=On(),n=DN(),s=TypeError;return Cp=function(o,a){var u=arguments.length<2?n(o):a;if(e(u))return t(i(u,o));throw new s(r(o)+" is not iterable")},Cp}var qp,$C;function v1(){if($C)return qp;$C=1;var i=vt(),e=Yt(),t=Hb();return qp=function(r,n,s){var o,a;e(r);try{if(o=t(r,"return"),!o){if(n==="throw")throw s;return s}o=i(o,r)}catch(u){a=!0,o=u}if(n==="throw")throw s;if(a)throw o;return e(o),s},qp}var xp,TC;function fa(){if(TC)return xp;TC=1;var i=ia(),e=vt(),t=Yt(),r=On(),n=eH(),s=pr(),o=Ne(),a=tH(),u=DN(),l=v1(),d=TypeError,c=function(f,v){this.stopped=f,this.result=v},h=c.prototype;return xp=function(f,v,g){var _=g&&g.that,y=!!(g&&g.AS_ENTRIES),p=!!(g&&g.IS_RECORD),O=!!(g&&g.IS_ITERATOR),m=!!(g&&g.INTERRUPTED),S=i(v,_),$,w,b,E,I,T,P,R=function(A){return $&&l($,"normal"),new c(!0,A)},q=function(A){return y?(t(A),m?S(A[0],A[1],R):S(A[0],A[1])):m?S(A,R):S(A)};if(p)$=f.iterator;else if(O)$=f;else{if(w=u(f),!w)throw new d(r(f)+" is not iterable");if(n(w)){for(b=0,E=s(f);E>b;b++)if(I=q(f[b]),I&&o(h,I))return I;return new c(!1)}$=a(f,w)}for(T=p?f.next:$.next;!(P=e(T,$)).done;){try{I=q(P.value)}catch(A){l($,"throw",A)}if(typeof I=="object"&&I&&o(h,I))return I}return new c(!1)},xp}var kp,PC;function p1(){if(PC)return kp;PC=1;var i=Ne(),e=TypeError;return kp=function(t,r){if(i(r,t))return t;throw new e("Incorrect invocation")},kp}var Dp,RC;function g1(){if(RC)return Dp;RC=1;var i=G(),e=Ee(),t=ha(),r=oe(),n=Tn(),s=fa(),o=p1(),a=Ge(),u=Ve(),l=wn(),d=Si(),c=Tt().f,h=Mr().forEach,f=Ce(),v=Ei(),g=v.set,_=v.getterFor;return Dp=function(y,p,O){var m=y.indexOf("Map")!==-1,S=y.indexOf("Weak")!==-1,$=m?"set":"add",w=e[y],b=w&&w.prototype,E={},I;if(!f||!a(w)||!(S||b.forEach&&!r(function(){new w().entries().next()})))I=O.getConstructor(p,y,m,$),t.enable();else{I=p(function(R,q){g(o(R,T),{type:y,collection:new w}),l(q)||s(q,R[$],{that:R,AS_ENTRIES:m})});var T=I.prototype,P=_(y);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var q=R==="add"||R==="set";R in b&&!(S&&R==="clear")&&n(T,R,function(A,Y){var L=P(this).collection;if(!q&&S&&!u(A))return R==="get"?void 0:!1;var Q=L[R](A===0?0:A,Y);return q?this:Q})}),S||c(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d(I,y,!1,!0),E[y]=I,i({global:!0,forced:!0},E),S||O.setStrong(I,y,m),I},Dp}var Ap,CC;function y1(){if(CC)return Ap;CC=1;var i=Tt();return Ap=function(e,t,r){return i.f(e,t,r)},Ap}var Mp,qC;function m1(){if(qC)return Mp;qC=1;var i=Js();return Mp=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:i(e,n,t[n],r);return e},Mp}var Fp,xC;function rH(){if(xC)return Fp;xC=1;var i=gt(),e=y1(),t=Be(),r=Ce(),n=t("species");return Fp=function(s){var o=i(s);r&&o&&!o[n]&&e(o,n,{configurable:!0,get:function(){return this}})},Fp}var Np,kC;function AN(){if(kC)return Np;kC=1;var i=Xs(),e=y1(),t=m1(),r=ia(),n=p1(),s=wn(),o=fa(),a=c1(),u=h1(),l=rH(),d=Ce(),c=ha().fastKey,h=Ei(),f=h.set,v=h.getterFor;return Np={getConstructor:function(g,_,y,p){var O=g(function(b,E){n(b,m),f(b,{type:_,index:i(null),first:null,last:null,size:0}),d||(b.size=0),s(E)||o(E,b[p],{that:b,AS_ENTRIES:y})}),m=O.prototype,S=v(_),$=function(b,E,I){var T=S(b),P=w(b,E),R,q;return P?P.value=I:(T.last=P={index:q=c(E,!0),key:E,value:I,previous:R=T.last,next:null,removed:!1},T.first||(T.first=P),R&&(R.next=P),d?T.size++:b.size++,q!=="F"&&(T.index[q]=P)),b},w=function(b,E){var I=S(b),T=c(E),P;if(T!=="F")return I.index[T];for(P=I.first;P;P=P.next)if(P.key===E)return P};return t(m,{clear:function(){for(var E=this,I=S(E),T=I.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;I.first=I.last=null,I.index=i(null),d?I.size=0:E.size=0},delete:function(b){var E=this,I=S(E),T=w(E,b);if(T){var P=T.next,R=T.previous;delete I.index[T.index],T.removed=!0,R&&(R.next=P),P&&(P.previous=R),I.first===T&&(I.first=P),I.last===T&&(I.last=R),d?I.size--:E.size--}return!!T},forEach:function(E){for(var I=S(this),T=r(E,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:I.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(E){return!!w(this,E)}}),t(m,y?{get:function(E){var I=w(this,E);return I&&I.value},set:function(E,I){return $(this,E===0?0:E,I)}}:{add:function(E){return $(this,E=E===0?0:E,E)}}),d&&e(m,"size",{configurable:!0,get:function(){return S(this).size}}),O},setStrong:function(g,_,y){var p=_+" Iterator",O=v(_),m=v(p);a(g,_,function(S,$){f(this,{type:p,target:S,state:O(S),kind:$,last:null})},function(){for(var S=m(this),$=S.kind,w=S.last;w&&w.removed;)w=w.previous;return!S.target||!(S.last=w=w?w.next:S.state.first)?(S.target=null,u(void 0,!0)):u($==="keys"?w.key:$==="values"?w.value:[w.key,w.value],!1)},y?"entries":"values",!y,!0),l(_)}},Np}var DC;function iH(){if(DC)return gC;DC=1;var i=g1(),e=AN();return i("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),gC}var AC;function nH(){return AC||(AC=1,iH()),pC}var MC={},Bp,FC;function MN(){return FC||(FC=1,Bp=function(i,e){return e===1?function(t,r){return t[i](r)}:function(t,r,n){return t[i](r,n)}}),Bp}var jp,NC;function sH(){if(NC)return jp;NC=1;var i=gt(),e=MN(),t=i("Map");return jp={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},jp}var BC;function oH(){if(BC)return MC;BC=1;var i=G(),e=ae(),t=vr(),r=fr(),n=fa(),s=sH(),o=In(),a=oe(),u=s.Map,l=s.has,d=s.get,c=s.set,h=e([].push),f=o||a(function(){return u.groupBy("ab",function(v){return v}).get("a").length!==1});return i({target:"Map",stat:!0,forced:o||f},{groupBy:function(g,_){r(g),t(_);var y=new u,p=0;return n(g,function(O){var m=_(O,p++);l(y,m)?h(d(y,m),O):c(y,m,[O])}),y}}),MC}var jC={},Lp,LC;function aH(){if(LC)return Lp;LC=1;var i=ae(),e=Pn(),t=Rt(),r=fr(),n=i("".charAt),s=i("".charCodeAt),o=i("".slice),a=function(u){return function(l,d){var c=t(r(l)),h=e(d),f=c.length,v,g;return h<0||h>=f?u?"":void 0:(v=s(c,h),v<55296||v>56319||h+1===f||(g=s(c,h+1))<56320||g>57343?u?n(c,h):v:u?o(c,h,h+2):(v-55296<<10)+(g-56320)+65536)}};return Lp={codeAt:a(!1),charAt:a(!0)},Lp}var zC;function b1(){if(zC)return jC;zC=1;var i=aH().charAt,e=Rt(),t=Ei(),r=c1(),n=h1(),s="String Iterator",o=t.set,a=t.getterFor(s);return r(String,"String",function(u){o(this,{type:s,string:e(u),index:0})},function(){var l=a(this),d=l.string,c=l.index,h;return c>=d.length?n(void 0,!0):(h=i(d,c),l.index+=h.length,n(h,!1))}),jC}var zp,WC;function uH(){if(WC)return zp;WC=1,An(),nH(),oH(),b1();var i=fe();return zp=i.Map,zp}var HC={},Wp,GC;function lH(){return GC||(GC=1,Wp={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Wp}var VC;function Mn(){if(VC)return HC;VC=1,An();var i=lH(),e=Ee(),t=Si(),r=Dn();for(var n in i)t(e[n],n),r[n]=r.Array;return HC}var Hp,UC;function dH(){if(UC)return Hp;UC=1;var i=uH();return Mn(),Hp=i,Hp}var Gp,KC;function cH(){return KC||(KC=1,Gp=dH()),Gp}var hH=cH(),_1=X(hH);class fH{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Ye(this.options,this.defaultOptions)}setOptions(e){const t=["useDefaultGroups"];if(e!==void 0){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Oe(t).call(t,r)===-1){const n=e[r];this.add(r,n)}}}clear(){this._groups=new _1,this._groupNames=[]}get(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this._groups.get(e);if(r===void 0&&t)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const n=this._groupIndex%this._groupNames.length;++this._groupIndex,r={},r.color=this._groups.get(this._groupNames[n]),this._groups.set(e,r)}else{const n=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,r={},r.color=this._defaultGroups[n],this._groups.set(e,r)}return r}add(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}var YC={},XC;function vH(){if(XC)return YC;XC=1;var i=G();return i({target:"Number",stat:!0},{isNaN:function(t){return t!==t}}),YC}var Vp,ZC;function pH(){if(ZC)return Vp;ZC=1,vH();var i=fe();return Vp=i.Number.isNaN,Vp}var Up,JC;function gH(){if(JC)return Up;JC=1;var i=pH();return Up=i,Up}var Kp,QC;function yH(){return QC||(QC=1,Kp=gH()),Kp}var mH=yH(),ob=X(mH),eq={},Yp,tq;function bH(){if(tq)return Yp;tq=1;var i=Ee(),e=i.isFinite;return Yp=Number.isFinite||function(r){return typeof r=="number"&&e(r)},Yp}var rq;function _H(){if(rq)return eq;rq=1;var i=G(),e=bH();return i({target:"Number",stat:!0},{isFinite:e}),eq}var Xp,iq;function wH(){if(iq)return Xp;iq=1,_H();var i=fe();return Xp=i.Number.isFinite,Xp}var Zp,nq;function EH(){if(nq)return Zp;nq=1;var i=wH();return Zp=i,Zp}var Jp,sq;function SH(){return sq||(sq=1,Jp=EH()),Jp}var OH=SH(),Jr=X(OH),oq={},aq;function IH(){if(aq)return oq;aq=1;var i=G(),e=$t(),t=Hs(),r=oe(),n=r(function(){t(1)});return i({target:"Object",stat:!0,forced:n},{keys:function(o){return t(e(o))}}),oq}var Qp,uq;function $H(){if(uq)return Qp;uq=1,IH();var i=fe();return Qp=i.Object.keys,Qp}var eg,lq;function TH(){if(lq)return eg;lq=1;var i=$H();return eg=i,eg}var tg,dq;function PH(){return dq||(dq=1,tg=TH()),tg}var RH=PH(),ke=X(RH),cq={},hq;function CH(){if(hq)return cq;hq=1;var i=G(),e=Mr().some,t=xn(),r=t("some");return i({target:"Array",proto:!0,forced:!r},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),cq}var rg,fq;function qH(){if(fq)return rg;fq=1,CH();var i=Je();return rg=i("Array","some"),rg}var ig,vq;function xH(){if(vq)return ig;vq=1;var i=Ne(),e=qH(),t=Array.prototype;return ig=function(r){var n=r.some;return r===t||i(t,r)&&n===t.some?e:n},ig}var ng,pq;function kH(){if(pq)return ng;pq=1;var i=xH();return ng=i,ng}var sg,gq;function DH(){return gq||(gq=1,sg=kH()),sg}var AH=DH(),MH=X(AH),yq={},mq={},og,bq;function FN(){if(bq)return og;bq=1;var i=Ee(),e=En(),t=Kt(),r=function(n){return e.slice(0,n.length)===n};return og=function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":i.Bun&&typeof Bun.version=="string"?"BUN":i.Deno&&typeof Deno.version=="object"?"DENO":t(i.process)==="process"?"NODE":i.window&&i.document?"BROWSER":"REST"}(),og}var ag,_q;function FH(){if(_q)return ag;_q=1;var i=TypeError;return ag=function(e,t){if(e<t)throw new i("Not enough arguments");return e},ag}var ug,wq;function NN(){if(wq)return ug;wq=1;var i=Ee(),e=Jo(),t=Ge(),r=FN(),n=En(),s=Rn(),o=FH(),a=i.Function,u=/MSIE .\./.test(n)||r==="BUN"&&function(){var l=i.Bun.version.split(".");return l.length<3||l[0]==="0"&&(l[1]<3||l[1]==="3"&&l[2]==="0")}();return ug=function(l,d){var c=d?2:1;return u?function(h,f){var v=o(arguments.length,1)>c,g=t(h)?h:a(h),_=v?s(arguments,c):[],y=v?function(){e(g,this,_)}:g;return d?l(y,f):l(y)}:l},ug}var Eq;function NH(){if(Eq)return mq;Eq=1;var i=G(),e=Ee(),t=NN(),r=t(e.setInterval,!0);return i({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),mq}var Sq={},Oq;function BH(){if(Oq)return Sq;Oq=1;var i=G(),e=Ee(),t=NN(),r=t(e.setTimeout,!0);return i({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),Sq}var Iq;function BN(){return Iq||(Iq=1,NH(),BH()),yq}var lg,$q;function jH(){if($q)return lg;$q=1,BN();var i=fe();return lg=i.setTimeout,lg}var dg,Tq;function LH(){return Tq||(Tq=1,dg=jH()),dg}var zH=LH(),Gi=X(zH),cg={exports:{}},Pq={},Rq;function WH(){if(Rq)return Pq;Rq=1;var i=G(),e=Ce(),t=Tt().f;return i({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),Pq}var Cq;function HH(){if(Cq)return cg.exports;Cq=1,WH();var i=fe(),e=i.Object,t=cg.exports=function(n,s,o){return e.defineProperty(n,s,o)};return e.defineProperty.sham&&(t.sham=!0),cg.exports}var hg,qq;function jN(){if(qq)return hg;qq=1;var i=HH();return hg=i,hg}var fg,xq;function GH(){if(xq)return fg;xq=1;var i=jN();return fg=i,fg}var vg,kq;function VH(){if(kq)return vg;kq=1;var i=GH();return vg=i,vg}var pg,Dq;function UH(){return Dq||(Dq=1,pg=VH()),pg}var KH=UH(),YH=X(KH),Aq={},Mq={},gg={},Fq;function va(){if(Fq)return gg;Fq=1;var i=Be();return gg.f=i,gg}var yg,Nq;function $e(){if(Nq)return yg;Nq=1;var i=fe(),e=Ze(),t=va(),r=Tt().f;return yg=function(n){var s=i.Symbol||(i.Symbol={});e(s,n)||r(s,n,{value:t.f(n)})},yg}var mg,Bq;function LN(){if(Bq)return mg;Bq=1;var i=vt(),e=gt(),t=Be(),r=Js();return mg=function(){var n=e("Symbol"),s=n&&n.prototype,o=s&&s.valueOf,a=t("toPrimitive");s&&!s[a]&&r(s,a,function(u){return i(o,this)},{arity:1})},mg}var jq;function XH(){if(jq)return Mq;jq=1;var i=G(),e=Ee(),t=vt(),r=ae(),n=In(),s=Ce(),o=Sn(),a=oe(),u=Ze(),l=Ne(),d=Yt(),c=jt(),h=Vb(),f=Rt(),v=js(),g=Xs(),_=Hs(),y=ca(),p=f1(),O=sa(),m=ra(),S=Tt(),$=s1(),w=Qo(),b=Js(),E=y1(),I=$n(),T=la(),P=Ws(),R=ta(),q=Be(),A=va(),Y=$e(),L=LN(),Q=Si(),re=Ei(),he=Mr().forEach,H=T("hidden"),le="Symbol",ve="prototype",Se=re.set,Ct=re.getterFor(le),be=Object[ve],tt=e.Symbol,qt=tt&&tt[ve],ma=e.RangeError,ba=e.TypeError,Br=e.QObject,Fn=m.f,rt=S.f,Nn=p.f,_a=w.f,Bn=r([].push),je=I("symbols"),xt=I("op-symbols"),wa=I("wks"),jr=!Br||!Br[ve]||!Br[ve].findChild,jn=function(V,N,B){var j=Fn(be,N);j&&delete be[N],rt(V,N,B),j&&V!==be&&rt(be,N,j)},Lr=s&&a(function(){return g(rt({},"a",{get:function(){return rt(this,"a",{value:7}).a}})).a!==7})?jn:rt,zr=function(V,N){var B=je[V]=g(qt);return Se(B,{type:le,tag:V,description:N}),s||(B.description=N),B},Xt=function(N,B,j){N===be&&Xt(xt,B,j),d(N);var U=h(B);return d(j),u(je,U)?(j.enumerable?(u(N,H)&&N[H][U]&&(N[H][U]=!1),j=g(j,{enumerable:v(0,!1)})):(u(N,H)||rt(N,H,v(1,g(null))),N[H][U]=!0),Lr(N,U,j)):rt(N,U,j)},Wr=function(N,B){d(N);var j=c(B),U=_(j).concat(Wn(j));return he(U,function(de){(!s||t(Hr,j,de))&&Xt(N,de,j[de])}),N},Ea=function(N,B){return B===void 0?g(N):Wr(g(N),B)},Hr=function(N){var B=h(N),j=t(_a,this,B);return this===be&&u(je,B)&&!u(xt,B)?!1:j||!u(this,B)||!u(je,B)||u(this,H)&&this[H][B]?j:!0},Ln=function(N,B){var j=c(N),U=h(B);if(!(j===be&&u(je,U)&&!u(xt,U))){var de=Fn(j,U);return de&&u(je,U)&&!(u(j,H)&&j[H][U])&&(de.enumerable=!0),de}},zn=function(N){var B=Nn(c(N)),j=[];return he(B,function(U){!u(je,U)&&!u(P,U)&&Bn(j,U)}),j},Wn=function(V){var N=V===be,B=Nn(N?xt:c(V)),j=[];return he(B,function(U){u(je,U)&&(!N||u(be,U))&&Bn(j,je[U])}),j};return o||(tt=function(){if(l(qt,this))throw new ba("Symbol is not a constructor");var N=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),B=R(N),j=function(U){var de=this===void 0?e:this;de===be&&t(j,xt,U),u(de,H)&&u(de[H],B)&&(de[H][B]=!1);var Hn=v(1,U);try{Lr(de,B,Hn)}catch(Gn){if(!(Gn instanceof ma))throw Gn;jn(de,B,Hn)}};return s&&jr&&Lr(be,B,{configurable:!0,set:j}),zr(B,N)},qt=tt[ve],b(qt,"toString",function(){return Ct(this).tag}),b(tt,"withoutSetter",function(V){return zr(R(V),V)}),w.f=Hr,S.f=Xt,$.f=Wr,m.f=Ln,y.f=p.f=zn,O.f=Wn,A.f=function(V){return zr(q(V),V)},s&&(E(qt,"description",{configurable:!0,get:function(){return Ct(this).description}}),n||b(be,"propertyIsEnumerable",Hr,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:tt}),he(_(wa),function(V){Y(V)}),i({target:le,stat:!0,forced:!o},{useSetter:function(){jr=!0},useSimple:function(){jr=!1}}),i({target:"Object",stat:!0,forced:!o,sham:!s},{create:Ea,defineProperty:Xt,defineProperties:Wr,getOwnPropertyDescriptor:Ln}),i({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:zn}),L(),Q(tt,le),P[H]=!0,Mq}var Lq={},bg,zq;function zN(){if(zq)return bg;zq=1;var i=Sn();return bg=i&&!!Symbol.for&&!!Symbol.keyFor,bg}var Wq;function ZH(){if(Wq)return Lq;Wq=1;var i=G(),e=gt(),t=Ze(),r=Rt(),n=$n(),s=zN(),o=n("string-to-symbol-registry"),a=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{for:function(u){var l=r(u);if(t(o,l))return o[l];var d=e("Symbol")(l);return o[l]=d,a[d]=l,d}}),Lq}var Hq={},Gq;function JH(){if(Gq)return Hq;Gq=1;var i=G(),e=Ze(),t=zs(),r=On(),n=$n(),s=zN(),o=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!t(u))throw new TypeError(r(u)+" is not a symbol");if(e(o,u))return o[u]}}),Hq}var Vq={},_g,Uq;function QH(){if(Uq)return _g;Uq=1;var i=ae(),e=wi(),t=Ge(),r=Kt(),n=Rt(),s=i([].push);return _g=function(o){if(t(o))return o;if(e(o)){for(var a=o.length,u=[],l=0;l<a;l++){var d=o[l];typeof d=="string"?s(u,d):(typeof d=="number"||r(d)==="Number"||r(d)==="String")&&s(u,n(d))}var c=u.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var g=0;g<c;g++)if(u[g]===f)return v}}},_g}var Kq;function WN(){if(Kq)return Vq;Kq=1;var i=G(),e=gt(),t=Jo(),r=vt(),n=ae(),s=oe(),o=Ge(),a=zs(),u=Rn(),l=QH(),d=Sn(),c=String,h=e("JSON","stringify"),f=n(/./.exec),v=n("".charAt),g=n("".charCodeAt),_=n("".replace),y=n(1.1.toString),p=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,S=!d||s(function(){var E=e("Symbol")("stringify detection");return h([E])!=="[null]"||h({a:E})!=="{}"||h(Object(E))!=="{}"}),$=s(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),w=function(E,I){var T=u(arguments),P=l(I);if(!(!o(P)&&(E===void 0||a(E))))return T[1]=function(R,q){if(o(P)&&(q=r(P,this,c(R),q)),!a(q))return q},t(h,null,T)},b=function(E,I,T){var P=v(T,I-1),R=v(T,I+1);return f(O,E)&&!f(m,R)||f(m,E)&&!f(O,P)?"\\u"+y(g(E,0),16):E};return h&&i({target:"JSON",stat:!0,arity:3,forced:S||$},{stringify:function(I,T,P){var R=u(arguments),q=t(S?w:h,null,R);return $&&typeof q=="string"?_(q,p,b):q}}),Vq}var Yq={},Xq;function eG(){if(Xq)return Yq;Xq=1;var i=G(),e=Sn(),t=oe(),r=sa(),n=$t(),s=!e||t(function(){r.f(1)});return i({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var u=r.f;return u?u(n(a)):[]}}),Yq}var Zq;function HN(){return Zq||(Zq=1,XH(),ZH(),JH(),WN(),eG()),Aq}var Jq={},Qq;function GN(){if(Qq)return Jq;Qq=1;var i=$e();return i("asyncDispose"),Jq}var ex={},tx;function tG(){if(tx)return ex;tx=1;var i=$e();return i("asyncIterator"),ex}var rx={},ix;function VN(){if(ix)return rx;ix=1;var i=$e();return i("dispose"),rx}var nx={},sx;function rG(){if(sx)return nx;sx=1;var i=$e();return i("hasInstance"),nx}var ox={},ax;function iG(){if(ax)return ox;ax=1;var i=$e();return i("isConcatSpreadable"),ox}var ux={},lx;function UN(){if(lx)return ux;lx=1;var i=$e();return i("iterator"),ux}var dx={},cx;function nG(){if(cx)return dx;cx=1;var i=$e();return i("match"),dx}var hx={},fx;function sG(){if(fx)return hx;fx=1;var i=$e();return i("matchAll"),hx}var vx={},px;function oG(){if(px)return vx;px=1;var i=$e();return i("replace"),vx}var gx={},yx;function aG(){if(yx)return gx;yx=1;var i=$e();return i("search"),gx}var mx={},bx;function uG(){if(bx)return mx;bx=1;var i=$e();return i("species"),mx}var _x={},wx;function lG(){if(wx)return _x;wx=1;var i=$e();return i("split"),_x}var Ex={},Sx;function KN(){if(Sx)return Ex;Sx=1;var i=$e(),e=LN();return i("toPrimitive"),e(),Ex}var Ox={},Ix;function dG(){if(Ix)return Ox;Ix=1;var i=gt(),e=$e(),t=Si();return e("toStringTag"),t(i("Symbol"),"Symbol"),Ox}var $x={},Tx;function cG(){if(Tx)return $x;Tx=1;var i=$e();return i("unscopables"),$x}var Px={},Rx;function hG(){if(Rx)return Px;Rx=1;var i=Ee(),e=Si();return e(i.JSON,"JSON",!0),Px}var wg,Cx;function fG(){if(Cx)return wg;Cx=1,CN(),HN(),GN(),tG(),VN(),rG(),iG(),UN(),nG(),sG(),oG(),aG(),uG(),lG(),KN(),dG(),cG(),hG();var i=fe();return wg=i.Symbol,wg}var Eg,qx;function vG(){if(qx)return Eg;qx=1;var i=fG();return Mn(),Eg=i,Eg}var xx={},kx;function pG(){if(kx)return xx;kx=1;var i=Be(),e=Tt().f,t=i("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),xx}var Dx={},Ax;function gG(){return Ax||(Ax=1,GN()),Dx}var Mx={},Fx;function yG(){return Fx||(Fx=1,VN()),Mx}var Nx={},Bx;function mG(){if(Bx)return Nx;Bx=1;var i=$e();return i("metadata"),Nx}var Sg,jx;function bG(){if(jx)return Sg;jx=1;var i=vG();return pG(),gG(),yG(),mG(),Sg=i,Sg}var Lx={},Og,zx;function YN(){if(zx)return Og;zx=1;var i=gt(),e=ae(),t=i("Symbol"),r=t.keyFor,n=e(t.prototype.valueOf);return Og=t.isRegisteredSymbol||function(o){try{return r(n(o))!==void 0}catch{return!1}},Og}var Wx;function _G(){if(Wx)return Lx;Wx=1;var i=G(),e=YN();return i({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Lx}var Hx={},Ig,Gx;function XN(){if(Gx)return Ig;Gx=1;for(var i=$n(),e=gt(),t=ae(),r=zs(),n=Be(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),u=t(s.prototype.valueOf),l=i("wks"),d=0,c=a(s),h=c.length;d<h;d++)try{var f=c[d];r(s[f])&&n(f)}catch{}return Ig=function(g){if(o&&o(g))return!0;try{for(var _=u(g),y=0,p=a(l),O=p.length;y<O;y++)if(l[p[y]]==_)return!0}catch{}return!1},Ig}var Vx;function wG(){if(Vx)return Hx;Vx=1;var i=G(),e=XN();return i({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Hx}var Ux={},Kx;function EG(){if(Kx)return Ux;Kx=1;var i=$e();return i("customMatcher"),Ux}var Yx={},Xx;function SG(){if(Xx)return Yx;Xx=1;var i=$e();return i("observable"),Yx}var Zx={},Jx;function OG(){if(Jx)return Zx;Jx=1;var i=G(),e=YN();return i({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Zx}var Qx={},e2;function IG(){if(e2)return Qx;e2=1;var i=G(),e=XN();return i({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Qx}var t2={},r2;function $G(){if(r2)return t2;r2=1;var i=$e();return i("matcher"),t2}var i2={},n2;function TG(){if(n2)return i2;n2=1;var i=$e();return i("metadataKey"),i2}var s2={},o2;function PG(){if(o2)return s2;o2=1;var i=$e();return i("patternMatch"),s2}var a2={},u2;function RG(){if(u2)return a2;u2=1;var i=$e();return i("replaceAll"),a2}var $g,l2;function CG(){if(l2)return $g;l2=1;var i=bG();return _G(),wG(),EG(),SG(),OG(),IG(),$G(),TG(),PG(),RG(),$g=i,$g}var Tg,d2;function qG(){return d2||(d2=1,Tg=CG()),Tg}var xG=qG(),vo=X(xG),Pg,c2;function kG(){if(c2)return Pg;c2=1,An(),b1(),UN();var i=va();return Pg=i.f("iterator"),Pg}var Rg,h2;function DG(){if(h2)return Rg;h2=1;var i=kG();return Mn(),Rg=i,Rg}var Cg,f2;function AG(){if(f2)return Cg;f2=1;var i=DG();return Cg=i,Cg}var qg,v2;function MG(){if(v2)return qg;v2=1;var i=AG();return qg=i,qg}var xg,p2;function FG(){return p2||(p2=1,xg=MG()),xg}var NG=FG(),BG=X(NG);function _s(i){"@babel/helpers - typeof";return _s=typeof vo=="function"&&typeof BG=="symbol"?function(e){return typeof e}:function(e){return e&&typeof vo=="function"&&e.constructor===vo&&e!==vo.prototype?"symbol":typeof e},_s(i)}var kg,g2;function jG(){if(g2)return kg;g2=1,KN();var i=va();return kg=i.f("toPrimitive"),kg}var Dg,y2;function LG(){if(y2)return Dg;y2=1;var i=jG();return Dg=i,Dg}var Ag,m2;function zG(){if(m2)return Ag;m2=1;var i=LG();return Ag=i,Ag}var Mg,b2;function WG(){if(b2)return Mg;b2=1;var i=zG();return Mg=i,Mg}var Fg,_2;function HG(){return _2||(_2=1,Fg=WG()),Fg}var GG=HG(),VG=X(GG);function UG(i,e){if(_s(i)!="object"||!i)return i;var t=i[VG];if(t!==void 0){var r=t.call(i,e);if(_s(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function KG(i){var e=UG(i,"string");return _s(e)=="symbol"?e:e+""}function tr(i,e,t){return(e=KG(e))in i?YH(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var w2={},Ng,E2;function w1(){return E2||(E2=1,Ng=`	
\v\f\r Â áââââââââââââ¯âã\u2028\u2029\uFEFF`),Ng}var Bg,S2;function ZN(){if(S2)return Bg;S2=1;var i=ae(),e=fr(),t=Rt(),r=w1(),n=i("".replace),s=RegExp("^["+r+"]+"),o=RegExp("(^|[^"+r+"])["+r+"]+$"),a=function(u){return function(l){var d=t(e(l));return u&1&&(d=n(d,s,"")),u&2&&(d=n(d,o,"$1")),d}};return Bg={start:a(1),end:a(2),trim:a(3)},Bg}var jg,O2;function YG(){if(O2)return jg;O2=1;var i=Ee(),e=oe(),t=ae(),r=Rt(),n=ZN().trim,s=w1(),o=i.parseInt,a=i.Symbol,u=a&&a.iterator,l=/^[+-]?0x/i,d=t(l.exec),c=o(s+"08")!==8||o(s+"0x16")!==22||u&&!e(function(){o(Object(u))});return jg=c?function(f,v){var g=n(r(f));return o(g,v>>>0||(d(l,g)?16:10))}:o,jg}var I2;function XG(){if(I2)return w2;I2=1;var i=G(),e=YG();return i({global:!0,forced:parseInt!==e},{parseInt:e}),w2}var Lg,$2;function ZG(){if($2)return Lg;$2=1,XG();var i=fe();return Lg=i.parseInt,Lg}var zg,T2;function JG(){if(T2)return zg;T2=1;var i=ZG();return zg=i,zg}var Wg,P2;function QG(){return P2||(P2=1,Wg=JG()),Wg}var eV=QG(),R2=X(eV),C2={},Hg,q2;function tV(){if(q2)return Hg;q2=1;var i=Ee(),e=oe(),t=ae(),r=Rt(),n=ZN().trim,s=w1(),o=t("".charAt),a=i.parseFloat,u=i.Symbol,l=u&&u.iterator,d=1/a(s+"-0")!==-1/0||l&&!e(function(){a(Object(l))});return Hg=d?function(h){var f=n(r(h)),v=a(f);return v===0&&o(f,0)==="-"?-0:v}:a,Hg}var x2;function rV(){if(x2)return C2;x2=1;var i=G(),e=tV();return i({global:!0,forced:parseFloat!==e},{parseFloat:e}),C2}var Gg,k2;function iV(){if(k2)return Gg;k2=1,rV();var i=fe();return Gg=i.parseFloat,Gg}var Vg,D2;function nV(){if(D2)return Vg;D2=1;var i=iV();return Vg=i,Vg}var Ug,A2;function sV(){return A2||(A2=1,Ug=nV()),Ug}var oV=sV(),JN=X(oV),M2={},F2;function aV(){if(F2)return M2;F2=1;var i=G(),e=Mr().filter,t=Zs(),r=t("filter");return i({target:"Array",proto:!0,forced:!r},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),M2}var Kg,N2;function uV(){if(N2)return Kg;N2=1,aV();var i=Je();return Kg=i("Array","filter"),Kg}var Yg,B2;function lV(){if(B2)return Yg;B2=1;var i=Ne(),e=uV(),t=Array.prototype;return Yg=function(r){var n=r.filter;return r===t||i(t,r)&&n===t.filter?e:n},Yg}var Xg,j2;function dV(){if(j2)return Xg;j2=1;var i=lV();return Xg=i,Xg}var Zg,L2;function cV(){return L2||(L2=1,Zg=dV()),Zg}var hV=cV(),gr=X(hV),z2={},W2;function fV(){if(W2)return z2;W2=1;var i=G(),e=oe(),t=f1().f,r=e(function(){return!Object.getOwnPropertyNames(1)});return i({target:"Object",stat:!0,forced:r},{getOwnPropertyNames:t}),z2}var Jg,H2;function vV(){if(H2)return Jg;H2=1,fV();var i=fe(),e=i.Object;return Jg=function(r){return e.getOwnPropertyNames(r)},Jg}var Qg,G2;function pV(){if(G2)return Qg;G2=1;var i=vV();return Qg=i,Qg}var ey,V2;function gV(){return V2||(V2=1,ey=pV()),ey}var yV=gV(),mV=X(yV),ty,U2;function bV(){if(U2)return ty;U2=1,HN();var i=fe();return ty=i.Object.getOwnPropertySymbols,ty}var ry,K2;function _V(){if(K2)return ry;K2=1;var i=bV();return ry=i,ry}var iy,Y2;function wV(){return Y2||(Y2=1,iy=_V()),iy}var EV=wV(),Pr=X(EV),ny={exports:{}},X2={},Z2;function SV(){if(Z2)return X2;Z2=1;var i=G(),e=oe(),t=jt(),r=ra().f,n=Ce(),s=!n||e(function(){r(1)});return i({target:"Object",stat:!0,forced:s,sham:!n},{getOwnPropertyDescriptor:function(a,u){return r(t(a),u)}}),X2}var J2;function OV(){if(J2)return ny.exports;J2=1,SV();var i=fe(),e=i.Object,t=ny.exports=function(n,s){return e.getOwnPropertyDescriptor(n,s)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),ny.exports}var sy,Q2;function IV(){if(Q2)return sy;Q2=1;var i=OV();return sy=i,sy}var oy,ek;function $V(){return ek||(ek=1,oy=IV()),oy}var TV=$V(),Fr=X(TV),tk={},ay,rk;function PV(){if(rk)return ay;rk=1;var i=gt(),e=ae(),t=ca(),r=sa(),n=Yt(),s=e([].concat);return ay=i("Reflect","ownKeys")||function(a){var u=t.f(n(a)),l=r.f;return l?s(u,l(a)):u},ay}var ik;function RV(){if(ik)return tk;ik=1;var i=G(),e=Ce(),t=PV(),r=jt(),n=ra(),s=da();return i({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var u=r(a),l=n.f,d=t(u),c={},h=0,f,v;d.length>h;)v=l(u,f=d[h++]),v!==void 0&&s(c,f,v);return c}}),tk}var uy,nk;function CV(){if(nk)return uy;nk=1,RV();var i=fe();return uy=i.Object.getOwnPropertyDescriptors,uy}var ly,sk;function qV(){if(sk)return ly;sk=1;var i=CV();return ly=i,ly}var dy,ok;function xV(){return ok||(ok=1,dy=qV()),dy}var kV=xV(),Rr=X(kV),cy={exports:{}},ak={},uk;function DV(){if(uk)return ak;uk=1;var i=G(),e=Ce(),t=s1().f;return i({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),ak}var lk;function AV(){if(lk)return cy.exports;lk=1,DV();var i=fe(),e=i.Object,t=cy.exports=function(n,s){return e.defineProperties(n,s)};return e.defineProperties.sham&&(t.sham=!0),cy.exports}var hy,dk;function MV(){if(dk)return hy;dk=1;var i=AV();return hy=i,hy}var fy,ck;function FV(){return ck||(ck=1,fy=MV()),fy}var NV=FV(),pa=X(NV),vy,hk;function BV(){return hk||(hk=1,vy=jN()),vy}var jV=BV(),ga=X(jV);function E1(i,e){const t=["node","edge","label"];let r=!0;const n=mr(e,"chosen");if(typeof n=="boolean")r=n;else if(typeof n=="object"){if(Oe(t).call(t,i)===-1)throw new Error("choosify: subOption '"+i+"' should be one of '"+t.join("', '")+"'");const s=mr(e,["chosen",i]);(typeof s=="boolean"||typeof s=="function")&&(r=s)}return r}function ab(i,e,t){if(i.width<=0||i.height<=0)return!1;if(t!==void 0){const s={x:e.x-t.x,y:e.y-t.y};if(t.angle!==0){const o=-t.angle;e={x:Math.cos(o)*s.x-Math.sin(o)*s.y,y:Math.sin(o)*s.x+Math.cos(o)*s.y}}else e=s}const r=i.x+i.width,n=i.y+i.width;return i.left<e.x&&r>e.x&&i.top<e.y&&n>e.y}function ko(i){return typeof i=="string"&&i!==""}function QN(i,e,t,r){let n=r.x,s=r.y;if(typeof r.distanceToBorder=="function"){const o=r.distanceToBorder(i,e),a=Math.sin(e)*o,u=Math.cos(e)*o;u===o?(n+=o,s=r.y):a===o?(n=r.x,s-=o):(n+=u,s-=a)}else r.shape.width>r.shape.height?(n=r.x+r.shape.width*.5,s=r.y-t):(n=r.x+t,s=r.y-r.shape.height*.5);return{x:n,y:s}}var fk={},vk;function LV(){if(vk)return fk;vk=1;var i=G(),e=wi(),t=wN(),r=Ve(),n=na(),s=pr(),o=jt(),a=da(),u=Be(),l=Zs(),d=Rn(),c=l("slice"),h=u("species"),f=Array,v=Math.max;return i({target:"Array",proto:!0,forced:!c},{slice:function(_,y){var p=o(this),O=s(p),m=n(_,O),S=n(y===void 0?O:y,O),$,w,b;if(e(p)&&($=p.constructor,t($)&&($===f||e($.prototype))?$=void 0:r($)&&($=$[h],$===null&&($=void 0)),$===f||$===void 0))return d(p,m,S);for(w=new($===void 0?f:$)(v(S-m,0)),b=0;m<S;m++,b++)m in p&&a(w,b,p[m]);return w.length=b,w}}),fk}var py,pk;function zV(){if(pk)return py;pk=1,LV();var i=Je();return py=i("Array","slice"),py}var gy,gk;function WV(){if(gk)return gy;gk=1;var i=Ne(),e=zV(),t=Array.prototype;return gy=function(r){var n=r.slice;return r===t||i(t,r)&&n===t.slice?e:n},gy}var yy,yk;function HV(){if(yk)return yy;yk=1;var i=WV();return yy=i,yy}var my,mk;function GV(){return mk||(mk=1,my=HV()),my}var VV=GV(),Mi=X(VV),by,bk;function UV(){if(bk)return by;bk=1,An();var i=Je();return by=i("Array","values"),by}var _y,_k;function KV(){if(_k)return _y;_k=1;var i=UV();return _y=i,_y}var wy,wk;function YV(){if(wk)return wy;wk=1,Mn();var i=kn(),e=Ze(),t=Ne(),r=KV(),n=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return wy=function(o){var a=o.values;return o===n||t(n,o)&&a===n.values||e(s,i(o))?r:a},wy}var Ey,Ek;function XV(){return Ek||(Ek=1,Ey=YV()),Ey}var ZV=XV(),e5=X(ZV);class JV{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let n=t;(t===void 0||t==="")&&(n=" ");const s=this.measureText(n,r),o=Ye({},e5(s));o.text=t,o.width=s.width,o.mod=r,(t===void 0||t==="")&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t)}newLine(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const t=this.lines[e];let r=0;if(t.blocks!==void 0)for(let n=0;n<t.blocks.length;n++){const s=t.blocks[n];r<s.height&&(r=s.height)}t.height=r}}determineLabelSize(){let e=0,t=0;for(let r=0;r<this.lines.length;r++){const n=this.lines[r];n.width>e&&(e=n.width),t+=n.height}this.width=e,this.height=t}removeEmptyBlocks(){const e=[];for(let t=0;t<this.lines.length;t++){const r=this.lines[t];if(r.blocks.length===0||t===this.lines.length-1&&r.width===0)continue;const n={};Ye(n,r),n.blocks=[];let s;const o=[];for(let a=0;a<r.blocks.length;a++){const u=r.blocks[a];u.width!==0?o.push(u):s===void 0&&(s=u)}o.length===0&&s!==void 0&&o.push(s),n.blocks=o,e.push(n)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const QV={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class Sk{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,t){return!this.mono&&!this[e]&&this.match(t)?(this.setTag(e),!0):!1}match(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[r,n]=this.prepareRegExp(e),s=r.test(this.text.substr(this.position,n));return s&&t&&(this.position+=n-1),s}parseEndTag(e,t,r){let n=this.mod()===e;return e==="mono"?n=n&&this.mono:n=n&&!this.mono,n&&this.match(t)?(r!==void 0?(this.position===this.text.length-1||this.match(r,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,t){return this.match(e)?(this.add(t),this.position+=length-1,!0):!1}prepareRegExp(e){let t,r;if(e instanceof RegExp)r=e,t=1;else{const n=QV[e];n!==void 0?r=n:r=new RegExp(e),t=e.length}return[r,t]}}class eU{constructor(e,t,r,n){this.ctx=e,this.parent=t,this.selected=r,this.hover=n;const s=(o,a)=>{if(o===void 0)return 0;const u=this.parent.getFormattingValues(e,r,n,a);let l=0;return o!==""&&(l=this.ctx.measureText(o).width),{width:l,values:u}};this.lines=new JV(s)}process(e){if(!ko(e))return this.lines.finalize();const t=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const r=String(e).split(`
`),n=r.length;if(t.multi)for(let s=0;s<n;s++){const o=this.splitBlocks(r[s],t.multi);if(o!==void 0){if(o.length===0){this.lines.newLine("");continue}if(t.maxWdt>0)for(let a=0;a<o.length;a++){const u=o[a].mod,l=o[a].text;this.splitStringIntoLines(l,u,!0)}else for(let a=0;a<o.length;a++){const u=o[a].mod,l=o[a].text;this.lines.append(l,u)}this.lines.newLine()}}else if(t.maxWdt>0)for(let s=0;s<n;s++)this.splitStringIntoLines(r[s]);else for(let s=0;s<n;s++)this.lines.newLine(r[s]);return this.lines.finalize()}decodeMarkupSystem(e){let t="none";return e==="markdown"||e==="md"?t="markdown":(e===!0||e==="html")&&(t="html"),t}splitHtmlBlocks(e){const t=new Sk(e),r=n=>/&/.test(n)?(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0):!1;for(;t.position<t.text.length;){const n=t.text.charAt(t.position);t.parseWS(n)||/</.test(n)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||r(n)||t.add(n),t.position++}return t.emitBlock(),t.blocks}splitMarkdownBlocks(e){const t=new Sk(e);let r=!0;const n=s=>/\\/.test(s)?(t.position<this.text.length+1&&(t.position++,s=this.text.charAt(t.position),/ \t/.test(s)?t.spacing=!0:(t.add(s),r=!1)),!0):!1;for(;t.position<t.text.length;){const s=t.text.charAt(t.position);t.parseWS(s)||n(s)||(r||t.spacing)&&(t.parseStartTag("bold","*")||t.parseStartTag("ital","_")||t.parseStartTag("mono","`"))||t.parseEndTag("bold","*","afterBold")||t.parseEndTag("ital","_","afterItal")||t.parseEndTag("mono","`","afterMono")||(t.add(s),r=!1),t.position++}return t.emitBlock(),t.blocks}splitBlocks(e,t){const r=this.decodeMarkupSystem(t);if(r==="none")return[{text:e,mod:"normal"}];if(r==="markdown")return this.splitMarkdownBlocks(e);if(r==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}getLongestFit(e){let t="",r=0;for(;r<e.length;){const s=t+(t===""?"":" ")+e[r];if(this.overMaxWidth(s))break;t=s,r++}return r}getLongestFitWord(e){let t=0;for(;t<e.length&&!this.overMaxWidth(Mi(e).call(e,0,t));)t++;return t}splitStringIntoLines(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let n=e.split("\r");for(;n.length>0;){let s=this.getLongestFit(n);if(s===0){const o=n[0],a=this.getLongestFitWord(o);this.lines.newLine(Mi(o).call(o,0,a),t),n[0]=Mi(o).call(o,a)}else{let o=s;n[s-1]===" "?s--:n[o]===" "&&o++;const a=Mi(n).call(n,0,s).join("");s==n.length&&r?this.lines.append(a,t):this.lines.newLine(a,t),n=Mi(n).call(n,o)}}}}const Yn=["bold","ital","boldital","mono"];class Vi{constructor(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),ko(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const t=e.font.size;t!==void 0&&(this.baseSize=t)}}}initFontOptions(e){if(ne(Yn,t=>{this.fontOptions[t]={}}),Vi.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}ne(e,(t,r)=>{t!=null&&typeof t!="object"&&(this.fontOptions[r]=t)})}static parseFontString(e,t){if(!t||typeof t!="string")return!1;const r=t.split(" ");return e.size=+r[0].replace("px",""),e.face=r[1],e.color=r[2],!0}constrain(e){const t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},r=mr(e,"widthConstraint");if(typeof r=="number")t.maxWdt=Number(r),t.minWdt=Number(r);else if(typeof r=="object"){const s=mr(e,["widthConstraint","maximum"]);typeof s=="number"&&(t.maxWdt=Number(s));const o=mr(e,["widthConstraint","minimum"]);typeof o=="number"&&(t.minWdt=Number(o))}const n=mr(e,"heightConstraint");if(typeof n=="number")t.minHgt=Number(n);else if(typeof n=="object"){const s=mr(e,["heightConstraint","minimum"]);typeof s=="number"&&(t.minHgt=Number(s));const o=mr(e,["heightConstraint","valign"]);typeof o=="string"&&(o==="top"||o==="bottom")&&(t.valign=o)}return t}update(e,t){this.setOptions(e,!0),this.propagateFonts(t),ge(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=E1("label",t)}adjustSizes(e){const t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);const r=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=r)}addFontOptionsToPile(e,t){for(let r=0;r<t.length;++r)this.addFontToPile(e,t[r])}addFontToPile(e,t){if(t===void 0||t.font===void 0||t.font===null)return;const r=t.font;e.push(r)}getBasicOptions(e){const t={};for(let r=0;r<e.length;++r){let n=e[r];const s={};Vi.parseFontString(s,n)&&(n=s),ne(n,(o,a)=>{o!==void 0&&(Object.prototype.hasOwnProperty.call(t,a)||(Oe(Yn).call(Yn,a)!==-1?t[a]={}:t[a]=o))})}return t}getFontOption(e,t,r){let n;for(let s=0;s<e.length;++s){const o=e[s];if(Object.prototype.hasOwnProperty.call(o,t)){if(n=o[t],n==null)continue;const a={};if(Vi.parseFontString(a,n)&&(n=a),Object.prototype.hasOwnProperty.call(n,r))return n[r]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,r))return this.fontOptions[r];throw new Error("Did not find value for multi-font for property: '"+r+"'")}getFontOptions(e,t){const r={},n=["color","size","face","mod","vadjust"];for(let s=0;s<n.length;++s){const o=n[s];r[o]=this.getFontOption(e,t,o)}return r}propagateFonts(e){const t=[];this.addFontOptionsToPile(t,e),this.fontOptions=this.getBasicOptions(t);for(let r=0;r<Yn.length;++r){const n=Yn[r],s=this.fontOptions[n],o=this.getFontOptions(t,n);ne(o,(a,u)=>{s[u]=a}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,t,r,n,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,n,s,t,r,o),this._drawBackground(e),this._drawText(e,t,this.size.yLine,o,a))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}_drawText(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[t,r]=this._setAlignment(e,t,r,n),e.textAlign="left",t=t-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(r-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(r+=(this.size.height-this.size.labelHeight)/2));for(let o=0;o<this.lineCount;o++){const a=this.lines[o];if(a&&a.blocks){let u=0;this.isEdgeLabel||this.fontOptions.align==="center"?u+=(this.size.width-a.width)/2:this.fontOptions.align==="right"&&(u+=this.size.width-a.width);for(let l=0;l<a.blocks.length;l++){const d=a.blocks[l];e.font=d.font;const[c,h]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=h,e.lineJoin="round"),e.fillStyle=c,d.strokeWidth>0&&e.strokeText(d.text,t+u,r+d.vadjust),e.fillText(d.text,t+u,r+d.vadjust),u+=d.width}r+=a.height}}}_setAlignment(e,t,r,n){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){t=0,r=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",r-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",r+=2*s):e.textBaseline="middle"}else e.textBaseline=n;return[t,r]}_getColor(e,t,r){let n=e||"#000000",s=r||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){const o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));n=mt(n,o),s=mt(s,o)}return[n,s]}getTextSize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,t,r),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let t=this.size.left,r=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":t=s,r=-this.size.height*.5;break;case"top":t=s,r=-(this.size.height+2);break;case"bottom":t=s,r=2;break}}return{left:t,top:r,width:this.size.width,height:this.size.height}}calculateLabelSize(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,t,r),this.size.left=n-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,o==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,t,r,n){const s=function(u,l,d){return l==="normal"?d==="mod"?"":u[d]:u[l][d]!==void 0?u[l][d]:u[d]},o={color:s(this.fontOptions,n,"color"),size:s(this.fontOptions,n,"size"),face:s(this.fontOptions,n,"face"),mod:s(this.fontOptions,n,"mod"),vadjust:s(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||r)&&(n==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?o.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(o,this.elementOptions.id,t,r));let a="";return o.mod!==void 0&&o.mod!==""&&(a+=o.mod+" "),a+=o.size+"px "+o.face,e.font=a.replace(/"/g,""),o.font=e.font,o.height=o.size,o}differentState(e,t){return e!==this.selectedState||t!==this.hoverState}_processLabelText(e,t,r,n){return new eU(e,this,t,r).process(n)}_processLabel(e,t,r){if(this.labelDirty===!1&&!this.differentState(t,r))return;const n=this._processLabelText(e,t,r,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=t,this.hoverState=r,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}var Ok={},Sy,Ik;function tU(){if(Ik)return Sy;Ik=1;var i=$t(),e=na(),t=pr();return Sy=function(n){for(var s=i(this),o=t(s),a=arguments.length,u=e(a>1?arguments[1]:void 0,o),l=a>2?arguments[2]:void 0,d=l===void 0?o:e(l,o);d>u;)s[u++]=n;return s},Sy}var $k;function rU(){if($k)return Ok;$k=1;var i=G(),e=tU(),t=o1();return i({target:"Array",proto:!0},{fill:e}),t("fill"),Ok}var Oy,Tk;function iU(){if(Tk)return Oy;Tk=1,rU();var i=Je();return Oy=i("Array","fill"),Oy}var Iy,Pk;function nU(){if(Pk)return Iy;Pk=1;var i=Ne(),e=iU(),t=Array.prototype;return Iy=function(r){var n=r.fill;return r===t||i(t,r)&&n===t.fill?e:n},Iy}var $y,Rk;function sU(){if(Rk)return $y;Rk=1;var i=nU();return $y=i,$y}var Ty,Ck;function oU(){return Ck||(Ck=1,Ty=sU()),Ty}var aU=oU(),ya=X(aU);class Oi{constructor(e,t,r){this.body=t,this.labelModule=r,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,t){const r=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}enableShadow(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,t){if(t.borderDashes!==!1)if(e.setLineDash!==void 0){let r=t.borderDashes;r===!0&&(r=[5,15]),e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}disableBorderDashes(e,t){t.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}needsRefresh(e,t){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,t)}initContextForDraw(e,t){const r=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,r),e.strokeStyle=t.borderColor,e.fillStyle=t.color}performStroke(e,t){const r=t.borderWidth/this.body.view.scale;e.save(),r>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}performFill(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),ya(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,t,r,n,s){r!==void 0&&this.resize(r,n,s),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,t,r,n,s){this._updateBoundingBox(e,t,r,n,s)}getDimensionsFromLabel(e,t,r){this.textSize=this.labelModule.getTextSize(e,t,r);let n=this.textSize.width,s=this.textSize.height;const o=14;return n===0&&(n=o,s=o),{width:n,height:s}}}let uU=class extends Oi{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const n=this.getDimensionsFromLabel(e,t,r);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,o),LF(e,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(t,r,e,n,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,s)}updateBoundingBox(e,t,r,n,s){this._updateBoundingBox(e,t,r,n,s);const o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}distanceToBorder(e,t){e&&this.resize(e);const r=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}};class S1 extends Oi{constructor(e,t,r){super(e,t,r),this.labelOffset=0,this.selected=!1}setOptions(e,t,r){this.options=e,t===void 0&&r===void 0||this.setImages(t,r)}setImages(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}switchImages(e){const t=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&t){const r=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=r}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const t=this.options.imagePadding;typeof t=="object"?(e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left):(e.top=t,e.right=t,e.bottom=t,e.left=t)}return e}_resizeImage(){let e,t;if(this.options.shapeProperties.useImageSize===!1){let r=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?r=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),e=this.options.size*2*r,t=this.options.size*2*n}else{const r=this._getImagePadding();e=this.imageObj.width+r.left+r.right,t=this.imageObj.height+r.top+r.bottom}this.width=e,this.height=t,this.radius=.5*this.width}_drawRawCircle(e,t,r,n){this.initContextForDraw(e,n),Yb(e,t,r,n.size),this.performFill(e,n)}_drawImageAtPosition(e,t){if(this.imageObj.width!=0){e.globalAlpha=t.opacity!==void 0?t.opacity:1,this.enableShadow(e,t);let r=1;this.options.shapeProperties.interpolation===!0&&(r=this.imageObj.width/this.width/this.body.view.scale);const n=this._getImagePadding(),s=this.left+n.left,o=this.top+n.top,a=this.width-n.left-n.right,u=this.height-n.top-n.bottom;this.imageObj.drawImageAtPosition(e,r,s,o,a,u),this.disableShadow(e,t)}}_drawImageLabel(e,t,r,n,s){let o=0;if(this.height!==void 0){o=this.height*.5;const u=this.labelModule.getTextSize(e,n,s);u.lineCount>=1&&(o+=u.height/2)}const a=r+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(e,t,a,n,s,"hanging")}}let lU=class extends S1{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const n=this.getDimensionsFromLabel(e,t,r),s=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this._drawRawCircle(e,t,r,o),this.updateBoundingBox(t,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,r,n,s)}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class dU extends S1{constructor(e,t,r,n,s){super(e,t,r),this.setImages(n,s)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,n,s,o){this.switchImages(n),this.resize();let a=t,u=r;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,u+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this._drawRawCircle(e,a,u,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,a,u,n,s),this.updateBoundingBox(t,r)}updateBoundingBox(e,t){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=t,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=t+this.options.size*2):(this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class Nr extends Oi{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,r)){var s,o;this.labelModule.getTextSize(e,t,r);const a=2*n.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:a,this.height=(o=this.customSizeHeight)!==null&&o!==void 0?o:a,this.radius=.5*this.width}}_drawShape(e,t,r,n,s,o,a,u){return this.resize(e,o,a,u),this.left=n-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,u),n8(t)(e,n,s,u.size),this.performFill(e,u),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,n,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,o,a,n,s,"hanging");const l=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,n,l,o,a,"hanging")}this.updateBoundingBox(n,s)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function qk(i,e){var t=ke(i);if(Pr){var r=Pr(i);e&&(r=gr(r).call(r,function(n){return Fr(i,n).enumerable})),t.push.apply(t,r)}return t}function cU(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?_e(t=qk(Object(n),!0)).call(t,function(s){tr(i,s,n[s])}):Rr?pa(i,Rr(n)):_e(r=qk(Object(n))).call(r,function(s){ga(i,s,Fr(n,s))})}return i}class hU extends Nr{constructor(e,t,r,n){super(e,t,r,n),this.ctxRenderer=n}draw(e,t,r,n,s,o){this.resize(e,n,s,o),this.left=t-this.width/2,this.top=r-this.height/2,e.save();const a=this.ctxRenderer({ctx:e,id:this.options.id,x:t,y:r,state:{selected:n,hover:s},style:cU({},o),label:this.options.label});if(a.drawNode!=null&&a.drawNode(),e.restore(),a.drawExternalLabel){const u=a.drawExternalLabel;a.drawExternalLabel=()=>{e.save(),u(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class fU extends Oi{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){if(this.needsRefresh(t,r)){const s=this.getDimensionsFromLabel(e,t,r).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,o),zF(e,t-this.width/2,r-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,r,e,n,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let vU=class extends Nr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"diamond",4,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class pU extends Nr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"circle",2,t,r,n,s,o)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class xk extends Oi{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const n=this.getDimensionsFromLabel(e,t,r);this.height=n.height*2,this.width=n.width+n.height,this.radius=.5*this.width}}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width*.5,this.top=r-this.height*.5,this.initContextForDraw(e,o),Zm(e,this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(t,r,e,n,s),this.labelModule.draw(e,t,r,n,s)}distanceToBorder(e,t){e&&this.resize(e);const r=this.width*.5,n=this.height*.5,s=Math.sin(t)*r,o=Math.cos(t)*n;return r*n/Math.sqrt(s*s+o*o)}}class gU extends Oi{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,n,s,o){return this.resize(e,n,s),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=r-this.height/2,this._icon(e,t,r,n,s,o),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,r+this.height/2+5,n),this.updateBoundingBox(t,r)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=t+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,t,r,n,s,o){const a=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:n?"bold":"",(this.options.icon.weight!=null&&n?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,t,r),this.disableShadow(e,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let yU=class extends S1{constructor(e,t,r,n,s){super(e,t,r),this.setImages(n,s)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,n,s,o){e.save(),this.switchImages(n),this.resize();let a=t,u=r;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,u+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const l=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,c=(n?d:l)/this.body.view.scale;e.lineWidth=Math.min(this.width,c),e.beginPath();let h=n?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,f=n?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;o.opacity!==void 0&&(h=mt(h,o.opacity),f=mt(f,o.opacity)),e.strokeStyle=h,e.fillStyle=f,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),ya(e).call(e),this.performStroke(e,o),e.closePath()}this._drawImageAtPosition(e,o),this._drawImageLabel(e,a,u,n,s),this.updateBoundingBox(t,r),e.restore()}updateBoundingBox(e,t){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=t):(this.left=e-this.width/2,this.top=t-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class mU extends Nr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"square",2,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class bU extends Nr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"hexagon",4,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class _U extends Nr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"star",4,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class wU extends Oi{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.textSize=this.labelModule.getTextSize(e,t,r),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,n,s,o){this.resize(e,n,s),this.left=t-this.width/2,this.top=r-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,s),this.disableShadow(e,o),this.updateBoundingBox(t,r,e,n,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let EU=class extends Nr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"triangle",3,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class SU extends Nr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,s,o){return this._drawShape(e,"triangleDown",3,t,r,n,s,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}function kk(i,e){var t=ke(i);if(Pr){var r=Pr(i);e&&(r=gr(r).call(r,function(n){return Fr(i,n).enumerable})),t.push.apply(t,r)}return t}function Dk(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?_e(t=kk(Object(n),!0)).call(t,function(s){tr(i,s,n[s])}):Rr?pa(i,Rr(n)):_e(r=kk(Object(n))).call(r,function(s){ga(i,s,Fr(n,s))})}return i}class we{constructor(e,t,r,n,s,o){this.options=Or(s),this.globalOptions=s,this.defaultOptions=o,this.body=t,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Vi(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var t;Oe(t=this.edges).call(t,e)===-1&&this.edges.push(e)}detachEdge(e){var t;const r=Oe(t=this.edges).call(t,e);if(r!=-1){var n;Ir(n=this.edges).call(n,r,1)}}setOptions(e){const t=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");we.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=R2(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=R2(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=JN(e.value)),we.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const r=[e,this.options,this.defaultOptions];return this.chooser=E1("node",r),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&we.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,t,r){var n;if(r===void 0)return;const s=e.group;if(t!==void 0&&t.group!==void 0&&s!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const a=r.get(s);a.opacity!==void 0&&t.opacity===void 0&&(we.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));const u=gr(n=mV(t)).call(n,l=>t[l]!=null);u.push("font"),qo(u,e,a),e.color=rb(e.color)}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(qo(["color","fixed","shadow"],e,t,r),we.checkMass(t),e.opacity!==void 0&&(we.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),t.opacity!==void 0&&(we.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!we.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),yt(e,t,"shadow",n),t.color!==void 0&&t.color!==null){const a=rb(t.color);pN(e.color,a)}else r===!0&&t.color===null&&(e.color=Or(n.color));t.fixed!==void 0&&t.fixed!==null&&(typeof t.fixed=="boolean"?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(t.fixed.x!==void 0&&typeof t.fixed.x=="boolean"&&(e.fixed.x=t.fixed.x),t.fixed.y!==void 0&&typeof t.fixed.y=="boolean"&&(e.fixed.y=t.fixed.y))),r===!0&&t.font===null&&(e.font=Or(n.font)),we.updateGroupOptions(e,t,s),t.scaling!==void 0&&yt(e.scaling,t.scaling,"label",n.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const t=this.options.opacity;e.borderColor=mt(e.borderColor,t),e.color=mt(e.color,t),e.shadowColor=mt(e.shadowColor,t)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),we.updateGroupOptions(this.options,Dk(Dk({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const t=this.grouplist.get(this.options.group,!1),r=[e,this.options,t,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new uU(this.options,this.body,this.labelModule);break;case"circle":this.shape=new lU(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new dU(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new hU(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new fU(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new vU(this.options,this.body,this.labelModule);break;case"dot":this.shape=new pU(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new xk(this.options,this.body,this.labelModule);break;case"icon":this.shape=new gU(this.options,this.body,this.labelModule);break;case"image":this.shape=new yU(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new mU(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new bU(this.options,this.body,this.labelModule);break;case"star":this.shape=new _U(this.options,this.body,this.labelModule);break;case"text":this.shape=new wU(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new EU(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new SU(this.options,this.body,this.labelModule);break;default:this.shape=new xk(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,t){return this.shape.distanceToBorder(e,t)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,t,r){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*o}this.options.size=this.options.scaling.min+n*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}getItemsOnPoint(e){const t=[];return this.labelModule.visible()&&ab(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),ab(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,t){if(e.mass!==void 0&&e.mass<=0){let r="";t!==void 0&&(r=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+r+", setting mass to 1.",bN),e.mass=1}}}class OU{constructor(e,t,r,n){var s;if(this.body=e,this.images=t,this.groups=r,this.layoutEngine=n,this.body.functions.createNode=M(s=this.create).call(s,this),this.nodesListeners={add:(o,a)=>{this.add(a.items)},update:(o,a)=>{this.update(a.items,a.data,a.oldData)},remove:(o,a)=>{this.remove(a.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,a,u,l){if(a===o)return .5;{const d=1/(a-o);return Math.max(0,(l-o)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Or(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,t;this.body.emitter.on("refreshNodes",M(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",M(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",()=>{ne(this.nodesListeners,(r,n)=>{this.body.data.nodes&&this.body.data.nodes.off(n,r)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(we.parseOptions(this.options,e),e.opacity!==void 0&&(ob(e.opacity)||!Jr(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const t of ke(this.body.nodes))this.body.nodes[t].updateLabelModule(),this.body.nodes[t].needsRefresh();if(e.size!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.nodes;if(kF("id",e))this.body.data.nodes=e;else if(At(e))this.body.data.nodes=new tn,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new tn;else throw new TypeError("Array or DataSet expected");if(r&&ne(this.nodesListeners,function(n,s){r.off(s,n)}),this.body.nodes={},this.body.data.nodes){const n=this;ne(this.nodesListeners,function(o,a){n.body.data.nodes.on(a,o)});const s=this.body.data.nodes.getIds();this.add(s,!0)}t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;const n=[];for(let s=0;s<e.length;s++){r=e[s];const o=this.body.data.nodes.get(r),a=this.create(o);n.push(a),this.body.nodes[r]=a}this.layoutEngine.positionInitially(n),t===!1&&this.body.emitter.emit("_dataChanged")}update(e,t,r){const n=this.body.nodes;let s=!1;for(let o=0;o<e.length;o++){const a=e[o];let u=n[a];const l=t[o];u!==void 0?u.setOptions(l)&&(s=!0):(s=!0,u=this.create(l),n[a]=u)}!s&&r!==void 0&&(s=MH(t).call(t,function(o,a){const u=r[a];return u&&u.level!==o.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const t=this.body.nodes;for(let r=0;r<e.length;r++){const n=e[r];delete t[n]}this.body.emitter.emit("_dataChanged")}create(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:we;return new t(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ne(this.body.nodes,(t,r)=>{const n=this.body.data.nodes.get(r);n!==void 0&&(e===!0&&t.setOptions({x:null,y:null}),t.setOptions({fixed:!1}),t.setOptions(n))})}getPositions(e){const t={};if(e!==void 0){if(At(e)===!0){for(let r=0;r<e.length;r++)if(this.body.nodes[e[r]]!==void 0){const n=this.body.nodes[e[r]];t[e[r]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];t[e]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(let r=0;r<this.body.nodeIndices.length;r++){const n=this.body.nodes[this.body.nodeIndices[r]];t[this.body.nodeIndices[r]]={x:Math.round(n.x),y:Math.round(n.y)}}return t}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],t=this.body.data.nodes.getDataSet();for(const r of t.get()){const n=r.id,s=this.body.nodes[n],o=Math.round(s.x),a=Math.round(s.y);(r.x!==o||r.y!==a)&&e.push({id:n,x:o,y:a})}t.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,t){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e],s={};for(let o=0;o<n.edges.length;o++){const a=n.edges[o];t!=="to"&&a.toId==n.id?s[a.fromId]===void 0&&(r.push(a.fromId),s[a.fromId]=!0):t!=="from"&&a.fromId==n.id&&s[a.toId]===void 0&&(r.push(a.toId),s[a.toId]=!0)}}return r}getConnectedEdges(e){const t=[];if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];for(let n=0;n<r.edges.length;n++)t.push(r.edges[n].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}moveNode(e,t,r){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(r),Gi(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var Ak={},Py,Mk;function IU(){if(Mk)return Py;Mk=1;var i=Pn(),e=Rt(),t=fr(),r=RangeError;return Py=function(s){var o=e(t(this)),a="",u=i(s);if(u<0||u===1/0)throw new r("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(o+=o))u&1&&(a+=o);return a},Py}var Ry,Fk;function $U(){if(Fk)return Ry;Fk=1;var i=ae(),e=BF(),t=Rt(),r=IU(),n=fr(),s=i(r),o=i("".slice),a=Math.ceil,u=function(l){return function(d,c,h){var f=t(n(d)),v=e(c),g=f.length,_=h===void 0?" ":t(h),y,p;return v<=g||_===""?f:(y=v-g,p=s(_,a(y/_.length)),p.length>y&&(p=o(p,0,y)),l?f+p:p+f)}};return Ry={start:u(!1),end:u(!0)},Ry}var Cy,Nk;function TU(){if(Nk)return Cy;Nk=1;var i=ae(),e=oe(),t=$U().start,r=RangeError,n=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,u=i(o.getTime),l=i(o.getUTCDate),d=i(o.getUTCFullYear),c=i(o.getUTCHours),h=i(o.getUTCMilliseconds),f=i(o.getUTCMinutes),v=i(o.getUTCMonth),g=i(o.getUTCSeconds);return Cy=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!n(u(this)))throw new r("Invalid time value");var y=this,p=d(y),O=h(y),m=p<0?"-":p>9999?"+":"";return m+t(s(p),m?6:4,0)+"-"+t(v(y)+1,2,0)+"-"+t(l(y),2,0)+"T"+t(c(y),2,0)+":"+t(f(y),2,0)+":"+t(g(y),2,0)+"."+t(O,3,0)+"Z"}:a,Cy}var Bk;function PU(){if(Bk)return Ak;Bk=1;var i=G(),e=vt(),t=$t(),r=AF(),n=TU(),s=Kt(),o=oe(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return i({target:"Date",proto:!0,forced:a},{toJSON:function(l){var d=t(this),c=r(d,"number");return typeof c=="number"&&!isFinite(c)?null:!("toISOString"in d)&&s(d)==="Date"?e(n,d):d.toISOString()}}),Ak}var qy,jk;function RU(){if(jk)return qy;jk=1,PU(),WN();var i=fe(),e=Jo();return i.JSON||(i.JSON={stringify:JSON.stringify}),qy=function(r,n,s){return e(i.JSON.stringify,null,arguments)},qy}var xy,Lk;function CU(){if(Lk)return xy;Lk=1;var i=RU();return xy=i,xy}var ky,zk;function qU(){return zk||(zk=1,ky=CU()),ky}var xU=qU(),t5=X(xU),Wk={},Hk;function kU(){if(Hk)return Wk;Hk=1;var i=G(),e=Math.hypot,t=Math.abs,r=Math.sqrt,n=!!e&&e(1/0,NaN)!==1/0;return i({target:"Math",stat:!0,arity:2,forced:n},{hypot:function(o,a){for(var u=0,l=0,d=arguments.length,c=0,h,f;l<d;)h=t(arguments[l++]),c<h?(f=c/h,u=u*f*f+1,c=h):h>0?(f=h/c,u+=f*f):u+=h;return c===1/0?1/0:c*r(u)}}),Wk}var Dy,Gk;function DU(){if(Gk)return Dy;Gk=1,kU();var i=fe();return Dy=i.Math.hypot,Dy}var Ay,Vk;function AU(){if(Vk)return Ay;Vk=1;var i=DU();return Ay=i,Ay}var My,Uk;function MU(){return Uk||(Uk=1,My=AU()),My}var FU=MU(),NU=X(FU);class Re{static transform(e,t){At(e)||(e=[e]);const r=t.point.x,n=t.point.y,s=t.angle,o=t.length;for(let a=0;a<e.length;++a){const u=e[a],l=u.x*Math.cos(s)-u.y*Math.sin(s),d=u.x*Math.sin(s)+u.y*Math.cos(s);u.x=r+o*l,u.y=n+o*d}}static drawPath(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length;++r)e.lineTo(t[r].x,t[r].y);e.closePath()}}let BU=class extends Re{static draw(e,t){if(t.image){e.save(),e.translate(t.point.x,t.point.y),e.rotate(Math.PI/2+t.angle);const r=t.imageWidth!=null?t.imageWidth:t.image.width,n=t.imageHeight!=null?t.imageHeight:t.image.height;t.image.drawImageAtPosition(e,1,-r/2,0,r,n),e.restore()}return!1}};class jU extends Re{static draw(e,t){const r=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Re.transform(r,t),Re.drawPath(e,r),!0}}class LU{static draw(e,t){const r=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Re.transform(r,t),Re.drawPath(e,r),!0}}class zU{static draw(e,t){const r={x:-.4,y:0};Re.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,s=t.angle-n/2,o=t.angle+n/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,s,o,!1),e.stroke(),!0}}class WU{static draw(e,t){const r={x:-.3,y:0};Re.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,s=t.angle+n/2,o=t.angle+3*n/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,s,o,!1),e.stroke(),!0}}class HU{static draw(e,t){const r=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Re.transform(r,t),Re.drawPath(e,r),!0}}class GU{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Re.transform(r,t),Re.drawPath(e,r),!0}}class VU{static draw(e,t){const r={x:-.4,y:0};return Re.transform(r,t),Yb(e,r.x,r.y,t.length*.4),!0}}class UU{static draw(e,t){const r=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Re.transform(r,t),Re.drawPath(e,r),!0}}class KU{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Re.transform(r,t),Re.drawPath(e,r),!0}}class YU{static draw(e,t){const r=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Re.transform(r,t),Re.drawPath(e,r),!0}}class XU{static draw(e,t){const r=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Re.transform(r,t),Re.drawPath(e,r),!0}}class r5{static draw(e,t){let r;switch(t.type&&(r=t.type.toLowerCase()),r){case"image":return BU.draw(e,t);case"circle":return VU.draw(e,t);case"box":return KU.draw(e,t);case"crow":return LU.draw(e,t);case"curve":return zU.draw(e,t);case"diamond":return YU.draw(e,t);case"inv_curve":return WU.draw(e,t);case"triangle":return HU.draw(e,t);case"inv_triangle":return GU.draw(e,t);case"bar":return UU.draw(e,t);case"vee":return XU.draw(e,t);case"arrow":default:return jU.draw(e,t)}}}function Kk(i,e){var t=ke(i);if(Pr){var r=Pr(i);e&&(r=gr(r).call(r,function(n){return Fr(i,n).enumerable})),t.push.apply(t,r)}return t}function Yk(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?_e(t=Kk(Object(n),!0)).call(t,function(s){tr(i,s,n[s])}):Rr?pa(i,Rr(n)):_e(r=Kk(Object(n))).call(r,function(s){ga(i,s,Fr(n,s))})}return i}class i5{constructor(e,t,r){tr(this,"color",{}),tr(this,"colorDirty",!0),tr(this,"hoverWidth",1.5),tr(this,"selectionWidth",2),this._body=t,this._labelModule=r,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,t,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,t.dashes!==!1?this._drawDashedLine(e,t,s):this._drawLine(e,t,s)}_drawLine(e,t,r,n,s){if(this.from!=this.to)this._line(e,t,r,n,s);else{const[o,a,u]=this._getCircleData(e);this._circle(e,t,o,a,u)}}_drawDashedLine(e,t,r,n,s){e.lineCap="round";const o=At(t.dashes)?t.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,r);else{const[a,u,l]=this._getCircleData(e);this._circle(e,t,a,u,l)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)WF(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{const[a,u,l]=this._getCircleData(e);this._circle(e,t,a,u,l)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}findBorderPosition(e,t,r){return this.from!=this.to?this._findBorderPosition(e,t,r):this._findBorderPositionCircle(e,t,r)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var t;const[r,n]=Mi(t=this._getCircleData(e)).call(t,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:.6,high:.8,direction:1})}}}_getCircleData(e){const t=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const r=QN(e,this.options.selfReference.angle,t,this.from);return[r.x,r.y,t]}_pointOnCircle(e,t,r,n){const s=n*2*Math.PI;return{x:e+r*Math.cos(s),y:t-r*Math.sin(s)}}_findBorderPositionCircle(e,t,r){const n=r.x,s=r.y;let o=r.low,a=r.high;const u=r.direction,l=10,d=this.options.selfReference.size,c=.05;let h,f=(o+a)*.5,v=0;this.options.arrowStrikethrough===!0&&(u===-1?v=this.options.endPointOffset.from:u===1&&(v=this.options.endPointOffset.to));let g=0;do{f=(o+a)*.5,h=this._pointOnCircle(n,s,d,f);const _=Math.atan2(e.y-h.y,e.x-h.x),y=e.distanceToBorder(t,_)+v,p=Math.sqrt(Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2)),O=y-p;if(Math.abs(O)<c)break;O>0?u>0?o=f:a=f:u>0?a=f:o=f,++g}while(o<=a&&g<l);return Yk(Yk({},h),{},{t:f})}getLineWidth(e,t){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):t===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,t){if(t.inheritsColor!==!1){if(t.inheritsColor==="both"&&this.from.id!==this.to.id){const r=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let n=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(n=mt(this.from.options.color.border,t.opacity),s=mt(this.to.options.color.border,t.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(n=this.from.options.color.border),r.addColorStop(0,n),r.addColorStop(1,s),r}return t.inheritsColor==="to"?mt(this.to.options.color.border,t.opacity):mt(this.from.options.color.border,t.opacity)}else return mt(t.color,t.opacity)}_circle(e,t,r,n,s){this.enableShadow(e,t);let o=0,a=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const u=this.options.selfReference.angle,l=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:u,high:l,direction:-1}),c=this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:u,high:l,direction:1});o=Math.atan2(d.y-n,d.x-r),a=Math.atan2(c.y-n,c.x-r)}e.beginPath(),e.arc(r,n,s,o,a,!1),e.stroke(),this.disableShadow(e,t)}getDistanceToEdge(e,t,r,n,s,o){if(this.from!=this.to)return this._getDistanceToEdge(e,t,r,n,s,o);{const[a,u,l]=this._getCircleData(void 0),d=a-s,c=u-o;return Math.abs(Math.sqrt(d*d+c*c)-l)}}_getDistanceToLine(e,t,r,n,s,o){const a=r-e,u=n-t,l=a*a+u*u;let d=((s-e)*a+(o-t)*u)/l;d>1?d=1:d<0&&(d=0);const c=e+d*a,h=t+d*u,f=c-s,v=h-o;return Math.sqrt(f*f+v*v)}getArrowData(e,t,r,n,s,o){let a,u,l,d,c,h,f;const v=o.width;t==="from"?(l=this.from,d=this.to,c=o.fromArrowScale<0,h=Math.abs(o.fromArrowScale),f=o.fromArrowType):t==="to"?(l=this.to,d=this.from,c=o.toArrowScale<0,h=Math.abs(o.toArrowScale),f=o.toArrowType):(l=this.to,d=this.from,c=o.middleArrowScale<0,h=Math.abs(o.middleArrowScale),f=o.middleArrowType);const g=15*h+3*v;if(l!=d){const O=NU(l.x-d.x,l.y-d.y),m=g/O;if(t!=="middle")if(this.options.smooth.enabled===!0){const S=this._findBorderPosition(l,e,{via:r}),$=this.getPoint(S.t+m*(t==="from"?1:-1),r);a=Math.atan2(S.y-$.y,S.x-$.x),u=S}else a=Math.atan2(l.y-d.y,l.x-d.x),u=this._findBorderPosition(l,e);else{const S=(c?-m:m)/2,$=this.getPoint(.5+S,r),w=this.getPoint(.5-S,r);a=Math.atan2($.y-w.y,$.x-w.x),u=this.getPoint(.5,r)}}else{const[O,m,S]=this._getCircleData(e);if(t==="from"){const $=this.options.selfReference.angle,w=this.options.selfReference.angle+Math.PI,b=this._findBorderPositionCircle(this.from,e,{x:O,y:m,low:$,high:w,direction:-1});a=b.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,u=b}else if(t==="to"){const $=this.options.selfReference.angle,w=this.options.selfReference.angle+Math.PI,b=this._findBorderPositionCircle(this.from,e,{x:O,y:m,low:$,high:w,direction:1});a=b.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,u=b}else{const $=this.options.selfReference.angle/(2*Math.PI);u=this._pointOnCircle(O,m,S,$),a=$*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const _=u.x-g*.9*Math.cos(a),y=u.y-g*.9*Math.sin(a);return{point:u,core:{x:_,y},angle:a,length:g,type:f}}drawArrowHead(e,t,r,n,s){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,r5.draw(e,s)&&(this.enableShadow(e,t),ya(e).call(e),this.disableShadow(e,t))}enableShadow(e,t){t.shadow===!0&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,t){if(t.background!==!1){const r={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=r.strokeStyle,e.lineWidth=r.lineWidth,e.dashes=r.dashes,this.setStrokeDashed(e,t.dashes)}}setStrokeDashed(e,t){if(t!==!1)if(e.setLineDash!==void 0){const r=At(t)?t:[5,5];e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function Xk(i,e){var t=ke(i);if(Pr){var r=Pr(i);e&&(r=gr(r).call(r,function(n){return Fr(i,n).enumerable})),t.push.apply(t,r)}return t}function Zk(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?_e(t=Xk(Object(n),!0)).call(t,function(s){tr(i,s,n[s])}):Rr?pa(i,Rr(n)):_e(r=Xk(Object(n))).call(r,function(s){ga(i,s,Fr(n,s))})}return i}class O1 extends i5{constructor(e,t,r){super(e,t,r)}_findBorderPositionBezier(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const n=10,s=.2;let o=!1,a=1,u=0,l=this.to,d,c,h=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(l=this.from,o=!0,h=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(h=0);let f=0;do{c=(u+a)*.5,d=this.getPoint(c,r);const v=Math.atan2(l.y-d.y,l.x-d.x),g=l.distanceToBorder(t,v)+h,_=Math.sqrt(Math.pow(d.x-l.x,2)+Math.pow(d.y-l.y,2)),y=g-_;if(Math.abs(y)<s)break;y<0?o===!1?u=c:a=c:o===!1?a=c:u=c,++f}while(u<=a&&f<n);return Zk(Zk({},d),{},{t:c})}_getDistanceToBezierEdge(e,t,r,n,s,o,a){let u=1e9,l,d,c,h,f,v=e,g=t;for(d=1;d<10;d++)c=.1*d,h=Math.pow(1-c,2)*e+2*c*(1-c)*a.x+Math.pow(c,2)*r,f=Math.pow(1-c,2)*t+2*c*(1-c)*a.y+Math.pow(c,2)*n,d>0&&(l=this._getDistanceToLine(v,g,h,f,s,o),u=l<u?l:u),v=h,g=f;return u}_bezierCurve(e,t,r,n){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),r!=null&&r.x!=null?n!=null&&n.x!=null?e.bezierCurveTo(r.x,r.y,n.x,n.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(r.x,r.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,t),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){return this._getViaCoordinates()}}class Jk extends O1{constructor(e,t,r){super(e,t,r),tr(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),t===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,t=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,t,r){this._bezierCurve(e,t,r)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[r,n,s]=this._getCircleData(),o=2*Math.PI*(1-e);return{x:r+s*Math.sin(o),y:n+s-s*(1-Math.cos(o))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*t.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*t.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t,this.via)}_getDistanceToEdge(e,t,r,n,s,o){return this._getDistanceToBezierEdge(e,t,r,n,s,o,this.via)}}class Qk extends O1{constructor(e,t,r){super(e,t,r)}_line(e,t,r){this._bezierCurve(e,t,r)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,t=this.options.smooth.type;let r=Math.abs(this.from.x-this.to.x),n=Math.abs(this.from.y-this.to.y);if(t==="discrete"||t==="diagonalCross"){let s,o;r<=n?s=o=e*n:s=o=e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,u=this.from.y+o;return t==="discrete"&&(r<=n?a=r<e*n?this.from.x:a:u=n<e*r?this.from.y:u),{x:a,y:u}}else if(t==="straightCross"){let s=(1-e)*r,o=(1-e)*n;return r<=n?(s=0,this.from.y<this.to.y&&(o=-o)):(this.from.x<this.to.x&&(s=-s),o=0),{x:this.to.x+s,y:this.to.y+o}}else if(t==="horizontal"){let s=(1-e)*r;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(t==="vertical"){let s=(1-e)*n;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(t==="curvedCW"){r=this.to.x-this.from.x,n=this.from.y-this.to.y;const s=Math.sqrt(r*r+n*n),o=Math.PI,u=(Math.atan2(n,r)+(e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else if(t==="curvedCCW"){r=this.to.x-this.from.x,n=this.from.y-this.to.y;const s=Math.sqrt(r*r+n*n),o=Math.PI,u=(Math.atan2(n,r)+(-e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else{let s,o;r<=n?s=o=e*n:s=o=e*r,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,u=this.from.y+o;return r<=n?this.from.x<=this.to.x?a=this.to.x<a?this.to.x:a:a=this.to.x>a?this.to.x:a:this.from.y>=this.to.y?u=this.to.y>u?this.to.y:u:u=this.to.y<u?this.to.y:u,{x:a,y:u}}}_findBorderPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,t,r.via)}_getDistanceToEdge(e,t,r,n,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,r,n,s,o,a)}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const r=e,n=Math.pow(1-r,2)*this.fromPoint.x+2*r*(1-r)*t.x+Math.pow(r,2)*this.toPoint.x,s=Math.pow(1-r,2)*this.fromPoint.y+2*r*(1-r)*t.y+Math.pow(r,2)*this.toPoint.y;return{x:n,y:s}}}class ZU extends O1{constructor(e,t,r){super(e,t,r)}_getDistanceToBezierEdge2(e,t,r,n,s,o,a,u){let l=1e9,d=e,c=t;const h=[0,0,0,0];for(let f=1;f<10;f++){const v=.1*f;h[0]=Math.pow(1-v,3),h[1]=3*v*Math.pow(1-v,2),h[2]=3*Math.pow(v,2)*(1-v),h[3]=Math.pow(v,3);const g=h[0]*e+h[1]*a.x+h[2]*u.x+h[3]*r,_=h[0]*t+h[1]*a.y+h[2]*u.y+h[3]*n;if(f>0){const y=this._getDistanceToLine(d,c,g,_,s,o);l=y<l?y:l}d=g,c=_}return l}}class eD extends ZU{constructor(e,t,r){super(e,t,r)}_line(e,t,r){const n=r[0],s=r[1];this._bezierCurve(e,t,n,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,t=this.from.y-this.to.y;let r,n,s,o;const a=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(t)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(n=this.from.y,o=this.to.y,r=this.from.x-a*e,s=this.to.x+a*e):(n=this.from.y-a*t,o=this.to.y+a*t,r=this.from.x,s=this.to.x),[{x:r,y:n},{x:s,y:o}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t)}_getDistanceToEdge(e,t,r,n,s,o){let[a,u]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,t,r,n,s,o,a,u)}getPoint(e){let[t,r]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,s=[Math.pow(1-n,3),3*n*Math.pow(1-n,2),3*Math.pow(n,2)*(1-n),Math.pow(n,3)],o=s[0]*this.fromPoint.x+s[1]*t.x+s[2]*r.x+s[3]*this.toPoint.x,a=s[0]*this.fromPoint.y+s[1]*t.y+s[2]*r.y+s[3]*this.toPoint.y;return{x:o,y:a}}}class tD extends i5{constructor(e,t,r){super(e,t,r)}_line(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,t){let r=this.to,n=this.from;e.id===this.from.id&&(r=this.from,n=this.to);const s=Math.atan2(r.y-n.y,r.x-n.x),o=r.x-n.x,a=r.y-n.y,u=Math.sqrt(o*o+a*a),l=e.distanceToBorder(t,s),d=(u-l)/u;return{x:(1-d)*n.x+d*r.x,y:(1-d)*n.y+d*r.y,t:0}}_getDistanceToEdge(e,t,r,n,s,o){return this._getDistanceToLine(e,t,r,n,s,o)}}class $r{constructor(e,t,r,n,s){if(t===void 0)throw new Error("No body provided");this.options=Or(n),this.globalOptions=n,this.defaultOptions=s,this.body=t,this.imagelist=r,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Vi(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let t=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;$r.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=JN(e.value));const r=[e,this.options,this.defaultOptions];return this.chooser=E1("edge",r),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(qn(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,r),t.endPointOffset!==void 0&&t.endPointOffset.from!==void 0&&(Jr(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=n.endPointOffset.from!==void 0?n.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),t.endPointOffset!==void 0&&t.endPointOffset.to!==void 0&&(Jr(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=n.endPointOffset.to!==void 0?n.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),ko(t.label)?e.label=t.label:ko(e.label)||(e.label=void 0),yt(e,t,"smooth",n),yt(e,t,"shadow",n),yt(e,t,"background",n),t.dashes!==void 0&&t.dashes!==null?e.dashes=t.dashes:r===!0&&t.dashes===null&&(e.dashes=rs(n.dashes)),t.scaling!==void 0&&t.scaling!==null?(t.scaling.min!==void 0&&(e.scaling.min=t.scaling.min),t.scaling.max!==void 0&&(e.scaling.max=t.scaling.max),yt(e.scaling,t.scaling,"label",n.scaling)):r===!0&&t.scaling===null&&(e.scaling=rs(n.scaling)),t.arrows!==void 0&&t.arrows!==null)if(typeof t.arrows=="string"){const a=t.arrows.toLowerCase();e.arrows.to.enabled=Oe(a).call(a,"to")!=-1,e.arrows.middle.enabled=Oe(a).call(a,"middle")!=-1,e.arrows.from.enabled=Oe(a).call(a,"from")!=-1}else if(typeof t.arrows=="object")yt(e.arrows,t.arrows,"to",n.arrows),yt(e.arrows,t.arrows,"middle",n.arrows),yt(e.arrows,t.arrows,"from",n.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+t5(t.arrows));else r===!0&&t.arrows===null&&(e.arrows=rs(n.arrows));if(t.color!==void 0&&t.color!==null){const a=Wi(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,u=e.color;if(s)ge(u,n.color,!1,r);else for(const l in u)Object.prototype.hasOwnProperty.call(u,l)&&delete u[l];if(Wi(u))u.color=u,u.highlight=u,u.hover=u,u.inherit=!1,a.opacity===void 0&&(u.opacity=1);else{let l=!1;a.color!==void 0&&(u.color=a.color,l=!0),a.highlight!==void 0&&(u.highlight=a.highlight,l=!0),a.hover!==void 0&&(u.hover=a.hover,l=!0),a.inherit!==void 0&&(u.inherit=a.inherit),a.opacity!==void 0&&(u.opacity=Math.min(1,Math.max(0,a.opacity))),l===!0?u.inherit=!1:u.inherit===void 0&&(u.inherit="from")}}else r===!0&&t.color===null&&(e.color=Or(n.color));r===!0&&t.font===null&&(e.font=Or(n.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,t=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,r=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,n=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:r,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const o=this.options.selectionWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const o=this.options.hoverWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let t=!1,r=!0;return this.edgeType!==void 0&&((this.edgeType instanceof Jk&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof eD&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof Qk&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof tD&&e.type.enabled===!1)&&(r=!1),r===!0&&(t=this.cleanup())),r===!0?e.enabled===!0?e.type==="dynamic"?(t=!0,this.edgeType=new Jk(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new eD(this.options,this.body,this.labelModule):this.edgeType=new Qk(this.options,this.body,this.labelModule):this.edgeType=new tD(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,t,r){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,t,r,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*o}this.options.width=this.options.scaling.min+n*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,r),this.drawLabel(e,r)}drawArrows(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(n.from=this.edgeType.getArrowData(e,"from",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.fromPoint=n.from.core),t.fromArrowSrc&&(n.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(n.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(n.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(n.to=this.edgeType.getArrowData(e,"to",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.toPoint=n.to.core),t.toArrowSrc&&(n.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(n.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(n.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(n.middle=this.edgeType.getArrowData(e,"middle",r,this.selected,this.hover,t),t.middleArrowSrc&&(n.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(n.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(n.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.to)}drawLabel(e,t){if(this.options.label!==void 0){const r=this.from,n=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(r.id!=n.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,t),e.save();const o=this._getRotation(e);o.angle!=0&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const o=QN(e,this.options.selfReference.angle,this.options.selfReference.size,r);s=this._pointOnCircle(o.x,o.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const t=[];if(this.labelModule.visible()){const n=this._getRotation();ab(this.labelModule.getSize(),e,n)&&t.push({edgeId:this.id,labelId:0})}const r={left:e.x,top:e.y};return this.isOverlappingWith(r)&&t.push({edgeId:this.id}),t}isOverlappingWith(e){if(this.connected){const r=this.from.x,n=this.from.y,s=this.to.x,o=this.to.y,a=e.left,u=e.top;return this.edgeType.getDistanceToEdge(r,n,s,o,a,u)<10}else return!1}_getRotation(e){const t=this.edgeType.getViaNode(),r=this.edgeType.getPoint(.5,t);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,r.x,r.y);const n={x:r.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return n;const s=this.from.y-this.to.y,o=this.from.x-this.to.x;let a=Math.atan2(s,o);return(a<-1&&o<0||a>0&&o<0)&&(a+=Math.PI),n.angle=a,n}_pointOnCircle(e,t,r,n){return{x:e+r*Math.cos(n),y:t-r*Math.sin(n)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class JU{constructor(e,t,r){var n;this.body=e,this.images=t,this.groups=r,this.body.functions.createEdge=M(n=this.create).call(n,this),this.edgesListeners={add:(s,o)=>{this.add(o.items)},update:(s,o)=>{this.update(o.items)},remove:(s,o)=>{this.remove(o.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,o,a,u){if(o===s)return .5;{const l=1/(o-s);return Math.max(0,(u-s)*l)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},ge(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,t,r;this.body.emitter.on("_forceDisableDynamicCurves",function(n){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n==="dynamic"&&(n="continuous");let o=!1;for(const a in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,a)){const u=e.body.edges[a],l=e.body.data.edges.get(a);if(l!=null){const d=l.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(n===void 0?u.setOptions({smooth:!1}):u.setOptions({smooth:{type:n}}),o=!0)}}s===!0&&o===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",M(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",M(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{ne(this.edgesListeners,(n,s)=>{this.body.data.edges&&this.body.data.edges.off(s,n)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){$r.parseOptions(this.options,e,!0,this.defaultOptions,!0);let t=!1;if(e.smooth!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&(t=this.body.edges[r].updateEdgeType()||t);if(e.font!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&this.body.edges[r].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||t===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.edges;if(kF("id",e))this.body.data.edges=e;else if(At(e))this.body.data.edges=new tn,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new tn;else throw new TypeError("Array or DataSet expected");if(r&&ne(this.edgesListeners,(n,s)=>{r.off(s,n)}),this.body.edges={},this.body.data.edges){ne(this.edgesListeners,(s,o)=>{this.body.data.edges.on(o,s)});const n=this.body.data.edges.getIds();this.add(n,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.edges,n=this.body.data.edges;for(let s=0;s<e.length;s++){const o=e[s],a=r[o];a&&a.disconnect();const u=n.get(o,{showInternalIds:!0});r[o]=this.create(u)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}update(e){const t=this.body.edges,r=this.body.data.edges;let n=!1;for(let s=0;s<e.length;s++){const o=e[s],a=r.get(o),u=t[o];u!==void 0?(u.disconnect(),n=u.setOptions(a)||n,u.connect()):(this.body.edges[o]=this.create(a),n=!0)}n===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const r=this.body.edges;ne(e,n=>{const s=r[n];s!==void 0&&s.remove()}),t&&this.body.emitter.emit("_dataChanged")}refresh(){ne(this.body.edges,(e,t)=>{const r=this.body.data.edges.get(t);r!==void 0&&e.setOptions(r)})}create(e){return new $r(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const t=this.body.nodes,r=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const n=r[e];n.from=null,n.to=null,n.connect()}}getConnectedNodes(e){const t=[];if(this.body.edges[e]!==void 0){const r=this.body.edges[e];r.fromId!==void 0&&t.push(r.fromId),r.toId!==void 0&&t.push(r.toId)}return t}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];ne(this.body.edges,(t,r)=>{const n=this.body.nodes[t.toId],s=this.body.nodes[t.fromId];n!==void 0&&n.isCluster===!0||s!==void 0&&s.isCluster===!0||(n===void 0||s===void 0)&&e.push(r)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const t=this.body.edges,r=[];_e(e).call(e,(n,s)=>{t[s]===void 0&&r.push(s)}),this.add(r,!0)}}var rD={},iD;function QU(){if(iD)return rD;iD=1;var i=G(),e=ae(),t=Date,r=e(t.prototype.getTime);return i({target:"Date",stat:!0},{now:function(){return r(new t)}}),rD}var Fy,nD;function eK(){if(nD)return Fy;nD=1,QU();var i=fe();return Fy=i.Date.now,Fy}var Ny,sD;function tK(){if(sD)return Ny;sD=1;var i=eK();return Ny=i,Ny}var By,oD;function rK(){return oD||(oD=1,By=tK()),By}var iK=rK(),ub=X(iK);class n5{constructor(e,t,r){this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(r),this._rng=ua("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const t=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=r.length,s=this._formBarnesHutTree(t,r);this.barnesHutTree=s;for(let o=0;o<n;o++)e=t[r[o]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}_getForceContribution(e,t){if(e.childrenCount>0){const r=e.centerOfMass.x-t.x,n=e.centerOfMass.y-t.y,s=Math.sqrt(r*r+n*n);s*e.calcSize>this.thetaInversed?this._calculateForces(s,r,n,t,e):e.childrenCount===4?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(s,r,n,t,e)}}_calculateForces(e,t,r,n,s){e===0&&(e=.1,t=e),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const o=this.options.gravitationalConstant*s.mass*n.options.mass/Math.pow(e,3),a=t*o,u=r*o;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=u}_formBarnesHutTree(e,t){let r;const n=t.length;let s=e[t[0]].x,o=e[t[0]].y,a=e[t[0]].x,u=e[t[0]].y;for(let _=1;_<n;_++){const y=e[t[_]],p=y.x,O=y.y;y.options.mass>0&&(p<s&&(s=p),p>a&&(a=p),O<o&&(o=O),O>u&&(u=O))}const l=Math.abs(a-s)-Math.abs(u-o);l>0?(o-=.5*l,u+=.5*l):(s+=.5*l,a-=.5*l);const c=Math.max(1e-5,Math.abs(a-s)),h=.5*c,f=.5*(s+a),v=.5*(o+u),g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-h,maxX:f+h,minY:v-h,maxY:v+h},size:c,calcSize:1/c,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(let _=0;_<n;_++)r=e[t[_]],r.options.mass>0&&this._placeInTree(g.root,r);return g}_updateBranchMass(e,t){const r=e.centerOfMass,n=e.mass+t.options.mass,s=1/n;r.x=r.x*e.mass+t.x*t.options.mass,r.x*=s,r.y=r.y*e.mass+t.y*t.options.mass,r.y*=s,e.mass=n;const o=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}_placeInTree(e,t,r){(r!=!0||r===void 0)&&this._updateBranchMass(e,t);const n=e.children.NW.range;let s;n.maxX>t.x?n.maxY>t.y?s="NW":s="SW":n.maxY>t.y?s="NE":s="SE",this._placeInRegion(e,t,s)}_placeInRegion(e,t,r){const n=e.children[r];switch(n.childrenCount){case 0:n.children.data=t,n.childrenCount=1,this._updateBranchMass(n,t);break;case 1:n.children.data.x===t.x&&n.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,t));break;case 4:this._placeInTree(n,t);break}}_splitBranch(e){let t=null;e.childrenCount===1&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),t!=null&&this._placeInTree(e,t)}_insertRegion(e,t){let r,n,s,o;const a=.5*e.size;switch(t){case"NW":r=e.range.minX,n=e.range.minX+a,s=e.range.minY,o=e.range.minY+a;break;case"NE":r=e.range.minX+a,n=e.range.maxX,s=e.range.minY,o=e.range.minY+a;break;case"SW":r=e.range.minX,n=e.range.minX+a,s=e.range.minY+a,o=e.range.maxY;break;case"SE":r=e.range.minX+a,n=e.range.maxX,s=e.range.minY+a,o=e.range.maxY;break}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:r,maxX:n,minY:s,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,t){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}_drawBranch(e,t,r){r===void 0&&(r="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=r,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}class nK{constructor(e,t,r){this._rng=ua("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n,s,o,a,u;const l=this.body.nodes,d=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,h=this.options.nodeDistance,f=-2/3/h,v=4/3;for(let g=0;g<d.length-1;g++){a=l[d[g]];for(let _=g+1;_<d.length;_++)u=l[d[_]],e=u.x-a.x,t=u.y-a.y,r=Math.sqrt(e*e+t*t),r===0&&(r=.1*this._rng(),e=r),r<2*h&&(r<.5*h?o=1:o=f*r+v,o=o/r,n=e*o,s=t*o,c[a.id].x-=n,c[a.id].y-=s,c[u.id].x+=n,c[u.id].y+=s)}}}class sK{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,n=this.options.nodeDistance;for(let s=0;s<t.length-1;s++){const o=e[t[s]];for(let a=s+1;a<t.length;a++){const u=e[t[a]];if(o.level===u.level){const l=n+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(u.shape.radius||0)/2),d=u.x-o.x,c=u.y-o.y,h=Math.sqrt(d*d+c*c),f=.05;let v;h<l?v=-Math.pow(f*h,2)+Math.pow(f*l,2):v=0,h!==0&&(v=v/h);const g=d*v,_=c*v;r[o.id].x-=g,r[o.id].y-=_,r[u.id].x+=g,r[u.id].y+=_}}}}}class jy{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t;const r=this.physicsBody.physicsEdgeIndices,n=this.body.edges;let s,o,a;for(let u=0;u<r.length;u++)t=n[r[u]],t.connected===!0&&t.toId!==t.fromId&&this.body.nodes[t.toId]!==void 0&&this.body.nodes[t.fromId]!==void 0&&(t.edgeType.via!==void 0?(e=t.options.length===void 0?this.options.springLength:t.options.length,s=t.to,o=t.edgeType.via,a=t.from,this._calculateSpringForce(s,o,.5*e),this._calculateSpringForce(o,a,.5*e)):(e=t.options.length===void 0?this.options.springLength*1.5:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}_calculateSpringForce(e,t,r){const n=e.x-t.x,s=e.y-t.y,o=Math.max(Math.sqrt(n*n+s*s),.01),a=this.options.springConstant*(r-o)/o,u=n*a,l=s*a;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=u,this.physicsBody.forces[e.id].y+=l),this.physicsBody.forces[t.id]!==void 0&&(this.physicsBody.forces[t.id].x-=u,this.physicsBody.forces[t.id].y-=l)}}class oK{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n,s,o,a,u;const l=this.body.edges,d=.5,c=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces;for(let m=0;m<h.length;m++){const S=h[m];f[S].springFx=0,f[S].springFy=0}for(let m=0;m<c.length;m++)t=l[c[m]],t.connected===!0&&(e=t.options.length===void 0?this.options.springLength:t.options.length,r=t.from.x-t.to.x,n=t.from.y-t.to.y,u=Math.sqrt(r*r+n*n),u=u===0?.01:u,a=this.options.springConstant*(e-u)/u,s=r*a,o=n*a,t.to.level!=t.from.level?(f[t.toId]!==void 0&&(f[t.toId].springFx-=s,f[t.toId].springFy-=o),f[t.fromId]!==void 0&&(f[t.fromId].springFx+=s,f[t.fromId].springFy+=o)):(f[t.toId]!==void 0&&(f[t.toId].x-=d*s,f[t.toId].y-=d*o),f[t.fromId]!==void 0&&(f[t.fromId].x+=d*s,f[t.fromId].y+=d*o)));a=1;let v,g;for(let m=0;m<h.length;m++){const S=h[m];v=Math.min(a,Math.max(-a,f[S].springFx)),g=Math.min(a,Math.max(-a,f[S].springFy)),f[S].x+=v,f[S].y+=g}let _=0,y=0;for(let m=0;m<h.length;m++){const S=h[m];_+=f[S].x,y+=f[S].y}const p=_/h.length,O=y/h.length;for(let m=0;m<h.length;m++){const S=h[m];f[S].x-=p,f[S].y-=O}}}class mo{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n;const s=this.body.nodes,o=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces;for(let u=0;u<o.length;u++){const l=o[u];n=s[l],e=-n.x,t=-n.y,r=Math.sqrt(e*e+t*t),this._calculateForces(r,e,t,a,n)}}_calculateForces(e,t,r,n,s){const o=e===0?0:this.options.centralGravity/e;n[s.id].x=t*o,n[s.id].y=r*o}}class aK extends n5{constructor(e,t,r){super(e,t,r),this._rng=ua("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,t,r,n,s){e===0&&(e=.1*this._rng(),t=e),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const o=n.edges.length+1,a=this.options.gravitationalConstant*s.mass*n.options.mass*o/Math.pow(e,2),u=t*a,l=r*a;this.physicsBody.forces[n.id].x+=u,this.physicsBody.forces[n.id].y+=l}}class uK extends mo{constructor(e,t,r){super(e,t,r)}_calculateForces(e,t,r,n,s){if(e>0){const o=s.edges.length+1,a=this.options.centralGravity*o*s.options.mass;n[s.id].x=t*a,n[s.id].y=r*a}}}class lK{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Ye(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,qo(["stabilization"],this.options,e),yt(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const t=this.options.wind;t&&((typeof t.x!="number"||ob(t.x))&&(t.x=0),(typeof t.y!="number"||ob(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new aK(this.body,this.physicsBody,e),this.edgesSolver=new jy(this.body,this.physicsBody,e),this.gravitySolver=new uK(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new nK(this.body,this.physicsBody,e),this.edgesSolver=new jy(this.body,this.physicsBody,e),this.gravitySolver=new mo(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new sK(this.body,this.physicsBody,e),this.edgesSolver=new oK(this.body,this.physicsBody,e),this.gravitySolver=new mo(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new n5(this.body,this.physicsBody,e),this.edgesSolver=new jy(this.body,this.physicsBody,e),this.gravitySolver=new mo(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=M(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=ub();this.physicsTick(),(ub()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Gi(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,t=this.body.edges;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[r].id);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&t[r].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(t[r].id);for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[n]={x:0,y:0},this.physicsBody.velocities[n]===void 0&&(this.physicsBody.velocities[n]={x:0,y:0})}for(const r in this.physicsBody.velocities)e[r]===void 0&&delete this.physicsBody.velocities[r]}revert(){const e=ke(this.previousStates),t=this.body.nodes,r=this.physicsBody.velocities;this.referenceState={};for(let n=0;n<e.length;n++){const s=e[n];t[s]!==void 0?t[s].options.physics===!0&&(this.referenceState[s]={positions:{x:t[s].x,y:t[s].y}},r[s].x=this.previousStates[s].vx,r[s].y=this.previousStates[s].vy,t[s].x=this.previousStates[s].x,t[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,t,r;const n=this.body.nodes,s=this.referenceState,o=.3;for(const a in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,a)&&n[a]!==void 0&&(e=n[a].x-s[a].positions.x,t=n[a].y-s[a].positions.y,r=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),r>o))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let t=0,r=0;const n=5;for(let s=0;s<e.length;s++){const o=e[s],a=this._performStep(o);t=Math.max(t,a),r+=a}this.adaptiveTimestepEnabled=r/e.length<n,this.stabilized=t<this.options.minVelocity}calculateComponentVelocity(e,t,r){const n=this.modelOptions.damping*e,s=(t-n)/r;e+=s*this.timestep;const o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}_performStep(e){const t=this.body.nodes[e],r=this.physicsBody.forces[e];this.options.wind&&(r.x+=this.options.wind.x,r.y+=this.options.wind.y);const n=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:n.x,vy:n.y},t.options.fixed.x===!1?(n.x=this.calculateComponentVelocity(n.x,r.x,t.options.mass),t.x+=n.x*this.timestep):(r.x=0,n.x=0),t.options.fixed.y===!1?(n.y=this.calculateComponentVelocity(n.y,r.y,t.options.mass),t.y+=n.y*this.timestep):(r.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}_freezeNodes(){const e=this.body.nodes;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){const r=e[t].options.fixed;this.freezeCache[t]={x:r.x,y:r.y},r.x=!0,r.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.freezeCache[t]!==void 0&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Gi(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,t=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&t();let r=0;for(;e()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;if(t(),e()){var n;Gi(M(n=this._stabilizationBatch).call(n,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let t=0;t<this.physicsBody.physicsNodeIndices.length;t++){const r=this.physicsBody.physicsNodeIndices[t],n=this.body.nodes[r],s=this.physicsBody.forces[r],o=20,a=.03,u=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),l=Math.min(Math.max(5,u),15),d=3*l,c=ib((180-Math.min(1,Math.max(0,a*u))*180)/360,1,1),h={x:n.x+o*s.x,y:n.y+o*s.y};e.lineWidth=l,e.strokeStyle=c,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(h.x,h.y),e.stroke();const f=Math.atan2(s.y,s.x);e.fillStyle=c,r5.draw(e,{type:"arrow",point:h,angle:f,length:d}),ya(e).call(e)}}}var aD={},uD;function dK(){if(uD)return aD;uD=1;var i=G(),e=ae(),t=wi(),r=e([].reverse),n=[1,2];return i({target:"Array",proto:!0,forced:String(n)===String(n.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),aD}var Ly,lD;function cK(){if(lD)return Ly;lD=1,dK();var i=Je();return Ly=i("Array","reverse"),Ly}var zy,dD;function hK(){if(dD)return zy;dD=1;var i=Ne(),e=cK(),t=Array.prototype;return zy=function(r){var n=r.reverse;return r===t||i(t,r)&&n===t.reverse?e:n},zy}var Wy,cD;function fK(){if(cD)return Wy;cD=1;var i=hK();return Wy=i,Wy}var Hy,hD;function vK(){return hD||(hD=1,Hy=fK()),Hy}var pK=vK(),Ui=X(pK);const Ke=[];for(let i=0;i<256;++i)Ke.push((i+256).toString(16).slice(1));function gK(i,e=0){return(Ke[i[e+0]]+Ke[i[e+1]]+Ke[i[e+2]]+Ke[i[e+3]]+"-"+Ke[i[e+4]]+Ke[i[e+5]]+"-"+Ke[i[e+6]]+Ke[i[e+7]]+"-"+Ke[i[e+8]]+Ke[i[e+9]]+"-"+Ke[i[e+10]]+Ke[i[e+11]]+Ke[i[e+12]]+Ke[i[e+13]]+Ke[i[e+14]]+Ke[i[e+15]]).toLowerCase()}let Gy;const yK=new Uint8Array(16);function mK(){if(!Gy){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Gy=crypto.getRandomValues.bind(crypto)}return Gy(yK)}const bK=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var fD={randomUUID:bK};function ss(i,e,t){if(fD.randomUUID&&!i)return fD.randomUUID();i=i||{};const r=i.random??i.rng?.()??mK();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,gK(r)}class ot{constructor(){}static getRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,n=-1e9,s=1e9,o=-1e9,a;if(t.length>0)for(let u=0;u<t.length;u++)a=e[t[u]],s>a.shape.boundingBox.left&&(s=a.shape.boundingBox.left),o<a.shape.boundingBox.right&&(o=a.shape.boundingBox.right),r>a.shape.boundingBox.top&&(r=a.shape.boundingBox.top),n<a.shape.boundingBox.bottom&&(n=a.shape.boundingBox.bottom);return s===1e9&&o===-1e9&&r===1e9&&n===-1e9&&(r=0,n=0,s=0,o=0),{minX:s,maxX:o,minY:r,maxY:n}}static getRangeCore(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,n=-1e9,s=1e9,o=-1e9,a;if(t.length>0)for(let u=0;u<t.length;u++)a=e[t[u]],s>a.x&&(s=a.x),o<a.x&&(o=a.x),r>a.y&&(r=a.y),n<a.y&&(n=a.y);return s===1e9&&o===-1e9&&r===1e9&&n===-1e9&&(r=0,n=0,s=0,o=0),{minX:s,maxX:o,minY:r,maxY:n}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,t){const r={};return t===void 0||t==="node"?(ge(r,e.options,!0),r.x=e.x,r.y=e.y,r.amountOfConnections=e.edges.length):ge(r,e.options,!0),r}}class _K extends we{constructor(e,t,r,n,s,o){super(e,t,r,n,s,o),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const t=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!t.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],ne(t.edges,r=>{delete this.containedEdges[r.id]}),ne(t.containedNodes,(r,n)=>{this.containedNodes[n]=r}),t.containedNodes={},ne(t.containedEdges,(r,n)=>{this.containedEdges[n]=r}),t.containedEdges={},ne(t.edges,r=>{ne(this.edges,n=>{var s,o;const a=Oe(s=n.clusteringEdgeReplacingIds).call(s,r.id);a!==-1&&(ne(r.clusteringEdgeReplacingIds,u=>{n.clusteringEdgeReplacingIds.push(u),this.body.edges[u].edgeReplacedById=n.id}),Ir(o=n.clusteringEdgeReplacingIds).call(o,a,1))})}),t.edges=[]}}class wK{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Ye(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,t){e===void 0?e=this._getHubSize():typeof e=="object"&&(t=this._checkOptions(e),e=this._getHubSize());const r=[];for(let n=0;n<this.body.nodeIndices.length;n++){const s=this.body.nodes[this.body.nodeIndices[n]];s.edges.length>=e&&r.push(s.id)}for(let n=0;n<r.length;n++)this.clusterByConnection(r[n],t,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const r={},n={};ne(this.body.nodes,(s,o)=>{s.options&&e.joinCondition(s.options)===!0&&(r[o]=s,ne(s.edges,a=>{this.clusteredEdges[a.id]===void 0&&(n[a.id]=a)}))}),this._cluster(r,n,e,t)}clusterByEdgeCount(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;t=this._checkOptions(t);const n=[],s={};let o,a,u;for(let l=0;l<this.body.nodeIndices.length;l++){const d={},c={},h=this.body.nodeIndices[l],f=this.body.nodes[h];if(s[h]===void 0){u=0,a=[];for(let v=0;v<f.edges.length;v++)o=f.edges[v],this.clusteredEdges[o.id]===void 0&&(o.toId!==o.fromId&&u++,a.push(o));if(u===e){const v=function(_){if(t.joinCondition===void 0||t.joinCondition===null)return!0;const y=ot.cloneOptions(_);return t.joinCondition(y)};let g=!0;for(let _=0;_<a.length;_++){o=a[_];const y=this._getConnectedId(o,h);if(v(f))c[o.id]=o,d[h]=f,d[y]=this.body.nodes[y],s[h]=!0;else{g=!1;break}}if(ke(d).length>0&&ke(c).length>0&&g===!0){const y=function(){for(let p=0;p<n.length;++p)for(const O in d)if(n[p].nodes[O]!==void 0)return n[p]}();if(y!==void 0){for(const p in d)y.nodes[p]===void 0&&(y.nodes[p]=d[p]);for(const p in c)y.edges[p]===void 0&&(y.edges[p]=c[p])}else n.push({nodes:d,edges:c})}}}}for(let l=0;l<n.length;l++)this._cluster(n[l].nodes,n[l].edges,t,!1);r===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,t)}clusterBridges(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,t)}clusterByConnection(e,t){var r;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];t=this._checkOptions(t,s),t.clusterNodeProperties.x===void 0&&(t.clusterNodeProperties.x=s.x),t.clusterNodeProperties.y===void 0&&(t.clusterNodeProperties.y=s.y),t.clusterNodeProperties.fixed===void 0&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=s.options.fixed.x,t.clusterNodeProperties.fixed.y=s.options.fixed.y);const o={},a={},u=s.id,l=ot.cloneOptions(s);o[u]=s;for(let c=0;c<s.edges.length;c++){const h=s.edges[c];if(this.clusteredEdges[h.id]===void 0){const f=this._getConnectedId(h,u);if(this.clusteredNodes[f]===void 0)if(f!==u)if(t.joinCondition===void 0)a[h.id]=h,o[f]=this.body.nodes[f];else{const v=ot.cloneOptions(this.body.nodes[f]);t.joinCondition(l,v)===!0&&(a[h.id]=h,o[f]=this.body.nodes[f])}else a[h.id]=h}}const d=bs(r=ke(o)).call(r,function(c){return o[c].id});for(const c in o){if(!Object.prototype.hasOwnProperty.call(o,c))continue;const h=o[c];for(let f=0;f<h.edges.length;f++){const v=h.edges[f];Oe(d).call(d,this._getConnectedId(v,h.id))>-1&&(a[v.id]=v)}}this._cluster(o,a,t,n)}_createClusterEdges(e,t,r,n){let s,o,a,u,l,d;const c=ke(e),h=[];for(let g=0;g<c.length;g++){o=c[g],a=e[o];for(let _=0;_<a.edges.length;_++)s=a.edges[_],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?t[s.id]=s:s.toId==o?(u=r.id,l=s.fromId,d=l):(u=s.toId,l=r.id,d=u),e[d]===void 0&&h.push({edge:s,fromId:l,toId:u}))}const f=[],v=function(g){for(let _=0;_<f.length;_++){const y=f[_],p=g.fromId===y.fromId&&g.toId===y.toId,O=g.fromId===y.toId&&g.toId===y.fromId;if(p||O)return y}return null};for(let g=0;g<h.length;g++){const _=h[g],y=_.edge;let p=v(_);p===null?(p=this._createClusteredEdge(_.fromId,_.toId,y,n),f.push(p)):p.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=p.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(ke(e).length==0||ke(e).length==1&&r.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let o=ge({},r.clusterNodeProperties);if(r.processProperties!==void 0){const d=[];for(const h in e)if(Object.prototype.hasOwnProperty.call(e,h)){const f=ot.cloneOptions(e[h]);d.push(f)}const c=[];for(const h in t)if(Object.prototype.hasOwnProperty.call(t,h)&&h.substr(0,12)!=="clusterEdge:"){const f=ot.cloneOptions(t[h],"edge");c.push(f)}if(o=r.processProperties(o,d,c),!o)throw new Error("The processProperties function does not return properties!")}o.id===void 0&&(o.id="cluster:"+ss());const a=o.id;o.label===void 0&&(o.label="cluster");let u;o.x===void 0&&(u=this._getClusterPosition(e),o.x=u.x),o.y===void 0&&(u===void 0&&(u=this._getClusterPosition(e)),o.y=u.y),o.id=a;const l=this.body.functions.createNode(o,_K);l.containedNodes=e,l.containedEdges=t,l.clusterEdgeProperties=r.clusterEdgeProperties,this.body.nodes[o.id]=l,this._clusterEdges(e,t,o,r.clusterEdgeProperties),o.id=void 0,n===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const t=this.clusteredEdges[e.id];t!==void 0&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const t=ke(e);let r=e[t[0]].x,n=e[t[0]].x,s=e[t[0]].y,o=e[t[0]].y,a;for(let u=1;u<t.length;u++)a=e[t[u]],r=a.x<r?a.x:r,n=a.x>n?a.x:n,s=a.y<s?a.y:s,o=a.y>o?a.y:o;return{x:.5*(r+n),y:.5*(s+o)}}openCluster(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const n=this.body.nodes[e];if(n===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(n.isCluster!==!0||n.containedNodes===void 0||n.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),o=Oe(s).call(s,e)-1;if(o>=0){const d=s[o];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged");return}const a=n.containedNodes,u=n.containedEdges;if(t!==void 0&&t.releaseFunction!==void 0&&typeof t.releaseFunction=="function"){const d={},c={x:n.x,y:n.y};for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];d[f]={x:v.x,y:v.y}}const h=t.releaseFunction(c,d);for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];h[f]!==void 0&&(v.x=h[f].x===void 0?n.x:h[f].x,v.y=h[f].y===void 0?n.y:h[f].y)}}else ne(a,function(d){d.options.fixed.x===!1&&(d.x=n.x),d.options.fixed.y===!1&&(d.y=n.y)});for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)){const c=this.body.nodes[d];c.vx=n.vx,c.vy=n.vy,c.setOptions({physics:!0}),delete this.clusteredNodes[d]}const l=[];for(let d=0;d<n.edges.length;d++)l.push(n.edges[d]);for(let d=0;d<l.length;d++){const c=l[d],h=this._getConnectedId(c,e),f=this.clusteredNodes[h];for(let v=0;v<c.clusteringEdgeReplacingIds.length;v++){const g=c.clusteringEdgeReplacingIds[v],_=this.body.edges[g];if(_!==void 0)if(f!==void 0){const y=this.body.nodes[f.clusterId];y.containedEdges[_.id]=_,delete u[_.id];let p=_.fromId,O=_.toId;_.toId==h?O=f.clusterId:p=f.clusterId,this._createClusteredEdge(p,O,_,y.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(_)}c.remove()}for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&this._restoreEdge(u[d]);delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const t=[];if(this.isCluster(e)===!0){const r=this.body.nodes[e].containedNodes;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.push(this.body.nodes[n].id)}return t}findNode(e){const t=[];let n=0,s;for(;this.clusteredNodes[e]!==void 0&&n<100;){if(s=this.body.nodes[e],s===void 0)return[];t.push(s.id),e=this.clusteredNodes[e].clusterId,n++}return s=this.body.nodes[e],s===void 0?[]:(t.push(s.id),Ui(t).call(t),t)}updateClusteredNode(e,t){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(t===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}updateEdge(e,t){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(t===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const r=this.getClusteredEdges(e);for(let n=0;n<r.length;n++)this.body.edges[r[n]].setOptions(t);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const t=[];let n=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&n<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,n++;return Ui(t).call(t),t}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const t=[e],r=[],n=[],s=100;let o=0;for(;t.length>0&&o<s;){const a=t.pop();if(a===void 0)continue;const u=this.body.edges[a];if(u===void 0)continue;o++;const l=u.clusteringEdgeReplacingIds;if(l===void 0)n.push(a);else for(let d=0;d<l.length;++d){const c=l[d];Oe(t).call(t,l)!==-1||Oe(r).call(r,l)!==-1||t.push(c)}r.push(a)}return n}_getConnectedId(e,t){return e.toId!=t?e.toId:(e.fromId!=t,e.fromId)}_getHubSize(){let e=0,t=0,r=0,n=0;for(let u=0;u<this.body.nodeIndices.length;u++){const l=this.body.nodes[this.body.nodeIndices[u]];l.edges.length>n&&(n=l.edges.length),e+=l.edges.length,t+=Math.pow(l.edges.length,2),r+=1}e=e/r,t=t/r;const s=t-Math.pow(e,2),o=Math.sqrt(s);let a=Math.floor(e+2*o);return a>n&&(a=n),a}_createClusteredEdge(e,t,r,n,s){const o=ot.cloneOptions(r,"edge");ge(o,n),o.from=e,o.to=t,o.id="clusterEdge:"+ss(),s!==void 0&&ge(o,s);const a=this.body.functions.createEdge(o);return a.clusteringEdgeReplacingIds=[r.id],a.connect(),this.body.edges[a.id]=a,a}_clusterEdges(e,t,r,n){if(t instanceof $r){const s=t,o={};o[s.id]=s,t=o}if(e instanceof we){const s=e,o={};o[s.id]=s,e=o}if(r==null)throw new Error("_clusterEdges: parameter clusterNode required");n===void 0&&(n=r.clusterEdgeProperties),this._createClusterEdges(e,t,r,n);for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&this.body.edges[s]!==void 0){const o=this.body.edges[s];this._backupEdgeOptions(o),o.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:r.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const t=this.clusteredNodes[e];if(t===void 0)return;const r=t.clusterId;if(r!==void 0)return this.body.nodes[r]}_filter(e,t){const r=[];return ne(e,n=>{t(n)&&r.push(n)}),r}_updateState(){let e;const t=[],r={},n=u=>{ne(this.body.nodes,l=>{l.isCluster===!0&&u(l)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&t.push(e)}n(function(u){for(let l=0;l<t.length;l++)delete u.containedNodes[t[l]]});for(let u=0;u<t.length;u++)delete this.clusteredNodes[t[u]];ne(this.clusteredEdges,u=>{const l=this.body.edges[u];(l===void 0||!l.endPointsValid())&&(r[u]=u)}),n(function(u){ne(u.containedEdges,(l,d)=>{!l.endPointsValid()&&!r[d]&&(r[d]=d)})}),ne(this.body.edges,(u,l)=>{let d=!0;const c=u.clusteringEdgeReplacingIds;if(c!==void 0){let h=0;ne(c,f=>{const v=this.body.edges[f];v!==void 0&&v.endPointsValid()&&(h+=1)}),d=h>0}(!u.endPointsValid()||!d)&&(r[l]=l)}),n(u=>{ne(r,l=>{delete u.containedEdges[l],ne(u.edges,(d,c)=>{if(d.id===l){u.edges[c]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(h){return!r[h]})}),u.edges=this._filter(u.edges,function(d){return d!==null})})}),ne(r,u=>{delete this.clusteredEdges[u]}),ne(r,u=>{delete this.body.edges[u]});const s=ke(this.body.edges);ne(s,u=>{const l=this.body.edges[u],d=this._isClusteredNode(l.fromId)||this._isClusteredNode(l.toId);if(d!==this._isClusteredEdge(l.id))if(d){const c=this._getClusterNodeForNode(l.fromId);c!==void 0&&this._clusterEdges(this.body.nodes[l.fromId],l,c);const h=this._getClusterNodeForNode(l.toId);h!==void 0&&this._clusterEdges(this.body.nodes[l.toId],l,h)}else delete this._clusterEdges[u],this._restoreEdge(l)});let o=!1,a=!0;for(;a;){const u=[];n(function(l){const d=ke(l.containedNodes).length,c=l.options.allowSingleNodeCluster===!0;(c&&d<1||!c&&d<2)&&u.push(l.id)});for(let l=0;l<u.length;++l)this.openCluster(u[l],{},!1);a=u.length>0,o=o||a}o&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class EK{constructor(e,t){this.body=e,this.canvas=t,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Ye(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Gi(()=>{var t;this.zooming=!1,M(t=this._requestRedraw).call(t,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",M(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&qn(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(M(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const t={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const r=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(r.clearRect(0,0,n,s),this.canvas.frame.clientWidth===0)return;if(r.save(),r.translate(this.body.view.translation.x,this.body.view.translation.y),r.scale(this.body.view.scale,this.body.view.scale),r.beginPath(),this.body.emitter.emit("beforeDrawing",r),r.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(r),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:o}=this._drawNodes(r,e);t.drawExternalLabels=o}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(r),t.drawExternalLabels!=null&&t.drawExternalLabels(),e===!1&&this._drawSelectionBox(r),r.beginPath(),this.body.emitter.emit("afterDrawing",r),r.closePath(),r.restore(),e===!0&&r.clearRect(0,0,n,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const t=this.body.nodes;let r;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r=t[n],r.resize(e),r.updateBoundingBox(e,r.selected));e.restore()}_drawNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.nodes,n=this.body.nodeIndices;let s;const o=[],a=[],u=20,l=this.canvas.DOMtoCanvas({x:-u,y:-u}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),c={top:l.y,left:l.x,bottom:d.y,right:d.x},h=[];for(let _=0;_<n.length;_++)if(s=r[n[_]],s.hover)a.push(n[_]);else if(s.isSelected())o.push(n[_]);else if(t===!0){const y=s.draw(e);y.drawExternalLabel!=null&&h.push(y.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(c)===!0){const y=s.draw(e);y.drawExternalLabel!=null&&h.push(y.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let f;const v=o.length,g=a.length;for(f=0;f<v;f++){s=r[o[f]];const _=s.draw(e);_.drawExternalLabel!=null&&h.push(_.drawExternalLabel)}for(f=0;f<g;f++){s=r[a[f]];const _=s.draw(e);_.drawExternalLabel!=null&&h.push(_.drawExternalLabel)}return{drawExternalLabels:()=>{for(const _ of h)_()}}}_drawEdges(e){const t=this.body.edges,r=this.body.edgeIndices;for(let n=0;n<r.length;n++){const s=t[r[n]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const t=this.body.edges,r=this.body.edgeIndices;for(let n=0;n<r.length;n++){const s=t[r[n]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,r=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var Vy,vD;function SK(){if(vD)return Vy;vD=1,BN();var i=fe();return Vy=i.setInterval,Vy}var Uy,pD;function OK(){return pD||(pD=1,Uy=SK()),Uy}var IK=OK(),$K=X(IK);function Do(i,e){e.inputHandler=function(t){t.isFirst&&e(t)},i.on("hammer.input",e.inputHandler)}function s5(i,e){return e.inputHandler=function(t){t.isFinal&&e(t)},i.on("hammer.input",e.inputHandler)}class TK{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Ye(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",t=>{t.width!==0&&(this.body.view.translation.x=t.width*.5),t.height!==0&&(this.body.view.translation.y=t.height*.5)}),this.body.emitter.on("setSize",M(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&qn(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var t;if(window.ResizeObserver){const n=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;n.observe(s),this._cleanupCallbacks.push(()=>{n.unobserve(s)})}else{const n=$K(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(n)})}const r=M(t=this._onResize).call(t,this);window.addEventListener("resize",r),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",r)})}}_cleanUp(){var e,t,r;_e(e=Ui(t=Ir(r=this._cleanupCallbacks).call(r,0)).call(t)).call(e,n=>{try{n()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let r=this.cameraState.scale;e!=1&&t!=1?r=this.cameraState.scale*.5*(e+t):e!=1?r=this.cameraState.scale*e:t!=1&&(r=this.cameraState.scale*t),this.body.view.scale=r;const n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Oe(e).call(e,"%")!==-1||Oe(e).call(e,"px")!==-1)return e;if(Oe(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Hi(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Hi.DIRECTION_ALL}),Do(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new Hi(this.frame),s5(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);let r=!1;const n=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},r=!0;else{const a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),u=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==u)&&this._getCameraState(o),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,r=!0),this.frame.canvas.height!==u&&(this.frame.canvas.height=u,r=!0)}return r===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,r}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let t=1;typeof window<"u"&&(t=window.devicePixelRatio||1);const r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function PK(i,e){const t=Ye({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},i??{});if(!At(t.nodes))throw new TypeError("Nodes has to be an array of ids.");if(t.nodes.length===0&&(t.nodes=e),!(typeof t.minZoomLevel=="number"&&t.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof t.maxZoomLevel=="number"&&t.minZoomLevel<=t.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return t}class RK{constructor(e,t){var r,n;this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",M(r=this.fit).call(r,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",M(n=this.releaseNode).call(n,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=PK(e,this.body.nodeIndices);const r=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;let s,o;if(r===0||n===0)o=1,s=ot.getRange(this.body.nodes,e.nodes);else if(t===!0){let l=0;for(const h in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,h)&&this.body.nodes[h].predefinedPosition===!0&&(l+=1);if(l>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=ot.getRange(this.body.nodes,e.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const c=Math.min(r/600,n/600);o*=c}else{this.body.emitter.emit("_resizeNodes"),s=ot.getRange(this.body.nodes,e.nodes);const l=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,c=r/l,h=n/d;o=c<=h?c:h}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);const u={position:ot.findCenter(s),scale:o,animation:e.animation};this.moveTo(u)}focus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const r={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=r,t.lockedOnNode=e,this.moveTo(t)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Jr(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Jr(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Jr(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Jr(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.position.x,y:t.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+r.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+r.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var n;this.viewFunction=M(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=M(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.x,y:t.y-e.y},n=this.body.view.translation,s={x:n.x+r.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+r.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const t=o7[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var r;this.viewFunction=M(r=this._lockedRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function gD(i){var e=i&&i.preventDefault||!1,t=i&&i.container||window,r={},n={keydown:{},keyup:{}},s={},o;for(o=97;o<=122;o++)s[String.fromCharCode(o)]={code:65+(o-97),shift:!1};for(o=65;o<=90;o++)s[String.fromCharCode(o)]={code:o,shift:!0};for(o=0;o<=9;o++)s[""+o]={code:48+o,shift:!1};for(o=1;o<=12;o++)s["F"+o]={code:111+o,shift:!1};for(o=0;o<=9;o++)s["num"+o]={code:96+o,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(d){l(d,"keydown")},u=function(d){l(d,"keyup")},l=function(d,c){if(n[c][d.keyCode]!==void 0){for(var h=n[c][d.keyCode],f=0;f<h.length;f++)(h[f].shift===void 0||h[f].shift==!0&&d.shiftKey==!0||h[f].shift==!1&&d.shiftKey==!1)&&h[f].fn(d);e==!0&&d.preventDefault()}};return r.bind=function(d,c,h){if(h===void 0&&(h="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);n[h][s[d].code]===void 0&&(n[h][s[d].code]=[]),n[h][s[d].code].push({fn:c,shift:s[d].shift})},r.bindAll=function(d,c){c===void 0&&(c="keydown");for(var h in s)s.hasOwnProperty(h)&&r.bind(h,d,c)},r.getKey=function(d){for(var c in s)if(s.hasOwnProperty(c)){if(d.shiftKey==!0&&s[c].shift==!0&&d.keyCode==s[c].code)return c;if(d.shiftKey==!1&&s[c].shift==!1&&d.keyCode==s[c].code)return c;if(d.keyCode==s[c].code&&c=="shift")return c}return"unknown key, currently not supported"},r.unbind=function(d,c,h){if(h===void 0&&(h="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(c!==void 0){var f=[],v=n[h][s[d].code];if(v!==void 0)for(var g=0;g<v.length;g++)v[g].fn==c&&v[g].shift==s[d].shift||f.push(n[h][s[d].code][g]);n[h][s[d].code]=f}else n[h][s[d].code]=[]},r.reset=function(){n={keydown:{},keyup:{}}},r.destroy=function(){n={keydown:{},keyup:{}},t.removeEventListener("keydown",a,!0),t.removeEventListener("keyup",u,!0)},t.addEventListener("keydown",a,!0),t.addEventListener("keyup",u,!0),r}class CK{constructor(e,t){this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],t=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);const a=new Hi(this.navigationDOM[e[o]]);if(t[o]==="_fit"){var r;Do(a,M(r=this._fit).call(r,this))}else{var n;Do(a,M(n=this.bindToRedraw).call(n,this,t[o]))}this.navigationHammers.push(a)}const s=new Hi(this.canvas.frame);s5(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var t;this.boundFunctions[e]=M(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,n=t/e,s=(1-n)*this.canvas.canvasViewCenter.x+r.x*n,o=(1-n)*this.canvas.canvasViewCenter.y+r.y*n;this.body.view.scale=t,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,n=t/e,s=(1-n)*this.canvas.canvasViewCenter.x+r.x*n,o=(1-n)*this.canvas.canvasViewCenter.y+r.y*n;this.body.view.scale=t,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=gD({container:window,preventDefault:!0}):this.keycharm=gD({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,t,r,n,s,o,a,u,l,d,c,h,f,v,g,_,y,p,O,m,S,$,w,b;M(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),M(t=this.keycharm).call(t,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),M(r=this.keycharm).call(r,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),M(n=this.keycharm).call(n,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),M(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),M(o=this.keycharm).call(o,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),M(a=this.keycharm).call(a,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),M(u=this.keycharm).call(u,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),M(l=this.keycharm).call(l,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),M(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),M(c=this.keycharm).call(c,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),M(h=this.keycharm).call(h,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),M(f=this.keycharm).call(f,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),M(v=this.keycharm).call(v,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),M(g=this.keycharm).call(g,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),M(_=this.keycharm).call(_,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),M(y=this.keycharm).call(y,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),M(p=this.keycharm).call(p,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),M(O=this.keycharm).call(O,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),M(m=this.keycharm).call(m,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),M(S=this.keycharm).call(S,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),M($=this.keycharm).call($,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),M(w=this.keycharm).call(w,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),M(b=this.keycharm).call(b,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class qK{constructor(e,t,r){var n,s,o,a,u,l,d,c,h,f,v,g,_;this.body=e,this.canvas=t,this.selectionHandler=r,this.navigationHandler=new CK(e,t),this.body.eventListeners.onTap=M(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=M(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=M(o=this.onDoubleTap).call(o,this),this.body.eventListeners.onHold=M(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=M(u=this.onDragStart).call(u,this),this.body.eventListeners.onDrag=M(l=this.onDrag).call(l,this),this.body.eventListeners.onDragEnd=M(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=M(c=this.onMouseWheel).call(c,this),this.body.eventListeners.onPinch=M(h=this.onPinch).call(h,this),this.body.eventListeners.onMouseMove=M(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=M(v=this.onRelease).call(v,this),this.body.eventListeners.onContext=M(g=this.onContext).call(g,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=M(_=this.getPointer).call(_,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Ye(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(qo(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),yt(this.options,e,"keyboard"),e.tooltip&&(Ye(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=rb(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-r7(this.canvas.frame.canvas),y:e.y-i7(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}onDoubleTap(e){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}onHold(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=new Date().valueOf()}}onContext(e){const t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,t){const r=function(n,s){const o=[];for(let a=0;a<n.length;a++){const u=n[a];Oe(s).call(s,u)===-1&&o.push(u)}return o};return{nodes:r(e.nodes,t.nodes),edges:r(e.edges,t.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Ye({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const r=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)}}else if(t!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=t.id,t.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const r of this.selectionHandler.getSelectedNodes()){const n={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(n)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const t=this.getPointer(e.center),r=this.drag.selection;if(r&&r.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,t);const n=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;_e(r).call(r,o=>{const a=o.node;o.xFixed===!1&&(a.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(o.x)+n)),o.yFixed===!1&&(a.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(o.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(t.x),y:this.canvas._YconvertDOMtoCanvas(t.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const n=t.x-this.drag.pointer.x,s=t.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+n,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var t;this.body.selectionBox.show=!1;const r=this.body.selectionBox.position,n={minX:Math.min(r.start.x,r.end.x),minY:Math.min(r.start.y,r.end.y),maxX:Math.max(r.start.x,r.end.x),maxY:Math.max(r.start.y,r.end.y)},s=gr(t=this.body.nodeIndices).call(t,a=>{const u=this.body.nodes[a];return u.x>=n.minX&&u.x<=n.maxX&&u.y>=n.minY&&u.y<=n.maxY});_e(s).call(s,a=>this.selectionHandler.selectObject(this.body.nodes[a]));const o=this.getPointer(e.center);this.selectionHandler.commitAndEmit(o,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const r=this.drag.selection;r&&r.length?(_e(r).call(r,function(n){n.node.options.fixed.x=n.xFixed,n.node.options.fixed.y=n.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const t=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const r=this.pinch.scale*e.scale;this.zoom(r,t)}zoom(e,t){if(this.options.zoomView===!0){const r=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let n;this.drag!==void 0&&this.drag.dragging===!0&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,o=e/r,a=(1-o)*t.x+s.x*o,u=(1-o)*t.y+s.y*o;if(this.body.view.scale=e,this.body.view.translation={x:a,y:u},n!=null){const l=this.canvas.canvasToDOM(n);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),r<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let t=this.body.view.scale;t*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const r=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,r)}e.preventDefault()}}onMouseMove(e){const t=this.getPointer({x:e.clientX,y:e.clientY});let r=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(t),this.popup.hidden===!1&&(r=!0,this.popup.setPosition(t.x+3,t.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),r===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Gi(()=>this._checkShowPopup(t),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,t)}_checkShowPopup(e){const t=this.canvas._XconvertDOMtoCanvas(e.x),r=this.canvas._YconvertDOMtoCanvas(e.y),n={left:t,top:r,right:t,bottom:r},s=this.popupObj===void 0?void 0:this.popupObj.id;let o=!1,a="node";if(this.popupObj===void 0){const u=this.body.nodeIndices,l=this.body.nodes;let d;const c=[];for(let h=0;h<u.length;h++)d=l[u[h]],d.isOverlappingWith(n)===!0&&(o=!0,d.getTitle()!==void 0&&c.push(u[h]));c.length>0&&(this.popupObj=l[c[c.length-1]],o=!0)}if(this.popupObj===void 0&&o===!1){const u=this.body.edgeIndices,l=this.body.edges;let d;const c=[];for(let h=0;h<u.length;h++)d=l[u[h]],d.isOverlappingWith(n)===!0&&d.connected===!0&&d.getTitle()!==void 0&&c.push(u[h]);c.length>0&&(this.popupObj=l[c[c.length-1]],a="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new v7(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const t=this.selectionHandler._pointerToPositionObject(e);let r=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(r=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t),r===!0)){const n=this.selectionHandler.getNodeAt(e);r=n===void 0?!1:n.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(r=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));r===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var yD={},mD={},bD;function xK(){if(bD)return mD;bD=1;var i=g1(),e=AN();return i("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),mD}var _D;function kK(){return _D||(_D=1,xK()),yD}var wD={},Ky,ED;function Ii(){if(ED)return Ky;ED=1;var i=On(),e=TypeError;return Ky=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(i(t)+" is not a set")},Ky}var Yy,SD;function $i(){if(SD)return Yy;SD=1;var i=gt(),e=MN(),t=i("Set"),r=t.prototype;return Yy={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},Yy}var Xy,OD;function Ti(){if(OD)return Xy;OD=1;var i=vt();return Xy=function(e,t,r){for(var n=r?e:e.iterator,s=e.next,o,a;!(o=i(s,n)).done;)if(a=t(o.value),a!==void 0)return a},Xy}var Zy,ID;function Qs(){if(ID)return Zy;ID=1;var i=Ti();return Zy=function(e,t,r){return r?i(e.keys(),t,!0):e.forEach(t)},Zy}var Jy,$D;function I1(){if($D)return Jy;$D=1;var i=$i(),e=Qs(),t=i.Set,r=i.add;return Jy=function(n){var s=new t;return e(n,function(o){r(s,o)}),s},Jy}var Qy,TD;function eo(){return TD||(TD=1,Qy=function(i){return i.size}),Qy}var em,PD;function DK(){return PD||(PD=1,em=function(i){return{iterator:i,next:i.next,done:!1}}),em}var tm,RD;function Pi(){if(RD)return tm;RD=1;var i=vr(),e=Yt(),t=vt(),r=Pn(),n=DK(),s="Invalid size",o=RangeError,a=TypeError,u=Math.max,l=function(d,c){this.set=d,this.size=u(c,0),this.has=i(d.has),this.keys=i(d.keys)};return l.prototype={getIterator:function(){return n(e(t(this.keys,this.set)))},includes:function(d){return t(this.has,this.set,d)}},tm=function(d){e(d);var c=+d.size;if(c!==c)throw new a(s);var h=r(c);if(h<0)throw new o(s);return new l(d,h)},tm}var rm,CD;function AK(){if(CD)return rm;CD=1;var i=Ii(),e=$i(),t=I1(),r=eo(),n=Pi(),s=Qs(),o=Ti(),a=e.has,u=e.remove;return rm=function(d){var c=i(this),h=n(d),f=t(c);return r(c)<=h.size?s(c,function(v){h.includes(v)&&u(f,v)}):o(h.getIterator(),function(v){a(f,v)&&u(f,v)}),f},rm}var im,qD;function Ri(){return qD||(qD=1,im=function(){return!1}),im}var xD;function MK(){if(xD)return wD;xD=1;var i=G(),e=AK(),t=oe(),r=Ri(),n=!r("difference",function(o){return o.size===0}),s=n||t(function(){var o={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var l=u++>1;return a.has(1)&&a.clear(),{done:l,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return i({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),wD}var kD={},nm,DD;function FK(){if(DD)return nm;DD=1;var i=Ii(),e=$i(),t=eo(),r=Pi(),n=Qs(),s=Ti(),o=e.Set,a=e.add,u=e.has;return nm=function(d){var c=i(this),h=r(d),f=new o;return t(c)>h.size?s(h.getIterator(),function(v){u(c,v)&&a(f,v)}):n(c,function(v){h.includes(v)&&a(f,v)}),f},nm}var AD;function NK(){if(AD)return kD;AD=1;var i=G(),e=oe(),t=FK(),r=Ri(),n=!r("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return i({target:"Set",proto:!0,real:!0,forced:n},{intersection:t}),kD}var MD={},sm,FD;function BK(){if(FD)return sm;FD=1;var i=Ii(),e=$i().has,t=eo(),r=Pi(),n=Qs(),s=Ti(),o=v1();return sm=function(u){var l=i(this),d=r(u);if(t(l)<=d.size)return n(l,function(h){if(d.includes(h))return!1},!0)!==!1;var c=d.getIterator();return s(c,function(h){if(e(l,h))return o(c,"normal",!1)})!==!1},sm}var ND;function jK(){if(ND)return MD;ND=1;var i=G(),e=BK(),t=Ri(),r=!t("isDisjointFrom",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),MD}var BD={},om,jD;function LK(){if(jD)return om;jD=1;var i=Ii(),e=eo(),t=Qs(),r=Pi();return om=function(s){var o=i(this),a=r(s);return e(o)>a.size?!1:t(o,function(u){if(!a.includes(u))return!1},!0)!==!1},om}var LD;function zK(){if(LD)return BD;LD=1;var i=G(),e=LK(),t=Ri(),r=!t("isSubsetOf",function(n){return n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),BD}var zD={},am,WD;function WK(){if(WD)return am;WD=1;var i=Ii(),e=$i().has,t=eo(),r=Pi(),n=Ti(),s=v1();return am=function(a){var u=i(this),l=r(a);if(t(u)<l.size)return!1;var d=l.getIterator();return n(d,function(c){if(!e(u,c))return s(d,"normal",!1)})!==!1},am}var HD;function HK(){if(HD)return zD;HD=1;var i=G(),e=WK(),t=Ri(),r=!t("isSupersetOf",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),zD}var GD={},um,VD;function GK(){if(VD)return um;VD=1;var i=Ii(),e=$i(),t=I1(),r=Pi(),n=Ti(),s=e.add,o=e.has,a=e.remove;return um=function(l){var d=i(this),c=r(l).getIterator(),h=t(d);return n(c,function(f){o(d,f)?a(h,f):s(h,f)}),h},um}var lm,UD;function o5(){return UD||(UD=1,lm=function(i){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[i](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),lm}var KD;function VK(){if(KD)return GD;KD=1;var i=G(),e=GK(),t=o5(),r=Ri(),n=!r("symmetricDifference")||!t("symmetricDifference");return i({target:"Set",proto:!0,real:!0,forced:n},{symmetricDifference:e}),GD}var YD={},dm,XD;function UK(){if(XD)return dm;XD=1;var i=Ii(),e=$i().add,t=I1(),r=Pi(),n=Ti();return dm=function(o){var a=i(this),u=r(o).getIterator(),l=t(a);return n(u,function(d){e(l,d)}),l},dm}var ZD;function KK(){if(ZD)return YD;ZD=1;var i=G(),e=UK(),t=o5(),r=Ri(),n=!r("union")||!t("union");return i({target:"Set",proto:!0,real:!0,forced:n},{union:e}),YD}var cm,JD;function YK(){if(JD)return cm;JD=1,An(),kK(),MK(),NK(),jK(),zK(),HK(),VK(),KK(),b1();var i=fe();return cm=i.Set,cm}var hm,QD;function XK(){if(QD)return hm;QD=1;var i=YK();return Mn(),hm=i,hm}var fm,eA;function ZK(){return eA||(eA=1,fm=XK()),fm}var JK=ZK(),br=X(JK),tA={},rA={},vm,iA;function QK(){if(iA)return vm;iA=1;var i=ae(),e=m1(),t=ha().getWeakData,r=p1(),n=Yt(),s=wn(),o=Ve(),a=fa(),u=Mr(),l=Ze(),d=Ei(),c=d.set,h=d.getterFor,f=u.find,v=u.findIndex,g=i([].splice),_=0,y=function(m){return m.frozen||(m.frozen=new p)},p=function(){this.entries=[]},O=function(m,S){return f(m.entries,function($){return $[0]===S})};return p.prototype={get:function(m){var S=O(this,m);if(S)return S[1]},has:function(m){return!!O(this,m)},set:function(m,S){var $=O(this,m);$?$[1]=S:this.entries.push([m,S])},delete:function(m){var S=v(this.entries,function($){return $[0]===m});return~S&&g(this.entries,S,1),!!~S}},vm={getConstructor:function(m,S,$,w){var b=m(function(P,R){r(P,E),c(P,{type:S,id:_++,frozen:null}),s(R)||a(R,P[w],{that:P,AS_ENTRIES:$})}),E=b.prototype,I=h(S),T=function(P,R,q){var A=I(P),Y=t(n(R),!0);return Y===!0?y(A).set(R,q):Y[A.id]=q,P};return e(E,{delete:function(P){var R=I(this);if(!o(P))return!1;var q=t(P);return q===!0?y(R).delete(P):q&&l(q,R.id)&&delete q[R.id]},has:function(R){var q=I(this);if(!o(R))return!1;var A=t(R);return A===!0?y(q).has(R):A&&l(A,q.id)}}),e(E,$?{get:function(R){var q=I(this);if(o(R)){var A=t(R);if(A===!0)return y(q).get(R);if(A)return A[q.id]}},set:function(R,q){return T(this,R,q)}}:{add:function(R){return T(this,R,!0)}}),b}},vm}var nA;function eY(){if(nA)return rA;nA=1;var i=kN(),e=Ee(),t=ae(),r=m1(),n=ha(),s=g1(),o=QK(),a=Ve(),u=Ei().enforce,l=oe(),d=qN(),c=Object,h=Array.isArray,f=c.isExtensible,v=c.isFrozen,g=c.isSealed,_=c.freeze,y=c.seal,p=!e.ActiveXObject&&"ActiveXObject"in e,O,m=function(P){return function(){return P(this,arguments.length?arguments[0]:void 0)}},S=s("WeakMap",m,o),$=S.prototype,w=t($.set),b=function(){return i&&l(function(){var P=_([]);return w(new S,P,1),!v(P)})};if(d)if(p){O=o.getConstructor(m,"WeakMap",!0),n.enable();var E=t($.delete),I=t($.has),T=t($.get);r($,{delete:function(P){if(a(P)&&!f(P)){var R=u(this);return R.frozen||(R.frozen=new O),E(this,P)||R.frozen.delete(P)}return E(this,P)},has:function(R){if(a(R)&&!f(R)){var q=u(this);return q.frozen||(q.frozen=new O),I(this,R)||q.frozen.has(R)}return I(this,R)},get:function(R){if(a(R)&&!f(R)){var q=u(this);return q.frozen||(q.frozen=new O),I(this,R)?T(this,R):q.frozen.get(R)}return T(this,R)},set:function(R,q){if(a(R)&&!f(R)){var A=u(this);A.frozen||(A.frozen=new O),I(this,R)?w(this,R,q):A.frozen.set(R,q)}else w(this,R,q);return this}})}else b()&&r($,{set:function(R,q){var A;return h(R)&&(v(R)?A=_:g(R)&&(A=y)),w(this,R,q),A&&A(R),this}});return rA}var sA;function tY(){return sA||(sA=1,eY()),tA}var pm,oA;function rY(){if(oA)return pm;oA=1,An(),tY();var i=fe();return pm=i.WeakMap,pm}var gm,aA;function iY(){if(aA)return gm;aA=1;var i=rY();return Mn(),gm=i,gm}var ym,uA;function nY(){return uA||(uA=1,ym=iY()),ym}var sY=nY(),to=X(sY);function os(i,e,t){oY(i,e),e.set(i,t)}function oY(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function lb(i,e,t){return i.set(a5(i,e),t),t}function pe(i,e){return i.get(a5(i,e))}function a5(i,e,t){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function lA(i,e){const t=new br;for(const r of e)i.has(r)||t.add(r);return t}var Ai=new to,kt=new to;class dA{constructor(){os(this,Ai,new br),os(this,kt,new br)}get size(){return pe(kt,this).size}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const n of t)pe(kt,this).add(n)}delete(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const n of t)pe(kt,this).delete(n)}clear(){pe(kt,this).clear()}getSelection(){return[...pe(kt,this)]}getChanges(){return{added:[...lA(pe(Ai,this),pe(kt,this))],deleted:[...lA(pe(kt,this),pe(Ai,this))],previous:[...new br(pe(Ai,this))],current:[...new br(pe(kt,this))]}}commit(){const e=this.getChanges();lb(Ai,this,pe(kt,this)),lb(kt,this,new br(pe(Ai,this)));for(const t of e.added)t.select();for(const t of e.deleted)t.unselect();return e}}var Ur=new to,Kr=new to,mm=new to;class aY{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};os(this,Ur,new dA),os(this,Kr,new dA),os(this,mm,void 0),lb(mm,this,e)}get sizeNodes(){return pe(Ur,this).size}get sizeEdges(){return pe(Kr,this).size}getNodes(){return pe(Ur,this).getSelection()}getEdges(){return pe(Kr,this).getSelection()}addNodes(){pe(Ur,this).add(...arguments)}addEdges(){pe(Kr,this).add(...arguments)}deleteNodes(e){pe(Ur,this).delete(e)}deleteEdges(e){pe(Kr,this).delete(e)}clear(){pe(Ur,this).clear(),pe(Kr,this).clear()}commit(){const e={nodes:pe(Ur,this).commit(),edges:pe(Kr,this).commit()};for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return pe(mm,this).call(this,e,...r),e}}class uY{constructor(e,t){this.body=e,this.canvas=t,this._selectionAccumulator=new aY,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Ye(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&qn(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),r!==void 0&&(t=this.selectObject(r)),this.body.emitter.emit("_requestRedraw")}return t}selectAdditionalOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);r!==void 0&&(t=!0,r.isSelected()===!0?this.deselectObject(r):this.selectObject(r),this.body.emitter.emit("_requestRedraw"))}return t}_initBaseEvent(e,t){const r={};return r.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},r.event=e,r}generateClickEvent(e,t,r,n){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const o=this._initBaseEvent(t,r);if(s===!0)o.nodes=[],o.edges=[];else{const a=this.getSelection();o.nodes=a.nodes,o.edges=a.edges}n!==void 0&&(o.previousSelection=n),e=="click"&&(o.items=this.getClickedItems(r)),t.controlEdge!==void 0&&(o.controlEdge=t.controlEdge),this.body.emitter.emit(e,o)}selectObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof we?(t===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const t=[],r=this.body.nodes;for(let n=0;n<this.body.nodeIndices.length;n++){const s=this.body.nodeIndices[n];r[s].isOverlappingWith(e)&&t.push(s)}return t}_pointerToPositionObject(e){const t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}getNodeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this._pointerToPositionObject(e),n=this._getAllNodesOverlappingWith(r);if(n.length>0)return t===!0?this.body.nodes[n[n.length-1]]:n[n.length-1]}_getEdgesOverlappingWith(e,t){const r=this.body.edges;for(let n=0;n<this.body.edgeIndices.length;n++){const s=this.body.edgeIndices[n];r[s].isOverlappingWith(e)&&t.push(s)}}_getAllEdgesOverlappingWith(e){const t=[];return this._getEdgesOverlappingWith(e,t),t}getEdgeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this.canvas.DOMtoCanvas(e);let n=10,s=null;const o=this.body.edges;for(let a=0;a<this.body.edgeIndices.length;a++){const u=this.body.edgeIndices[a],l=o[u];if(l.connected){const d=l.from.x,c=l.from.y,h=l.to.x,f=l.to.y,v=l.edgeType.getDistanceToEdge(d,c,h,f,r.x,r.y);v<n&&(s=u,n=v)}}if(s!==null)return t===!0?this.body.edges[s]:s}_addToHover(e){e instanceof we?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof we?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let t=0;t<e.edges.length;t++){const r=e.edges[t];r.hover=!0,this._addToHover(r)}}emitBlurEvent(e,t,r){const n=this._initBaseEvent(e,t);r.hover===!0&&(r.hover=!1,r instanceof we?(n.node=r.id,this.body.emitter.emit("blurNode",n)):(n.edge=r.id,this.body.emitter.emit("blurEdge",n)))}emitHoverEvent(e,t,r){const n=this._initBaseEvent(e,t);let s=!1;return r.hover===!1&&(r.hover=!0,this._addToHover(r),s=!0,r instanceof we?(n.node=r.id,this.body.emitter.emit("hoverNode",n)):(n.edge=r.id,this.body.emitter.emit("hoverEdge",n))),s}hoverObject(e,t){let r=this.getNodeAt(t);r===void 0&&(r=this.getEdgeAt(t));let n=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(r===void 0||r instanceof we&&r.id!=s||r instanceof $r)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],n=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(n===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(r===void 0||r instanceof $r&&r.id!=s||r instanceof we&&!r.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],n=!0));if(r!==void 0){const s=ke(this.hoverObj.edges).length,o=ke(this.hoverObj.nodes).length,a=r instanceof $r&&s===0&&o===0,u=r instanceof we&&s===0&&o===0;(n||a||u)&&(n=this.emitHoverEvent(e,t,r)),r instanceof we&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(r)}n===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,t){let r=!1;const n=this._selectionAccumulator.commit(),s={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,s),r=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,s),r=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),r=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),r=!0),r===!0&&this.generateClickEvent("select",t,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return bs(e=this._selectionAccumulator.getNodes()).call(e,t=>t.id)}getSelectedEdgeIds(){var e;return bs(e=this._selectionAccumulator.getEdges()).call(e,t=>t.id)}setSelection(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||t.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const r of e.nodes){const n=this.body.nodes[r];if(!n)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(n,t.highlightEdges)}if(e.edges)for(const r of e.edges){const n=this.body.edges[r];if(!n)throw new RangeError('Edge with id "'+r+'" not found');this.selectObject(n)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const t=this.canvas.DOMtoCanvas(e),r=[],n=this.body.nodeIndices,s=this.body.nodes;for(let u=n.length-1;u>=0;u--){const d=s[n[u]].getItemsOnPoint(t);r.push.apply(r,d)}const o=this.body.edgeIndices,a=this.body.edges;for(let u=o.length-1;u>=0;u--){const d=a[o[u]].getItemsOnPoint(t);r.push.apply(r,d)}return r}}var cA={},bm,hA;function lY(){if(hA)return bm;hA=1;var i=Rn(),e=Math.floor,t=function(r,n){var s=r.length;if(s<8)for(var o=1,a,u;o<s;){for(u=o,a=r[o];u&&n(r[u-1],a)>0;)r[u]=r[--u];u!==o++&&(r[u]=a)}else for(var l=e(s/2),d=t(i(r,0,l),n),c=t(i(r,l),n),h=d.length,f=c.length,v=0,g=0;v<h||g<f;)r[v+g]=v<h&&g<f?n(d[v],c[g])<=0?d[v++]:c[g++]:v<h?d[v++]:c[g++];return r};return bm=t,bm}var _m,fA;function dY(){if(fA)return _m;fA=1;var i=En(),e=i.match(/firefox\/(\d+)/i);return _m=!!e&&+e[1],_m}var wm,vA;function cY(){if(vA)return wm;vA=1;var i=En();return wm=/MSIE|Trident/.test(i),wm}var Em,pA;function hY(){if(pA)return Em;pA=1;var i=En(),e=i.match(/AppleWebKit\/(\d+)\./);return Em=!!e&&+e[1],Em}var gA;function fY(){if(gA)return cA;gA=1;var i=G(),e=ae(),t=vr(),r=$t(),n=pr(),s=EN(),o=Rt(),a=oe(),u=lY(),l=xn(),d=dY(),c=cY(),h=Ls(),f=hY(),v=[],g=e(v.sort),_=e(v.push),y=a(function(){v.sort(void 0)}),p=a(function(){v.sort(null)}),O=l("sort"),m=!a(function(){if(h)return h<70;if(!(d&&d>3)){if(c)return!0;if(f)return f<603;var w="",b,E,I,T;for(b=65;b<76;b++){switch(E=String.fromCharCode(b),b){case 66:case 69:case 70:case 72:I=3;break;case 68:case 71:I=4;break;default:I=2}for(T=0;T<47;T++)v.push({k:E+T,v:I})}for(v.sort(function(P,R){return R.v-P.v}),T=0;T<v.length;T++)E=v[T].k.charAt(0),w.charAt(w.length-1)!==E&&(w+=E);return w!=="DGBEFHACIJK"}}),S=y||!p||!O||!m,$=function(w){return function(b,E){return E===void 0?-1:b===void 0?1:w!==void 0?+w(b,E)||0:o(b)>o(E)?1:-1}};return i({target:"Array",proto:!0,forced:S},{sort:function(b){b!==void 0&&t(b);var E=r(this);if(m)return b===void 0?g(E):g(E,b);var I=[],T=n(E),P,R;for(R=0;R<T;R++)R in E&&_(I,E[R]);for(u(I,$(b)),P=n(I),R=0;R<P;)E[R]=I[R++];for(;R<T;)s(E,R++);return E}}),cA}var Sm,yA;function vY(){if(yA)return Sm;yA=1,fY();var i=Je();return Sm=i("Array","sort"),Sm}var Om,mA;function pY(){if(mA)return Om;mA=1;var i=Ne(),e=vY(),t=Array.prototype;return Om=function(r){var n=r.sort;return r===t||i(t,r)&&n===t.sort?e:n},Om}var Im,bA;function gY(){if(bA)return Im;bA=1;var i=pY();return Im=i,Im}var $m,_A;function yY(){return _A||(_A=1,$m=gY()),$m}var mY=yY(),Ki=X(mY),wA={},Tm,EA;function bY(){if(EA)return Tm;EA=1;var i=Ce(),e=oe(),t=ae(),r=d1(),n=Hs(),s=jt(),o=Qo().f,a=t(o),u=t([].push),l=i&&e(function(){var c=Object.create(null);return c[2]=2,!a(c,2)}),d=function(c){return function(h){for(var f=s(h),v=n(f),g=l&&r(f)===null,_=v.length,y=0,p=[],O;_>y;)O=v[y++],(!i||(g?O in f:a(f,O)))&&u(p,c?[O,f[O]]:f[O]);return p}};return Tm={entries:d(!0),values:d(!1)},Tm}var SA;function _Y(){if(SA)return wA;SA=1;var i=G(),e=bY().values;return i({target:"Object",stat:!0},{values:function(r){return e(r)}}),wA}var Pm,OA;function wY(){if(OA)return Pm;OA=1,_Y();var i=fe();return Pm=i.Object.values,Pm}var Rm,IA;function EY(){if(IA)return Rm;IA=1;var i=wY();return Rm=i,Rm}var Cm,$A;function SY(){return $A||($A=1,Cm=EY()),Cm}var OY=SY(),IY=X(OY),TA={},qm,PA;function $Y(){if(PA)return qm;PA=1;var i=vr(),e=$t(),t=ea(),r=pr(),n=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(u,l,d,c){var h=e(u),f=t(h),v=r(h);if(i(l),v===0&&d<2)throw new n(s);var g=a?v-1:0,_=a?-1:1;if(d<2)for(;;){if(g in f){c=f[g],g+=_;break}if(g+=_,a?g<0:v<=g)throw new n(s)}for(;a?g>=0:v>g;g+=_)g in f&&(c=l(c,f[g],g,h));return c}};return qm={left:o(!1),right:o(!0)},qm}var xm,RA;function TY(){if(RA)return xm;RA=1;var i=FN();return xm=i==="NODE",xm}var CA;function PY(){if(CA)return TA;CA=1;var i=G(),e=$Y().left,t=xn(),r=Ls(),n=TY(),s=!n&&r>79&&r<83,o=s||!t("reduce");return i({target:"Array",proto:!0,forced:o},{reduce:function(u){var l=arguments.length;return e(this,u,l,l>1?arguments[1]:void 0)}}),TA}var km,qA;function RY(){if(qA)return km;qA=1,PY();var i=Je();return km=i("Array","reduce"),km}var Dm,xA;function CY(){if(xA)return Dm;xA=1;var i=Ne(),e=RY(),t=Array.prototype;return Dm=function(r){var n=r.reduce;return r===t||i(t,r)&&n===t.reduce?e:n},Dm}var Am,kA;function qY(){if(kA)return Am;kA=1;var i=CY();return Am=i,Am}var Mm,DA;function xY(){return DA||(DA=1,Mm=qY()),Mm}var kY=xY(),u5=X(kY);class l5{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,t,r),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,t){this.fake_use(e,t),this.abstract()}shift(e,t){this.fake_use(e,t),this.abstract()}}class DY extends l5{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.x=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}sort(e){Ki(e).call(e,function(t,r){return t.x-r.x})}fix(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}shift(e,t){this.layout.body.nodes[e].x+=t}}class AY extends l5{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.y=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}sort(e){Ki(e).call(e,function(t,r){return t.y-r.y})}fix(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}shift(e,t){this.layout.body.nodes[e].y+=t}}var AA={},MA;function MY(){if(MA)return AA;MA=1;var i=G(),e=Mr().every,t=xn(),r=t("every");return i({target:"Array",proto:!0,forced:!r},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),AA}var Fm,FA;function FY(){if(FA)return Fm;FA=1,MY();var i=Je();return Fm=i("Array","every"),Fm}var Nm,NA;function NY(){if(NA)return Nm;NA=1;var i=Ne(),e=FY(),t=Array.prototype;return Nm=function(r){var n=r.every;return r===t||i(t,r)&&n===t.every?e:n},Nm}var Bm,BA;function BY(){if(BA)return Bm;BA=1;var i=NY();return Bm=i,Bm}var jm,jA;function jY(){return jA||(jA=1,jm=BY()),jm}var LY=jY(),d5=X(LY);function zY(i,e){const t=new br;return _e(i).call(i,r=>{var n;_e(n=r.edges).call(n,s=>{s.connected&&t.add(s)})}),_e(t).call(t,r=>{const n=r.from.id,s=r.to.id;e[n]==null&&(e[n]=0),(e[s]==null||e[n]>=e[s])&&(e[s]=e[n]+1)}),e}function WY(i){return c5(e=>{var t,r;return d5(t=gr(r=e.edges).call(r,n=>i.has(n.toId))).call(t,n=>n.to===e)},(e,t)=>t>e,"from",i)}function HY(i){return c5(e=>{var t,r;return d5(t=gr(r=e.edges).call(r,n=>i.has(n.toId))).call(t,n=>n.from===e)},(e,t)=>t<e,"to",i)}function c5(i,e,t,r){var n;const s=rs(null),o=u5(n=[...e5(r).call(r)]).call(n,(c,h)=>c+1+h.edges.length,0),a=t+"Id",u=t==="to"?1:-1;for(const[c,h]of r){if(!r.has(c)||!i(h))continue;s[c]=0;const f=[h];let v=0,g;for(;g=f.pop();){var l,d;if(!r.has(c))continue;const _=s[g.id]+u;if(_e(l=gr(d=g.edges).call(d,y=>y.connected&&y.to!==y.from&&y[t]!==g&&r.has(y.toId)&&r.has(y.fromId))).call(l,y=>{const p=y[a],O=s[p];(O==null||e(_,O))&&(s[p]=_,f.push(y[t]))}),v>o)return zY(r,s);++v}}return s}class GY{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,t){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),this.parentReference[t]===void 0&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,t){t!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const t={},r=n=>{if(t[n]!==void 0)return t[n];let s=this.levels[n];if(this.childrenReference[n]){const o=this.childrenReference[n];if(o.length>0)for(let a=0;a<o.length;a++)s=Math.max(s,r(o[a]))}return t[n]=s,s};return r(e)}levelDownstream(e,t){this.levels[t.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const t=new _1;let r=0;const n=Ki(e=[...new br(IY(this.levels))]).call(e,(s,o)=>s-o);for(const s of n)t.set(s,r++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=t.get(this.levels[s]))}getTreeSize(e,t){let r=1e9,n=-1e9,s=1e9,o=-1e9;for(const a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===t){const u=e[a];r=Math.min(u.x,r),n=Math.max(u.x,n),s=Math.min(u.y,s),o=Math.max(u.y,o)}return{min_x:r,max_x:n,min_y:s,max_y:o}}hasSameParent(e,t){const r=this.parentReference[e.id],n=this.parentReference[t.id];if(r===void 0||n===void 0)return!1;for(let s=0;s<r.length;s++)for(let o=0;o<n.length;o++)if(r[s]==n[o])return!0;return!1}inSameSubNetwork(e,t){return this.trees[e.id]===this.trees[t.id]}getLevels(){return ke(this.distributionOrdering)}addToOrdering(e,t){this.distributionOrdering[t]===void 0&&(this.distributionOrdering[t]=[]);let r=!1;const n=this.distributionOrdering[t];for(const s in n)if(n[s]===e){r=!0;break}r||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}class VY{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+ub()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Ye(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,t){if(e!==void 0){const r=this.options.hierarchical,n=r.enabled;if(qn(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),yt(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),r.enabled===!0)return n===!0&&this.body.emitter.emit("refresh",!0),r.direction==="RL"||r.direction==="DU"?r.levelSeparation>0&&(r.levelSeparation*=-1):r.levelSeparation<0&&(r.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(n===!0)return this.body.emitter.emit("refresh"),ge(t,this.optionsBackup)}return t}_resetRNG(e){this.initialRandomSeed=e,this._rng=ua(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const t=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:t.enabled===void 0?!0:t.enabled,solver:"hierarchicalRepulsion"},t.enabled=t.enabled===void 0?!0:t.enabled,t.solver=t.solver||"barnesHut"):typeof e.physics=="object"?(t.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let r=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:r};else{const n=e.edges.smooth;n.type!==void 0&&n.type!=="dynamic"&&(r=n.type),this.optionsBackup.edges={smooth:{enabled:n.enabled===void 0?!0:n.enabled,type:n.type===void 0?"dynamic":n.type,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection===void 0?!1:n.forceDirection}},e.edges.smooth={enabled:n.enabled===void 0?!0:n.enabled,type:r,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection===void 0?!1:n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",r)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const t=e.length+50;for(let r=0;r<e.length;r++){const n=e[r],s=2*Math.PI*this._rng();n.x===void 0&&(n.x=t*Math.cos(s)),n.y===void 0&&(n.y=t*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let t=0;for(let r=0;r<e.length;r++)this.body.nodes[e[r]].predefinedPosition===!0&&(t+=1);if(t<.5*e.length){let n=0;const s=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const u=e.length;for(;e.length>s&&n<=10;){n+=1;const l=e.length;n%3===0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o);const d=e.length;if(l==d&&n%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*u)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const a=70;for(let u=0;u<e.length;u++){const l=this.body.nodes[e[u]];l.predefinedPosition===!1&&(l.x+=(.5-this._rng())*a,l.y+=(.5-this._rng())*a)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=ot.getRangeCore(this.body.nodes,this.body.nodeIndices),t=ot.findCenter(e);for(let r=0;r<this.body.nodeIndices.length;r++){const n=this.body.nodes[this.body.nodeIndices[r]];n.x-=t.x,n.y-=t.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let t=0;t<this.body.nodeIndices.length;t++)this.body.nodes[this.body.nodeIndices[t]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,t,r=!1,n=!1;this.lastNodeOnLevel={},this.hierarchical=new GY;for(t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&(e=this.body.nodes[t],e.options.level!==void 0?(r=!0,this.hierarchical.levels[t]=e.options.level):n=!0);if(n===!0&&r===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(n===!0){const o=this.options.hierarchical.sortMethod;o==="hubsize"?this._determineLevelsByHubsize():o==="directed"?this._determineLevelsDirected():o==="custom"&&this._determineLevelsCustomCallback()}for(const o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let t=!1;const r={},n=()=>{const y=o();let p=0;for(let O=0;O<y.length-1;O++){const m=y[O].max-y[O+1].min;p+=m+this.options.hierarchical.treeSpacing,s(O+1,p)}},s=(y,p)=>{const O=this.hierarchical.trees;for(const m in O)Object.prototype.hasOwnProperty.call(O,m)&&O[m]===y&&this.direction.shift(m,p)},o=()=>{const y=[];for(let p=0;p<this.hierarchical.numTrees();p++)y.push(this.direction.getTreeSize(p));return y},a=(y,p)=>{if(!p[y.id]&&(p[y.id]=!0,this.hierarchical.childrenReference[y.id])){const O=this.hierarchical.childrenReference[y.id];if(O.length>0)for(let m=0;m<O.length;m++)a(this.body.nodes[O[m]],p)}},u=function(y){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,O=1e9,m=1e9,S=1e9,$=-1e9;for(const w in y)if(Object.prototype.hasOwnProperty.call(y,w)){const b=e.body.nodes[w],E=e.hierarchical.levels[b.id],I=e.direction.getPosition(b),[T,P]=e._getSpaceAroundNode(b,y);O=Math.min(T,O),m=Math.min(P,m),E<=p&&(S=Math.min(I,S),$=Math.max(I,$))}return[S,$,O,m]},l=(y,p)=>{const O=this.hierarchical.getMaxLevel(y.id),m=this.hierarchical.getMaxLevel(p.id);return Math.min(O,m)},d=(y,p,O)=>{const m=this.hierarchical;for(let S=0;S<p.length;S++){const $=p[S],w=m.distributionOrdering[$];if(w.length>1)for(let b=0;b<w.length-1;b++){const E=w[b],I=w[b+1];m.hasSameParent(E,I)&&m.inSameSubNetwork(E,I)&&y(E,I,O)}}},c=function(y,p){let O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const m=e.direction.getPosition(y),S=e.direction.getPosition(p),$=Math.abs(S-m),w=e.options.hierarchical.nodeSpacing;if($>w){const b={},E={};a(y,b),a(p,E);const I=l(y,p),T=u(b,I),P=u(E,I),R=T[1],q=P[0],A=P[2];if(Math.abs(R-q)>w){let L=R-q+w;L<-A+w&&(L=-A+w),L<0&&(e._shiftBlock(p.id,L),t=!0,O===!0&&e._centerParent(p))}}},h=(y,p)=>{const O=p.id,m=p.edges,S=this.hierarchical.levels[p.id],$=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,w={},b=[];for(let A=0;A<m.length;A++){const Y=m[A];if(Y.toId!=Y.fromId){const L=Y.toId==O?Y.from:Y.to;w[m[A].id]=L,this.hierarchical.levels[L.id]<S&&b.push(Y)}}const E=(A,Y)=>{let L=0;for(let Q=0;Q<Y.length;Q++)if(w[Y[Q].id]!==void 0){const re=this.direction.getPosition(w[Y[Q].id])-A;L+=re/Math.sqrt(re*re+$)}return L},I=(A,Y)=>{let L=0;for(let Q=0;Q<Y.length;Q++)if(w[Y[Q].id]!==void 0){const re=this.direction.getPosition(w[Y[Q].id])-A;L-=$*Math.pow(re*re+$,-1.5)}return L},T=(A,Y)=>{let L=this.direction.getPosition(p);const Q={};for(let re=0;re<A;re++){const he=E(L,Y),H=I(L,Y),le=40,ve=Math.max(-le,Math.min(le,Math.round(he/H)));if(L=L-ve,Q[L]!==void 0)break;Q[L]=re}return L},P=A=>{const Y=this.direction.getPosition(p);if(r[p.id]===void 0){const le={};a(p,le),r[p.id]=le}const L=u(r[p.id]),Q=L[2],re=L[3],he=A-Y;let H=0;he>0?H=Math.min(he,re-this.options.hierarchical.nodeSpacing):he<0&&(H=-Math.min(-he,Q-this.options.hierarchical.nodeSpacing)),H!=0&&(this._shiftBlock(p.id,H),t=!0)},R=A=>{const Y=this.direction.getPosition(p),[L,Q]=this._getSpaceAroundNode(p),re=A-Y;let he=Y;re>0?he=Math.min(Y+(Q-this.options.hierarchical.nodeSpacing),A):re<0&&(he=Math.max(Y-(L-this.options.hierarchical.nodeSpacing),A)),he!==Y&&(this.direction.setPosition(p,he),t=!0)};let q=T(y,b);P(q),q=T(y,m),R(q)},f=y=>{let p=this.hierarchical.getLevels();p=Ui(p).call(p);for(let O=0;O<y;O++){t=!1;for(let m=0;m<p.length;m++){const S=p[m],$=this.hierarchical.distributionOrdering[S];for(let w=0;w<$.length;w++)h(1e3,$[w])}if(t!==!0)break}},v=y=>{let p=this.hierarchical.getLevels();p=Ui(p).call(p);for(let O=0;O<y&&(t=!1,d(c,p,!0),t===!0);O++);},g=()=>{for(const y in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,y)&&this._centerParent(this.body.nodes[y])},_=()=>{let y=this.hierarchical.getLevels();y=Ui(y).call(y);for(let p=0;p<y.length;p++){const O=y[p],m=this.hierarchical.distributionOrdering[O];for(let S=0;S<m.length;S++)this._centerParent(m[S])}};this.options.hierarchical.blockShifting===!0&&(v(5),g()),this.options.hierarchical.edgeMinimization===!0&&f(20),this.options.hierarchical.parentCentralization===!0&&_(),n()}_getSpaceAroundNode(e,t){let r=!0;t===void 0&&(r=!1);const n=this.hierarchical.levels[e.id];if(n!==void 0){const s=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[n];let u=1e9,l=1e9;if(s!==0){const d=a[s-1];if(r===!0&&t[d.id]===void 0||r===!1){const c=this.direction.getPosition(d);u=o-c}}if(s!=a.length-1){const d=a[s+1];if(r===!0&&t[d.id]===void 0||r===!1){const c=this.direction.getPosition(d);l=Math.min(l,c-o)}}return[u,l]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const t=this.hierarchical.parentReference[e.id];for(let r=0;r<t.length;r++){const n=t[r],s=this.body.nodes[n],o=this.hierarchical.childrenReference[n];if(o!==void 0){const a=this._getCenterPosition(o),u=this.direction.getPosition(s),[l,d]=this._getSpaceAroundNode(s),c=u-a;(c<0&&Math.abs(c)<d-this.options.hierarchical.nodeSpacing||c>0&&Math.abs(c)<l-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,a)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var t;let n=ke(e[r]);n=this._indexArrayToNodes(n),Ki(t=this.direction).call(t,n);let s=0;for(let o=0;o<n.length;o++){const a=n[o];if(this.positionedNodes[a.id]===void 0){const u=this.options.hierarchical.nodeSpacing;let l=u*s;s>0&&(l=this.direction.getPosition(n[o-1])+u),this.direction.setPosition(a,l,r),this._validatePositionAndContinue(a,r,l),s++}}}}_placeBranchNodes(e,t){var r;const n=this.hierarchical.childrenReference[e];if(n===void 0)return;const s=[];for(let a=0;a<n.length;a++)s.push(this.body.nodes[n[a]]);Ki(r=this.direction).call(r,s);for(let a=0;a<s.length;a++){const u=s[a],l=this.hierarchical.levels[u.id];if(l>t&&this.positionedNodes[u.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let c;a===0?c=this.direction.getPosition(this.body.nodes[e]):c=this.direction.getPosition(s[a-1])+d,this.direction.setPosition(u,c,l),this._validatePositionAndContinue(u,l,c)}else return}const o=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],o,t)}_validatePositionAndContinue(e,t,r){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[t]!==void 0){const n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(r-n<this.options.hierarchical.nodeSpacing){const s=n+this.options.hierarchical.nodeSpacing-r,o=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(o.withChild,s)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}_indexArrayToNodes(e){const t=[];for(let r=0;r<e.length;r++)t.push(this.body.nodes[e[r]]);return t}_getDistribution(){const e={};let t,r;for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){r=this.body.nodes[t];const n=this.hierarchical.levels[t]===void 0?0:this.hierarchical.levels[t];this.direction.fix(r,n),e[n]===void 0&&(e[n]={}),e[n][t]=r}return e}_getActiveEdges(e){const t=[];return ne(e.edges,r=>{var n;Oe(n=this.body.edgeIndices).call(n,r.id)!==-1&&t.push(r)}),t}_getHubSizes(){const e={},t=this.body.nodeIndices;ne(t,n=>{const s=this.body.nodes[n],o=this._getActiveEdges(s).length;e[o]=!0});const r=[];return ne(e,n=>{r.push(Number(n))}),Ki(r).call(r,function(n,s){return s-n}),r}_determineLevelsByHubsize(){const e=(r,n)=>{this.hierarchical.levelDownstream(r,n)},t=this._getHubSizes();for(let r=0;r<t.length;++r){const n=t[r];if(n===0)break;ne(this.body.nodeIndices,s=>{const o=this.body.nodes[s];n===this._getActiveEdges(o).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const t=function(n,s,o){},r=(n,s,o)=>{let a=this.hierarchical.levels[n.id];a===void 0&&(a=this.hierarchical.levels[n.id]=1e5);const u=t(ot.cloneOptions(n,"node"),ot.cloneOptions(s,"node"),ot.cloneOptions(o,"edge"));this.hierarchical.levels[s.id]=a+u};this._crawlNetwork(r),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const t=u5(e=this.body.nodeIndices).call(e,(r,n)=>(r.set(n,this.body.nodes[n]),r),new _1);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=HY(t):this.hierarchical.levels=WY(t),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(t,r)=>{this.hierarchical.levels[r.id]>this.hierarchical.levels[t.id]&&this.hierarchical.addRelation(t.id,r.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0;const r={},n=(s,o)=>{if(r[s.id]===void 0){this.hierarchical.setTreeIndex(s,o),r[s.id]=!0;let a;const u=this._getActiveEdges(s);for(let l=0;l<u.length;l++){const d=u[l];d.connected===!0&&(d.toId==s.id?a=d.from:a=d.to,s.id!=a.id&&(e(s,a,d),n(a,o)))}}};if(t===void 0){let s=0;for(let o=0;o<this.body.nodeIndices.length;o++){const a=this.body.nodeIndices[o];if(r[a]===void 0){const u=this.body.nodes[a];n(u,s),s+=1}}}else{const s=this.body.nodes[t];if(s===void 0){console.error("Node not found:",t);return}n(s)}}_shiftBlock(e,t){const r={},n=s=>{if(r[s])return;r[s]=!0,this.direction.shift(s,t);const o=this.hierarchical.childrenReference[s];if(o!==void 0)for(let a=0;a<o.length;a++)n(o[a])};n(e)}_findCommonParent(e,t){const r={},n=(o,a)=>{const u=this.hierarchical.parentReference[a];if(u!==void 0)for(let l=0;l<u.length;l++){const d=u[l];o[d]=!0,n(o,d)}},s=(o,a)=>{const u=this.hierarchical.parentReference[a];if(u!==void 0)for(let l=0;l<u.length;l++){const d=u[l];if(o[d]!==void 0)return{foundParent:d,withChild:a};const c=s(o,d);if(c.foundParent!==null)return c}return{foundParent:null,withChild:a}};return n(r,e),s(r,t)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new DY(this):this.direction=new AY(this)}_getCenterPosition(e){let t=1e9,r=-1e9;for(let n=0;n<e.length;n++){let s;if(e[n].id!==void 0)s=e[n];else{const a=e[n];s=this.body.nodes[a]}const o=this.direction.getPosition(s);t=Math.min(t,o),r=Math.max(r,o)}return .5*(t+r)}}class UY{constructor(e,t,r,n){var s,o;this.body=e,this.canvas=t,this.selectionHandler=r,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Ye(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",M(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",M(o=this._restore).call(o,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,t,r){t!==void 0&&(t.locale!==void 0?this.options.locale=t.locale:this.options.locale=r.locale,t.locales!==void 0?this.options.locales=t.locales:this.options.locales=r.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,ge(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const r=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),s=r+n,o=this.options.locales[this.options.locale];let a=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),a=!0),this.options.addEdge!==!1&&(a===!0?this._createSeperator(1):a=!0,this._createAddEdgeButton(o)),r===1&&typeof this.options.editNode=="function"?(a===!0?this._createSeperator(2):a=!0,this._createEditNodeButton(o)):n===1&&r===0&&this.options.editEdge!==!1&&(a===!0?this._createSeperator(3):a=!0,this._createEditEdgeButton(o)),s!==0&&(r>0&&this.options.deleteNode!==!1?(a===!0&&this._createSeperator(4),this._createDeleteButton(o)):r===0&&this.options.deleteEdge!==!1&&(a===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindElementEvents(this.closeDiv,M(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",M(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t;const r=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(r),this._createSeperator(),this._createDescription(r.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,M(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",M(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const t=ge({},e.options,!1);if(t.x=e.x,t.y=e.y,this.options.editNode.length===2)this.options.editNode(t,r=>{r!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(r),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,t,r,n,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var o;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,M(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",M(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",M(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",M(r=this._dragControlNode).call(r,this)),this._temporaryBindUI("onRelease",M(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",M(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const o=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(o.from.id,o.to.id);return}if(this.guiEnabled===!0){var e;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,M(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var t,r,n,s;const o=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(o.from.x,o.from.y),u=this._getNewTargetNode(o.to.x,o.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(u.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[u.id]=u,this.body.nodeIndices.push(u.id),this._temporaryBindUI("onTouch",M(t=this._controlNodeTouch).call(t,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",M(r=this._controlNodeDragStart).call(r,this)),this._temporaryBindUI("onDrag",M(n=this._controlNodeDrag).call(n,this)),this._temporaryBindUI("onDragEnd",M(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",l=>{const d=o.edgeType.findBorderPositions(l);a.selected===!1&&(a.x=d.from.x,a.y=d.from.y),u.selected===!1&&(u.x=d.to.x,u.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),t=this.selectionHandler.getSelectedEdgeIds();let r;if(e.length>0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(r=this.options.deleteNode)}else t.length>0&&typeof this.options.deleteEdge=="function"&&(r=this.options.deleteEdge);if(typeof r=="function"){const n={nodes:e,edges:t};if(r.length===2)r(n,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(t),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,t;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(t=this.options.locales[this.options.locale])===null||t===void 0?void 0:t.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,t){const r=ge({},this.options.controlNodeStyle);r.id="targetNode"+ss(),r.hidden=!1,r.physics=!1,r.x=e,r.y=t;const n=this.body.functions.createNode(r);return n.shape.boundingBox={left:e,right:e,top:t,bottom:t},n}_createEditButton(){var e;this._clean(),this.manipulationDOM={},yr(this.editModeDiv);const t=this.options.locales[this.options.locale],r=this._createButton("editMode","vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(r),this._bindElementEvents(r,M(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(yr(this.editModeDiv),yr(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const t of Ir(e=this._domEventListenerCleanupQueue).call(e,0)){var e;t()}}_removeManipulationDOM(){this._clean(),yr(this.manipulationDiv),yr(this.editModeDiv),yr(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var t;const r=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,M(t=this.addNodeMode).call(t,this))}_createAddEdgeButton(e){var t;const r=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,M(t=this.addEdgeMode).call(t,this))}_createEditNodeButton(e){var t;const r=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,M(t=this.editNode).call(t,this))}_createEditEdgeButton(e){var t;const r=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,M(t=this.editEdgeMode).call(t,this))}_createDeleteButton(e){var t;let r;this.options.rtl?r="vis-delete-rtl":r="vis-delete";const n=this._createButton("delete",r,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,M(t=this.deleteSelected).call(t,this))}_createBackButton(e){var t;const r=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,M(t=this.showManipulatorToolbar).call(t,this))}_createButton(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=n,this.manipulationDOM[e+"Label"].innerText=r,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}_temporaryBindUI(e,t){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+t5(ke(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const t=this.temporaryEventFunctions[e].event,r=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,r)}this.temporaryEventFunctions=[]}_bindElementEvents(e,t){const r=new Hi(e,{});Do(r,t),this._domEventListenerCleanupQueue.push(()=>{r.destroy()});const n=s=>{let{keyCode:o,key:a}=s;(a==="Enter"||a===" "||o===13||o===32)&&t()};e.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",n,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const o=Oe(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(o!==-1){var t;Ir(t=this.body.edgeIndices).call(t,o,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var r;delete this.body.nodes[this.temporaryIds.nodes[s]];const o=Oe(r=this.body.nodeIndices).call(r,this.temporaryIds.nodes[s]);if(o!==-1){var n;Ir(n=this.body.nodeIndices).call(n,o,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ye({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),r=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const o=r.isOverlappingWith(t),a=n.isOverlappingWith(t);o===!0?(this.selectedControlNode=r,s.edgeType.from=r):a===!0&&(this.selectedControlNode=n,s.edgeType.to=n),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const t=this.body.functions.getPointer(e.center),r=this.canvas.DOMtoCanvas(t);this.selectedControlNode!==void 0?(this.selectedControlNode.x=r.x,this.selectedControlNode.y=r.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),n=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let a=s.length-1;a>=0;a--)if(s[a]!==this.selectedControlNode.id){o=this.body.nodes[s[a]];break}if(o!==void 0&&this.selectedControlNode!==void 0)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,n.to.id):this._performEditEdge(n.from.id,o.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ye({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const t=this.lastTouch,r=this.selectionHandler.getNodeAt(t);if(r!==void 0)if(r.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const n=this._getNewTargetNode(r.x,r.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);const s=this.body.functions.createEdge({id:"connectionEdge"+ss(),from:r.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let u=s.length-1;u>=0;u--){var a;if(Oe(a=this.temporaryIds.nodes).call(a,s[u])===-1){o=this.body.nodes[s[u]];break}}if(e.controlEdge={from:n,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),this.temporaryIds.nodes[0]!==void 0){const u=this.body.nodes[this.temporaryIds.nodes[0]];u.x=this.canvas._XconvertDOMtoCanvas(t.x),u.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(r);let o;for(let u=s.length-1;u>=0;u--){var a;if(Oe(a=this.temporaryIds.nodes).call(a,s[u])===-1){o=this.body.nodes[s[u]];break}}this._cleanupTemporaryNodesAndEdges(),o!==void 0&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[n]!==void 0&&this.body.nodes[o.id]!==void 0&&this._performAddEdge(n,o.id)),e.controlEdge={from:n,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const t=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,t,void 0,!0)}_performAddNode(e){const t={id:ss(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(t,r=>{r!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(t),this.showManipulatorToolbar()}_performAddEdge(e,t){const r={from:e,to:t};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(r,n=>{n!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,t){const r={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let n=this.options.editEdge;if(typeof n=="object"&&(n=n.editWithoutDrag),typeof n=="function")if(n.length===2)n(r,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[r.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const F="string",D="boolean",C="number",Zn="array",W="object",h5="dom",KY="any",Lm=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],zm={borderWidth:{number:C},borderWidthSelected:{number:C,undefined:"undefined"},brokenImage:{string:F,undefined:"undefined"},chosen:{label:{boolean:D,function:"function"},node:{boolean:D,function:"function"},__type__:{object:W,boolean:D}},color:{border:{string:F},background:{string:F},highlight:{border:{string:F},background:{string:F},__type__:{object:W,string:F}},hover:{border:{string:F},background:{string:F},__type__:{object:W,string:F}},__type__:{object:W,string:F}},opacity:{number:C,undefined:"undefined"},fixed:{x:{boolean:D},y:{boolean:D},__type__:{object:W,boolean:D}},font:{align:{string:F},color:{string:F},size:{number:C},face:{string:F},background:{string:F},strokeWidth:{number:C},strokeColor:{string:F},vadjust:{number:C},multi:{boolean:D,string:F},bold:{color:{string:F},size:{number:C},face:{string:F},mod:{string:F},vadjust:{number:C},__type__:{object:W,string:F}},boldital:{color:{string:F},size:{number:C},face:{string:F},mod:{string:F},vadjust:{number:C},__type__:{object:W,string:F}},ital:{color:{string:F},size:{number:C},face:{string:F},mod:{string:F},vadjust:{number:C},__type__:{object:W,string:F}},mono:{color:{string:F},size:{number:C},face:{string:F},mod:{string:F},vadjust:{number:C},__type__:{object:W,string:F}},__type__:{object:W,string:F}},group:{string:F,number:C,undefined:"undefined"},heightConstraint:{minimum:{number:C},valign:{string:F},__type__:{object:W,boolean:D,number:C}},hidden:{boolean:D},icon:{face:{string:F},code:{string:F},size:{number:C},color:{string:F},weight:{string:F,number:C},__type__:{object:W}},id:{string:F,number:C},image:{selected:{string:F,undefined:"undefined"},unselected:{string:F,undefined:"undefined"},__type__:{object:W,string:F}},imagePadding:{top:{number:C},right:{number:C},bottom:{number:C},left:{number:C},__type__:{object:W,number:C}},label:{string:F,undefined:"undefined"},labelHighlightBold:{boolean:D},level:{number:C,undefined:"undefined"},margin:{top:{number:C},right:{number:C},bottom:{number:C},left:{number:C},__type__:{object:W,number:C}},mass:{number:C},physics:{boolean:D},scaling:{min:{number:C},max:{number:C},label:{enabled:{boolean:D},min:{number:C},max:{number:C},maxVisible:{number:C},drawThreshold:{number:C},__type__:{object:W,boolean:D}},customScalingFunction:{function:"function"},__type__:{object:W}},shadow:{enabled:{boolean:D},color:{string:F},size:{number:C},x:{number:C},y:{number:C},__type__:{object:W,boolean:D}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:D,array:Zn},borderRadius:{number:C},interpolation:{boolean:D},useImageSize:{boolean:D},useBorderWithImage:{boolean:D},coordinateOrigin:{string:["center","top-left"]},__type__:{object:W}},size:{number:C},title:{string:F,dom:h5,undefined:"undefined"},value:{number:C,undefined:"undefined"},widthConstraint:{minimum:{number:C},maximum:{number:C},__type__:{object:W,boolean:D,number:C}},x:{number:C},y:{number:C},__type__:{object:W}},YY={configure:{enabled:{boolean:D},filter:{boolean:D,string:F,array:Zn,function:"function"},container:{dom:h5},showButton:{boolean:D},__type__:{object:W,boolean:D,string:F,array:Zn,function:"function"}},edges:{arrows:{to:{enabled:{boolean:D},scaleFactor:{number:C},type:{string:Lm},imageHeight:{number:C},imageWidth:{number:C},src:{string:F},__type__:{object:W,boolean:D}},middle:{enabled:{boolean:D},scaleFactor:{number:C},type:{string:Lm},imageWidth:{number:C},imageHeight:{number:C},src:{string:F},__type__:{object:W,boolean:D}},from:{enabled:{boolean:D},scaleFactor:{number:C},type:{string:Lm},imageWidth:{number:C},imageHeight:{number:C},src:{string:F},__type__:{object:W,boolean:D}},__type__:{string:["from","to","middle"],object:W}},endPointOffset:{from:{number:C},to:{number:C},__type__:{object:W,number:C}},arrowStrikethrough:{boolean:D},background:{enabled:{boolean:D},color:{string:F},size:{number:C},dashes:{boolean:D,array:Zn},__type__:{object:W,boolean:D}},chosen:{label:{boolean:D,function:"function"},edge:{boolean:D,function:"function"},__type__:{object:W,boolean:D}},color:{color:{string:F},highlight:{string:F},hover:{string:F},inherit:{string:["from","to","both"],boolean:D},opacity:{number:C},__type__:{object:W,string:F}},dashes:{boolean:D,array:Zn},font:{color:{string:F},size:{number:C},face:{string:F},background:{string:F},strokeWidth:{number:C},strokeColor:{string:F},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:C},multi:{boolean:D,string:F},bold:{color:{string:F},size:{number:C},face:{string:F},mod:{string:F},vadjust:{number:C},__type__:{object:W,string:F}},boldital:{color:{string:F},size:{number:C},face:{string:F},mod:{string:F},vadjust:{number:C},__type__:{object:W,string:F}},ital:{color:{string:F},size:{number:C},face:{string:F},mod:{string:F},vadjust:{number:C},__type__:{object:W,string:F}},mono:{color:{string:F},size:{number:C},face:{string:F},mod:{string:F},vadjust:{number:C},__type__:{object:W,string:F}},__type__:{object:W,string:F}},hidden:{boolean:D},hoverWidth:{function:"function",number:C},label:{string:F,undefined:"undefined"},labelHighlightBold:{boolean:D},length:{number:C,undefined:"undefined"},physics:{boolean:D},scaling:{min:{number:C},max:{number:C},label:{enabled:{boolean:D},min:{number:C},max:{number:C},maxVisible:{number:C},drawThreshold:{number:C},__type__:{object:W,boolean:D}},customScalingFunction:{function:"function"},__type__:{object:W}},selectionWidth:{function:"function",number:C},selfReferenceSize:{number:C},selfReference:{size:{number:C},angle:{number:C},renderBehindTheNode:{boolean:D},__type__:{object:W}},shadow:{enabled:{boolean:D},color:{string:F},size:{number:C},x:{number:C},y:{number:C},__type__:{object:W,boolean:D}},smooth:{enabled:{boolean:D},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:C},forceDirection:{string:["horizontal","vertical","none"],boolean:D},__type__:{object:W,boolean:D}},title:{string:F,undefined:"undefined"},width:{number:C},widthConstraint:{maximum:{number:C},__type__:{object:W,boolean:D,number:C}},value:{number:C,undefined:"undefined"},__type__:{object:W}},groups:{useDefaultGroups:{boolean:D},__any__:zm,__type__:{object:W}},interaction:{dragNodes:{boolean:D},dragView:{boolean:D},hideEdgesOnDrag:{boolean:D},hideEdgesOnZoom:{boolean:D},hideNodesOnDrag:{boolean:D},hover:{boolean:D},keyboard:{enabled:{boolean:D},speed:{x:{number:C},y:{number:C},zoom:{number:C},__type__:{object:W}},bindToWindow:{boolean:D},autoFocus:{boolean:D},__type__:{object:W,boolean:D}},multiselect:{boolean:D},navigationButtons:{boolean:D},selectable:{boolean:D},selectConnectedEdges:{boolean:D},hoverConnectedEdges:{boolean:D},tooltipDelay:{number:C},zoomView:{boolean:D},zoomSpeed:{number:C},__type__:{object:W}},layout:{randomSeed:{undefined:"undefined",number:C,string:F},improvedLayout:{boolean:D},clusterThreshold:{number:C},hierarchical:{enabled:{boolean:D},levelSeparation:{number:C},nodeSpacing:{number:C},treeSpacing:{number:C},blockShifting:{boolean:D},edgeMinimization:{boolean:D},parentCentralization:{boolean:D},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:W,boolean:D}},__type__:{object:W}},manipulation:{enabled:{boolean:D},initiallyActive:{boolean:D},addNode:{boolean:D,function:"function"},addEdge:{boolean:D,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:W,boolean:D,function:"function"}},deleteNode:{boolean:D,function:"function"},deleteEdge:{boolean:D,function:"function"},controlNodeStyle:zm,__type__:{object:W,boolean:D}},nodes:zm,physics:{enabled:{boolean:D},barnesHut:{theta:{number:C},gravitationalConstant:{number:C},centralGravity:{number:C},springLength:{number:C},springConstant:{number:C},damping:{number:C},avoidOverlap:{number:C},__type__:{object:W}},forceAtlas2Based:{theta:{number:C},gravitationalConstant:{number:C},centralGravity:{number:C},springLength:{number:C},springConstant:{number:C},damping:{number:C},avoidOverlap:{number:C},__type__:{object:W}},repulsion:{centralGravity:{number:C},springLength:{number:C},springConstant:{number:C},nodeDistance:{number:C},damping:{number:C},__type__:{object:W}},hierarchicalRepulsion:{centralGravity:{number:C},springLength:{number:C},springConstant:{number:C},nodeDistance:{number:C},damping:{number:C},avoidOverlap:{number:C},__type__:{object:W}},maxVelocity:{number:C},minVelocity:{number:C},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:D},iterations:{number:C},updateInterval:{number:C},onlyDynamicEdges:{boolean:D},fit:{boolean:D},__type__:{object:W,boolean:D}},timestep:{number:C},adaptiveTimestep:{boolean:D},wind:{x:{number:C},y:{number:C},__type__:{object:W}},__type__:{object:W,boolean:D}},autoResize:{boolean:D},clickToUse:{boolean:D},locale:{string:F},locales:{__any__:{any:KY},__type__:{object:W}},height:{string:F},width:{string:F},__type__:{object:W}},f5={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},XY=(i,e,t)=>{var r;return!!(is(i).call(i,"physics")&&is(r=f5.physics.solver).call(r,e)&&t.physics.solver!==e&&e!=="wind")};class ZY{constructor(){}getDistances(e,t,r){const n={},s=e.edges;for(let a=0;a<t.length;a++){const u=t[a],l={};n[u]=l;for(let d=0;d<t.length;d++)l[t[d]]=a==d?0:1e9}for(let a=0;a<r.length;a++){const u=s[r[a]];u.connected===!0&&n[u.fromId]!==void 0&&n[u.toId]!==void 0&&(n[u.fromId][u.toId]=1,n[u.toId][u.fromId]=1)}const o=t.length;for(let a=0;a<o;a++){const u=t[a],l=n[u];for(let d=0;d<o-1;d++){const c=t[d],h=n[c];for(let f=d+1;f<o;f++){const v=t[f],g=n[v],_=Math.min(h[v],h[u]+l[v]);h[v]=_,g[c]=_}}}return n}}class JY{constructor(e,t,r){this.body=e,this.springLength=t,this.springConstant=r,this.distanceSolver=new ZY}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const n=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();const s=.01,o=1;let a=0;const u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),l=5;let d=1e9,c=0,h=0,f=0,v=0,g=0;for(;d>s&&a<u;)for(a+=1,[c,d,h,f]=this._getHighestEnergyNode(r),v=d,g=0;v>o&&g<l;)g+=1,this._moveNode(c,h,f),[v,h,f]=this._getEnergy(c)}_getHighestEnergyNode(e){const t=this.body.nodeIndices,r=this.body.nodes;let n=0,s=t[0],o=0,a=0;for(let u=0;u<t.length;u++){const l=t[u];if(r[l].predefinedPosition!==!0||r[l].isCluster===!0&&e===!0||r[l].options.fixed.x!==!0||r[l].options.fixed.y!==!0){const[d,c,h]=this._getEnergy(l);n<d&&(n=d,s=l,o=c,a=h)}}return[s,n,o,a]}_getEnergy(e){const[t,r]=this.E_sums[e];return[Math.sqrt(t**2+r**2),t,r]}_moveNode(e,t,r){const n=this.body.nodeIndices,s=this.body.nodes;let o=0,a=0,u=0;const l=s[e].x,d=s[e].y,c=this.K_matrix[e],h=this.L_matrix[e];for(let m=0;m<n.length;m++){const S=n[m];if(S!==e){const $=s[S].x,w=s[S].y,b=c[S],E=h[S],I=1/((l-$)**2+(d-w)**2)**1.5;o+=b*(1-E*(d-w)**2*I),a+=b*(E*(l-$)*(d-w)*I),u+=b*(1-E*(l-$)**2*I)}}const f=o,v=a,g=t,_=u,y=r,p=(g/f+y/v)/(v/f-_/v),O=-(v*p+g)/f;s[e].x+=O,s[e].y+=p,this._updateE_matrix(e)}_createL_matrix(e){const t=this.body.nodeIndices,r=this.springLength;this.L_matrix=[];for(let n=0;n<t.length;n++){this.L_matrix[t[n]]={};for(let s=0;s<t.length;s++)this.L_matrix[t[n]][t[s]]=r*e[t[n]][t[s]]}}_createK_matrix(e){const t=this.body.nodeIndices,r=this.springConstant;this.K_matrix=[];for(let n=0;n<t.length;n++){this.K_matrix[t[n]]={};for(let s=0;s<t.length;s++)this.K_matrix[t[n]][t[s]]=r*e[t[n]][t[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(let r=0;r<e.length;r++)this.E_matrix[e[r]]=[];for(let r=0;r<e.length;r++){const n=e[r],s=t[n].x,o=t[n].y;let a=0,u=0;for(let l=r;l<e.length;l++){const d=e[l];if(d!==n){const c=t[d].x,h=t[d].y,f=1/Math.sqrt((s-c)**2+(o-h)**2);this.E_matrix[n][l]=[this.K_matrix[n][d]*(s-c-this.L_matrix[n][d]*(s-c)*f),this.K_matrix[n][d]*(o-h-this.L_matrix[n][d]*(o-h)*f)],this.E_matrix[d][r]=this.E_matrix[n][l],a+=this.E_matrix[n][l][0],u+=this.E_matrix[n][l][1]}}this.E_sums[n]=[a,u]}}_updateE_matrix(e){const t=this.body.nodeIndices,r=this.body.nodes,n=this.E_matrix[e],s=this.K_matrix[e],o=this.L_matrix[e],a=r[e].x,u=r[e].y;let l=0,d=0;for(let c=0;c<t.length;c++){const h=t[c];if(h!==e){const f=n[c],v=f[0],g=f[1],_=r[h].x,y=r[h].y,p=1/Math.sqrt((a-_)**2+(u-y)**2),O=s[h]*(a-_-o[h]*(a-_)*p),m=s[h]*(u-y-o[h]*(u-y)*p);n[c]=[O,m],l+=O,d+=m;const S=this.E_sums[h];S[0]+=O-v,S[1]+=m-g}}this.E_sums[e]=[l,d]}}function z(i,e,t){var r,n,s,o;if(!(this instanceof z))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:DW,clickToUse:!1},Ye(this.options,this.defaultOptions),this.body={container:i,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:M(r=this.on).call(r,this),off:M(n=this.off).call(n,this),emit:M(s=this.emit).call(s,this),once:M(o=this.once).call(o,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new WW(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new fH,this.canvas=new TK(this.body),this.selectionHandler=new uY(this.body,this.canvas),this.interactionHandler=new qK(this.body,this.canvas,this.selectionHandler),this.view=new RK(this.body,this.canvas),this.renderer=new EK(this.body,this.canvas),this.physics=new lK(this.body),this.layoutEngine=new VY(this.body),this.clustering=new wK(this.body),this.manipulation=new UY(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new OU(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new JU(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new JY(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}HF(z.prototype);z.prototype.setOptions=function(i){if(i===null&&(i=void 0),i!==void 0){if(p7.validate(i,YY)===!0&&console.error("%cErrors have been found in the supplied options object.",bN),qn(["locale","locales","clickToUse"],this.options,i),i.locale!==void 0&&(i.locale=LW(i.locales||this.options.locales,i.locale)),i=this.layoutEngine.setOptions(i.layout,i),this.canvas.setOptions(i),this.groups.setOptions(i.groups),this.nodesHandler.setOptions(i.nodes),this.edgesHandler.setOptions(i.edges),this.physics.setOptions(i.physics),this.manipulation.setOptions(i.manipulation,i,this.options),this.interactionHandler.setOptions(i.interaction),this.renderer.setOptions(i.interaction),this.selectionHandler.setOptions(i.interaction),i.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in i&&(this.configurator||(this.configurator=new f7(this,this.body.container,f5,this.canvas.pixelRatio,XY)),this.configurator.setOptions(i.configure)),this.configurator&&this.configurator.options.enabled===!0){const r={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};ge(r.nodes,this.nodesHandler.options),ge(r.edges,this.edgesHandler.options),ge(r.layout,this.layoutEngine.options),ge(r.interaction,this.selectionHandler.options),ge(r.interaction,this.renderer.options),ge(r.interaction,this.interactionHandler.options),ge(r.manipulation,this.manipulation.options),ge(r.physics,this.physics.options),ge(r.global,this.canvas.options),ge(r.global,this.options),this.configurator.setModuleOptions(r)}i.clickToUse!==void 0?i.clickToUse===!0?this.activator===void 0&&(this.activator=new h7(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};z.prototype._updateVisibleIndices=function(){const i=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&!this.clustering._isClusteredNode(t)&&i[t].options.hidden===!1&&this.body.nodeIndices.push(i[t].id);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t],n=i[r.fromId],s=i[r.toId],o=n!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(t)&&r.options.hidden===!1&&o&&n.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(r.id)}};z.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};z.prototype.setData=function(i){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),i&&i.dot&&(i.nodes||i.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(i&&i.options),i&&i.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=pW(i.dot);this.setData(e);return}else if(i&&i.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=EW(i.gephi);this.setData(e);return}else this.nodesHandler.setData(i&&i.nodes,!0),this.edgesHandler.setData(i&&i.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};z.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const i in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,i)&&delete this.body.nodes[i];for(const i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&delete this.body.edges[i];yr(this.body.container)};z.prototype._updateValueRange=function(i){let e,t,r,n=0;for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){const s=i[e].getValue();s!==void 0&&(t=t===void 0?s:Math.min(s,t),r=r===void 0?s:Math.max(s,r),n+=s)}if(t!==void 0&&r!==void 0)for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&i[e].setValueRange(t,r,n)};z.prototype.isActive=function(){return!this.activator||this.activator.active};z.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};z.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};z.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};z.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};z.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};z.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};z.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};z.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};z.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};z.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};z.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};z.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};z.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};z.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};z.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};z.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};z.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};z.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};z.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};z.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};z.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};z.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};z.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};z.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};z.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};z.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};z.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};z.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};z.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};z.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};z.prototype.getConnectedNodes=function(i){return this.body.nodes[i]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};z.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};z.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};z.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};z.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};z.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};z.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};z.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};z.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};z.prototype.getNodeAt=function(){const i=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i};z.prototype.getEdgeAt=function(){const i=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i};z.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};z.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};z.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};z.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};z.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};z.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};z.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};z.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};z.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};z.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};z.prototype.getOptionsFromConfigurator=function(){let i={};return this.configurator&&(i=this.configurator.getOptions.apply(this.configurator)),i};const QY="typegen-example",eX={"blog-post":{x:0,y:0},"static-site-generator":{x:-18,y:-235},framework:{x:-23,y:-123},routing:{x:-151,y:-114},"state-management":{x:-116,y:-15},"ide-plugins":{x:67,y:-51},devtools:{x:116,y:-118},compiler:{x:-125,y:-174},"component-lib":{x:-13,y:-12},bundler:{x:-180,y:-234},lsp:{x:154,y:10},ssr:{x:-196,y:-47},testing:{x:87,y:-182},"markdown-compiler":{x:80,y:-299},"image-process":{x:-123,y:-301},"state-machine":{x:-105,y:75},highlight:{x:45,y:13},dots:{x:-14,y:78},dots1:{x:-111,y:81},dots2:{x:54,y:80},dots3:{x:81,y:-365},dots4:{x:124,y:-242},typegen:{x:-768,y:-341},configs:{x:-601,y:-243},jsonschema:{x:-598,y:-151},"jsonschema-to-typescript":{x:-603,y:-68},file:{x:-610,y:45},augment:{x:-760,y:153},"json-schema-to-typescript":{x:-600,y:-53}},tX={x:-675.7371190539487,y:-89.76071927604528},rX=.6659540734155748,iX={id:QY,pos:eX,view:tX,scale:rX},nX=p5({"typegen-example":iX}),sX=LA({__name:"SlidevGraph",props:{id:{},items:{},editable:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},focusScale:{default:1.5},clicks:{type:[Number,Boolean],default:!1},backgroundColor:{}},setup(i,{expose:e}){const t=i,{isDark:r}=C5(),{$clicks:n,$scale:s}=db(),o=$1(),a=$1(!1),u=Gr(()=>nX[t.id]||{}),l=Gr(()=>t.backgroundColor||(r.value?"#050505":"#ffff")),d=Gr(()=>r.value?.7:.6);function c(p,O=!1){const m=ee(p.color||"#888"),[S,$,w]=m.oklch(),b=(E=1)=>ee.oklch(d.value,$,w).mix(l.value,1-E).hex();return{id:p.name,label:p.display||p.name,...p,...p.dashed?{shapeProperties:{borderDashes:[2,2]}}:{},font:{color:b(p.faded?.75:1)},color:{border:b(p.faded?.05:p.dashed?.2:.5),background:b(p.faded?.02:(p.dashed,.05)),highlight:{border:b(p.dashed||p.faded?.2:.5),background:b(.1)},hover:{border:b(p.dashed||p.faded?.2:.5),background:b(.07)}},borderWidth:O?4:1,borderWidthSelected:O?4:2}}function h(p){const O=ee(p.color||"#333"),[m,S,$]=O.oklch();return[...(p.from||[]).map(w=>({id:`${p.name}|from|${w}`,from:w,to:p.name,color:ee.oklch(d.value,S,$).mix(l.value,.8).hex(),arrows:{to:{enabled:!0,type:"arrow"}}})),...(p.to||[]).map(w=>({id:`${p.name}|to|${w}`,from:p.name,to:w,color:ee.oklch(d.value,S,$).mix(l.value,.8).hex(),arrows:{to:{enabled:!0,type:"arrow"}}})),...(p.related||[]).map(w=>({id:`${p.name}|related|${w}`,from:w,to:p.name,color:ee.oklch(d.value,S,$).mix(l.value,.95).hex(),dashes:[3,3],physics:!1}))]}const f=Gr(()=>t.clicks===!1?9999999:Math.max(0,n.value-t.clicks)),v=Gr(()=>t.items.filter(p=>p.clicks!==!1));e({count:Gr(()=>t.items.length),stops:Gr(()=>v.value.length)});function g(){if(t.clicks===!1)return t.items;const p=[];let O=0;for(const m of t.items)m.clicks===!1?p.push(m):m.clicks==null?(O+=1,O<=f.value&&p.push(m)):(O=Math.max(O,m.clicks),m.clicks<=f.value&&p.push(m));return p}function _(){t.editable}g5(o,()=>{a.value=!1});function y(){t.items.forEach(E=>{u.value.pos?.[E.name]&&Object.assign(E,u.value.pos[E.name])});const p=g(),O=new tn(p.map(E=>c(E))),m=new tn(p.flatMap(E=>h(E))),S=new z(o.value,{nodes:O,edges:m},{nodes:{labelHighlightBold:!1,shape:"box",margin:{top:10,right:10,bottom:8,left:10}},edges:{smooth:{enabled:!0,type:"discrete",roundness:.5},width:1,hoverWidth:0},physics:{enabled:!1},interaction:{dragNodes:!!a.value,dragView:!!a.value,zoomView:!!a.value,hover:!0}});S.interactionHandler.getPointer=function(E){const I=this.canvas.frame.canvas.getBoundingClientRect();return{x:(E.x-I.left)/s.value,y:(E.y-I.top)/s.value}};function $(){a.value}S.on("stabilized",()=>$()),S.on("dragEnd",()=>$()),S.on("click",E=>{if(!a.value&&E.nodes.length===1){const I=t.items.find(T=>T.name===E.nodes[0]);I?.link&&window.open(I.link,"_blank")}}),S.on("hoverNode",()=>{o.value&&(o.value.style.cursor="pointer")}),S.on("blurNode",()=>{o.value&&(o.value.style.cursor="default")}),T1(()=>{S.setOptions({interaction:{dragNodes:a.value,dragView:a.value,zoomView:a.value,hover:!0}})});function w(){S.redraw(),u.value.view&&S.moveTo({animation:!1,position:u.value.view,scale:u.value.scale})}w(),T5(()=>{w(),setTimeout(()=>{w()},100)});let b=0;T1(()=>{const E=g();if(O.update(E.map((I,T)=>c(I,t.clicks!==!1&&T===E.length-1))),m.update(E.flatMap(I=>h(I))),O.remove(O.getIds().filter(I=>!E.some(T=>T.name===I))),m.remove(m.getIds().filter(I=>!E.some(T=>I.startsWith(`${T.name}|`)))),!!t.focus){if(E.length>=g().length||t.clicks===!1)S.moveTo({position:S.getViewPosition(),scale:S.getScale()}),S.fit({animation:b?{duration:1500,easingFunction:"easeInOutQuad"}:void 0});else{const I=E[E.length-1];if(I){const T=S.getViewPosition(),P=Math.sqrt((T.x-I.x)**2+(T.y-I.y)**2);(P>200||!b||+f.value==1)&&(S.moveTo({position:S.getViewPosition(),scale:S.getScale()}),S.focus(I.name,{scale:t.focusScale,animation:b?{duration:600+P*2,easingFunction:"easeInOutQuad"}:!1}))}}b+=1}})}return y5(()=>{y()}),(p,O)=>(bo(),zA("div",{ref_key:"container",ref:o,class:m5(["slidev-graph",a.value?"editing":""]),onDblclick:_},null,34))}}),oX=LA({__name:"TypeGenExample",setup(i){db();const e=[{name:"typegen",display:"typegen(configs)",color:"#8080f2",to:["configs"],shapeProperties:{borderRadius:40}},{name:"configs",display:"Get ESLint plugins from configs",color:"#7178f8",to:["jsonschema"],clicks:1},{name:"jsonschema",display:"Get JSON Schema from each rule",color:"#f8df71",to:["json-schema-to-typescript"],clicks:2},{name:"json-schema-to-typescript",display:"json-schema-to-typescript",color:"#71f8a5",to:["file"],clicks:3},{name:"file",display:"Write typgen.d.ts",color:"#3178C6",to:["augment"],clicks:4},{name:"augment",display:"Augment to ESLint Type",color:"#3178C6",to:["typegen"],clicks:5}];return(t,r)=>{const n=sX;return bo(),WA(n,{id:"typegen-example",clicks:0,items:e})}}}),aX={grid:"~ cols-[1fr_2fr] gap-4"},IX={__name:"slides.md__slidev_16",setup(i){const{$clicksContext:e,$frontmatter:t}=db();return e.setup(),(r,n)=>{const s=oX,o=v5,a=b5("click");return bo(),WA(R5,E5(S5(C1(P5)(C1(t),15))),{default:P1(()=>[n[1]||(n[1]=x("h2",null,"How it works",-1)),x("div",aX,[R1(s,{"h-100":"","w-70":""}),_5((bo(),zA("div",null,[R1(o,w5({at:5},{title:"",ranges:["*","5-9"]}),{default:P1(()=>n[0]||(n[0]=[x("pre",{class:"shiki shiki-themes vitesse-dark vitesse-light slidev-code",style:{"--shiki-dark":"#dbd7caee","--shiki-light":"#393a34","--shiki-dark-bg":"#121212","--shiki-light-bg":"#ffffff"}},[x("code",{class:"language-ts"},[x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"// eslint-typegen.d.ts")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"// Automatically generated by eslint-typegen")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"import"),x("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," type"),x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {"),x("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," Linter"),x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," }"),x("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}}," from"),x("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," '"),x("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"eslint"),x("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'")]),Te(`
`),x("span",{class:"line"}),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"declare"),x("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," module"),x("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}}," '"),x("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"eslint"),x("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'"),x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"  namespace"),x("span",{style:{"--shiki-dark":"#5DA994","--shiki-light":"#2E8F82"}}," Linter"),x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"    interface"),x("span",{style:{"--shiki-dark":"#5DA994","--shiki-light":"#2E8F82"}}," RulesRecord"),x("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," extends"),x("span",{style:{"--shiki-dark":"#80A665","--shiki-light":"#59873A"}}," RuleOptions"),x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {}")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"  }")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}")]),Te(`
`),x("span",{class:"line"}),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"export"),x("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}}," interface"),x("span",{style:{"--shiki-dark":"#5DA994","--shiki-light":"#2E8F82"}}," RuleOptions"),x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}}," {")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  /**")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"   * Enforce getter and setter pairs in objects and classes")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"   * "),x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"@"),x("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"see"),x("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," https://eslint.org/docs/latest/rules/accessor-pairs")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"   */")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"  '"),x("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"accessor-pairs"),x("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'"),x("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"?"),x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},": "),x("span",{style:{"--shiki-dark":"#5DA994","--shiki-light":"#2E8F82"}},"Linter"),x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),x("span",{style:{"--shiki-dark":"#5DA994","--shiki-light":"#2E8F82"}},"RuleEntry"),x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"<"),x("span",{style:{"--shiki-dark":"#5DA994","--shiki-light":"#2E8F82"}},"AccessorPairs"),x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},">")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  /**")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"   * Having line breaks styles to object, array and named imports")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"   * "),x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"@"),x("span",{style:{"--shiki-dark":"#4D9375","--shiki-light":"#1E754F"}},"see"),x("span",{style:{"--shiki-dark":"#BD976A","--shiki-light":"#B07D48"}}," https://github.com/antfu/eslint-plugin-antfu/blob/main/src/rules/consistent-chaining.md")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"   */")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"  '"),x("span",{style:{"--shiki-dark":"#C98A7D","--shiki-light":"#B56959"}},"antfu/consistent-chaining"),x("span",{style:{"--shiki-dark":"#C98A7D77","--shiki-light":"#B5695977"}},"'"),x("span",{style:{"--shiki-dark":"#CB7676","--shiki-light":"#AB5959"}},"?"),x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},": "),x("span",{style:{"--shiki-dark":"#5DA994","--shiki-light":"#2E8F82"}},"Linter"),x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"."),x("span",{style:{"--shiki-dark":"#5DA994","--shiki-light":"#2E8F82"}},"RuleEntry"),x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"<"),x("span",{style:{"--shiki-dark":"#5DA994","--shiki-light":"#2E8F82"}},"AntfuConsistentChaining"),x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},">")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#758575DD","--shiki-light":"#A0ADA0"}},"  // ...")]),Te(`
`),x("span",{class:"line"},[x("span",{style:{"--shiki-dark":"#666666","--shiki-light":"#999999"}},"}")])])],-1)])),_:1,__:[0]},16)])),[[a,4]])])]),_:1,__:[1]},16)}}};export{IX as default};
