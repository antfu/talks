const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/md-DJWT_Dpq.js","assets/modules/vue-BtX4cWCO.js","assets/slidev/center-Br_nrIE4.js","assets/slidev/context-etH7Rx_7.js","assets/modules/shiki-Bfr2nHL8.js","assets/modules/shiki-CozCpemh.css","assets/md-BEvOjkcW.js","assets/md-CMH43S-l.js","assets/md-DpNaYNFh.css","assets/md-BB-M0UnN.js","assets/md-JLQXHB5N.js","assets/TipTitle.vue_vue_type_script_setup_true_lang-DyosfR2c.js","assets/md-DBgFQ06z.js","assets/slidev/default-m7fc5Xke.js","assets/md-H0L1DbEa.js","assets/slidev/md-W7o4h1ta.js","assets/md-BBhY0pAa.js","assets/md-C1g3dkcD.js","assets/md-DJeOXjmK.js","assets/md-B9gHB2vj.js","assets/md-BZWd-nZa.js","assets/slidev/md-Bff_OMS4.js","assets/md-DME2oF3Z.js","assets/md-ipJoknlZ.js","assets/md-BnU1zeqc.js","assets/md-yMIgMPMf.js","assets/md-BP3hUOFk.js","assets/md-mABG1yy6.js","assets/md-DZWdOQ6n.js","assets/md-DnBeRa5d.js","assets/slidev/entry-DwsPi1th.js","assets/entry-DKBEYRvL.css","assets/slidev/overview-DpiAxsap.js","assets/modules/unplugin-icons-DJ7g1d-j.js","assets/slidev/NoteDisplay.vue_vue_type_style_index_0_lang-BTTHbBXq.js","assets/NoteDisplay-DlY48q_E.css","assets/SlideWrapper-6cgCVdQ8.js","assets/modules/file-saver-DpYiGRfw.js","assets/SlideWrapper-DUVfpiLb.css","assets/slidev/IconButton.vue_vue_type_script_setup_true_lang-Mj2lyffh.js","assets/slidev/notes-CeuluWUR.js","assets/slidev/presenter-C8ccCMhU.js","assets/slidev/shortcuts-ChCDbA62.js","assets/shortcuts-CojLsgTv.css","assets/slidev/DrawingControls.vue_vue_type_style_index_0_lang-DMQA2IGD.js","assets/DrawingControls-Cxk9a9ub.css","assets/presenter-BSm347B1.css","assets/slidev/play-BISh1RpT.js","assets/play-D_7yfuao.css","assets/slidev/404-qgfAK7Bf.js","assets/404-_5Gr6e_7.css"])))=>i.map(i=>d[i]);
import{z as b,A as on,B as bo,C as _o,D as Cs,r as O,E as Je,G as So,H as Mo,I as Oo,J as Ls,K as ee,L as As,M as C,N as To,O as Eo,f as rn,o as Ot,t as Po,d as Is,i as $o,F as Co,g as Hn,P,Q as _n,R as Lo,S as Rt,p as Ao,T as Io,U as xo,V as Ro,W as jo,X as No,Y as W,Z as Do,_ as xs,$ as jt,a0 as Ho,a1 as Rs,a2 as Vo,a3 as Fo,a4 as zo,a5 as js,b as Bo,a as Wo,a6 as qo,a7 as Uo,a8 as Jo,a9 as Ko,aa as Go,ab as Qo,ac as Yo,c as Zo}from"./modules/vue-BtX4cWCO.js";import{T as Xo}from"./modules/shiki-Bfr2nHL8.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();const N={theme:"default",title:"Make Tools That People Love",titleTemplate:"%s - Slidev",addons:["slidev-addon-graph"],remoteAssets:!0,monaco:!0,monacoTypesSource:"local",monacoTypesAdditionalPackages:[],monacoTypesIgnorePackages:[],monacoRunAdditionalDeps:[],download:!1,export:{},info:!1,highlighter:"shiki",twoslash:!0,lineNumbers:!1,colorSchema:"dark",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Avenir Next"','"Nunito Sans"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"Fira Code"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Avenir Next","Nunito Sans","Fira Code"],provider:"google",local:["Avenir Next"],italic:!1,weights:["200","400","600"]},favicon:"/@fs/Users/antfu/i/talks/2025-09-18/src/node_modules/.remote-assets/NPGvKerVpwK0s9wCZ1kPwnTexy3khIJ-kR-3r-Sw4ZQ.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,author:"",record:"dev",css:"unocss",presenter:!0,browserExporter:"dev",htmlAttrs:{},transition:"fade-out",editor:!0,contextMenu:null,wakeLock:!0,mdc:!0,seoMeta:{},layout:"center",glowSeed:4,slidesTitle:"Make Tools That People Love - Slidev"};function an(t,e,n){return Math.min(n,Math.max(e,t))}function er(...t){return nr(t).reduce((e,n)=>e+n,0)}function tr(t){return t=t??[],Array.isArray(t)?t:[t]}function nr(t){return tr(t).flat(1)}function sr(t){return Array.from(new Set(t))}function Vn(...t){let e,n,s;t.length===1?(e=0,s=1,[n]=t):[e,n,s=1]=t;const o=[];let r=e;for(;r<n;)o.push(r),r+=s||1;return o}function or(t){return t!=null}function rr(t,e){return Object.fromEntries(Object.entries(t).map(([n,s])=>e(n,s)).filter(or))}const Vl="build",Ns=b(()=>N.aspectRatio),Ds=b(()=>N.canvasWidth),ar=b(()=>Math.ceil(Ds.value/Ns.value)),ir=b(()=>rr(N.themeConfig||{},(t,e)=>[`--slidev-theme-${t}`,e])),qt=N.slidesTitle,Fl="/2025/squiggleconf/",lr=[],cr=new Set(["link","style","script","noscript"]),ur=new Set(["title","titleTemplate","script","style","noscript"]),Fn=new Set(["base","meta","link","style","script","noscript"]),fr=new Set(["title","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),dr=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),hr=new Set(["key","tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent","processTemplateParams"]),pr=new Set(["templateParams","htmlAttrs","bodyAttrs"]),gr=new Set(["theme-color","google-site-verification","og","article","book","profile","twitter","author"]);function ln(t,e={},n){for(const s in t){const o=t[s],r=n?`${n}:${s}`:s;typeof o=="object"&&o!==null?ln(o,e,r):typeof o=="function"&&(e[r]=o)}return e}const mr={run:t=>t()},yr=()=>mr,Hs=typeof console.createTask<"u"?console.createTask:yr;function vr(t,e){const n=e.shift(),s=Hs(n);return t.reduce((o,r)=>o.then(()=>s.run(()=>r(...e))),Promise.resolve())}function kr(t,e){const n=e.shift(),s=Hs(n);return Promise.all(t.map(o=>s.run(()=>o(...e))))}function Ut(t,e){for(const n of[...t])n(e)}class wr{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,n,s={}){if(!e||typeof n!="function")return()=>{};const o=e;let r;for(;this._deprecatedHooks[e];)r=this._deprecatedHooks[e],e=r.to;if(r&&!s.allowDeprecated){let a=r.message;a||(a=`${o} hook has been deprecated`+(r.to?`, please use ${r.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(n),()=>{n&&(this.removeHook(e,n),n=void 0)}}hookOnce(e,n){let s,o=(...r)=>(typeof s=="function"&&s(),s=void 0,o=void 0,n(...r));return s=this.hook(e,o),s}removeHook(e,n){if(this._hooks[e]){const s=this._hooks[e].indexOf(n);s!==-1&&this._hooks[e].splice(s,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,n){this._deprecatedHooks[e]=typeof n=="string"?{to:n}:n;const s=this._hooks[e]||[];delete this._hooks[e];for(const o of s)this.hook(e,o)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const n in e)this.deprecateHook(n,e[n])}addHooks(e){const n=ln(e),s=Object.keys(n).map(o=>this.hook(o,n[o]));return()=>{for(const o of s.splice(0,s.length))o()}}removeHooks(e){const n=ln(e);for(const s in n)this.removeHook(s,n[s])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...n){return n.unshift(e),this.callHookWith(vr,e,...n)}callHookParallel(e,...n){return n.unshift(e),this.callHookWith(kr,e,...n)}callHookWith(e,n,...s){const o=this._before||this._after?{name:n,args:s,context:{}}:void 0;this._before&&Ut(this._before,o);const r=e(n in this._hooks?[...this._hooks[n]]:[],s);return r instanceof Promise?r.finally(()=>{this._after&&o&&Ut(this._after,o)}):(this._after&&o&&Ut(this._after,o),r)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const n=this._before.indexOf(e);n!==-1&&this._before.splice(n,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const n=this._after.indexOf(e);n!==-1&&this._after.splice(n,1)}}}}function br(){return new wr}const _r=["name","property","http-equiv"],Sr=new Set(["viewport","description","keywords","robots"]);function Vs(t){const e=t.split(":");return e.length?gr.has(e[1]):!1}function cn(t){const{props:e,tag:n}=t;if(dr.has(n))return n;if(n==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(t.tag==="meta"){for(const s of _r)if(e[s]!==void 0){const o=e[s],r=o.includes(":"),a=Sr.has(o),l=!(r||a)&&t.key?`:key:${t.key}`:"";return`${n}:${o}${l}`}}if(t.key)return`${n}:key:${t.key}`;if(e.id)return`${n}:id:${e.id}`;if(ur.has(n)){const s=t.textContent||t.innerHTML;if(s)return`${n}:content:${s}`}}function zn(t){const e=t._h||t._d;if(e)return e;const n=t.textContent||t.innerHTML;return n||`${t.tag}:${Object.entries(t.props).map(([s,o])=>`${s}:${String(o)}`).join(",")}`}function Tt(t,e,n){typeof t==="function"&&(!n||n!=="titleTemplate"&&!(n[0]==="o"&&n[1]==="n"))&&(t=t());let o;if(e&&(o=e(n,t)),Array.isArray(o))return o.map(r=>Tt(r,e));if(o?.constructor===Object){const r={};for(const a of Object.keys(o))r[a]=Tt(o[a],e,a);return r}return o}function Mr(t,e){const n=t==="style"?new Map:new Set;function s(o){const r=o.trim();if(r)if(t==="style"){const[a,...i]=r.split(":").map(l=>l.trim());a&&i.length&&n.set(a,i.join(":"))}else r.split(" ").filter(Boolean).forEach(a=>n.add(a))}return typeof e=="string"?t==="style"?e.split(";").forEach(s):s(e):Array.isArray(e)?e.forEach(o=>s(o)):e&&typeof e=="object"&&Object.entries(e).forEach(([o,r])=>{r&&r!=="false"&&(t==="style"?n.set(o.trim(),r):s(o))}),n}function Fs(t,e){return t.props=t.props||{},e&&Object.entries(e).forEach(([n,s])=>{if(s===null){t.props[n]=null;return}if(n==="class"||n==="style"){t.props[n]=Mr(n,s);return}if(hr.has(n)){if(["textContent","innerHTML"].includes(n)&&typeof s=="object"){let a=e.type;if(e.type||(a="application/json"),!a?.endsWith("json")&&a!=="speculationrules")return;e.type=a,t.props.type=a,t[n]=JSON.stringify(s)}else t[n]=s;return}const o=String(s),r=n.startsWith("data-");o==="true"||o===""?t.props[n]=r?o:!0:!s&&r&&o==="false"?t.props[n]="false":s!==void 0&&(t.props[n]=s)}),t}function Or(t,e){const n=typeof e=="object"&&typeof e!="function"?e:{[t==="script"||t==="noscript"||t==="style"?"innerHTML":"textContent"]:e},s=Fs({tag:t,props:{}},n);return s.key&&cr.has(s.tag)&&(s.props["data-hid"]=s._h=s.key),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(o=>({...s,props:{...s.props,content:o}})):s}function Tr(t,e){if(!t)return[];typeof t=="function"&&(t=t());const n=(o,r)=>{for(let a=0;a<e.length;a++)r=e[a](o,r);return r};t=n(void 0,t);const s=[];return t=Tt(t,n),Object.entries(t||{}).forEach(([o,r])=>{if(r!==void 0)for(const a of Array.isArray(r)?r:[r])s.push(Or(o,a))}),s.flat()}const Bn=(t,e)=>t._w===e._w?t._p-e._p:t._w-e._w,Wn={base:-10,title:10},Er={critical:-8,high:-1,low:2},qn={meta:{"content-security-policy":-30,charset:-20,viewport:-15},link:{preconnect:20,stylesheet:60,preload:70,modulepreload:70,prefetch:90,"dns-prefetch":90,prerender:90},script:{async:30,defer:80,sync:50},style:{imported:40,sync:60}},Pr=/@import/,Ye=t=>t===""||t===!0;function $r(t,e){if(typeof e.tagPriority=="number")return e.tagPriority;let n=100;const s=Er[e.tagPriority]||0,o=t.resolvedOptions.disableCapoSorting?{link:{},script:{},style:{}}:qn;if(e.tag in Wn)n=Wn[e.tag];else if(e.tag==="meta"){const r=e.props["http-equiv"]==="content-security-policy"?"content-security-policy":e.props.charset?"charset":e.props.name==="viewport"?"viewport":null;r&&(n=qn.meta[r])}else e.tag==="link"&&e.props.rel?n=o.link[e.props.rel]:e.tag==="script"?Ye(e.props.async)?n=o.script.async:e.props.src&&!Ye(e.props.defer)&&!Ye(e.props.async)&&e.props.type!=="module"&&!e.props.type?.endsWith("json")?n=o.script.sync:Ye(e.props.defer)&&e.props.src&&!Ye(e.props.async)&&(n=o.script.defer):e.tag==="style"&&(n=e.innerHTML&&Pr.test(e.innerHTML)?o.style.imported:o.style.sync);return(n||100)+s}function Un(t,e){const n=typeof e=="function"?e(t):e,s=n.key||String(t.plugins.size+1);t.plugins.get(s)||(t.plugins.set(s,n),t.hooks.addHooks(n.hooks||{}))}function Cr(t={}){const e=br();e.addHooks(t.hooks||{});const n=!t.document,s=new Map,o=new Map,r=new Set,a={_entryCount:1,plugins:o,dirty:!1,resolvedOptions:t,hooks:e,ssr:n,entries:s,headEntries(){return[...s.values()]},use:i=>Un(a,i),push(i,l){const c={...l||{}};delete c.head;const f=c._index??a._entryCount++,h={_i:f,input:i,options:c},d={_poll(u=!1){a.dirty=!0,!u&&r.add(f),e.callHook("entries:updated",a)},dispose(){s.delete(f)&&a.invalidate()},patch(u){(!c.mode||c.mode==="server"&&n||c.mode==="client"&&!n)&&(h.input=u,s.set(f,h),d._poll())}};return d.patch(i),d},async resolveTags(){const i={tagMap:new Map,tags:[],entries:[...a.entries.values()]};for(await e.callHook("entries:resolve",i);r.size;){const d=r.values().next().value;r.delete(d);const u=s.get(d);if(u){const g={tags:Tr(u.input,t.propResolvers||[]).map(p=>Object.assign(p,u.options)),entry:u};await e.callHook("entries:normalize",g),u._tags=g.tags.map((p,m)=>(p._w=$r(a,p),p._p=(u._i<<10)+m,p._d=cn(p),p))}}let l=!1;i.entries.flatMap(d=>(d._tags||[]).map(u=>({...u,props:{...u.props}}))).sort(Bn).reduce((d,u)=>{const g=String(u._d||u._p);if(!d.has(g))return d.set(g,u);const p=d.get(g);if((u?.tagDuplicateStrategy||(pr.has(u.tag)?"merge":null)||(u.key&&u.key===p.key?"merge":null))==="merge"){const y={...p.props};Object.entries(u.props).forEach(([v,k])=>y[v]=v==="style"?new Map([...p.props.style||new Map,...k]):v==="class"?new Set([...p.props.class||new Set,...k]):k),d.set(g,{...u,props:y})}else u._p>>10===p._p>>10&&u.tag==="meta"&&Vs(g)?(d.set(g,Object.assign([...Array.isArray(p)?p:[p],u],u)),l=!0):(u._w===p._w?u._p>p._p:u?._w<p?._w)&&d.set(g,u);return d},i.tagMap);const c=i.tagMap.get("title"),f=i.tagMap.get("titleTemplate");if(a._title=c?.textContent,f){const d=f?.textContent;if(a._titleTemplate=d,d){let u=typeof d=="function"?d(c?.textContent):d;typeof u=="string"&&!a.plugins.has("template-params")&&(u=u.replace("%s",c?.textContent||"")),c?u===null?i.tagMap.delete("title"):i.tagMap.set("title",{...c,textContent:u}):(f.tag="title",f.textContent=u)}}i.tags=Array.from(i.tagMap.values()),l&&(i.tags=i.tags.flat().sort(Bn)),await e.callHook("tags:beforeResolve",i),await e.callHook("tags:resolve",i),await e.callHook("tags:afterResolve",i);const h=[];for(const d of i.tags){const{innerHTML:u,tag:g,props:p}=d;if(fr.has(g)&&!(Object.keys(p).length===0&&!d.innerHTML&&!d.textContent)&&!(g==="meta"&&!p.content&&!p["http-equiv"]&&!p.charset)){if(g==="script"&&u){if(p.type?.endsWith("json")){const m=typeof u=="string"?u:JSON.stringify(u);d.innerHTML=m.replace(/</g,"\\u003C")}else typeof u=="string"&&(d.innerHTML=u.replace(new RegExp(`</${g}`,"g"),`<\\/${g}`));d._d=cn(d)}h.push(d)}}return h},invalidate(){for(const i of s.values())r.add(i._i);a.dirty=!0,e.callHook("entries:updated",a)}};return(t?.plugins||[]).forEach(i=>Un(a,i)),a.hooks.callHook("init",a),t.init?.forEach(i=>i&&a.push(i)),a}const Lr=(t,e)=>bo(e)?on(e):e,zs="usehead";function Ar(t){return{install(n){n.config.globalProperties.$unhead=t,n.config.globalProperties.$head=t,n.provide(zs,t)}}.install}function Ir(){if(_o()){const t=Cs(zs);if(!t)throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.");return t}throw new Error("useHead() was called without provide context, ensure you call it through the setup() function.")}function xr(t,e={}){const n=e.head||Ir();return n.ssr?n.push(t||{},e):Rr(n,t,e)}function Rr(t,e,n={}){const s=O(!1);let o;return Je(()=>{const a=s.value?{}:Tt(e,Lr);o?o.patch(a):o=t.push(a,n)}),Ls()&&(So(()=>{o.dispose()}),Mo(()=>{s.value=!0}),Oo(()=>{s.value=!1})),o}function un(t){if(t===!1||t==="false")return null;if(t==null||t===!0||t==="true")return"+1";if(typeof t=="string"&&"+-".includes(t[0]))return t;const e=+t;return Number.isNaN(e)?(console.error(`Invalid "at" prop value: ${t}`),null):e<=0?(console.warn(`[Slidev] "at" prop value must be greater than 0, but got ${t}, has been set to 1`),1):e}function jr(t){return Array.isArray(t)?[un(t[0]),un(t[1])]:null}function Bs(t,e=0,n){const s=O(!1);let o=new Map,r=new Map;const a={get current(){return an(+t.value,e,a.total)},set current(i){t.value=s.value?an(i,e,a.total):i},clicksStart:e,get relativeSizeMap(){return o},get maxMap(){return r},get isMounted(){return s.value},setup(){As(()=>{s.value=!0,r=C(r),To(t)||(a.current=t.value)}),Eo(()=>{s.value=!1,o=new Map,r=new Map})},calculateSince(i,l=1){const c=un(i);if(c==null)return null;let f,h,d;if(typeof c=="string"){const u=a.currentOffset,g=+c;f=u+g,h=u+g+l-1,d=g+l-1}else f=c,h=c+l-1,d=0;return{start:f,end:+Number.POSITIVE_INFINITY,max:h,delta:d,currentOffset:b(()=>a.current-f),isCurrent:b(()=>a.current===f),isActive:b(()=>a.current>=f)}},calculateRange(i){const l=jr(i);if(l==null)return null;const[c,f]=l;let h,d,u;return typeof c=="string"?(h=a.currentOffset+ +c,u=+c):(h=c,u=0),typeof f=="string"?(d=h+ +f,u+=+f):d=f,{start:h,end:d,max:d,delta:u,currentOffset:b(()=>a.current-h),isCurrent:b(()=>a.current===h),isActive:b(()=>h<=a.current&&a.current<d)}},calculate(i){return Array.isArray(i)?a.calculateRange(i):a.calculateSince(i)},register(i,l){if(!l)return;const{delta:c,max:f}=l;o.set(i,c),r.set(i,f)},unregister(i){o.delete(i),r.delete(i)},get currentOffset(){return er(...o.values())},get total(){return n??(s.value?Math.max(0,...r.values()):0)}};return a}function Nr(t,e=0){const n=t?.meta.slide?.frontmatter.clicksStart??0,s=O(Math.max(on(e),n));return ee(()=>on(e),o=>{s.value=Math.max(o,n)}),Bs(s,n,t?.meta?.clicks)}const Dr="modulepreload",Hr=function(t){return"/2025/squiggleconf/"+t},Jn={},E=function(e,n,s){let o=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),i=a?.nonce||a?.getAttribute("nonce");o=l(n.map(c=>{if(c=Hr(c),c in Jn)return;Jn[c]=!0;const f=c.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":Dr,f||(d.as="script"),d.crossOrigin="",d.href=c,i&&d.setAttribute("nonce",i),document.head.appendChild(d),f)return new Promise((u,g)=>{d.addEventListener("load",u),d.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return o.then(a=>{for(const i of a||[])i.status==="rejected"&&r(i.reason);return e().catch(r)})},Vr=(t,e)=>{const n=t.__vccOpts||t;for(const[s,o]of e)n[s]=o;return n},Fr={},zr={class:"px-4 py-10 text-center text-red-700 dark:text-red-500 font-bold font-mono"};function Br(t,e){return Ot(),rn("div",zr,Po("Failed to fetch this slide. Please check your network connection."))}const L=Vr(Fr,[["render",Br]]),Wr={class:"h-full w-full flex items-center justify-center gap-2 slidev-slide-loading"},qr=Is({__name:"SlideLoading",setup(t){const e=O(!1);return As(()=>{setTimeout(()=>{e.value=!0},200)}),(n,s)=>(Ot(),rn("div",Wr,[e.value?(Ot(),rn(Co,{key:0},[s[0]||(s[0]=Hn("div",{class:"i-svg-spinners-90-ring-with-bg text-xl"},null,-1)),s[1]||(s[1]=Hn("div",null,"Loading slide...",-1))],64)):$o("v-if",!0)]))}}),Ur={layout:"center",highlighter:"shiki",css:"unocss",colorSchema:"dark",transition:"fade-out",mdc:!0,glowSeed:4,title:"Make Tools That People Love",remoteAssets:!0,addons:["slidev-addon-graph"]},de=P(Ur),Jr=C({get layout(){return de.layout},get transition(){return de.transition},get class(){return de.class},get clicks(){return de.clicks},get name(){return de.name},get preload(){return de.preload},slide:{content:"",revision:"-tulm59",frontmatterRaw:`layout: center
highlighter: shiki
css: unocss
colorSchema: dark
transition: fade-out
mdc: true
glowSeed: 4
title: Make Tools That People Love
remoteAssets: true
addons:
  - slidev-addon-graph
`,note:"",title:"Make Tools That People Love",index:0,noteHTML:`<p>Good morning everyone! How are you doing?</p>
<p>It's my great honor to be here giving the talk and meeting you all.</p>
`,raw:"",frontmatter:de,filepath:"",start:0,id:0,no:1},__clicksContext:null,__preloaded:!1}),Kr={layout:"intro",class:"pl-25",glowSeed:14},he=P(Kr),Gr=C({get layout(){return he.layout},get transition(){return he.transition},get class(){return he.class},get clicks(){return he.clicks},get name(){return he.name},get preload(){return he.preload},slide:{content:"",revision:"gtxswc",frontmatterRaw:`layout: intro
class: pl-25
glowSeed: 14
`,note:"",index:1,noteHTML:"",raw:"",frontmatter:he,filepath:"",start:22,id:1,no:2},__clicksContext:null,__preloaded:!1}),Qr={clicks:7,zoom:.75,layout:"none",class:"flex h-full w-full",glow:"topmost",glowSeed:18},pe=P(Qr),Yr=C({get layout(){return pe.layout},get transition(){return pe.transition},get class(){return pe.class},get clicks(){return pe.clicks},get name(){return pe.name},get preload(){return pe.preload},slide:{content:"",revision:"nhesm1",frontmatterRaw:`clicks: 7
zoom: 0.75
layout: none
class: 'flex h-full w-full'
glow: topmost
glowSeed: 18
`,note:"",index:2,noteHTML:`<p>For a little bit more about my story, I started my journey in Open Source with a personal project called BreadSplit in college.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> From that, I created a VS Code extension called i18n-ally and then made VueUse, the utilities library for Vue. Since then, I've started contributing much more to open source projects, <span class="slidev-note-click-mark" data-clicks="2"></span> like Vue and Vite. I've built tools like <span class="slidev-note-click-mark" data-clicks="3"></span> Slidev, joined <span class="slidev-note-click-mark" data-clicks="4"></span> the Nuxt team, and then created <span class="slidev-note-click-mark" data-clicks="5"></span> Vitest, etc. And I kinda ended up with <span class="slidev-note-click-mark" data-clicks="6"></span> probably too many projects.</p>
<p>This is the graph I made to show the relationships of the projects I worked on. <span class="slidev-note-click-mark" data-clicks="7"></span> Perhaps some of you are already familiar with or have used some of those projects. What I want to say is that I feel extremely lucky to be able to work on these projects, make them useful for the community, and eventually get this great opportunity to stand here and give this talk to you.</p>
`,raw:"",frontmatter:pe,filepath:"",start:54,id:2,no:3},__clicksContext:null,__preloaded:!1}),Zr={layout:"cover"},ge=P(Zr),Xr=C({get layout(){return ge.layout},get transition(){return ge.transition},get class(){return ge.class},get clicks(){return ge.clicks},get name(){return ge.name},get preload(){return ge.preload},slide:{content:"",revision:"pxp4cr",frontmatterRaw:`layout: cover
`,note:"",title:"Make Tools People Love {.font-400!.font-serif!}",level:1,index:3,noteHTML:`<p>So, for today's topic, although I might be a bit overreaching to take this ambitious topic, I'd like to share with you my experience and thoughts on how we could make tools that people love.</p>
<p>I hope it can give you some insights or inspiration on your own journey.</p>
`,raw:"",frontmatter:ge,filepath:"",start:87,id:3,no:4},__clicksContext:null,__preloaded:!1}),ea={layout:"center",class:"text-center"},me=P(ea),ta=C({get layout(){return me.layout},get transition(){return me.transition},get class(){return me.class},get clicks(){return me.clicks},get name(){return me.name},get preload(){return me.preload},slide:{content:"",revision:"-soiss5",frontmatterRaw:`layout: center
class: 'text-center'
`,note:"",index:4,noteHTML:`<p>So, let's dive straight into the topic. When it comes to making tools that people love, the very first tip I would give is - <span class="slidev-note-click-mark" data-clicks="1"></span> I don't know. (pause)</p>
<p>Well, I mean, I really don't know. We genuinely don't know.</p>
<p>There's no such thing as &quot;10 tips to success,&quot; and there's no formula to guarantee that we can definitely make people love our tools.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> What we have to do is try and error, work with the community, hear their feedback, verify, evaluate, and iterate.</p>
`,raw:"",frontmatter:me,filepath:"",start:106,id:4,no:5},__clicksContext:null,__preloaded:!1}),na={class:"text-center h-full"},ye=P(na),sa=C({get layout(){return ye.layout},get transition(){return ye.transition},get class(){return ye.class},get clicks(){return ye.clicks},get name(){return ye.name},get preload(){return ye.preload},slide:{content:"",revision:"mfz9l6",frontmatterRaw:`class: 'text-center h-full'
`,note:"",index:5,noteHTML:`<p>The real tip <span class="slidev-note-click-mark" data-clicks="1"></span> I would emphasize here is to try more and don't be afraid to fail.</p>
<p>Even though I've made quite a lot of tools people use, I actually have way more tools that were discontinued or didn't work out.</p>
<p>And that's totally fine for me as I consider them as a learning and experimenting process.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> For that, I would also say, don't set too high expectations. It's easy for us to get excited about the idea we are working on, but they might not necessarily be the best fit for the community.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> Then I would suggest establishing a mechanism to verify your idea with the community. Then we can know where to improve and iterate.</p>
<p>So for the following tips, I'll share some practical tips that I learned from my own experience.</p>
`,raw:"",frontmatter:ye,filepath:"",start:123,id:5,no:6},__clicksContext:null,__preloaded:!1}),oa={layout:"center",class:"text-center"},ve=P(oa),ra=C({get layout(){return ve.layout},get transition(){return ve.transition},get class(){return ve.class},get clicks(){return ve.clicks},get name(){return ve.name},get preload(){return ve.preload},slide:{content:"",revision:"-ch15bc",frontmatterRaw:`layout: center
class: 'text-center'
`,note:"",index:6,noteHTML:`<p>The second tip I would give is to <span class="slidev-note-click-mark" data-clicks="1"></span> solve your own problems first. You should be your first user of your tool, or you should be the reason why you made the tool in the first place.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> Build from your own pain points and eat your own dogfood.</p>
`,raw:"",frontmatter:ve,filepath:"",start:147,id:6,no:7},__clicksContext:null,__preloaded:!1}),aa={glowSeed:10},ke=P(aa),ia=C({get layout(){return ke.layout},get transition(){return ke.transition},get class(){return ke.class},get clicks(){return ke.clicks},get name(){return ke.name},get preload(){return ke.preload},slide:{content:"",revision:"-z0yy9w",frontmatterRaw:`glowSeed: 10
`,note:"",title:"Build from your own pain points. {.font-serif}",level:1,index:7,noteHTML:`<p>I'd say that building from your own pain points is <span class="slidev-note-click-mark" data-clicks="1"></span> a great way to come up with ideas and provide you with strong motivation to work on it.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> From the perspective of needs, because it comes from the problems we encounter ourselves, starting from our own needs allows us to have a deeper understanding of the problem and potential solutions.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> And our motivation comes from solving our own problems, with the possibility that it might also help others.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> Furthermore, our needs are likely to be shared by others, and we can validate our ideas with the community.</p>
<p><span class="slidev-note-click-mark" data-clicks="5"></span> Finally, through community discussions and contributions, we can iterate on our designs and improve our solutions to serve even broader scenarios.</p>
<p>By doing so, we can gather the essential elements for the continuous development of projects - what we are skilled at and enjoy, and what the community needs.</p>
<p>Hopefully this can help to make the project practical and sustainable.</p>
`,raw:"",frontmatter:ke,filepath:"",start:164,id:7,no:8},__clicksContext:null,__preloaded:!1}),la={layout:"center",class:"text-center"},we=P(la),ca=C({get layout(){return we.layout},get transition(){return we.transition},get class(){return we.class},get clicks(){return we.clicks},get name(){return we.name},get preload(){return we.preload},slide:{content:"",revision:"-rm6x3i",frontmatterRaw:`layout: center
class: 'text-center'
`,note:"",index:8,noteHTML:`<p>Then the third tip I would give is to be <span class="slidev-note-click-mark" data-clicks="1"></span> progressive.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> Progressive means we should reduce the friction for people to onboard and use our tools.</p>
<p>It's meaningless to craft a great tool that no one knows how to use, right?</p>
`,raw:"",frontmatter:we,filepath:"",start:240,id:8,no:9},__clicksContext:null,__preloaded:!1}),ua={glow:"right"},be=P(ua),fa=C({get layout(){return be.layout},get transition(){return be.transition},get class(){return be.class},get clicks(){return be.clicks},get name(){return be.name},get preload(){return be.preload},slide:{content:"",revision:"gfc0t8",frontmatterRaw:`glow: right
`,note:"",title:"Progressive On {.font-serif}",level:1,index:9,noteHTML:`<p>Specifically, I think we should be progressive on the following aspects:</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> The first would be onboarding, <span class="slidev-note-click-mark" data-clicks="2"></span> we should make it easy to understand and get started. <span class="slidev-note-click-mark" data-clicks="3"></span> The tip I would give is to see if you can describe your tool clearly within one sentence. If you can't, you might have made the tool too complicated.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> Then we should be progressive on features, <span class="slidev-note-click-mark" data-clicks="5"></span> start minimal and grow with users. <span class="slidev-note-click-mark" data-clicks="6"></span> We should make the tool useful even in the simplest cases. For example, Vite can start with a single <code>index.html</code> file and no more. Nuxt can start with a single <code>app.vue</code> file, etc. It's easy to pack as many features as possible into our tool to make it more useful, but it could be overwhelming for users to start with a lot of features. We need to find a way to reveal features as users need them.</p>
<p><span class="slidev-note-click-mark" data-clicks="7"></span> Then it's about extensibility, <span class="slidev-note-click-mark" data-clicks="8"></span> to allow the community to enhance the tool and enrich the ecosystem. <span class="slidev-note-click-mark" data-clicks="9"></span> We should make a plugin system for users to extend it with their needs.</p>
<p><span class="slidev-note-click-mark" data-clicks="10"></span> Finally, we should be progressive on breaking changes, <span class="slidev-note-click-mark" data-clicks="11"></span> to provide middle stages for migration. This is probably the most important one to me in software development. Breaking changes are necessary for software to improve, but how we do that is also crucial. <span class="slidev-note-click-mark" data-clicks="12"></span> A common practice is to deprecate the old features and provide a warning for users to migrate to the new features. Then we could provide forward/backward compatibility for users to opt-in to the new behavior in legacy versions, or stay on the old behavior in the new versions, for them to migrate at their own pace. And finally, we could remove the old features after a certain period of time. Each of these steps would deserve a major version and should be taken slowly.</p>
`,raw:"",frontmatter:be,filepath:"",start:259,id:9,no:10},__clicksContext:null,__preloaded:!1}),da={layout:"center",class:"text-center"},_e=P(da),ha=C({get layout(){return _e.layout},get transition(){return _e.transition},get class(){return _e.class},get clicks(){return _e.clicks},get name(){return _e.name},get preload(){return _e.preload},slide:{content:"",revision:"-mzaxxd",frontmatterRaw:`layout: center
class: 'text-center'
`,note:"",index:10,noteHTML:`<p>So we have mentioned a bit about extensibility in the previous slide.</p>
<p>So the fourth tip I would give is <span class="slidev-note-click-mark" data-clicks="1"></span> to be extensible, <span class="slidev-note-click-mark" data-clicks="2"></span> to make a plugin system for your tool and allow the community to enhance it.</p>
`,raw:"",frontmatter:_e,filepath:"",start:321,id:10,no:11},__clicksContext:null,__preloaded:!1}),pa={layout:"center",class:"text-center"},Se=P(pa),ga=C({get layout(){return Se.layout},get transition(){return Se.transition},get class(){return Se.class},get clicks(){return Se.clicks},get name(){return Se.name},get preload(){return Se.preload},slide:{content:"",revision:"6utffz",frontmatterRaw:`layout: center
class: 'text-center'
`,note:"",index:11,noteHTML:`<p>I am going to give a very bold statement here,</p>
<p>that in my opinion,</p>
<p>all software,</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> should provide some kind of plugin system. (pause)</p>
`,raw:"",frontmatter:Se,filepath:"",start:338,id:11,no:12},__clicksContext:null,__preloaded:!1}),ma={layout:"center",class:"text-center"},Me=P(ma),ya=C({get layout(){return Me.layout},get transition(){return Me.transition},get class(){return Me.class},get clicks(){return Me.clicks},get name(){return Me.name},get preload(){return Me.preload},slide:{content:"",revision:"-t2j8co",frontmatterRaw:`layout: center
class: 'text-center'
`,note:"",index:12,noteHTML:`<p>Before I explain it, I wanted to first give my understanding of the definition of the words &quot;Scripts&quot; and &quot;Software&quot;.</p>
<p>How do you feel about these words? (pause)</p>
<p>Even though Scripts and Software are technically the same thing under the hood, they are also different when you look at them from the perspective of users.</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> I would describe Scripts as a one-off tool that you use to solve a specific problem, and most of the time, you throw them away after you use them. They can still be very useful and save you a lot of time, but the code itself is usually not reusable.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> Software, on the other hand, is a tool that you use to solve a general problem, and you can use it for a long time. You can have it adapt to different scenarios for others with different needs.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> So I would say, Software is logic that adapts. The adaptability gives life to the code we wrote and benefits others in the long run. When we want to build tools for people to use, we would want to try to make our tools less scripts but more software.</p>
<p>Why are we talking about this? I think extensibility is one of the very important ways to make software have more adaptability. For extensibility, we usually mean a plugin system.</p>
`,raw:"",frontmatter:Me,filepath:"",start:356,id:12,no:13},__clicksContext:null,__preloaded:!1}),va={},Oe=P(va),ka=C({get layout(){return Oe.layout},get transition(){return Oe.transition},get class(){return Oe.class},get clicks(){return Oe.clicks},get name(){return Oe.name},get preload(){return Oe.preload},slide:{content:"",revision:"-m2grhn",note:"",title:"Benefits {.font-serif}",level:1,index:13,noteHTML:`<p>Talking about the benefits of having a plugin system,</p>
<p><span class="slidev-note-click-mark" data-clicks="1"></span> I would say, it allows you to build a community around your tool. And it would give the community power to build extensible features without being blocked by you or the maintainers. This also means it will scale better with the power of the community.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> Then, as the author or the maintainer, you can also leverage the plugin system to experiment and verify your ideas without breaking changes to the core. You can implement an experimental feature as an opt-in plugin for people to try it and iterate it freely. Once it's stable enough, you can then consider if you want to merge it to the core, etc.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> Then, making a plugin system, especially a powerful one, would also help you design a better architecture for your tool. You can have a more flexible and extensible architecture, which might also be more maintainable in the long run.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> Finally, as we mentioned before, having a plugin system would help your tool to be more extensible and cover more use cases, which would benefit more people and maximizing the value.</p>
`,raw:"",frontmatter:Oe,filepath:"",start:392,id:13,no:14},__clicksContext:null,__preloaded:!1}),wa={layout:"center",class:"text-center"},Te=P(wa),ba=C({get layout(){return Te.layout},get transition(){return Te.transition},get class(){return Te.class},get clicks(){return Te.clicks},get name(){return Te.name},get preload(){return Te.preload},slide:{content:"",revision:"-oogwgr",frontmatterRaw:`layout: center
class: 'text-center'
`,note:"",index:14,noteHTML:`<p>With that in mind, I would say a good way to build a powerful plugin system is to <span class="slidev-note-click-mark" data-clicks="1"></span> make your core features as plugins.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> This would put you in the position of both API designer and API consumer at the same time, which would help you design a more powerful plugin system.</p>
`,raw:"",frontmatter:Te,filepath:"",start:423,id:14,no:15},__clicksContext:null,__preloaded:!1}),_a={},Ee=P(_a),Sa=C({get layout(){return Ee.layout},get transition(){return Ee.transition},get class(){return Ee.class},get clicks(){return Ee.clicks},get name(){return Ee.name},get preload(){return Ee.preload},slide:{content:"",revision:"fq8rmh",note:"",index:15,noteHTML:`<p>Let's take Vite as an example.</p>
<p>I don't know how many of you are familiar with the history of Vite. Vite as of today is almost the default choice for web development for almost any project, but at the very beginning, it was an experiment on development tooling specifically for Vue.</p>
<p>As the idea of having a native-ESM dev server seemed to work pretty well, Evan You started to think that we could have this great dev server experience for other frameworks as well. <span class="slidev-note-click-mark" data-clicks="1"></span> Starting from Vite v2.0+, Vite became a framework-agnostic frontend tooling that is not bound to Vue anymore. <span class="slidev-note-click-mark" data-clicks="2"></span> Instead, Evan extracted the hard-coded Vue-specific logic into a plugin, which also helps to ensure Vite has a very powerful plugin system to support complex cases like Vue.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> Then we have a plugin to support React, <span class="slidev-note-click-mark" data-clicks="4"></span> the community built the plugin for Svelte which later became official, <span class="slidev-note-click-mark" data-clicks="5"></span> then we could have some crazy ideas like running a test runner for Vite with the same plugin pipeline which ends up to be Vitest, <span class="slidev-note-click-mark" data-clicks="6"></span> and by now we have almost every meta-framework built on top of Vite and sharing the great plugin ecosystem of Vite together.</p>
<p>This is just one of the examples, but we can see that without this move of extracting Vue as a plugin, we wouldn't have all these great tools that empower our daily development.</p>
`,raw:"",frontmatter:Ee,filepath:"",start:441,id:15,no:16},__clicksContext:null,__preloaded:!1}),Ma={layout:"center",class:"text-center"},Pe=P(Ma),Oa=C({get layout(){return Pe.layout},get transition(){return Pe.transition},get class(){return Pe.class},get clicks(){return Pe.clicks},get name(){return Pe.name},get preload(){return Pe.preload},slide:{content:"",revision:"f2idt7",frontmatterRaw:`layout: center
class: 'text-center'
`,note:"",index:16,noteHTML:`<p>Then, the final tip I would give today is <span class="slidev-note-click-mark" data-clicks="1"></span> to work with the community. Or work with the users, depending on what type of tools you are building.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> We can't just build a great tool out of nowhere. We need to work with people, get them engaged, and build together.</p>
`,raw:"",frontmatter:Pe,filepath:"",start:508,id:16,no:17},__clicksContext:null,__preloaded:!1}),Ta={},$e=P(Ta),Ea=C({get layout(){return $e.layout},get transition(){return $e.transition},get class(){return $e.class},get clicks(){return $e.clicks},get name(){return $e.name},get preload(){return $e.preload},slide:{content:"",revision:"-we7apc",note:"",index:17,noteHTML:`<p>The first thing I would suggest is to <span class="slidev-note-click-mark" data-clicks="1"></span> build your own identity. People need to know who is behind the tool, especially in open source. Software as tools is a bit different from physical tools - software evolves and needs maintenance, so knowing and trusting the authors or maintainers behind a certain tool is important for you to get the adoption.</p>
<p><span class="slidev-note-click-mark" data-clicks="2"></span> Then, of course, we should work with our users. Listen to their feedback and iterate.</p>
<p><span class="slidev-note-click-mark" data-clicks="3"></span> Building a software tool, especially dev tools, is interesting, as your users are usually also developers, meaning they could potentially contribute to the tool themselves.</p>
<p>Making a good environment for contributions and maintaining a good feedback loop for them is important to get your tool started. For example, like replying to comments or reviewing PRs in time, to make people feel they are part of the community, which potentially you could gather people with the same passion about the tool and maybe build a team to scale the project further.</p>
<p><span class="slidev-note-click-mark" data-clicks="4"></span> Finally, we should collaborate with other projects' authors or maintainers, outside of our project. Not only could we extend the ecosystem by introducing new integrations, but we could also learn from each other, spark new ideas, and build a stronger community together.</p>
`,raw:"",frontmatter:$e,filepath:"",start:526,id:17,no:18},__clicksContext:null,__preloaded:!1}),Pa={},Ce=P(Pa),$a=C({get layout(){return Ce.layout},get transition(){return Ce.transition},get class(){return Ce.class},get clicks(){return Ce.clicks},get name(){return Ce.name},get preload(){return Ce.preload},slide:{content:"",revision:"t3s2ad",note:"",title:"Recap",level:1,index:18,noteHTML:`<p>So a quick recap of the tips I gave today.</p>
<p>There are many more things I wanted to go into in more detail, but due to the time limit, I couldn't cover them all.</p>
<p>Reach out to me if you are interested in hearing more about them. You can also find the slides on my website antfu.me afterward.</p>
`,raw:"",frontmatter:Ce,filepath:"",start:571,id:18,no:19},__clicksContext:null,__preloaded:!1}),Ca={layout:"center"},Le=P(Ca),La=C({get layout(){return Le.layout},get transition(){return Le.transition},get class(){return Le.class},get clicks(){return Le.clicks},get name(){return Le.name},get preload(){return Le.preload},slide:{content:"",revision:"-zg7xtl",frontmatterRaw:`layout: center
`,note:"",index:19,noteHTML:`<p>I also actually gave a few related talks before,</p>
<p>The Set Theory about how we can expand the scopes of our projects; The Progressive path about how we can reduce the friction for people to use our tools. And then Yak Shaving about how to come up with ideas and execute them.</p>
<p>If you are interested, you can also find the recordings and slides on my website.</p>
`,raw:"",frontmatter:Le,filepath:"",start:616,id:19,no:20},__clicksContext:null,__preloaded:!1}),Aa={layout:"center",class:"text-center"},Ae=P(Aa),Ia=C({get layout(){return Ae.layout},get transition(){return Ae.transition},get class(){return Ae.class},get clicks(){return Ae.clicks},get name(){return Ae.name},get preload(){return Ae.preload},slide:{content:"",revision:"pp83jh",frontmatterRaw:`layout: center
class: 'text-center'
`,note:"",index:20,noteHTML:`<p>In a word,</p>
<p>Needless to say, but <span class="slidev-note-click-mark" data-clicks="1"></span> to make tools that people love,</p>
<p>I think the only true tip is <span class="slidev-note-click-mark" data-clicks="2"></span> &quot;to put love and great care into the tools we make&quot;. (pause)</p>
<p>That's all for my talk today. <span class="slidev-note-click-mark" data-clicks="3"></span> Thank you! (pause)</p>
`,raw:"",frontmatter:Ae,filepath:"",start:658,id:20,no:21},__clicksContext:null,__preloaded:!1}),xa={layout:"center",class:"text-center pb-5"},Ie=P(xa),Ra=C({get layout(){return Ie.layout},get transition(){return Ie.transition},get class(){return Ie.class},get clicks(){return Ie.clicks},get name(){return Ie.name},get preload(){return Ie.preload},slide:{content:"",revision:"omjq7x",frontmatterRaw:`layout: center
class: 'text-center pb-5'
`,note:"",index:21,noteHTML:"",raw:"",frontmatter:Ie,filepath:"",start:676,id:21,no:22},__clicksContext:null,__preloaded:!1}),j=new Array(22),x=(t,e)=>Lo({loader:e,delay:300,loadingComponent:qr,errorComponent:L,onError:n=>console.error("Failed to load slide "+(t+1),n)}),Kn=async()=>{try{return j[0]??=await E(()=>import("./md-DJWT_Dpq.js"),__vite__mapDeps([0,1,2,3,4,5]))}catch(t){return console.error("slide failed to load",t),L}},Gn=async()=>{try{return j[1]??=await E(()=>import("./md-BEvOjkcW.js"),__vite__mapDeps([6,1,3,4,5]))}catch(t){return console.error("slide failed to load",t),L}},Qn=async()=>{try{return j[2]??=await E(()=>import("./md-CMH43S-l.js"),__vite__mapDeps([7,1,3,4,5,8]))}catch(t){return console.error("slide failed to load",t),L}},Yn=async()=>{try{return j[3]??=await E(()=>import("./md-BB-M0UnN.js"),__vite__mapDeps([9,1,3,4,5]))}catch(t){return console.error("slide failed to load",t),L}},Zn=async()=>{try{return j[4]??=await E(()=>import("./md-JLQXHB5N.js"),__vite__mapDeps([10,11,1,3,2,4,5]))}catch(t){return console.error("slide failed to load",t),L}},Xn=async()=>{try{return j[5]??=await E(()=>import("./md-DBgFQ06z.js"),__vite__mapDeps([12,1,13,3,4,5]))}catch(t){return console.error("slide failed to load",t),L}},es=async()=>{try{return j[6]??=await E(()=>import("./md-H0L1DbEa.js"),__vite__mapDeps([14,11,1,3,2,4,5]))}catch(t){return console.error("slide failed to load",t),L}},ts=async()=>{try{return j[7]??=await E(()=>import("./slidev/md-W7o4h1ta.js"),__vite__mapDeps([15,1,13,3,4,5]))}catch(t){return console.error("slide failed to load",t),L}},ns=async()=>{try{return j[8]??=await E(()=>import("./md-BBhY0pAa.js"),__vite__mapDeps([16,11,1,3,2,4,5]))}catch(t){return console.error("slide failed to load",t),L}},ss=async()=>{try{return j[9]??=await E(()=>import("./md-C1g3dkcD.js"),__vite__mapDeps([17,1,13,3,4,5]))}catch(t){return console.error("slide failed to load",t),L}},os=async()=>{try{return j[10]??=await E(()=>import("./md-DJeOXjmK.js"),__vite__mapDeps([18,11,1,3,2,4,5]))}catch(t){return console.error("slide failed to load",t),L}},rs=async()=>{try{return j[11]??=await E(()=>import("./md-B9gHB2vj.js"),__vite__mapDeps([19,1,2,3,4,5]))}catch(t){return console.error("slide failed to load",t),L}},as=async()=>{try{return j[12]??=await E(()=>import("./md-BZWd-nZa.js"),__vite__mapDeps([20,1,2,3,4,5]))}catch(t){return console.error("slide failed to load",t),L}},is=async()=>{try{return j[13]??=await E(()=>import("./slidev/md-Bff_OMS4.js"),__vite__mapDeps([21,1,3,13,4,5]))}catch(t){return console.error("slide failed to load",t),L}},ls=async()=>{try{return j[14]??=await E(()=>import("./md-DME2oF3Z.js"),__vite__mapDeps([22,11,1,3,2,4,5]))}catch(t){return console.error("slide failed to load",t),L}},cs=async()=>{try{return j[15]??=await E(()=>import("./md-ipJoknlZ.js"),__vite__mapDeps([23,1,13,3,4,5]))}catch(t){return console.error("slide failed to load",t),L}},us=async()=>{try{return j[16]??=await E(()=>import("./md-BnU1zeqc.js"),__vite__mapDeps([24,11,1,3,2,4,5]))}catch(t){return console.error("slide failed to load",t),L}},fs=async()=>{try{return j[17]??=await E(()=>import("./md-yMIgMPMf.js"),__vite__mapDeps([25,1,13,3,4,5]))}catch(t){return console.error("slide failed to load",t),L}},ds=async()=>{try{return j[18]??=await E(()=>import("./md-BP3hUOFk.js"),__vite__mapDeps([26,1,13,3,4,5]))}catch(t){return console.error("slide failed to load",t),L}},hs=async()=>{try{return j[19]??=await E(()=>import("./md-mABG1yy6.js"),__vite__mapDeps([27,1,2,3,4,5]))}catch(t){return console.error("slide failed to load",t),L}},ps=async()=>{try{return j[20]??=await E(()=>import("./md-DZWdOQ6n.js"),__vite__mapDeps([28,1,2,3,4,5]))}catch(t){return console.error("slide failed to load",t),L}},gs=async()=>{try{return j[21]??=await E(()=>import("./md-DnBeRa5d.js"),__vite__mapDeps([29,1,2,3,4,5]))}catch(t){return console.error("slide failed to load",t),L}},ja=[{no:1,meta:Jr,load:Kn,component:x(0,Kn)},{no:2,meta:Gr,load:Gn,component:x(1,Gn)},{no:3,meta:Yr,load:Qn,component:x(2,Qn)},{no:4,meta:Xr,load:Yn,component:x(3,Yn)},{no:5,meta:ta,load:Zn,component:x(4,Zn)},{no:6,meta:sa,load:Xn,component:x(5,Xn)},{no:7,meta:ra,load:es,component:x(6,es)},{no:8,meta:ia,load:ts,component:x(7,ts)},{no:9,meta:ca,load:ns,component:x(8,ns)},{no:10,meta:fa,load:ss,component:x(9,ss)},{no:11,meta:ha,load:os,component:x(10,os)},{no:12,meta:ga,load:rs,component:x(11,rs)},{no:13,meta:ya,load:as,component:x(12,as)},{no:14,meta:ka,load:is,component:x(13,is)},{no:15,meta:ba,load:ls,component:x(14,ls)},{no:16,meta:Sa,load:cs,component:x(15,cs)},{no:17,meta:Oa,load:us,component:x(16,us)},{no:18,meta:Ea,load:fs,component:x(17,fs)},{no:19,meta:$a,load:ds,component:x(18,ds)},{no:20,meta:La,load:hs,component:x(19,hs)},{no:21,meta:Ia,load:ps,component:x(20,ps)},{no:22,meta:Ra,load:gs,component:x(21,gs)}],se=_n(ja);function Na(t,e){if(!e||e==="all"||e==="*")return Vn(1,t+1);if(e==="none")return[];const n=[];for(const s of e.split(/[,;]/g))if(!s.includes("-"))n.push(+s);else{const[o,r]=s.split("-",2);n.push(...Vn(+o,r?+r+1:t+1))}return sr(n).filter(s=>s<=t).sort((s,o)=>s-o)}const Nt="$$slidev-clicks-context",Sn="$$slidev-page",Ws="$$slidev-slide-element",Da="$$slidev-slide-scale",Ha="$$slidev-context",zl="$$slidev-route",Mn="$$slidev-render-context",Va="$$slidev-fontmatter",Fa="$$slidev-slide-zoom",vt="slidev-vclick-target",Ze="slidev-vclick-hidden",Xe="slidev-vclick-fade",Jt="slidev-vclick-hidden-explicitly",Kt="slidev-vclick-current",Gt="slidev-vclick-prior",kt=999999,za=["localhost","127.0.0.1"],Ba=["clicks","clicksStart","disabled","hide","hideInToc","layout","level","preload","routeAlias","src","title","transition","zoom","dragPos","lang"],Bl=[...Ba,"theme","titleTemplate","info","author","keywords","presenter","browserExporter","download","exportFilename","export","highlighter","lineNumbers","monaco","monacoTypesSource","monacoTypesAdditionalPackages","monacoRunAdditionalDeps","remoteAssets","selectable","record","colorSchema","routerMode","aspectRatio","canvasWidth","themeConfig","favicon","plantUmlServer","fonts","defaults","drawings","htmlAttrs","mdc","contextMenu","wakeLock","seoMeta"];function Wa(t,e,{mode:n="replace"}={}){const s=Rt();return b({get(){const o=s.currentRoute.value.query[t];return o==null?e:Array.isArray(o)?o.filter(Boolean):o},set(o){Ao(()=>{(s.currentRoute.value.query[t]??e?.toString())!==o.toString()&&s[Io(n)]({query:{...s.currentRoute.value.query,[t]:`${o}`===e?void 0:o}})})}})}function Dt(t){return se.value.find(e=>e.no===+t||e.meta.slide?.frontmatter.routeAlias===t)}function Be(t,e,n=!1){(typeof t=="number"||typeof t=="string")&&(t=Dt(t));const s=t.meta.slide?.frontmatter.routeAlias??t.no;return n?`/export/${s}`:e?`/presenter/${s}`:`/${s}`}const qa={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function Ua(t,e=!1){if(!t||(typeof t=="string"&&(t={name:t}),!t.name))return;let n=t.name.includes("|")?t.name:qa[t.name]||t.name;if(n.includes("|")){const[s,o]=n.split("|").map(r=>r.trim());n=e?o:s}if(n)return{...t,name:n}}function Ja(t,e,n){let s=t>0?n?.meta?.transition:e?.meta?.transition;return s||(s=N.transition||void 0),Ua(s,t<0)}const Wl=O(!1),ql=O(!1),Ul=O(!1),Ka=O(!1),On=O(!1),Jl=O(!1),Kl=O(!0),Gl=Do({xs:460,...Ho}),Et=Ro(),Ql=xo(),Yl=b(()=>Et.height.value-Et.width.value/Ns.value>120),Zl=jo(jt?document.body:null),qs=No(),Xl=b(()=>["INPUT","TEXTAREA"].includes(qs.value?.tagName||"")),ec=b(()=>["BUTTON","A"].includes(qs.value?.tagName||""));W("slidev-camera","default",{listenToStorageChanges:!1});W("slidev-mic","default",{listenToStorageChanges:!1});const Ga=W("slidev-scale",0),tc=W("slidev-wake-lock",!0),nc=W("slidev-hide-cursor-idle",!0);W("slidev-skip-export-pdf-tip",!1);W("slidev-export-capture-delay",400,{listenToStorageChanges:!1});const sc=W("slidev-presenter-cursor",!0,{listenToStorageChanges:!1}),Qa=W("slidev-show-editor",!1,{listenToStorageChanges:!1}),Ya=W("slidev-editor-vertical",!1,{listenToStorageChanges:!1}),Za=W("slidev-editor-width",jt?window.innerWidth*.4:318,{listenToStorageChanges:!1}),Xa=W("slidev-editor-height",jt?window.innerHeight*.4:300,{listenToStorageChanges:!1}),ut=_n(null),Pt=W("slidev-presenter-font-size",1,{listenToStorageChanges:!1}),ft=W("slidev-presenter-layout",1,{listenToStorageChanges:!1}),fn={invert:!1,contrast:1,brightness:1,hueRotate:0,saturate:1,sepia:0},ei=W("slidev-viewer-css-filter",fn,{listenToStorageChanges:!1,mergeDefaults:!0,deep:!0}),oc=b(()=>Object.keys(fn).some(t=>ei.value[t]!==fn[t]));function rc(){ft.value=ft.value+1,ft.value>3&&(ft.value=1)}function ac(){Pt.value=Math.min(2,Pt.value+.1)}function ic(){Pt.value=Math.max(.5,Pt.value-.1)}const lc=xs(Ka),dt=W("slidev-sync-directions",{viewerSend:!0,viewerReceive:!0,presenterSend:!0,presenterReceive:!0},{listenToStorageChanges:!1,mergeDefaults:!0});function Us(t,e,n=1){const s=e.meta.slide.level??n;s&&s>n&&t.length>0?Us(t[t.length-1].children,e,n+1):t.push({no:e.no,children:[],level:n,titleLevel:s,path:Be(e.meta.slide?.frontmatter?.routeAlias??e.no,!1),hideInToc:!!e.meta?.slide?.frontmatter?.hideInToc,title:e.meta?.slide?.title})}function Js(t,e,n=!1,s,o){return t.map(r=>{const a={...r,active:r.no===o?.value,hasActiveParent:n};return a.children.length>0&&(a.children=Js(a.children,e,a.active||a.hasActiveParent,a,o)),s&&(a.active||a.activeParent)&&(s.activeParent=!0),a})}function Ks(t,e=1){return t.filter(n=>!n.hideInToc).map(n=>({...n,children:Ks(n.children,e+1)}))}function ti(t,e,n){const s=b(()=>t.value.filter(r=>r.meta?.slide?.title).reduce((r,a)=>(Us(r,a),r),[])),o=b(()=>Js(s.value,n.value,void 0,void 0,e));return b(()=>Ks(o.value))}function ni(t,e,n=O(0),s,o,r){const a=b(()=>se.value.length),i=O(0),l=O(0),c=b(()=>Be(t.value,s.value)),f=b(()=>t.value.no),h=b(()=>t.value.meta?.layout||(f.value===1?"cover":"default")),d=b(()=>e.value.current),u=b(()=>e.value.clicksStart),g=b(()=>e.value.total),p=b(()=>se.value[Math.min(se.value.length,f.value+1)-1]),m=b(()=>se.value[Math.max(1,f.value-1)-1]),y=b(()=>f.value<se.value.length||d.value<g.value),v=b(()=>f.value>1||d.value>0),k=b(()=>o.value?void 0:Ja(i.value,t.value,m.value));ee(t,(H,I)=>{i.value=H.no-I.no});async function w(H){return!1}const _=ti(se,f,t);async function T(){l.value=1,g.value<=n.value?await F():n.value+=1}async function A(){l.value=-1,n.value<=u.value?await U(!0):n.value-=1}async function F(H=!1){l.value=1,f.value<se.value.length&&await M(f.value+1,H&&!o.value?kt:void 0)}async function U(H=!1){l.value=-1,f.value>1&&await M(f.value-1,H&&!o.value?kt:void 0)}function le(){return M(1)}function Z(){return M(a.value)}async function M(H,I=0,ae=!1){On.value=!1;const ce=f.value!==H,Qe=I!==n.value,G=Dt(H)?.meta,D=G?.slide?.frontmatter.clicksStart??0;I=an(I,D,G?.__clicksContext?.total??kt),(ae||ce||Qe)&&await r?.push({path:Be(H,s.value,r.currentRoute.value.name==="export"),query:{...r.currentRoute.value.query,clicks:I===0?void 0:I.toString(),embedded:location.search.includes("embedded")?"true":void 0}})}function $(){r?.push({path:Be(f.value,!0),query:{...r.currentRoute.value.query}})}function z(){r?.push({path:Be(f.value,!1),query:{...r.currentRoute.value.query}})}return{slides:se,total:a,currentPath:c,currentSlideNo:f,currentPage:f,currentSlideRoute:t,currentLayout:h,currentTransition:k,clicksDirection:l,nextRoute:p,prevRoute:m,clicksContext:e,clicks:d,clicksStart:u,clicksTotal:g,hasNext:y,hasPrev:v,tocTree:_,navDirection:i,openInEditor:w,next:T,prev:A,go:M,goLast:Z,goFirst:le,nextSlide:F,prevSlide:U,enterPresenter:$,exitPresenter:z}}const si=Rs(()=>{const t=Rt(),e=Vo(),n=b(()=>(t?.currentRoute?.value?.query,new URLSearchParams(location.search))),s=b(()=>n.value.has("print")||e.name==="export"),o=O(n.value.get("print")==="clicks"),r=b(()=>n.value.has("embedded")),a=b(()=>e.name==="play"),i=b(()=>e.name==="presenter"),l=b(()=>e.name==="notes"),c=b(()=>!i.value&&(!N.remote||n.value.get("password")===N.remote)),f=b(()=>!!e.params.no),h=b(()=>f.value?Dt(e.params.no)?.no??1:1),d=b(()=>se.value[h.value-1]),u=O(Na(se.value.length,e?.query?.range)),g=Wa("clicks","0"),p=b(()=>y(d.value)),m=b({get(){let v=+(g.value||0);return Number.isNaN(v)&&(v=0),v},set(v){On.value=!1,g.value=v.toString()}});function y(v){if(v?.meta?.__clicksContext)return v.meta.__clicksContext;const k=v.no,w=Bs(b({get(){return h.value===k?Math.max(+(g.value??0),w.clicksStart):h.value>k?kt:w.clicksStart},set(_){h.value===k&&(g.value=_.toString())}}),v?.meta.slide?.frontmatter.clicksStart??0,v?.meta.clicks);return v?.meta&&(v.meta.__clicksContext=w),w}return{router:t,currentRoute:b(()=>e),isPrintMode:s,isPrintWithClicks:o,isEmbedded:r,isPlaying:a,isPresenter:i,isNotesViewer:l,isPresenterAvailable:c,hasPrimarySlide:f,currentSlideNo:h,currentSlideRoute:d,clicksContext:p,queryClicksRaw:g,queryClicks:m,printRange:u,getPrimaryClicks:y}}),Ge=Rs(()=>{const t=si(),e=Rt(),n=ni(t.currentSlideRoute,t.clicksContext,t.queryClicks,t.isPresenter,t.isPrintMode,e);return ee([n.total,t.currentRoute],async()=>{const s=t.currentRoute.value.params.no;t.hasPrimarySlide.value&&!Dt(s)&&(s&&s!=="index.html"?await n.go(n.total.value,0,!0):await n.go(1,0,!0))},{flush:"pre",immediate:!0}),{...n,...t}}),ms=Fo(),Qt=W("slidev-color-schema","auto"),ys=b(()=>N.colorSchema!=="auto"),Gs=b({get(){return ys.value?N.colorSchema==="dark":Qt.value==="auto"?ms.value:Qt.value==="dark"},set(t){ys.value||(Qt.value=t===ms.value?"auto":t?"dark":"light")}}),cc=xs(Gs);if(jt){const t="*,*::before,*::after{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}";ee(Gs,e=>{const n=window.document.createElement("style");n.appendChild(document.createTextNode(t)),window.document.head.appendChild(n);const s=document.querySelector("html");s.classList.toggle("dark",e),s.classList.toggle("light",!e),window.getComputedStyle(n).opacity,document.head.removeChild(n)},{immediate:!0})}function oi(){const{isPrintMode:t}=Ge();zo(b(()=>t.value?`
@page {
  size: ${Ds.value}px ${ar.value}px;
  margin: 0px;
}

* {
  transition: none !important;
  transition-duration: 0s !important;
}`:""))}const Tn=Symbol.for("yaml.alias"),ri=Symbol.for("yaml.document"),Ne=Symbol.for("yaml.map"),Qs=Symbol.for("yaml.pair"),En=Symbol.for("yaml.scalar"),it=Symbol.for("yaml.seq"),re=Symbol.for("yaml.node.type"),De=t=>!!t&&typeof t=="object"&&t[re]===Tn,Ht=t=>!!t&&typeof t=="object"&&t[re]===ri,Ys=t=>!!t&&typeof t=="object"&&t[re]===Ne,B=t=>!!t&&typeof t=="object"&&t[re]===Qs,V=t=>!!t&&typeof t=="object"&&t[re]===En,Pn=t=>!!t&&typeof t=="object"&&t[re]===it;function Y(t){if(t&&typeof t=="object")switch(t[re]){case Ne:case it:return!0}return!1}function q(t){if(t&&typeof t=="object")switch(t[re]){case Tn:case Ne:case En:case it:return!0}return!1}const Zs=t=>(V(t)||Y(t))&&!!t.anchor,xe=Symbol("break visit"),ai=Symbol("skip children"),st=Symbol("remove node");function Vt(t,e){const n=ii(e);Ht(t)?We(null,t.contents,n,Object.freeze([t]))===st&&(t.contents=null):We(null,t,n,Object.freeze([]))}Vt.BREAK=xe;Vt.SKIP=ai;Vt.REMOVE=st;function We(t,e,n,s){const o=li(t,e,n,s);if(q(o)||B(o))return ci(t,s,o),We(t,o,n,s);if(typeof o!="symbol"){if(Y(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){const a=We(r,e.items[r],n,s);if(typeof a=="number")r=a-1;else{if(a===xe)return xe;a===st&&(e.items.splice(r,1),r-=1)}}}else if(B(e)){s=Object.freeze(s.concat(e));const r=We("key",e.key,n,s);if(r===xe)return xe;r===st&&(e.key=null);const a=We("value",e.value,n,s);if(a===xe)return xe;a===st&&(e.value=null)}}return o}function ii(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function li(t,e,n,s){if(typeof n=="function")return n(t,e,s);if(Ys(e))return n.Map?.(t,e,s);if(Pn(e))return n.Seq?.(t,e,s);if(B(e))return n.Pair?.(t,e,s);if(V(e))return n.Scalar?.(t,e,s);if(De(e))return n.Alias?.(t,e,s)}function ci(t,e,n){const s=e[e.length-1];if(Y(s))s.items[t]=n;else if(B(s))t==="key"?s.key=n:s.value=n;else if(Ht(s))s.contents=n;else{const o=De(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${o} parent`)}}function Xs(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function nt(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let o=0,r=s.length;o<r;++o){const a=s[o],i=nt(t,s,String(o),a);i===void 0?delete s[o]:i!==a&&(s[o]=i)}else if(s instanceof Map)for(const o of Array.from(s.keys())){const r=s.get(o),a=nt(t,s,o,r);a===void 0?s.delete(o):a!==r&&s.set(o,a)}else if(s instanceof Set)for(const o of Array.from(s)){const r=nt(t,s,o,o);r===void 0?s.delete(o):r!==o&&(s.delete(o),s.add(r))}else for(const[o,r]of Object.entries(s)){const a=nt(t,s,o,r);a===void 0?delete s[o]:a!==r&&(s[o]=a)}return t.call(e,n,s)}function oe(t,e,n){if(Array.isArray(t))return t.map((s,o)=>oe(s,String(o),n));if(t&&typeof t.toJSON=="function"){if(!n||!Zs(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=r=>{s.res=r,delete n.onCreate};const o=t.toJSON(e,n);return n.onCreate&&n.onCreate(o),o}return typeof t=="bigint"&&!n?.keep?Number(t):t}class $n{constructor(e){Object.defineProperty(this,re,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}toJS(e,{mapAsMap:n,maxAliasCount:s,onAnchor:o,reviver:r}={}){if(!Ht(e))throw new TypeError("A document argument is required");const a={anchors:new Map,doc:e,keep:!0,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof s=="number"?s:100},i=oe(this,"",a);if(typeof o=="function")for(const{count:l,res:c}of a.anchors.values())o(c,l);return typeof r=="function"?nt(r,{"":i},"",i):i}}class ui extends $n{constructor(e){super(Tn),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e,n){let s;n?.aliasResolveCache?s=n.aliasResolveCache:(s=[],Vt(e,{Node:(r,a)=>{(De(a)||Zs(a))&&s.push(a)}}),n&&(n.aliasResolveCache=s));let o;for(const r of s){if(r===this)break;r.anchor===this.source&&(o=r)}return o}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:o,maxAliasCount:r}=n,a=this.resolve(o,n);if(!a){const l=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(l)}let i=s.get(a);if(i||(oe(a,null,n),i=s.get(a)),!i||i.res===void 0){const l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(r>=0&&(i.count+=1,i.aliasCount===0&&(i.aliasCount=wt(o,a,s)),i.count*i.aliasCount>r)){const l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return i.res}toString(e,n,s){const o=`*${this.source}`;if(e){if(Xs(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${o} `}return o}}function wt(t,e,n){if(De(e)){const s=e.resolve(t),o=n&&s&&n.get(s);return o?o.count*o.aliasCount:0}else if(Y(e)){let s=0;for(const o of e.items){const r=wt(t,o,n);r>s&&(s=r)}return s}else if(B(e)){const s=wt(t,e.key,n),o=wt(t,e.value,n);return Math.max(s,o)}return 1}const eo=t=>!t||typeof t!="function"&&typeof t!="object";class R extends $n{constructor(e){super(En),this.value=e}toJSON(e,n){return n?.keep?this.value:oe(this.value,e,n)}toString(){return String(this.value)}}R.BLOCK_FOLDED="BLOCK_FOLDED";R.BLOCK_LITERAL="BLOCK_LITERAL";R.PLAIN="PLAIN";R.QUOTE_DOUBLE="QUOTE_DOUBLE";R.QUOTE_SINGLE="QUOTE_SINGLE";function fi(t,e,n){return n.find(s=>s.identify?.(t)&&!s.format)}function $t(t,e,n){if(Ht(t)&&(t=t.contents),q(t))return t;if(B(t)){const h=n.schema[Ne].createNode?.(n.schema,null,n);return h.items.push(t),h}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:o,onTagObj:r,schema:a,sourceObjects:i}=n;let l;if(s&&t&&typeof t=="object"){if(l=i.get(t),l)return l.anchor??(l.anchor=o(t)),new ui(l.anchor);l={anchor:null,node:null},i.set(t,l)}let c=fi(t,e,a.tags);if(!c){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const h=new R(t);return l&&(l.node=h),h}c=t instanceof Map?a[Ne]:Symbol.iterator in Object(t)?a[it]:a[Ne]}r&&(r(c),delete n.onTagObj);const f=c?.createNode?c.createNode(n.schema,t,n):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(n.schema,t,n):new R(t);return c.default||(f.tag=c.tag),l&&(l.node=f),f}function vs(t,e,n){let s=n;for(let o=e.length-1;o>=0;--o){const r=e[o];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const a=[];a[r]=s,s=a}else s=new Map([[r,s]])}return $t(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const di=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class to extends $n{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>q(s)||B(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(di(e))this.add(n);else{const[s,...o]=e,r=this.get(s,!0);if(Y(r))r.addIn(o,n);else if(r===void 0&&this.schema)this.set(s,vs(this.schema,o,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const o=this.get(n,!0);if(Y(o))return o.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...o]=e,r=this.get(s,!0);return o.length===0?!n&&V(r)?r.value:r:Y(r)?r.getIn(o,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!B(n))return!1;const s=n.value;return s==null||e&&V(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const o=this.get(n,!0);return Y(o)?o.hasIn(s):!1}setIn(e,n){const[s,...o]=e;if(o.length===0)this.set(s,n);else{const r=this.get(s,!0);if(Y(r))r.setIn(o,n);else if(r===void 0&&this.schema)this.set(s,vs(this.schema,o,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${o}`)}}}const hi=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function at(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const qe=(t,e,n)=>t.endsWith(`
`)?at(n,e):n.includes(`
`)?`
`+at(n,e):(t.endsWith(" ")?"":" ")+n,no="flow",dn="block",bt="quoted";function Ft(t,e,n="flow",{indentAtStart:s,lineWidth:o=80,minContentWidth:r=20,onFold:a,onOverflow:i}={}){if(!o||o<0)return t;o<r&&(r=0);const l=Math.max(1+r,1+o-e.length);if(t.length<=l)return t;const c=[],f={};let h=o-e.length;typeof s=="number"&&(s>o-Math.max(2,r)?c.push(0):h=o-s);let d,u,g=!1,p=-1,m=-1,y=-1;n===dn&&(p=ks(t,p,e.length),p!==-1&&(h=p+l));for(let k;k=t[p+=1];){if(n===bt&&k==="\\"){switch(m=p,t[p+1]){case"x":p+=3;break;case"u":p+=5;break;case"U":p+=9;break;default:p+=1}y=p}if(k===`
`)n===dn&&(p=ks(t,p,e.length)),h=p+e.length+l,d=void 0;else{if(k===" "&&u&&u!==" "&&u!==`
`&&u!=="	"){const w=t[p+1];w&&w!==" "&&w!==`
`&&w!=="	"&&(d=p)}if(p>=h)if(d)c.push(d),h=d+l,d=void 0;else if(n===bt){for(;u===" "||u==="	";)u=k,k=t[p+=1],g=!0;const w=p>y+1?p-2:m-1;if(f[w])return t;c.push(w),f[w]=!0,h=w+l,d=void 0}else g=!0}u=k}if(g&&i&&i(),c.length===0)return t;a&&a();let v=t.slice(0,c[0]);for(let k=0;k<c.length;++k){const w=c[k],_=c[k+1]||t.length;w===0?v=`
${e}${t.slice(0,_)}`:(n===bt&&f[w]&&(v+=`${t[w]}\\`),v+=`
${e}${t.slice(w+1,_)}`)}return v}function ks(t,e,n){let s=e,o=e+1,r=t[o];for(;r===" "||r==="	";)if(e<o+n)r=t[++e];else{do r=t[++e];while(r&&r!==`
`);s=e,o=e+1,r=t[o]}return s}const zt=(t,e)=>({indentAtStart:e?t.indent.length:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),Bt=t=>/^(%|---|\.\.\.)/m.test(t);function pi(t,e,n){if(!e||e<0)return!1;const s=e-n,o=t.length;if(o<=s)return!1;for(let r=0,a=0;r<o;++r)if(t[r]===`
`){if(r-a>s)return!0;if(a=r+1,o-a<=s)return!1}return!0}function ot(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,o=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(Bt(t)?"  ":"");let a="",i=0;for(let l=0,c=n[l];c;c=n[++l])if(c===" "&&n[l+1]==="\\"&&n[l+2]==="n"&&(a+=n.slice(i,l)+"\\ ",l+=1,i=l,c="\\"),c==="\\")switch(n[l+1]){case"u":{a+=n.slice(i,l);const f=n.substr(l+2,4);switch(f){case"0000":a+="\\0";break;case"0007":a+="\\a";break;case"000b":a+="\\v";break;case"001b":a+="\\e";break;case"0085":a+="\\N";break;case"00a0":a+="\\_";break;case"2028":a+="\\L";break;case"2029":a+="\\P";break;default:f.substr(0,2)==="00"?a+="\\x"+f.substr(2):a+=n.substr(l,6)}l+=5,i=l+1}break;case"n":if(s||n[l+2]==='"'||n.length<o)l+=1;else{for(a+=n.slice(i,l)+`

`;n[l+2]==="\\"&&n[l+3]==="n"&&n[l+4]!=='"';)a+=`
`,l+=2;a+=r,n[l+2]===" "&&(a+="\\"),l+=1,i=l+1}break;default:l+=1}return a=i?a+n.slice(i):n,s?a:Ft(a,r,bt,zt(e,!1))}function hn(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return ot(t,e);const n=e.indent||(Bt(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?s:Ft(s,n,no,zt(e,!1))}function Ue(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=ot;else{const o=t.includes('"'),r=t.includes("'");o&&!r?s=hn:r&&!o?s=ot:s=n?hn:ot}return s(t,e)}let pn;try{pn=new RegExp(`(^|(?<!
))
+(?!
|$)`,"g")}catch{pn=/\n+(?!\n|$)/g}function _t({comment:t,type:e,value:n},s,o,r){const{blockQuote:a,commentString:i,lineWidth:l}=s.options;if(!a||/\n[\t ]+$/.test(n))return Ue(n,s);const c=s.indent||(s.forceBlockIndent||Bt(n)?"  ":""),f=a==="literal"?!0:a==="folded"||e===R.BLOCK_FOLDED?!1:e===R.BLOCK_LITERAL?!0:!pi(n,l,c.length);if(!n)return f?`|
`:`>
`;let h,d;for(d=n.length;d>0;--d){const _=n[d-1];if(_!==`
`&&_!=="	"&&_!==" ")break}let u=n.substring(d);const g=u.indexOf(`
`);g===-1?h="-":n===u||g!==u.length-1?(h="+",r&&r()):h="",u&&(n=n.slice(0,-u.length),u[u.length-1]===`
`&&(u=u.slice(0,-1)),u=u.replace(pn,`$&${c}`));let p=!1,m,y=-1;for(m=0;m<n.length;++m){const _=n[m];if(_===" ")p=!0;else if(_===`
`)y=m;else break}let v=n.substring(0,y<m?y+1:m);v&&(n=n.substring(v.length),v=v.replace(/\n+/g,`$&${c}`));let w=(p?c?"2":"1":"")+h;if(t&&(w+=" "+i(t.replace(/ ?[\r\n]+/g," ")),o&&o()),!f){const _=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${c}`);let T=!1;const A=zt(s,!0);a!=="folded"&&e!==R.BLOCK_FOLDED&&(A.onOverflow=()=>{T=!0});const F=Ft(`${v}${_}${u}`,c,dn,A);if(!T)return`>${w}
${c}${F}`}return n=n.replace(/\n+/g,`$&${c}`),`|${w}
${c}${v}${n}${u}`}function gi(t,e,n,s){const{type:o,value:r}=t,{actualString:a,implicitKey:i,indent:l,indentStep:c,inFlow:f}=e;if(i&&r.includes(`
`)||f&&/[[\]{},]/.test(r))return Ue(r,e);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return i||f||!r.includes(`
`)?Ue(r,e):_t(t,e,n,s);if(!i&&!f&&o!==R.PLAIN&&r.includes(`
`))return _t(t,e,n,s);if(Bt(r)){if(l==="")return e.forceBlockIndent=!0,_t(t,e,n,s);if(i&&l===c)return Ue(r,e)}const h=r.replace(/\n+/g,`$&
${l}`);if(a){const d=p=>p.default&&p.tag!=="tag:yaml.org,2002:str"&&p.test?.test(h),{compat:u,tags:g}=e.doc.schema;if(g.some(d)||u?.some(d))return Ue(r,e)}return i?h:Ft(h,l,no,zt(e,!1))}function mi(t,e,n,s){const{implicitKey:o,inFlow:r}=e,a=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:i}=t;i!==R.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(a.value)&&(i=R.QUOTE_DOUBLE);const l=f=>{switch(f){case R.BLOCK_FOLDED:case R.BLOCK_LITERAL:return o||r?Ue(a.value,e):_t(a,e,n,s);case R.QUOTE_DOUBLE:return ot(a.value,e);case R.QUOTE_SINGLE:return hn(a.value,e);case R.PLAIN:return gi(a,e,n,s);default:return null}};let c=l(i);if(c===null){const{defaultKeyType:f,defaultStringType:h}=e.options,d=o&&f||h;if(c=l(d),c===null)throw new Error(`Unsupported default string type ${d}`)}return c}function yi(t,e){const n=Object.assign({blockQuote:!0,commentString:hi,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function vi(t,e){if(e.tag){const o=t.filter(r=>r.tag===e.tag);if(o.length>0)return o.find(r=>r.format===e.format)??o[0]}let n,s;if(V(e)){s=e.value;let o=t.filter(r=>r.identify?.(s));if(o.length>1){const r=o.filter(a=>a.test);r.length>0&&(o=r)}n=o.find(r=>r.format===e.format)??o.find(r=>!r.format)}else s=e,n=t.find(o=>o.nodeClass&&s instanceof o.nodeClass);if(!n){const o=s?.constructor?.name??(s===null?"null":typeof s);throw new Error(`Tag not resolved for ${o} value`)}return n}function ki(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const o=[],r=(V(t)||Y(t))&&t.anchor;r&&Xs(r)&&(n.add(r),o.push(`&${r}`));const a=t.tag??(e.default?null:e.tag);return a&&o.push(s.directives.tagString(a)),o.join(" ")}function Ct(t,e,n,s){if(B(t))return t.toString(e,n,s);if(De(t)){if(e.doc.directives)return t.toString(e);if(e.resolvedAliases?.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let o;const r=q(t)?t:e.doc.createNode(t,{onTagObj:l=>o=l});o??(o=vi(e.doc.schema.tags,r));const a=ki(r,o,e);a.length>0&&(e.indentAtStart=(e.indentAtStart??0)+a.length+1);const i=typeof o.stringify=="function"?o.stringify(r,e,n,s):V(r)?mi(r,e,n,s):r.toString(e,n,s);return a?V(r)||i[0]==="{"||i[0]==="["?`${a} ${i}`:`${a}
${e.indent}${i}`:i}function wi({key:t,value:e},n,s,o){const{allNullValues:r,doc:a,indent:i,indentStep:l,options:{commentString:c,indentSeq:f,simpleKeys:h}}=n;let d=q(t)&&t.comment||null;if(h){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(Y(t)||!q(t)&&typeof t=="object"){const A="With simple keys, collection cannot be used as a key value";throw new Error(A)}}let u=!h&&(!t||d&&e==null&&!n.inFlow||Y(t)||(V(t)?t.type===R.BLOCK_FOLDED||t.type===R.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!u&&(h||!r),indent:i+l});let g=!1,p=!1,m=Ct(t,n,()=>g=!0,()=>p=!0);if(!u&&!n.inFlow&&m.length>1024){if(h)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");u=!0}if(n.inFlow){if(r||e==null)return g&&s&&s(),m===""?"?":u?`? ${m}`:m}else if(r&&!h||e==null&&u)return m=`? ${m}`,d&&!g?m+=qe(m,n.indent,c(d)):p&&o&&o(),m;g&&(d=null),u?(d&&(m+=qe(m,n.indent,c(d))),m=`? ${m}
${i}:`):(m=`${m}:`,d&&(m+=qe(m,n.indent,c(d))));let y,v,k;q(e)?(y=!!e.spaceBefore,v=e.commentBefore,k=e.comment):(y=!1,v=null,k=null,e&&typeof e=="object"&&(e=a.createNode(e))),n.implicitKey=!1,!u&&!d&&V(e)&&(n.indentAtStart=m.length+1),p=!1,!f&&l.length>=2&&!n.inFlow&&!u&&Pn(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let w=!1;const _=Ct(e,n,()=>w=!0,()=>p=!0);let T=" ";if(d||y||v){if(T=y?`
`:"",v){const A=c(v);T+=`
${at(A,n.indent)}`}_===""&&!n.inFlow?T===`
`&&(T=`

`):T+=`
${n.indent}`}else if(!u&&Y(e)){const A=_[0],F=_.indexOf(`
`),U=F!==-1,le=n.inFlow??e.flow??e.items.length===0;if(U||!le){let Z=!1;if(U&&(A==="&"||A==="!")){let M=_.indexOf(" ");A==="&"&&M!==-1&&M<F&&_[M+1]==="!"&&(M=_.indexOf(" ",M+1)),(M===-1||F<M)&&(Z=!0)}Z||(T=`
${n.indent}`)}}else(_===""||_[0]===`
`)&&(T="");return m+=T+_,n.inFlow?w&&s&&s():k&&!w?m+=qe(m,n.indent,c(k)):p&&o&&o(),m}function bi(t,e){(t==="debug"||t==="warn")&&console.warn(e)}const ht="<<",Yt={identify:t=>t===ht||typeof t=="symbol"&&t.description===ht,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new R(Symbol(ht)),{addToJSMap:so}),stringify:()=>ht},_i=(t,e)=>(Yt.identify(e)||V(e)&&(!e.type||e.type===R.PLAIN)&&Yt.identify(e.value))&&t?.doc.schema.tags.some(n=>n.tag===Yt.tag&&n.default);function so(t,e,n){if(n=t&&De(n)?n.resolve(t.doc):n,Pn(n))for(const s of n.items)Zt(t,e,s);else if(Array.isArray(n))for(const s of n)Zt(t,e,s);else Zt(t,e,n)}function Zt(t,e,n){const s=t&&De(n)?n.resolve(t.doc):n;if(!Ys(s))throw new Error("Merge sources must be maps or map aliases");const o=s.toJSON(null,t,Map);for(const[r,a]of o)e instanceof Map?e.has(r)||e.set(r,a):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:a,writable:!0,enumerable:!0,configurable:!0});return e}function oo(t,e,{key:n,value:s}){if(q(n)&&n.addToJSMap)n.addToJSMap(t,e,s);else if(_i(t,n))so(t,e,s);else{const o=oe(n,"",t);if(e instanceof Map)e.set(o,oe(s,o,t));else if(e instanceof Set)e.add(o);else{const r=Si(n,o,t),a=oe(s,r,t);r in e?Object.defineProperty(e,r,{value:a,writable:!0,enumerable:!0,configurable:!0}):e[r]=a}}return e}function Si(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(q(t)&&n?.doc){const s=yi(n.doc,{});s.anchors=new Set;for(const r of n.anchors.keys())s.anchors.add(r.anchor);s.inFlow=!0,s.inStringifyKey=!0;const o=t.toString(s);if(!n.mapKeyWarned){let r=JSON.stringify(o);r.length>40&&(r=r.substring(0,36)+'..."'),bi(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return o}return JSON.stringify(e)}function Cn(t,e,n){const s=$t(t,void 0,n),o=$t(e,void 0,n);return new ie(s,o)}class ie{constructor(e,n=null){Object.defineProperty(this,re,{value:Qs}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return q(n)&&(n=n.clone(e)),q(s)&&(s=s.clone(e)),new ie(n,s)}toJSON(e,n){const s=n?.mapAsMap?new Map:{};return oo(n,s,this)}toString(e,n,s){return e?.doc?wi(this,e,n,s):JSON.stringify(this)}}function ro(t,e,n){return(e.inFlow??t.flow?Oi:Mi)(t,e,n)}function Mi({comment:t,items:e},n,{blockItemPrefix:s,flowChars:o,itemIndent:r,onChompKeep:a,onComment:i}){const{indent:l,options:{commentString:c}}=n,f=Object.assign({},n,{indent:r,type:null});let h=!1;const d=[];for(let g=0;g<e.length;++g){const p=e[g];let m=null;if(q(p))!h&&p.spaceBefore&&d.push(""),Lt(n,d,p.commentBefore,h),p.comment&&(m=p.comment);else if(B(p)){const v=q(p.key)?p.key:null;v&&(!h&&v.spaceBefore&&d.push(""),Lt(n,d,v.commentBefore,h))}h=!1;let y=Ct(p,f,()=>m=null,()=>h=!0);m&&(y+=qe(y,r,c(m))),h&&m&&(h=!1),d.push(s+y)}let u;if(d.length===0)u=o.start+o.end;else{u=d[0];for(let g=1;g<d.length;++g){const p=d[g];u+=p?`
${l}${p}`:`
`}}return t?(u+=`
`+at(c(t),l),i&&i()):h&&a&&a(),u}function Oi({items:t},e,{flowChars:n,itemIndent:s}){const{indent:o,indentStep:r,flowCollectionPadding:a,options:{commentString:i}}=e;s+=r;const l=Object.assign({},e,{indent:s,inFlow:!0,type:null});let c=!1,f=0;const h=[];for(let g=0;g<t.length;++g){const p=t[g];let m=null;if(q(p))p.spaceBefore&&h.push(""),Lt(e,h,p.commentBefore,!1),p.comment&&(m=p.comment);else if(B(p)){const v=q(p.key)?p.key:null;v&&(v.spaceBefore&&h.push(""),Lt(e,h,v.commentBefore,!1),v.comment&&(c=!0));const k=q(p.value)?p.value:null;k?(k.comment&&(m=k.comment),k.commentBefore&&(c=!0)):p.value==null&&v?.comment&&(m=v.comment)}m&&(c=!0);let y=Ct(p,l,()=>m=null);g<t.length-1&&(y+=","),m&&(y+=qe(y,s,i(m))),!c&&(h.length>f||y.includes(`
`))&&(c=!0),h.push(y),f=h.length}const{start:d,end:u}=n;if(h.length===0)return d+u;if(!c){const g=h.reduce((p,m)=>p+m.length+2,2);c=e.options.lineWidth>0&&g>e.options.lineWidth}if(c){let g=d;for(const p of h)g+=p?`
${r}${o}${p}`:`
`;return`${g}
${o}${u}`}else return`${d}${a}${h.join(" ")}${a}${u}`}function Lt({indent:t,options:{commentString:e}},n,s,o){if(s&&o&&(s=s.replace(/^\n+/,"")),s){const r=at(e(s),t);n.push(r.trimStart())}}function je(t,e){const n=V(e)?e.value:e;for(const s of t)if(B(s)&&(s.key===e||s.key===n||V(s.key)&&s.key.value===n))return s}class Fe extends to{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(Ne,e),this.items=[]}static from(e,n,s){const{keepUndefined:o,replacer:r}=s,a=new this(e),i=(l,c)=>{if(typeof r=="function")c=r.call(n,l,c);else if(Array.isArray(r)&&!r.includes(l))return;(c!==void 0||o)&&a.items.push(Cn(l,c,s))};if(n instanceof Map)for(const[l,c]of n)i(l,c);else if(n&&typeof n=="object")for(const l of Object.keys(n))i(l,n[l]);return typeof e.sortMapEntries=="function"&&a.items.sort(e.sortMapEntries),a}add(e,n){let s;B(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new ie(e,e?.value):s=new ie(e.key,e.value);const o=je(this.items,s.key),r=this.schema?.sortMapEntries;if(o){if(!n)throw new Error(`Key ${s.key} already set`);V(o.value)&&eo(s.value)?o.value.value=s.value:o.value=s.value}else if(r){const a=this.items.findIndex(i=>r(s,i)<0);a===-1?this.items.push(s):this.items.splice(a,0,s)}else this.items.push(s)}delete(e){const n=je(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const o=je(this.items,e)?.value;return(!n&&V(o)?o.value:o)??void 0}has(e){return!!je(this.items,e)}set(e,n){this.add(new ie(e,n),!0)}toJSON(e,n,s){const o=s?new s:n?.mapAsMap?new Map:{};n?.onCreate&&n.onCreate(o);for(const r of this.items)oo(n,o,r);return o}toString(e,n,s){if(!e)return JSON.stringify(this);for(const o of this.items)if(!B(o))throw new Error(`Map items must all be pairs; found ${JSON.stringify(o)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),ro(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}class ao extends to{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(it,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=pt(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=pt(e);if(typeof s!="number")return;const o=this.items[s];return!n&&V(o)?o.value:o}has(e){const n=pt(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=pt(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const o=this.items[s];V(o)&&eo(n)?o.value=n:this.items[s]=n}toJSON(e,n){const s=[];n?.onCreate&&n.onCreate(s);let o=0;for(const r of this.items)s.push(oe(r,String(o++),n));return s}toString(e,n,s){return e?ro(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}static from(e,n,s){const{replacer:o}=s,r=new this(e);if(n&&Symbol.iterator in Object(n)){let a=0;for(let i of n){if(typeof o=="function"){const l=n instanceof Set?i:String(a++);i=o.call(n,l,i)}r.items.push($t(i,void 0,s))}}return r}}function pt(t){let e=V(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function Ti(t,e,n){const{replacer:s}=n,o=new ao(t);o.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let a of e){typeof s=="function"&&(a=s.call(e,String(r++),a));let i,l;if(Array.isArray(a))if(a.length===2)i=a[0],l=a[1];else throw new TypeError(`Expected [key, value] tuple: ${a}`);else if(a&&a instanceof Object){const c=Object.keys(a);if(c.length===1)i=c[0],l=a[i];else throw new TypeError(`Expected tuple with one key, not ${c.length} keys`)}else i=a;o.items.push(Cn(i,l,n))}return o}class Ln extends ao{constructor(){super(),this.add=Fe.prototype.add.bind(this),this.delete=Fe.prototype.delete.bind(this),this.get=Fe.prototype.get.bind(this),this.has=Fe.prototype.has.bind(this),this.set=Fe.prototype.set.bind(this),this.tag=Ln.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n?.onCreate&&n.onCreate(s);for(const o of this.items){let r,a;if(B(o)?(r=oe(o.key,"",n),a=oe(o.value,r,n)):r=oe(o,"",n),s.has(r))throw new Error("Ordered maps must not include duplicate keys");s.set(r,a)}return s}static from(e,n,s){const o=Ti(e,n,s),r=new this;return r.items=o.items,r}}Ln.tag="tag:yaml.org,2002:omap";class An extends Fe{constructor(e){super(e),this.tag=An.tag}add(e){let n;B(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new ie(e.key,null):n=new ie(e,null),je(this.items,n.key)||this.items.push(n)}get(e,n){const s=je(this.items,e);return!n&&B(s)?V(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=je(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new ie(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}static from(e,n,s){const{replacer:o}=s,r=new this(e);if(n&&Symbol.iterator in Object(n))for(let a of n)typeof o=="function"&&(a=o.call(n,a,a)),r.items.push(Cn(a,null,s));return r}}An.tag="tag:yaml.org,2002:set";new Set("0123456789ABCDEFabcdef");new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()");new Set(",[]{}");new Set(` ,[]{}
\r	`);function In(t=5){const e=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",s=n.length;for(let o=0;o<t;o++)e.push(n.charAt(Math.floor(Math.random()*s)));return e.join("")}function io(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(2,10)}function te(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!1})}const ue=P({});let Ei=[],Pi=[];te(ue,"$syncUp",!0);te(ue,"$syncDown",!0);te(ue,"$paused",!1);te(ue,"$onSet",t=>Ei.push(t));te(ue,"$onPatch",t=>Pi.push(t));io();te(ue,"$patch",async()=>!1);const $i={channels:[],enabled:!0,init(t,e,n,s=!1){let o;if(!s)o=new BroadcastChannel(t),o.addEventListener("message",r=>e(r.data)),this.channels.push(o);else if(s){this.listener=function(a){a&&a.key===t&&a.newValue&&e(JSON.parse(a.newValue))},window.addEventListener("storage",this.listener);const r=window.localStorage.getItem(t);r&&e(JSON.parse(r))}return(r,a=!1)=>{this.enabled&&(!s&&o&&!a&&o.postMessage(js(r)),s&&!a&&window.localStorage.setItem(t,JSON.stringify(r)))}},disable(){this.enabled=!1,this.channels.forEach(t=>t.close()),this.listener&&window.removeEventListener("storage",this.listener)}},Ci=P([$i]),Li=new Map,ws=O({});function lo(t,e,n=!1){const s=[];let o=!1,r=!1,a,i;const l=P(e);function c(u){s.push(u)}function f(u,g){l[u]!==g&&(clearTimeout(a),o=!0,l[u]=g,a=setTimeout(()=>o=!1,0))}function h(u){o||(clearTimeout(i),r=!0,Object.entries(u).forEach(([g,p])=>{l[g]=p}),i=setTimeout(()=>r=!1,0))}function d(u){Li.set(u,{onUpdate:h,persist:n,state:l}),ws.value[u]=Ci.map(p=>p.init(u,h,l,n)).filter(p=>!!p);function g(){ws.value[u].forEach(p=>p?.(js(l),r)),o||s.forEach(p=>p(l))}ee(l,g,{deep:!0})}return{init:d,onPatch:c,onUpdate:h,patch:f,state:l}}const{init:Ai,onPatch:uc,patch:fc,state:dc}=lo(ue,ue,!1),He=P({page:0,clicks:0});let Ii=[],xi=[];te(He,"$syncUp",!0);te(He,"$syncDown",!0);te(He,"$paused",!1);te(He,"$onSet",t=>Ii.push(t));te(He,"$onPatch",t=>xi.push(t));io();te(He,"$patch",async()=>!1);const{init:Ri,onPatch:ji,patch:gt,state:hc}=lo(He,{page:1,clicks:0,clicksTotal:0});function Ni(){const t=Ls().appContext.app,e=P({nav:Ge(),configs:N,themeConfigs:b(()=>N.themeConfig)});t.provide(Mn,O("none")),t.provide(Ha,e),t.provide(Sn,b(()=>e.nav.currentSlideNo)),t.provide(Nt,_n(Nr()));for(const d of lr)d();const{clicksContext:n,currentSlideNo:s,hasPrimarySlide:o,isNotesViewer:r,isPresenter:a,isPrintMode:i}=Ge();xr({title:qt,htmlAttrs:N.htmlAttrs}),oi(),Ri(`${qt} - shared`),Ai(`${qt} - drawings`);const l=`${location.origin}_${In()}`,c=b(()=>a.value?"presenter":"viewer");function f(){(a.value?dt.value.presenterSend:dt.value.viewerSend)&&(r.value||i.value||!a.value&&!za.includes(location.host.split(":")[0])||(gt("page",+s.value),gt("clicks",n.value.current),gt("clicksTotal",n.value.total),gt("lastUpdate",{id:l,type:c.value,time:new Date().getTime()})))}const h=Rt();h.afterEach(f),ee(n,f),ji(d=>{(a.value?dt.value.presenterReceive:dt.value.viewerReceive)&&(!o.value||i.value||d.lastUpdate?.type!==c.value&&(+d.page==+s.value&&+n.value.current==+d.clicks||(On.value=!1,h.replace({path:Be(d.page,a.value),query:{...h.currentRoute.value.query,clicks:d.clicks||0}}))))})}const Di=Is({__name:"App",setup(t){return Ni(),Je(()=>{for(const[e,n]of Object.entries(ir.value))document.body.style.setProperty(e,n.toString())}),(e,n)=>{const s=Wo("RouterView");return Ot(),Bo(s)}}}),Hi=[];async function co(t,e={}){const n=e.document||t.resolvedOptions.document;if(!n||!t.dirty)return;const s={shouldRender:!0,tags:[]};if(await t.hooks.callHook("dom:beforeRender",s),!!s.shouldRender)return t._domUpdatePromise||(t._domUpdatePromise=new Promise(async o=>{const r=new Map,a=new Promise(u=>{t.resolveTags().then(g=>{u(g.map(p=>{const m=r.get(p._d)||0,y={tag:p,id:(m?`${p._d}:${m}`:p._d)||zn(p),shouldRender:!0};return p._d&&Vs(p._d)&&r.set(p._d,m+1),y}))})});let i=t._dom;if(!i){i={title:n.title,elMap:new Map().set("htmlAttrs",n.documentElement).set("bodyAttrs",n.body)};for(const u of["body","head"]){const g=n[u]?.children;for(const p of g){const m=p.tagName.toLowerCase();if(!Fn.has(m))continue;const y=Fs({tag:m,props:{}},{innerHTML:p.innerHTML,...p.getAttributeNames().reduce((v,k)=>(v[k]=p.getAttribute(k),v),{})||{}});if(y.key=p.getAttribute("data-hid")||void 0,y._d=cn(y)||zn(y),i.elMap.has(y._d)){let v=1,k=y._d;for(;i.elMap.has(k);)k=`${y._d}:${v++}`;i.elMap.set(k,p)}else i.elMap.set(y._d,p)}}}i.pendingSideEffects={...i.sideEffects},i.sideEffects={};function l(u,g,p){const m=`${u}:${g}`;i.sideEffects[m]=p,delete i.pendingSideEffects[m]}function c({id:u,$el:g,tag:p}){const m=p.tag.endsWith("Attrs");i.elMap.set(u,g),m||(p.textContent&&p.textContent!==g.textContent&&(g.textContent=p.textContent),p.innerHTML&&p.innerHTML!==g.innerHTML&&(g.innerHTML=p.innerHTML),l(u,"el",()=>{g?.remove(),i.elMap.delete(u)}));for(const y in p.props){if(!Object.prototype.hasOwnProperty.call(p.props,y))continue;const v=p.props[y];if(y.startsWith("on")&&typeof v=="function"){const w=g?.dataset;if(w&&w[`${y}fired`]){const _=y.slice(0,-5);v.call(g,new Event(_.substring(2)))}g.getAttribute(`data-${y}`)!==""&&((p.tag==="bodyAttrs"?n.defaultView:g).addEventListener(y.substring(2),v.bind(g)),g.setAttribute(`data-${y}`,""));continue}const k=`attr:${y}`;if(y==="class"){if(!v)continue;for(const w of v)m&&l(u,`${k}:${w}`,()=>g.classList.remove(w)),!g.classList.contains(w)&&g.classList.add(w)}else if(y==="style"){if(!v)continue;for(const[w,_]of v)l(u,`${k}:${w}`,()=>{g.style.removeProperty(w)}),g.style.setProperty(w,_)}else v!==!1&&v!==null&&(g.getAttribute(y)!==v&&g.setAttribute(y,v===!0?"":String(v)),m&&l(u,k,()=>g.removeAttribute(y)))}}const f=[],h={bodyClose:void 0,bodyOpen:void 0,head:void 0},d=await a;for(const u of d){const{tag:g,shouldRender:p,id:m}=u;if(p){if(g.tag==="title"){n.title=g.textContent,l("title","",()=>n.title=i.title);continue}u.$el=u.$el||i.elMap.get(m),u.$el?c(u):Fn.has(g.tag)&&f.push(u)}}for(const u of f){const g=u.tag.tagPosition||"head";u.$el=n.createElement(u.tag.tag),c(u),h[g]=h[g]||n.createDocumentFragment(),h[g].appendChild(u.$el)}for(const u of d)await t.hooks.callHook("dom:renderTag",u,n,l);h.head&&n.head.appendChild(h.head),h.bodyOpen&&n.body.insertBefore(h.bodyOpen,n.body.firstChild),h.bodyClose&&n.body.appendChild(h.bodyClose);for(const u in i.pendingSideEffects)i.pendingSideEffects[u]();t._dom=i,await t.hooks.callHook("dom:rendered",{renders:d}),o()}).finally(()=>{t._domUpdatePromise=void 0,t.dirty=!1})),t._domUpdatePromise}function Vi(t={}){const e=t.domOptions?.render||co;t.document=t.document||(typeof window<"u"?document:void 0);const n=t.document?.head.querySelector('script[id="unhead:payload"]')?.innerHTML||!1;return Cr({...t,plugins:[...t.plugins||[],{key:"client",hooks:{"entries:updated":e}}],init:[n?JSON.parse(n):!1,...t.init||[]]})}function Fi(t,e){let n=0;return()=>{const s=++n;e(()=>{n===s&&t()})}}function zi(t={}){const e=Vi({domOptions:{render:Fi(()=>co(e),n=>setTimeout(n,0))},...t});return e.install=Ar(e),e}function pc(t,e=""){const n=["slidev-page",e],s=t?.meta?.slide?.no;return s!=null&&n.push(`slidev-page-${s}`),n.filter(Boolean).join(" ")}async function gc(){const{saveAs:t}=await E(async()=>{const{saveAs:e}=await import("./modules/file-saver-DpYiGRfw.js").then(n=>n.F);return{saveAs:e}},[]);t(typeof N.download=="string"?N.download:N.exportFilename?`${N.exportFilename}.pdf`:"/2025/squiggleconf/slidev-exported.pdf",`${N.title}.pdf`)}function Ke(t,e,n){return(t.instance?.$).provides[e]??n}function Bi(){return{install(t){t.directive("click",{name:"v-click",mounted(e,n){const s=St(e,n,n.value);s!=null&&(e.classList.toggle(vt,!0),e.dataset.slidevClicksStart=String(s.start),Number.isFinite(s.end)&&(e.dataset.slidevClicksEnd=String(s.end)),e.watchStopHandle=Je(()=>{const o=s.isActive.value,r=s.isCurrent.value,a=o&&!r;s.flagHide?(e.classList.toggle(s.flagFade?Xe:Ze,o),e.classList.toggle(Jt,o)):e.classList.toggle(s.flagFade?Xe:Ze,!o),e.classList.toggle(Kt,r),e.classList.toggle(Gt,a)}))},unmounted:Xt}),t.directive("after",{name:"v-after",mounted(e,n){const s=St(e,n,"+0");s!=null&&(e.classList.toggle(vt,!0),e.watchStopHandle=Je(()=>{const o=s.isActive.value,r=s.isCurrent.value,a=o&&!r;s.flagHide?(e.classList.toggle(s.flagFade?Xe:Ze,o),e.classList.toggle(Jt,o)):e.classList.toggle(s.flagFade?Xe:Ze,!o),e.classList.toggle(Kt,r),e.classList.toggle(Gt,a)}))},unmounted:Xt}),t.directive("click-hide",{name:"v-click-hide",mounted(e,n){const s=St(e,n,n.value,!0);s!=null&&(e.classList.toggle(vt,!0),e.watchStopHandle=Je(()=>{const o=s.isActive.value,r=s.isCurrent.value,a=o&&!r;e.classList.toggle(s.flagFade?Xe:Ze,o),e.classList.toggle(Jt,o),e.classList.toggle(Kt,r),e.classList.toggle(Gt,a)}))},unmounted:Xt})}}}const uo=new Map;function St(t,e,n,s=!1){const o=Ke(e,Nt)?.value;if(!t||!o)return null;const r=s||e.modifiers.hide!==!1&&e.modifiers.hide!=null,a=e.modifiers.fade!==!1&&e.modifiers.fade!=null,i=o.calculate(n);if(!i)return null;o.register(t,i);const l=b(()=>r?!i.isActive.value:i.isActive.value),c=b(()=>l.value?"shown":Number.isFinite(i.end)?o.current<i.start?"before":"after":r?"after":"before"),f={...i,isShown:l,visibilityState:c,flagFade:a,flagHide:r};return uo.set(t,f),f}function Xt(t,e){t.classList.toggle(vt,!1),Ke(e,Nt)?.value?.unregister(t),t.watchStopHandle?.()}function Wi(t=Cs(Ws,O())){const e=qo(t),n=ee([Qa,Ya,Za,Xa,Ga,Et.width,Et.height],()=>{setTimeout(e.update,300)},{flush:"post",immediate:!0});return{...e,stop:n}}function qi(t){return()=>{}}function Ui(t,e,n,s=!1){function o(D){return t?Ke(t,D):Jo(D)}const r=o(Mn),a=o(Va)??{},i=o(Sn),l=b(()=>qi(i.value)),c=o(Da)??O(1),f=o(Fa)??O(1),{left:h,top:d,stop:u}=Wi(o(Ws)??O()),{isPrintMode:g}=Ge(),p=["slide","presenter"].includes(r.value)&&!g.value;let m=t?"directive":"prop",y=In(),v;if(Array.isArray(e)?v=e:typeof e=="string"&&e.includes(",")?v=e.split(",").map(Number):e!=null&&(m="frontmatter",y=`${e}`,e=a?.dragPos?.[y],v=e?.split(",").map(Number)),m!=="frontmatter"&&!n)throw new Error("[Slidev] Can not identify the source position of the v-drag element, please provide an explicit `id` prop.");const k=[u],w=!s&&e!=null&&!Number.isFinite(v?.[3]);v??=[Number.NaN,Number.NaN,0];const _=O(v[2]),T=O(v[0]+v[2]/2),A=O(s?0:v[4]??0),F=b(()=>A.value*Math.PI/180),U=b(()=>Math.sin(F.value)),le=b(()=>Math.cos(F.value)),Z=O(),M=O({left:0,top:0,width:0,height:0}),$=O(0);function z(){if(!Z.value)return;const D=Z.value.getBoundingClientRect();M.value={left:D.left/f.value,top:D.top/f.value,width:D.width/f.value,height:D.height/f.value},$.value=(M.value.width+M.value.height)/c.value/(Math.abs(U.value)+Math.abs(le.value))-_.value}k.push(ee(_,z,{flush:"post"}));const H=O(v[3]??0),I=w?b({get:()=>(w?$.value:H.value)||0,set:D=>!w&&(H.value=D)}):H,ae=w?O(v[1]):O(v[1]+v[3]/2),ce=w?b({get:()=>ae.value+I.value/2,set:D=>ae.value=D-I.value/2}):ae,Qe=b(()=>Number.isFinite(T.value)?{position:"absolute",zIndex:100,left:`${T.value-_.value/2}px`,top:`${ce.value-I.value/2}px`,width:`${_.value}px`,height:w?void 0:`${I.value}px`,transformOrigin:"center center",transform:`rotate(${A.value}deg)`}:{position:"absolute",zIndex:100});k.push(ee([T,ce,_,I,A],([D,ct,jn,Nn,Dn])=>{let Ve=[D-jn/2,ct-Nn/2,jn].map(Math.round).join();w?Ve+=m==="directive"?",NaN":",_":Ve+=`,${Math.round(Nn)}`,Math.round(Dn)!==0&&(Ve+=`,${Math.round(Dn)}`),m==="directive"&&(Ve=`[${Ve}]`),l.value(y,Ve,m,n)}));const G={dragId:y,dataSource:m,markdownSource:n,isArrow:s,zoom:f,autoHeight:w,x0:T,y0:ce,width:_,height:I,rotate:A,container:Z,containerStyle:Qe,watchStopHandles:k,dragging:b(()=>ut.value===G),mounted(){p&&(z(),e||setTimeout(()=>{z(),T.value=(M.value.left+M.value.width/2-h.value)/c.value,ce.value=(M.value.top-d.value)/c.value,_.value=M.value.width/c.value,I.value=M.value.height/c.value},100))},unmounted(){p&&G.stopDragging()},startDragging(){p&&(z(),ut.value=G)},stopDragging(){p&&ut.value===G&&(ut.value=null)}};return k.push(Uo(Z,D=>{const ct=document.querySelector("#drag-control-container");ct&&D.target&&ct.contains(D.target)||G.stopDragging()}),ee(Ko(),D=>{D||G.stopDragging()})),G}function Ji(){return{install(t){t.directive("drag",{name:"v-drag",created(e,n,s){const o=Ui(n,n.value,s.props?.markdownSource);s.props&&(s.props={...s.props},delete s.props.markdownSource),o.container.value=e,e.draggingState=o,e.dataset.dragId=o.dragId,o.watchStopHandles.push(ee(o.containerStyle,r=>{for(const[a,i]of Object.entries(r))i&&(e.style[a]=i)},{immediate:!0})),e.addEventListener("dblclick",o.startDragging)},mounted(e){e.draggingState.mounted()},unmounted(e){const n=e.draggingState;n.unmounted(),e.removeEventListener("dblclick",n.startDragging),n.watchStopHandles.forEach(s=>s())}})}}}function fo(){return Math.floor(Math.random()*2**31)}class Ki{constructor(e){this.seed=e}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}function gn(t,e,n){if(t&&t.length){const[s,o]=e,r=Math.PI/180*n,a=Math.cos(r),i=Math.sin(r);for(const l of t){const[c,f]=l;l[0]=(c-s)*a-(f-o)*i+s,l[1]=(c-s)*i+(f-o)*a+o}}}function Gi(t,e,n){const s=[];t.forEach(o=>s.push(...o)),gn(s,e,n)}function Qi(t,e){return t[0]===e[0]&&t[1]===e[1]}function Yi(t,e,n,s=1){const o=n,r=Math.max(e,.1),a=t[0]&&t[0][0]&&typeof t[0][0]=="number"?[t]:t,i=[0,0];if(o)for(const c of a)gn(c,i,o);const l=Zi(a,r,s);if(o){for(const c of a)gn(c,i,-o);Gi(l,i,-o)}return l}function Zi(t,e,n){const s=[];for(const c of t){const f=[...c];Qi(f[0],f[f.length-1])||f.push([f[0][0],f[0][1]]),f.length>2&&s.push(f)}const o=[];e=Math.max(e,.1);const r=[];for(const c of s)for(let f=0;f<c.length-1;f++){const h=c[f],d=c[f+1];if(h[1]!==d[1]){const u=Math.min(h[1],d[1]);r.push({ymin:u,ymax:Math.max(h[1],d[1]),x:u===h[1]?h[0]:d[0],islope:(d[0]-h[0])/(d[1]-h[1])})}}if(r.sort((c,f)=>c.ymin<f.ymin?-1:c.ymin>f.ymin?1:c.x<f.x?-1:c.x>f.x?1:c.ymax===f.ymax?0:(c.ymax-f.ymax)/Math.abs(c.ymax-f.ymax)),!r.length)return o;let a=[],i=r[0].ymin,l=0;for(;a.length||r.length;){if(r.length){let c=-1;for(let h=0;h<r.length&&!(r[h].ymin>i);h++)c=h;r.splice(0,c+1).forEach(h=>{a.push({s:i,edge:h})})}if(a=a.filter(c=>!(c.edge.ymax<=i)),a.sort((c,f)=>c.edge.x===f.edge.x?0:(c.edge.x-f.edge.x)/Math.abs(c.edge.x-f.edge.x)),(n!==1||l%e===0)&&a.length>1)for(let c=0;c<a.length;c=c+2){const f=c+1;if(f>=a.length)break;const h=a[c].edge,d=a[f].edge;o.push([[Math.round(h.x),i],[Math.round(d.x),i]])}i+=n,a.forEach(c=>{c.edge.x=c.edge.x+n*c.edge.islope}),l++}return o}function lt(t,e){var n;const s=e.hachureAngle+90;let o=e.hachureGap;o<0&&(o=e.strokeWidth*4),o=Math.round(Math.max(o,.1));let r=1;return e.roughness>=1&&(((n=e.randomizer)===null||n===void 0?void 0:n.next())||Math.random())>.7&&(r=o),Yi(t,o,s,r||1)}class xn{constructor(e){this.helper=e}fillPolygons(e,n){return this._fillPolygons(e,n)}_fillPolygons(e,n){const s=lt(e,n);return{type:"fillSketch",ops:this.renderLines(s,n)}}renderLines(e,n){const s=[];for(const o of e)s.push(...this.helper.doubleLineOps(o[0][0],o[0][1],o[1][0],o[1][1],n));return s}}function Wt(t){const e=t[0],n=t[1];return Math.sqrt(Math.pow(e[0]-n[0],2)+Math.pow(e[1]-n[1],2))}class Xi extends xn{fillPolygons(e,n){let s=n.hachureGap;s<0&&(s=n.strokeWidth*4),s=Math.max(s,.1);const o=Object.assign({},n,{hachureGap:s}),r=lt(e,o),a=Math.PI/180*n.hachureAngle,i=[],l=s*.5*Math.cos(a),c=s*.5*Math.sin(a);for(const[h,d]of r)Wt([h,d])&&i.push([[h[0]-l,h[1]+c],[...d]],[[h[0]+l,h[1]-c],[...d]]);return{type:"fillSketch",ops:this.renderLines(i,n)}}}class el extends xn{fillPolygons(e,n){const s=this._fillPolygons(e,n),o=Object.assign({},n,{hachureAngle:n.hachureAngle+90}),r=this._fillPolygons(e,o);return s.ops=s.ops.concat(r.ops),s}}class tl{constructor(e){this.helper=e}fillPolygons(e,n){n=Object.assign({},n,{hachureAngle:0});const s=lt(e,n);return this.dotsOnLines(s,n)}dotsOnLines(e,n){const s=[];let o=n.hachureGap;o<0&&(o=n.strokeWidth*4),o=Math.max(o,.1);let r=n.fillWeight;r<0&&(r=n.strokeWidth/2);const a=o/4;for(const i of e){const l=Wt(i),c=l/o,f=Math.ceil(c)-1,h=l-f*o,d=(i[0][0]+i[1][0])/2-o/4,u=Math.min(i[0][1],i[1][1]);for(let g=0;g<f;g++){const p=u+h+g*o,m=d-a+Math.random()*2*a,y=p-a+Math.random()*2*a,v=this.helper.ellipse(m,y,r,r,n);s.push(...v.ops)}}return{type:"fillSketch",ops:s}}}class nl{constructor(e){this.helper=e}fillPolygons(e,n){const s=lt(e,n);return{type:"fillSketch",ops:this.dashedLine(s,n)}}dashedLine(e,n){const s=n.dashOffset<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashOffset,o=n.dashGap<0?n.hachureGap<0?n.strokeWidth*4:n.hachureGap:n.dashGap,r=[];return e.forEach(a=>{const i=Wt(a),l=Math.floor(i/(s+o)),c=(i+o-l*(s+o))/2;let f=a[0],h=a[1];f[0]>h[0]&&(f=a[1],h=a[0]);const d=Math.atan((h[1]-f[1])/(h[0]-f[0]));for(let u=0;u<l;u++){const g=u*(s+o),p=g+s,m=[f[0]+g*Math.cos(d)+c*Math.cos(d),f[1]+g*Math.sin(d)+c*Math.sin(d)],y=[f[0]+p*Math.cos(d)+c*Math.cos(d),f[1]+p*Math.sin(d)+c*Math.sin(d)];r.push(...this.helper.doubleLineOps(m[0],m[1],y[0],y[1],n))}}),r}}class sl{constructor(e){this.helper=e}fillPolygons(e,n){const s=n.hachureGap<0?n.strokeWidth*4:n.hachureGap,o=n.zigzagOffset<0?s:n.zigzagOffset;n=Object.assign({},n,{hachureGap:s+o});const r=lt(e,n);return{type:"fillSketch",ops:this.zigzagLines(r,o,n)}}zigzagLines(e,n,s){const o=[];return e.forEach(r=>{const a=Wt(r),i=Math.round(a/(2*n));let l=r[0],c=r[1];l[0]>c[0]&&(l=r[1],c=r[0]);const f=Math.atan((c[1]-l[1])/(c[0]-l[0]));for(let h=0;h<i;h++){const d=h*2*n,u=(h+1)*2*n,g=Math.sqrt(2*Math.pow(n,2)),p=[l[0]+d*Math.cos(f),l[1]+d*Math.sin(f)],m=[l[0]+u*Math.cos(f),l[1]+u*Math.sin(f)],y=[p[0]+g*Math.cos(f+Math.PI/4),p[1]+g*Math.sin(f+Math.PI/4)];o.push(...this.helper.doubleLineOps(p[0],p[1],y[0],y[1],s),...this.helper.doubleLineOps(y[0],y[1],m[0],m[1],s))}}),o}}const J={};function ol(t,e){let n=t.fillStyle||"hachure";if(!J[n])switch(n){case"zigzag":J[n]||(J[n]=new Xi(e));break;case"cross-hatch":J[n]||(J[n]=new el(e));break;case"dots":J[n]||(J[n]=new tl(e));break;case"dashed":J[n]||(J[n]=new nl(e));break;case"zigzag-line":J[n]||(J[n]=new sl(e));break;case"hachure":default:n="hachure",J[n]||(J[n]=new xn(e));break}return J[n]}const rl=0,mn=1,ho=2,mt={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function al(t){const e=new Array;for(;t!=="";)if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:rl,text:RegExp.$1},t=t.substr(RegExp.$1.length);else if(t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))e[e.length]={type:mn,text:`${parseFloat(RegExp.$1)}`},t=t.substr(RegExp.$1.length);else return[];return e[e.length]={type:ho,text:""},e}function en(t,e){return t.type===e}function Rn(t){const e=[],n=al(t);let s="BOD",o=0,r=n[o];for(;!en(r,ho);){let a=0;const i=[];if(s==="BOD")if(r.text==="M"||r.text==="m")o++,a=mt[r.text],s=r.text;else return Rn("M0,0"+t);else en(r,mn)?a=mt[s]:(o++,a=mt[r.text],s=r.text);if(o+a<n.length){for(let l=o;l<o+a;l++){const c=n[l];if(en(c,mn))i[i.length]=+c.text;else throw new Error("Param not a number: "+s+","+c.text)}if(typeof mt[s]=="number"){const l={key:s,data:i};e.push(l),o+=a,r=n[o],s==="M"&&(s="L"),s==="m"&&(s="l")}else throw new Error("Bad segment: "+s)}else throw new Error("Path data ended short")}return e}function po(t){let e=0,n=0,s=0,o=0;const r=[];for(const{key:a,data:i}of t)switch(a){case"M":r.push({key:"M",data:[...i]}),[e,n]=i,[s,o]=i;break;case"m":e+=i[0],n+=i[1],r.push({key:"M",data:[e,n]}),s=e,o=n;break;case"L":r.push({key:"L",data:[...i]}),[e,n]=i;break;case"l":e+=i[0],n+=i[1],r.push({key:"L",data:[e,n]});break;case"C":r.push({key:"C",data:[...i]}),e=i[4],n=i[5];break;case"c":{const l=i.map((c,f)=>f%2?c+n:c+e);r.push({key:"C",data:l}),e=l[4],n=l[5];break}case"Q":r.push({key:"Q",data:[...i]}),e=i[2],n=i[3];break;case"q":{const l=i.map((c,f)=>f%2?c+n:c+e);r.push({key:"Q",data:l}),e=l[2],n=l[3];break}case"A":r.push({key:"A",data:[...i]}),e=i[5],n=i[6];break;case"a":e+=i[5],n+=i[6],r.push({key:"A",data:[i[0],i[1],i[2],i[3],i[4],e,n]});break;case"H":r.push({key:"H",data:[...i]}),e=i[0];break;case"h":e+=i[0],r.push({key:"H",data:[e]});break;case"V":r.push({key:"V",data:[...i]}),n=i[0];break;case"v":n+=i[0],r.push({key:"V",data:[n]});break;case"S":r.push({key:"S",data:[...i]}),e=i[2],n=i[3];break;case"s":{const l=i.map((c,f)=>f%2?c+n:c+e);r.push({key:"S",data:l}),e=l[2],n=l[3];break}case"T":r.push({key:"T",data:[...i]}),e=i[0],n=i[1];break;case"t":e+=i[0],n+=i[1],r.push({key:"T",data:[e,n]});break;case"Z":case"z":r.push({key:"Z",data:[]}),e=s,n=o;break}return r}function go(t){const e=[];let n="",s=0,o=0,r=0,a=0,i=0,l=0;for(const{key:c,data:f}of t){switch(c){case"M":e.push({key:"M",data:[...f]}),[s,o]=f,[r,a]=f;break;case"C":e.push({key:"C",data:[...f]}),s=f[4],o=f[5],i=f[2],l=f[3];break;case"L":e.push({key:"L",data:[...f]}),[s,o]=f;break;case"H":s=f[0],e.push({key:"L",data:[s,o]});break;case"V":o=f[0],e.push({key:"L",data:[s,o]});break;case"S":{let h=0,d=0;n==="C"||n==="S"?(h=s+(s-i),d=o+(o-l)):(h=s,d=o),e.push({key:"C",data:[h,d,...f]}),i=f[0],l=f[1],s=f[2],o=f[3];break}case"T":{const[h,d]=f;let u=0,g=0;n==="Q"||n==="T"?(u=s+(s-i),g=o+(o-l)):(u=s,g=o);const p=s+2*(u-s)/3,m=o+2*(g-o)/3,y=h+2*(u-h)/3,v=d+2*(g-d)/3;e.push({key:"C",data:[p,m,y,v,h,d]}),i=u,l=g,s=h,o=d;break}case"Q":{const[h,d,u,g]=f,p=s+2*(h-s)/3,m=o+2*(d-o)/3,y=u+2*(h-u)/3,v=g+2*(d-g)/3;e.push({key:"C",data:[p,m,y,v,u,g]}),i=h,l=d,s=u,o=g;break}case"A":{const h=Math.abs(f[0]),d=Math.abs(f[1]),u=f[2],g=f[3],p=f[4],m=f[5],y=f[6];h===0||d===0?(e.push({key:"C",data:[s,o,m,y,m,y]}),s=m,o=y):(s!==m||o!==y)&&(mo(s,o,m,y,h,d,u,g,p).forEach(function(k){e.push({key:"C",data:k})}),s=m,o=y);break}case"Z":e.push({key:"Z",data:[]}),s=r,o=a;break}n=c}return e}function il(t){return Math.PI*t/180}function et(t,e,n){const s=t*Math.cos(n)-e*Math.sin(n),o=t*Math.sin(n)+e*Math.cos(n);return[s,o]}function mo(t,e,n,s,o,r,a,i,l,c){const f=il(a);let h=[],d=0,u=0,g=0,p=0;if(c)[d,u,g,p]=c;else{[t,e]=et(t,e,-f),[n,s]=et(n,s,-f);const M=(t-n)/2,$=(e-s)/2;let z=M*M/(o*o)+$*$/(r*r);z>1&&(z=Math.sqrt(z),o=z*o,r=z*r);const H=i===l?-1:1,I=o*o,ae=r*r,ce=I*ae-I*$*$-ae*M*M,Qe=I*$*$+ae*M*M,G=H*Math.sqrt(Math.abs(ce/Qe));g=G*o*$/r+(t+n)/2,p=G*-r*M/o+(e+s)/2,d=Math.asin(parseFloat(((e-p)/r).toFixed(9))),u=Math.asin(parseFloat(((s-p)/r).toFixed(9))),t<g&&(d=Math.PI-d),n<g&&(u=Math.PI-u),d<0&&(d=Math.PI*2+d),u<0&&(u=Math.PI*2+u),l&&d>u&&(d=d-Math.PI*2),!l&&u>d&&(u=u-Math.PI*2)}let m=u-d;if(Math.abs(m)>Math.PI*120/180){const M=u,$=n,z=s;l&&u>d?u=d+Math.PI*120/180*1:u=d+Math.PI*120/180*-1,n=g+o*Math.cos(u),s=p+r*Math.sin(u),h=mo(n,s,$,z,o,r,a,0,l,[u,M,g,p])}m=u-d;const y=Math.cos(d),v=Math.sin(d),k=Math.cos(u),w=Math.sin(u),_=Math.tan(m/4),T=4/3*o*_,A=4/3*r*_,F=[t,e],U=[t+T*v,e-A*y],le=[n+T*w,s-A*k],Z=[n,s];if(U[0]=2*F[0]-U[0],U[1]=2*F[1]-U[1],c)return[U,le,Z].concat(h);{h=[U,le,Z].concat(h);const M=[];for(let $=0;$<h.length;$+=3){const z=et(h[$][0],h[$][1],f),H=et(h[$+1][0],h[$+1][1],f),I=et(h[$+2][0],h[$+2][1],f);M.push([z[0],z[1],H[0],H[1],I[0],I[1]])}return M}}const ll={randOffset:fl,randOffsetWithRange:dl,ellipse:yn,doubleLineOps:hl};function X(t,e,n,s,o){return{type:"path",ops:fe(t,e,n,s,o)}}function rt(t,e,n){const s=(t||[]).length;if(s>2){const o=[];for(let r=0;r<s-1;r++)o.push(...fe(t[r][0],t[r][1],t[r+1][0],t[r+1][1],n));return e&&o.push(...fe(t[s-1][0],t[s-1][1],t[0][0],t[0][1],n)),{type:"path",ops:o}}else if(s===2)return X(t[0][0],t[0][1],t[1][0],t[1][1],n);return{type:"path",ops:[]}}function cl(t,e){return rt(t,!0,e)}function yo(t,e,n,s,o){const r=[[t,e],[t+n,e],[t+n,e+s],[t,e+s]];return cl(r,o)}function bs(t,e){if(t.length){const s=typeof t[0][0]=="number"?[t]:t,o=yt(s[0],1*(1+e.roughness*.2),e),r=e.disableMultiStroke?[]:yt(s[0],1.5*(1+e.roughness*.22),Ms(e));for(let a=1;a<s.length;a++){const i=s[a];if(i.length){const l=yt(i,1*(1+e.roughness*.2),e),c=e.disableMultiStroke?[]:yt(i,1.5*(1+e.roughness*.22),Ms(e));for(const f of l)f.op!=="move"&&o.push(f);for(const f of c)f.op!=="move"&&r.push(f)}}return{type:"path",ops:o.concat(r)}}return{type:"path",ops:[]}}function yn(t,e,n,s,o){const r=vo(n,s,o);return vn(t,e,o,r).opset}function vo(t,e,n){const s=Math.sqrt(Math.PI*2*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),o=Math.ceil(Math.max(n.curveStepCount,n.curveStepCount/Math.sqrt(200)*s)),r=Math.PI*2/o;let a=Math.abs(t/2),i=Math.abs(e/2);const l=1-n.curveFitting;return a+=S(a*l,n),i+=S(i*l,n),{increment:r,rx:a,ry:i}}function vn(t,e,n,s){const[o,r]=Os(s.increment,t,e,s.rx,s.ry,1,s.increment*At(.1,At(.4,1,n),n),n);let a=It(o,null,n);if(!n.disableMultiStroke&&n.roughness!==0){const[i]=Os(s.increment,t,e,s.rx,s.ry,1.5,0,n),l=It(i,null,n);a=a.concat(l)}return{estimatedPoints:r,opset:{type:"path",ops:a}}}function _s(t,e,n,s,o,r,a,i,l){const c=t,f=e;let h=Math.abs(n/2),d=Math.abs(s/2);h+=S(h*.01,l),d+=S(d*.01,l);let u=o,g=r;for(;u<0;)u+=Math.PI*2,g+=Math.PI*2;g-u>Math.PI*2&&(u=0,g=Math.PI*2);const p=Math.PI*2/l.curveStepCount,m=Math.min(p/2,(g-u)/2),y=Ts(m,c,f,h,d,u,g,1,l);if(!l.disableMultiStroke){const v=Ts(m,c,f,h,d,u,g,1.5,l);y.push(...v)}return a&&(i?y.push(...fe(c,f,c+h*Math.cos(u),f+d*Math.sin(u),l),...fe(c,f,c+h*Math.cos(g),f+d*Math.sin(g),l)):y.push({op:"lineTo",data:[c,f]},{op:"lineTo",data:[c+h*Math.cos(u),f+d*Math.sin(u)]})),{type:"path",ops:y}}function Ss(t,e){const n=go(po(Rn(t))),s=[];let o=[0,0],r=[0,0];for(const{key:a,data:i}of n)switch(a){case"M":{r=[i[0],i[1]],o=[i[0],i[1]];break}case"L":s.push(...fe(r[0],r[1],i[0],i[1],e)),r=[i[0],i[1]];break;case"C":{const[l,c,f,h,d,u]=i;s.push(...pl(l,c,f,h,d,u,r,e)),r=[d,u];break}case"Z":s.push(...fe(r[0],r[1],o[0],o[1],e)),r=[o[0],o[1]];break}return{type:"path",ops:s}}function tn(t,e){const n=[];for(const s of t)if(s.length){const o=e.maxRandomnessOffset||0,r=s.length;if(r>2){n.push({op:"move",data:[s[0][0]+S(o,e),s[0][1]+S(o,e)]});for(let a=1;a<r;a++)n.push({op:"lineTo",data:[s[a][0]+S(o,e),s[a][1]+S(o,e)]})}}return{type:"fillPath",ops:n}}function ze(t,e){return ol(e,ll).fillPolygons(t,e)}function ul(t,e,n,s,o,r,a){const i=t,l=e;let c=Math.abs(n/2),f=Math.abs(s/2);c+=S(c*.01,a),f+=S(f*.01,a);let h=o,d=r;for(;h<0;)h+=Math.PI*2,d+=Math.PI*2;d-h>Math.PI*2&&(h=0,d=Math.PI*2);const u=(d-h)/a.curveStepCount,g=[];for(let p=h;p<=d;p=p+u)g.push([i+c*Math.cos(p),l+f*Math.sin(p)]);return g.push([i+c*Math.cos(d),l+f*Math.sin(d)]),g.push([i,l]),ze([g],a)}function fl(t,e){return S(t,e)}function dl(t,e,n){return At(t,e,n)}function hl(t,e,n,s,o){return fe(t,e,n,s,o,!0)}function Ms(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function ko(t){return t.randomizer||(t.randomizer=new Ki(t.seed||0)),t.randomizer.next()}function At(t,e,n,s=1){return n.roughness*s*(ko(n)*(e-t)+t)}function S(t,e,n=1){return At(-t,t,e,n)}function fe(t,e,n,s,o,r=!1){const a=r?o.disableMultiStrokeFill:o.disableMultiStroke,i=kn(t,e,n,s,o,!0,!1);if(a)return i;const l=kn(t,e,n,s,o,!0,!0);return i.concat(l)}function kn(t,e,n,s,o,r,a){const i=Math.pow(t-n,2)+Math.pow(e-s,2),l=Math.sqrt(i);let c=1;l<200?c=1:l>500?c=.4:c=-.0016668*l+1.233334;let f=o.maxRandomnessOffset||0;f*f*100>i&&(f=l/10);const h=f/2,d=.2+ko(o)*.2;let u=o.bowing*o.maxRandomnessOffset*(s-e)/200,g=o.bowing*o.maxRandomnessOffset*(t-n)/200;u=S(u,o,c),g=S(g,o,c);const p=[],m=()=>S(h,o,c),y=()=>S(f,o,c),v=o.preserveVertices;return a?p.push({op:"move",data:[t+(v?0:m()),e+(v?0:m())]}):p.push({op:"move",data:[t+(v?0:S(f,o,c)),e+(v?0:S(f,o,c))]}),a?p.push({op:"bcurveTo",data:[u+t+(n-t)*d+m(),g+e+(s-e)*d+m(),u+t+2*(n-t)*d+m(),g+e+2*(s-e)*d+m(),n+(v?0:m()),s+(v?0:m())]}):p.push({op:"bcurveTo",data:[u+t+(n-t)*d+y(),g+e+(s-e)*d+y(),u+t+2*(n-t)*d+y(),g+e+2*(s-e)*d+y(),n+(v?0:y()),s+(v?0:y())]}),p}function yt(t,e,n){if(!t.length)return[];const s=[];s.push([t[0][0]+S(e,n),t[0][1]+S(e,n)]),s.push([t[0][0]+S(e,n),t[0][1]+S(e,n)]);for(let o=1;o<t.length;o++)s.push([t[o][0]+S(e,n),t[o][1]+S(e,n)]),o===t.length-1&&s.push([t[o][0]+S(e,n),t[o][1]+S(e,n)]);return It(s,null,n)}function It(t,e,n){const s=t.length,o=[];if(s>3){const r=[],a=1-n.curveTightness;o.push({op:"move",data:[t[1][0],t[1][1]]});for(let i=1;i+2<s;i++){const l=t[i];r[0]=[l[0],l[1]],r[1]=[l[0]+(a*t[i+1][0]-a*t[i-1][0])/6,l[1]+(a*t[i+1][1]-a*t[i-1][1])/6],r[2]=[t[i+1][0]+(a*t[i][0]-a*t[i+2][0])/6,t[i+1][1]+(a*t[i][1]-a*t[i+2][1])/6],r[3]=[t[i+1][0],t[i+1][1]],o.push({op:"bcurveTo",data:[r[1][0],r[1][1],r[2][0],r[2][1],r[3][0],r[3][1]]})}}else s===3?(o.push({op:"move",data:[t[1][0],t[1][1]]}),o.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):s===2&&o.push(...kn(t[0][0],t[0][1],t[1][0],t[1][1],n,!0,!0));return o}function Os(t,e,n,s,o,r,a,i){const l=i.roughness===0,c=[],f=[];if(l){t=t/4,f.push([e+s*Math.cos(-t),n+o*Math.sin(-t)]);for(let h=0;h<=Math.PI*2;h=h+t){const d=[e+s*Math.cos(h),n+o*Math.sin(h)];c.push(d),f.push(d)}f.push([e+s*Math.cos(0),n+o*Math.sin(0)]),f.push([e+s*Math.cos(t),n+o*Math.sin(t)])}else{const h=S(.5,i)-Math.PI/2;f.push([S(r,i)+e+.9*s*Math.cos(h-t),S(r,i)+n+.9*o*Math.sin(h-t)]);const d=Math.PI*2+h-.01;for(let u=h;u<d;u=u+t){const g=[S(r,i)+e+s*Math.cos(u),S(r,i)+n+o*Math.sin(u)];c.push(g),f.push(g)}f.push([S(r,i)+e+s*Math.cos(h+Math.PI*2+a*.5),S(r,i)+n+o*Math.sin(h+Math.PI*2+a*.5)]),f.push([S(r,i)+e+.98*s*Math.cos(h+a),S(r,i)+n+.98*o*Math.sin(h+a)]),f.push([S(r,i)+e+.9*s*Math.cos(h+a*.5),S(r,i)+n+.9*o*Math.sin(h+a*.5)])}return[f,c]}function Ts(t,e,n,s,o,r,a,i,l){const c=r+S(.1,l),f=[];f.push([S(i,l)+e+.9*s*Math.cos(c-t),S(i,l)+n+.9*o*Math.sin(c-t)]);for(let h=c;h<=a;h=h+t)f.push([S(i,l)+e+s*Math.cos(h),S(i,l)+n+o*Math.sin(h)]);return f.push([e+s*Math.cos(a),n+o*Math.sin(a)]),f.push([e+s*Math.cos(a),n+o*Math.sin(a)]),It(f,null,l)}function pl(t,e,n,s,o,r,a,i){const l=[],c=[i.maxRandomnessOffset||1,(i.maxRandomnessOffset||1)+.3];let f=[0,0];const h=i.disableMultiStroke?1:2,d=i.preserveVertices;for(let u=0;u<h;u++)u===0?l.push({op:"move",data:[a[0],a[1]]}):l.push({op:"move",data:[a[0]+(d?0:S(c[0],i)),a[1]+(d?0:S(c[0],i))]}),f=d?[o,r]:[o+S(c[u],i),r+S(c[u],i)],l.push({op:"bcurveTo",data:[t+S(c[u],i),e+S(c[u],i),n+S(c[u],i),s+S(c[u],i),f[0],f[1]]});return l}function tt(t){return[...t]}function Es(t,e=0){const n=t.length;if(n<3)throw new Error("A curve must have at least three points.");const s=[];if(n===3)s.push(tt(t[0]),tt(t[1]),tt(t[2]),tt(t[2]));else{const o=[];o.push(t[0],t[0]);for(let i=1;i<t.length;i++)o.push(t[i]),i===t.length-1&&o.push(t[i]);const r=[],a=1-e;s.push(tt(o[0]));for(let i=1;i+2<o.length;i++){const l=o[i];r[0]=[l[0],l[1]],r[1]=[l[0]+(a*o[i+1][0]-a*o[i-1][0])/6,l[1]+(a*o[i+1][1]-a*o[i-1][1])/6],r[2]=[o[i+1][0]+(a*o[i][0]-a*o[i+2][0])/6,o[i+1][1]+(a*o[i][1]-a*o[i+2][1])/6],r[3]=[o[i+1][0],o[i+1][1]],s.push(r[1],r[2],r[3])}}return s}function gl(t,e){return Math.sqrt(Mt(t,e))}function Mt(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function ml(t,e,n){const s=Mt(e,n);if(s===0)return Mt(t,e);let o=((t[0]-e[0])*(n[0]-e[0])+(t[1]-e[1])*(n[1]-e[1]))/s;return o=Math.max(0,Math.min(1,o)),Mt(t,Re(e,n,o))}function Re(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function yl(t,e){const n=t[e+0],s=t[e+1],o=t[e+2],r=t[e+3];let a=3*s[0]-2*n[0]-r[0];a*=a;let i=3*s[1]-2*n[1]-r[1];i*=i;let l=3*o[0]-2*r[0]-n[0];l*=l;let c=3*o[1]-2*r[1]-n[1];return c*=c,a<l&&(a=l),i<c&&(i=c),a+i}function wn(t,e,n,s){const o=s||[];if(yl(t,e)<n){const r=t[e+0];o.length?gl(o[o.length-1],r)>1&&o.push(r):o.push(r),o.push(t[e+3])}else{const a=t[e+0],i=t[e+1],l=t[e+2],c=t[e+3],f=Re(a,i,.5),h=Re(i,l,.5),d=Re(l,c,.5),u=Re(f,h,.5),g=Re(h,d,.5),p=Re(u,g,.5);wn([a,f,u,p],0,n,o),wn([p,g,d,c],0,n,o)}return o}function vl(t,e){return xt(t,0,t.length,e)}function xt(t,e,n,s,o){const r=o||[],a=t[e],i=t[n-1];let l=0,c=1;for(let f=e+1;f<n-1;++f){const h=ml(t[f],a,i);h>l&&(l=h,c=f)}return Math.sqrt(l)>s?(xt(t,e,c+1,s,r),xt(t,c,n,s,r)):(r.length||r.push(a),r.push(i)),r}function bn(t,e=.15,n){const s=[],o=(t.length-1)/3;for(let r=0;r<o;r++){const a=r*3;wn(t,a,e,s)}return n&&n>0?xt(s,0,s.length,n):s}function kl(t,e,n){const s=Rn(t),o=go(po(s)),r=[];let a=[],i=[0,0],l=[];const c=()=>{l.length>=4&&a.push(...bn(l,e)),l=[]},f=()=>{c(),a.length&&(r.push(a),a=[])};for(const{key:d,data:u}of o)switch(d){case"M":f(),i=[u[0],u[1]],a.push(i);break;case"L":c(),a.push([u[0],u[1]]);break;case"C":if(!l.length){const g=a.length?a[a.length-1]:i;l.push([g[0],g[1]])}l.push([u[0],u[1]]),l.push([u[2],u[3]]),l.push([u[4],u[5]]);break;case"Z":c(),a.push([i[0],i[1]]);break}if(f(),!n)return r;const h=[];for(const d of r){const u=vl(d,n);u.length&&h.push(u)}return h}const Q="none";class wl{constructor(e){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=e||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return fo()}_o(e){return e?Object.assign({},this.defaultOptions,e):this.defaultOptions}_d(e,n,s){return{shape:e,sets:n||[],options:s||this.defaultOptions}}line(e,n,s,o,r){const a=this._o(r);return this._d("line",[X(e,n,s,o,a)],a)}rectangle(e,n,s,o,r){const a=this._o(r),i=[],l=yo(e,n,s,o,a);if(a.fill){const c=[[e,n],[e+s,n],[e+s,n+o],[e,n+o]];a.fillStyle==="solid"?i.push(tn([c],a)):i.push(ze([c],a))}return a.stroke!==Q&&i.push(l),this._d("rectangle",i,a)}ellipse(e,n,s,o,r){const a=this._o(r),i=[],l=vo(s,o,a),c=vn(e,n,a,l);if(a.fill)if(a.fillStyle==="solid"){const f=vn(e,n,a,l).opset;f.type="fillPath",i.push(f)}else i.push(ze([c.estimatedPoints],a));return a.stroke!==Q&&i.push(c.opset),this._d("ellipse",i,a)}circle(e,n,s,o){const r=this.ellipse(e,n,s,s,o);return r.shape="circle",r}linearPath(e,n){const s=this._o(n);return this._d("linearPath",[rt(e,!1,s)],s)}arc(e,n,s,o,r,a,i=!1,l){const c=this._o(l),f=[],h=_s(e,n,s,o,r,a,i,!0,c);if(i&&c.fill)if(c.fillStyle==="solid"){const d=Object.assign({},c);d.disableMultiStroke=!0;const u=_s(e,n,s,o,r,a,!0,!1,d);u.type="fillPath",f.push(u)}else f.push(ul(e,n,s,o,r,a,c));return c.stroke!==Q&&f.push(h),this._d("arc",f,c)}curve(e,n){const s=this._o(n),o=[],r=bs(e,s);if(s.fill&&s.fill!==Q)if(s.fillStyle==="solid"){const a=bs(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(a.ops)})}else{const a=[],i=e;if(i.length){const c=typeof i[0][0]=="number"?[i]:i;for(const f of c)f.length<3?a.push(...f):f.length===3?a.push(...bn(Es([f[0],f[0],f[1],f[2]]),10,(1+s.roughness)/2)):a.push(...bn(Es(f),10,(1+s.roughness)/2))}a.length&&o.push(ze([a],s))}return s.stroke!==Q&&o.push(r),this._d("curve",o,s)}polygon(e,n){const s=this._o(n),o=[],r=rt(e,!0,s);return s.fill&&(s.fillStyle==="solid"?o.push(tn([e],s)):o.push(ze([e],s))),s.stroke!==Q&&o.push(r),this._d("polygon",o,s)}path(e,n){const s=this._o(n),o=[];if(!e)return this._d("path",o,s);e=(e||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const r=s.fill&&s.fill!=="transparent"&&s.fill!==Q,a=s.stroke!==Q,i=!!(s.simplification&&s.simplification<1),l=i?4-4*(s.simplification||1):(1+s.roughness)/2,c=kl(e,1,l),f=Ss(e,s);if(r)if(s.fillStyle==="solid")if(c.length===1){const h=Ss(e,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));o.push({type:"fillPath",ops:this._mergedShape(h.ops)})}else o.push(tn(c,s));else o.push(ze(c,s));return a&&(i?c.forEach(h=>{o.push(rt(h,!1,s))}):o.push(f)),this._d("path",o,s)}opsToPath(e,n){let s="";for(const o of e.ops){const r=typeof n=="number"&&n>=0?o.data.map(a=>+a.toFixed(n)):o.data;switch(o.op){case"move":s+=`M${r[0]} ${r[1]} `;break;case"bcurveTo":s+=`C${r[0]} ${r[1]}, ${r[2]} ${r[3]}, ${r[4]} ${r[5]} `;break;case"lineTo":s+=`L${r[0]} ${r[1]} `;break}}return s.trim()}toPaths(e){const n=e.sets||[],s=e.options||this.defaultOptions,o=[];for(const r of n){let a=null;switch(r.type){case"path":a={d:this.opsToPath(r),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:Q};break;case"fillPath":a={d:this.opsToPath(r),stroke:Q,strokeWidth:0,fill:s.fill||Q};break;case"fillSketch":a=this.fillSketch(r,s);break}a&&o.push(a)}return o}fillSketch(e,n){let s=n.fillWeight;return s<0&&(s=n.strokeWidth/2),{d:this.opsToPath(e),stroke:n.fill||Q,strokeWidth:s,fill:Q}}_mergedShape(e){return e.filter((n,s)=>s===0?!0:n.op!=="move")}}const wo="http://www.w3.org/2000/svg",bl=800;let nn=null;function _l(){return nn||(nn=new wl().defaultOptions),nn}function sn(t,e,n){return{..._l(),maxRandomnessOffset:2,roughness:t==="highlight"?3:1.5,bowing:1,stroke:"#000",strokeWidth:1.5,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,disableMultiStroke:t!=="double",disableMultiStrokeFill:!1,seed:e,...n}}function Sl(t){const e=t.padding;if(e||e===0){if(typeof e=="number")return[e,e,e,e];if(Array.isArray(e)){const n=e;if(n.length)switch(n.length){case 4:return[...n];case 1:return[n[0],n[0],n[0],n[0]];case 2:return[...n,...n];case 3:return[...n,n[1]];default:return[n[0],n[1],n[2],n[3]]}}}return[5,5,5,5]}function Ml(t,e,n,s,o,r){const a=[];let i=n.strokeWidth||2;const l=Sl(n),c=n.animate===void 0?!0:!!n.animate,f=n.iterations||2,h=n.rtl?1:0,d=sn("single",r,n);switch(n.type){case"underline":{const u=e.y+e.h+l[2];for(let g=h;g<f+h;g++)g%2?a.push(X(e.x+e.w,u,e.x,u,d)):a.push(X(e.x,u,e.x+e.w,u,d));break}case"strike-through":{const u=e.y+e.h/2;for(let g=h;g<f+h;g++)g%2?a.push(X(e.x+e.w,u,e.x,u,d)):a.push(X(e.x,u,e.x+e.w,u,d));break}case"box":{const u=e.x-l[3],g=e.y-l[0],p=e.w+(l[1]+l[3]),m=e.h+(l[0]+l[2]);for(let y=0;y<f;y++)a.push(yo(u,g,p,m,d));break}case"bracket":{const u=Array.isArray(n.brackets)?n.brackets:n.brackets?[n.brackets]:["right"],g=e.x-l[3]*2,p=e.x+e.w+l[1]*2,m=e.y-l[0]*2,y=e.y+e.h+l[2]*2;for(const v of u){let k;switch(v){case"bottom":k=[[g,e.y+e.h],[g,y],[p,y],[p,e.y+e.h]];break;case"top":k=[[g,e.y],[g,m],[p,m],[p,e.y]];break;case"left":k=[[e.x,m],[g,m],[g,y],[e.x,y]];break;case"right":k=[[e.x+e.w,m],[p,m],[p,y],[e.x+e.w,y]];break}k&&a.push(rt(k,!1,d))}break}case"crossed-off":{const u=e.x,g=e.y,p=u+e.w,m=g+e.h;for(let y=h;y<f+h;y++)y%2?a.push(X(p,m,u,g,d)):a.push(X(u,g,p,m,d));for(let y=h;y<f+h;y++)y%2?a.push(X(u,m,p,g,d)):a.push(X(p,g,u,m,d));break}case"circle":{const u=sn("double",r,n),g=e.w+(l[1]+l[3]),p=e.h+(l[0]+l[2]),m=e.x-l[3]+g/2,y=e.y-l[0]+p/2,v=Math.floor(f/2),k=f-v*2;for(let w=0;w<v;w++)a.push(yn(m,y,g,p,u));for(let w=0;w<k;w++)a.push(yn(m,y,g,p,d));break}case"highlight":{const u=sn("highlight",r,n);i=e.h*.95;const g=e.y+e.h/2;for(let p=h;p<f+h;p++)p%2?a.push(X(e.x+e.w,g,e.x,g,u)):a.push(X(e.x,g,e.x+e.w,g,u));break}}if(a.length){const u=Ol(a),g=[],p=[];let m=0;const y=(v,k,w)=>v.setAttribute(k,w);for(const v of u){const k=document.createElementNS(wo,"path");if(y(k,"d",v),y(k,"fill","none"),y(k,"stroke",n.color||"currentColor"),y(k,"stroke-width",`${i}`),n.opacity!==void 0&&y(k,"style",`opacity:${n.opacity}`),c){const w=k.getTotalLength();g.push(w),m+=w}t.appendChild(k),p.push(k)}if(c){let v=0;for(let k=0;k<p.length;k++){const w=p[k],_=g[k],T=m?o*(_/m):0,A=s+v,F=w.style;F.strokeDashoffset=`${_}`,F.strokeDasharray=`${_}`,F.animation=`rough-notation-dash ${T}ms ease-out ${A}ms forwards`,v+=T}return Ps(o+s)}}return Ps(0)}function Ps(t){return new Promise(e=>setTimeout(e,t))}function Ol(t){const e=[];for(const n of t){let s="";for(const o of n.ops){const r=o.data;switch(o.op){case"move":s.trim()&&e.push(s.trim()),s=`M${r[0]} ${r[1]} `;break;case"bcurveTo":s+=`C${r[0]} ${r[1]}, ${r[2]} ${r[3]}, ${r[4]} ${r[5]} `;break;case"lineTo":s+=`L${r[0]} ${r[1]} `;break}}s.trim()&&e.push(s.trim())}return e}function Tl(){if(!window.__rno_kf_s){const t=window.__rno_kf_s=document.createElement("style");t.textContent="@keyframes rough-notation-dash { to { stroke-dashoffset: 0; } }",document.head.appendChild(t)}}var El=Object.defineProperty,Pl=(t,e,n)=>e in t?El(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ne=(t,e,n)=>(Pl(t,typeof e!="symbol"?e+"":e,n),n);class $l{constructor(e,n){ne(this,"_state","unattached"),ne(this,"_config"),ne(this,"_resizing",!1),ne(this,"_ro"),ne(this,"_seed",fo()),ne(this,"_e"),ne(this,"_svg"),ne(this,"_lastSizes",[]),ne(this,"_animationDelay",0),ne(this,"_resizeListener",()=>{this._resizing||(this._resizing=!0,setTimeout(()=>{this._resizing=!1,this._state==="showing"&&this.haveRectsChanged()&&this.show()},400))}),ne(this,"pendingRefresh"),this._e=e,this._config=JSON.parse(JSON.stringify(n)),this.attach()}getConfig(e){return this._config[e]}setConfig(e,n){this._config[e]!==n&&(this._config[e]=n,this.refresh())}get animate(){return this._config.animate}set animate(e){this._config.animate=e}get animationDuration(){return this._config.animationDuration}set animationDuration(e){this._config.animationDuration=e}get iterations(){return this._config.iterations}set iterations(e){this._config.iterations=e}get color(){return this._config.color}set color(e){this._config.color!==e&&(this._config.color=e,this.refresh())}get class(){return this._config.class}set class(e){this._config.class!==e&&(this._config.class=e,this._svg&&this._svg.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" ")))}get strokeWidth(){return this._config.strokeWidth}set strokeWidth(e){this._config.strokeWidth!==e&&(this._config.strokeWidth=e,this.refresh())}get padding(){return this._config.padding}set padding(e){this._config.padding!==e&&(this._config.padding=e,this.refresh())}attach(){if(this._state==="unattached"&&this._e.parentElement){Tl();const e=this._svg=document.createElementNS(wo,"svg");e.setAttribute("class",["rough-annotation",this._config.class||""].filter(Boolean).join(" "));const n=e.style;n.position="absolute",n.top="0",n.left="0",n.overflow="visible",n.pointerEvents="none",n.width="100px",n.height="100px";const s=this._config.type==="highlight";if(this._e.insertAdjacentElement(s?"beforebegin":"afterend",e),this._state="not-showing",s){const o=window.getComputedStyle(this._e).position;(!o||o==="static")&&(this._e.style.position="relative")}this.attachListeners()}}detachListeners(){window.removeEventListener("resize",this._resizeListener),this._ro&&this._ro.unobserve(this._e)}attachListeners(){this.detachListeners(),window.addEventListener("resize",this._resizeListener,{passive:!0}),!this._ro&&"ResizeObserver"in window&&(this._ro=new window.ResizeObserver(e=>{for(const n of e)n.contentRect&&this._resizeListener()})),this._ro&&this._ro.observe(this._e)}haveRectsChanged(){if(this._lastSizes.length){const e=this.rects();if(e.length===this._lastSizes.length){for(let n=0;n<e.length;n++)if(!this.isSameRect(e[n],this._lastSizes[n]))return!0}else return!0}return!1}isSameRect(e,n){const s=(o,r)=>Math.round(o)===Math.round(r);return s(e.x,n.x)&&s(e.y,n.y)&&s(e.w,n.w)&&s(e.h,n.h)}isShowing(){return this._state!=="not-showing"}refresh(){this.isShowing()&&!this.pendingRefresh&&(this.pendingRefresh=Promise.resolve().then(()=>{this.isShowing()&&this.show(),delete this.pendingRefresh}))}async show(){switch(this._state){case"unattached":break;case"showing":this.hide(),this._svg&&await this.render(this._svg,!0);break;case"not-showing":this.attach(),this._svg&&await this.render(this._svg,!1);break}}hide(){if(this._svg)for(;this._svg.lastChild;)this._svg.removeChild(this._svg.lastChild);this._state="not-showing"}remove(){this._svg&&this._svg.parentElement&&this._svg.parentElement.removeChild(this._svg),this._svg=void 0,this._state="unattached",this.detachListeners()}async render(e,n){let s=this._config;n&&(s=JSON.parse(JSON.stringify(this._config)),s.animate=!1);const o=this.rects();let r=0;o.forEach(c=>r+=c.w);const a=s.animationDuration||bl;let i=0;const l=[];for(let c=0;c<o.length;c++){const f=o[c],h=a*(f.w/r);l.push(Ml(e,o[c],s,i+this._animationDelay+(this._config.delay||0),h,this._seed)),i+=h}return this._lastSizes=o,this._state="showing",await Promise.all(l)}rects(){const e=[];if(this._svg)if(this._config.multiline){const n=this._e.getClientRects();for(let s=0;s<n.length;s++)e.push(this.svgRect(this._svg,n[s]))}else e.push(this.svgRect(this._svg,this._e.getBoundingClientRect()));return e}svgRect(e,n){const s=e.getBoundingClientRect(),o=n;return{x:(o.x||o.left)-(s.x||s.left),y:(o.y||o.top)-(s.y||s.top),w:o.width,h:o.height}}}function Cl(t,e){return new $l(t,e)}function K(t,e){return t.class=[t.class,e].filter(Boolean).join(" "),t}const $s={box:t=>Object.assign(t,{type:"box"}),circle:t=>Object.assign(t,{type:"circle"}),underline:t=>Object.assign(t,{type:"underline"}),highlight:t=>Object.assign(t,{type:"highlight"}),"strike-through":t=>Object.assign(t,{type:"strike-through"}),"crossed-off":t=>Object.assign(t,{type:"crossed-off"}),bracket:t=>Object.assign(t,{type:"bracket"}),strike:t=>Object.assign(t,{type:"strike-through"}),cross:t=>Object.assign(t,{type:"crossed-off"}),crossed:t=>Object.assign(t,{type:"crossed-off"}),linethrough:t=>Object.assign(t,{type:"strike-through"}),"line-through":t=>Object.assign(t,{type:"strike-through"}),black:t=>K(t,"text-black"),blue:t=>K(t,"text-blue"),cyan:t=>K(t,"text-cyan"),gray:t=>K(t,"text-gray"),green:t=>K(t,"text-green"),indigo:t=>K(t,"text-indigo"),lime:t=>K(t,"text-lime"),orange:t=>K(t,"text-orange"),pink:t=>K(t,"text-pink"),purple:t=>K(t,"text-purple"),red:t=>K(t,"text-red"),teal:t=>K(t,"text-teal"),white:t=>K(t,"text-white"),yellow:t=>K(t,"text-yellow")},Ll=[[/^delay-?(\d+)?$/,(t,e,n)=>{const s=(t[1]?Number.parseInt(t[1]):n)||300;return e.delay=s,e}],[/^(?:op|opacity)-?(\d+)?$/,(t,e,n)=>{const s=(t[1]?Number.parseInt(t[1]):n)||100;return e.opacity=s/100,e}]];function Al(){return{install(t){t.directive("mark",{name:"v-mark",mounted:(e,n)=>{const{isPrintMode:s}=Ge(),o=b(()=>{const i=typeof n.value=="object"&&!Array.isArray(n.value)?{...n.value}:{at:n.value};let l={at:i.at};const c=Object.entries(n.modifiers).filter(([h,d])=>{if($s[h])return l=$s[h](l,d),!1;for(const[u,g]of Ll){const p=h.match(u);if(p)return l=g(p,l,d),!1}return!0});c.length&&console.warn("[Slidev] Invalid modifiers for v-mark:",c);const f={...l,...i};return f.type||="underline",s.value&&(f.animationDuration=1),f}),r=Cl(e,o.value),a=St(e,n,o.value.at);if(!a){r.show();return}e.watchStopHandle=Je(()=>{let i;o.value.class&&(r.class=o.value.class),o.value.color&&(r.color=o.value.color);const l=o.value.at;l===!0?i=!0:l===!1?i=!1:i=a.isActive.value,i!=null&&(i?r.show():r.hide())})},unmounted:e=>{e.watchStopHandle?.()}})}}}function Il(){return{install(t){const e=Go();t.directive("motion",{name:"v-motion",mounted(n,s,o,r){const a=Ke(s,Nt),i=Ke(s,Sn),l=Ke(s,Mn),{currentPage:c,clicks:f,isPrintMode:h}=Ge(),d=o.props={...o.props},u={...d.initial,...d.variants?.["slidev-initial"]},g={...d.enter,...d.variants?.["slidev-enter"]},p={...d.leave,...d.variants?.["slidev-leave"]};delete d.initial,delete d.enter,delete d.leave;const m=`${In()}-`,y=[];for(const k of Object.keys(d))if(k.startsWith("click-")){const w=k.slice(6),_=w.includes("-")?w.split("-").map(Number):+w,T=m+w;y.push({id:T,at:_,variant:{...d[k]},info:a?.value.calculate(_)}),delete d[k]}y.sort((k,w)=>(Array.isArray(k.at)?k.at[0]:k.at)-(Array.isArray(w.at)?w.at[0]:w.at)),e.created(n,s,o,r),e.mounted(n,s,o,r);const v=n.motionInstance;v.clickIds=y.map(k=>k.id),v.set(u),v.watchStopHandle=ee([i,c,f].filter(Boolean),()=>{const k=uo.get(n)?.visibilityState.value??"shown";if(!a?.value||!["slide","presenter"].includes(l?.value??"")){const w={...u,...g};for(const{variant:_}of y)Object.assign(w,_);v.set(w)}else if(h.value||i?.value===c.value)if(k==="shown"){const w={...u,...g};for(const{variant:_,info:T}of y)(!T||T.isActive.value)&&Object.assign(w,_);h.value?v.set(w):v.apply(w)}else v.apply(k==="before"?u:p);else v.apply((i?.value??-1)>c.value?u:p)},{immediate:!0})},unmounted(n){n.motionInstance.watchStopHandle()}})}}}const xl=[];function Rl(){const t=[];function e(n){if(!N.remote||N.remote===n.query.password)return!0;if(N.remote&&n.query.password===void 0){const s=prompt("Enter password");if(N.remote===s)return!0}return n.params.no?{path:`/${n.params.no}`}:{path:""}}return t.push({name:"entry",path:"/entry",component:()=>E(()=>import("./slidev/entry-DwsPi1th.js"),__vite__mapDeps([30,1,4,5,31])),beforeEnter:e},{name:"overview",path:"/overview",component:()=>E(()=>import("./slidev/overview-DpiAxsap.js"),__vite__mapDeps([32,33,1,34,35,36,3,37,38,39,4,5])),beforeEnter:e},{name:"notes",path:"/notes",component:()=>E(()=>import("./slidev/notes-CeuluWUR.js"),__vite__mapDeps([40,1,34,35,39,4,5])),beforeEnter:e},{name:"presenter",path:"/presenter/:no",component:()=>E(()=>import("./slidev/presenter-C8ccCMhU.js"),__vite__mapDeps([41,1,36,3,37,38,42,33,39,4,5,43,34,35,44,45,46])),beforeEnter:e},{path:"/presenter",redirect:{path:"/presenter/1"}}),t.push({name:"play",path:"/:no",component:()=>E(()=>import("./slidev/play-BISh1RpT.js"),__vite__mapDeps([47,1,36,3,37,38,42,33,39,4,5,43,48]))},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>E(()=>import("./slidev/404-qgfAK7Bf.js"),__vite__mapDeps([49,1,4,5,50]))}),xl.reduce((n,s)=>s(n),t)}async function jl(t){function e(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}e(),window.addEventListener("resize",e);const n=Qo({history:Yo("/2025/squiggleconf/"),routes:Rl()});t.use(n),t.use(zi()),t.use(Bi()),t.use(Al()),t.use(Ji()),t.use(Il()),t.use(Xo,{container:"#twoslash-container"});const s={app:t,router:n};for(const o of Hi)await o(s)}async function Nl(){const t=Zo(Di);await jl(t),t.mount("#app")}Nl();export{ut as $,ei as A,fn as B,kt as C,Ya as D,tc as E,lc as F,Vl as G,Et as H,Ul as I,qs as J,Ga as K,dt as L,Gl as M,gc as N,rc as O,oc as P,se as Q,Ka as R,Dt as S,Da as T,Wi as U,Ds as V,ar as W,Ql as X,On as Y,Jl as Z,Vr as _,Ge as a,Kl as a0,ec as a1,Xl as a2,dc as a3,fc as a4,uc as a5,te as a6,io as a7,lo as a8,Ns as a9,Ws as aa,zl as ab,Va as ac,Sn as ad,Mn as ae,Nt as af,Fa as ag,pc as ah,In as ai,un as aj,tr as ak,Ha as al,Bl as am,Ba as an,Gs as b,Nr as c,hc as d,Bs as e,Zl as f,Be as g,ft as h,ys as i,Qa as j,Pt as k,ac as l,ic as m,sc as n,an as o,Fl as p,nc as q,Vn as r,qt as s,cc as t,xr as u,N as v,E as w,Wl as x,ql as y,Yl as z};
